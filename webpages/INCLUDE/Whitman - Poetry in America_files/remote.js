(function(g){var window=this;'use strict';var Dfe=function(f,e){return g.g2(f,e)},JDB=function(f){if(f instanceof g.q_)return f;
if(typeof f.w$=="function")return f.w$(!1);if(g.Yg(f)){let e=0;const B=new g.q_;B.next=function(){for(;;){if(e>=f.length)return g.mM;if(e in f)return g.zm(f[e++]);e++}};
return B}throw Error("Not implemented");},MIH=function(f,e,B){if(g.Yg(f))g.MH(f,e,B);
else for(f=JDB(f);;){const {done:n,value:r}=f.next();if(n)break;e.call(B,r,void 0,f)}},ry=function(f){g.WQ(f,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^g.u0()).toString(36));
return f},LW=function(f,e,B){Array.isArray(B)||(B=[String(B)]);
g.Ic(f.V,e,B)},GDL=function(f,e){const B=[];
MIH(e,function(n){let r;try{r=g.up.prototype.hs.call(this,n,!0)}catch(L){if(L=="Storage: Invalid value was encountered")return;throw L;}r===void 0?B.push(n):g.lp(r)&&B.push(n)},f);
return B},xfe=function(f,e){GDL(f,e).forEach(function(B){g.up.prototype.remove.call(this,B)},f)},WbI=function(f){if(f.Ch){if(f.Ch.locationOverrideToken)return{locationOverrideToken:f.Ch.locationOverrideToken};
if(f.Ch.latitudeE7!=null&&f.Ch.longitudeE7!=null)return{latitudeE7:f.Ch.latitudeE7,longitudeE7:f.Ch.longitudeE7}}return null},sII=function(f,e){g.eB(f,e)||f.push(e)},dy=function(f){let e=0;
for(const B in f)e++;return e},XTe=function(f){try{return g.Kw.JSON.parse(f)}catch(e){}f=String(f);
if(/^\s*$/.test(f)?0:/^[\],:{}\s\u2028\u2029]*$/.test(f.replace(/\\["\\\/bfnrtu]/g,"@").replace(/(?:"[^"\\\n\r\u2028\u2029\x00-\x08\x0a-\x1f]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?)[\s\u2028\u2029]*(?=:|,|]|}|$)/g,"]").replace(/(?:^|:|,)(?:[\s\u2028\u2029]*\[)+/g,"")))try{return eval("("+f+")")}catch(e){}throw Error("Invalid JSON string: "+f);},tm=function(f){if(g.Kw.JSON)try{return g.Kw.JSON.parse(f)}catch(e){}return XTe(f)},yDF=function(f,e,B,n){const r=new g.S2(null);
f&&g.Qd(r,f);e&&g.Ej(r,e);B&&g.TI(r,B);n&&(r.G=n);return r},PUu=function(f,e){return new g.oTG(f,e)},Hv=function(f,e){return Object.prototype.hasOwnProperty.call(f,e)},IeM=function(f,e){return f===e},kM=function(f,e){this.G={};
this.C=[];this.tB=this.size=0;var B=arguments.length;if(B>1){if(B%2)throw Error("Uneven number of arguments");for(var n=0;n<B;n+=2)this.set(arguments[n],arguments[n+1])}else if(f)if(f instanceof kM)for(B=f.qA(),n=0;n<B.length;n++)this.set(B[n],f.get(B[n]));else for(n in f)this.set(n,f[n])},CW=function(f){if(f.size!=f.C.length){for(var e=0,B=0;e<f.C.length;){var n=f.C[e];
Hv(f.G,n)&&(f.C[B++]=n);e++}f.C.length=B}if(f.size!=f.C.length){e={};for(n=B=0;B<f.C.length;){const r=f.C[B];Hv(e,r)||(f.C[n++]=r,e[r]=1);B++}f.C.length=n}},wy=function(f){this.name=this.id="";
this.clientName="UNKNOWN_INTERFACE";this.app="";this.type="REMOTE_CONTROL";this.ownerObfuscatedGaiaId=this.obfuscatedGaiaId=this.avatar=this.username="";this.capabilities=new Set;this.compatibleSenderThemes=new Set;this.experiments=new Set;this.theme="u";new kM;this.model=this.brand="";this.year=0;this.chipset=this.osVersion=this.os="";this.mdxDialServerType="MDX_DIAL_SERVER_TYPE_UNKNOWN";f&&(this.id=f.id||f.name,this.name=f.name,this.clientName=f.clientName?f.clientName.toUpperCase():"UNKNOWN_INTERFACE",
this.app=f.app,this.type=f.type||"REMOTE_CONTROL",this.username=f.user||"",this.avatar=f.userAvatarUri||"",this.obfuscatedGaiaId=f.obfuscatedGaiaId||"",this.ownerObfuscatedGaiaId=f.ownerObfuscatedGaiaId||"",this.theme=f.theme||"u",$fu(this,f.capabilities||""),iYB(this,f.compatibleSenderThemes||""),frx(this,f.experiments||""),this.brand=f.brand||"",this.model=f.model||"",this.year=f.year||0,this.os=f.os||"",this.osVersion=f.osVersion||"",this.chipset=f.chipset||"",this.mdxDialServerType=f.mdxDialServerType||
"MDX_DIAL_SERVER_TYPE_UNKNOWN",f=f.deviceInfo)&&(f=JSON.parse(f),this.brand=f.brand||"",this.model=f.model||"",this.year=f.year||0,this.os=f.os||"",this.osVersion=f.osVersion||"",this.chipset=f.chipset||"",this.clientName=f.clientName?f.clientName.toUpperCase():"UNKNOWN_INTERFACE",this.mdxDialServerType=f.mdxDialServerType||"MDX_DIAL_SERVER_TYPE_UNKNOWN")},$fu=function(f,e){f.capabilities.clear();
g.GO(e.split(","),g.l0(Dfe,eSg)).forEach(B=>{f.capabilities.add(B)})},iYB=function(f,e){f.compatibleSenderThemes.clear();
g.GO(e.split(","),g.l0(Dfe,BO2)).forEach(B=>{f.compatibleSenderThemes.add(B)})},frx=function(f,e){f.experiments.clear();
e.split(",").forEach(B=>{f.experiments.add(B)})},vv=function(f){f=f||{};
this.name=f.name||"";this.id=f.id||f.screenId||"";this.token=f.token||f.loungeToken||"";this.uuid=f.uuid||f.dialId||"";this.idType=f.screenIdType||"normal";this.secret=f.screenIdSecret||""},bf=function(f,e){return!!e&&(f.id==e||f.uuid==e)},nbH=function(f){return{name:f.name,
screenId:f.id,loungeToken:f.token,dialId:f.uuid,screenIdType:f.idType,screenIdSecret:f.secret}},rd2=function(f){return new vv(f)},LrV=function(f){return Array.isArray(f)?g.xg(f,rd2):[]},ZU=function(f){return f?`{name:"${f.name}",id:${f.id.substr(0,6)}..,token:${f.token?".."+f.token.slice(-6):"-"},uuid:${f.uuid?".."+f.uuid.slice(-6):"-"},idType:${f.idType},secret:${f.secret?".."+f.secret.slice(-6):"-"}}`:"null"},Rj=function(f){return Array.isArray(f)?"["+g.xg(f,ZU).join(",")+"]":"null"},KW=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,
function(f){const e=Math.random()*16|0;
return(f=="x"?e:e&3|8).toString(16)})},d_I=function(f){return g.xg(f,function(e){return{key:e.id,
name:e.name}})},q$=function(f,e){return g.$g(f,function(B){return B||e?!B!=!e?!1:B.id==e.id:!0})},zM=function(f,e){return g.$g(f,function(B){return bf(B,e)})},tjB=function(){const f=g.Xe.yI();
f&&xfe(f,f.xD.w$(!0))},aj=function(){const f=g.IB("yt-remote-connected-devices")||[];
g.cB(f);return f},Hn2=function(f){if(f.length==0)return[];
const e=f[0].indexOf("#"),B=e==-1?f[0]:f[0].substring(0,e);return g.xg(f,function(n,r){return r==0?n:n.substring(B.length)})},kmg=function(f){g.yT("yt-remote-connected-devices",f,86400)},cv=function(){if(pW)return pW;
let f=g.IB("yt-remote-device-id");f||(f=KW(),g.yT("yt-remote-device-id",f,31536E3));const e=aj();let B=1,n=f;for(;g.eB(e,n);)B++,n=f+"#"+B;return pW=n},YM=function(){let f=aj();
const e=cv();g.iz()&&g.Au(f,e);f=Hn2(f);if(f.length==0)try{g.e4("remote_sid")}catch(B){}else try{g.is("remote_sid",f.join(","),-1)}catch(B){}},CCI=function(){return g.IB("yt-remote-session-browser-channel")},w9g=function(){return g.IB("yt-remote-local-screens")||[]},vbu=function(){g.yT("yt-remote-lounge-token-expiration",!0,86400)},bne=function(f){f.length>5&&(f=f.slice(f.length-5));
const e=g.xg(w9g(),function(n){return n.loungeToken}),B=g.xg(f,function(n){return n.loungeToken});
g.P5(B,function(n){return!g.eB(e,n)})&&vbu();
g.yT("yt-remote-local-screens",f,31536E3)},Am=function(f){f||(g.$B("yt-remote-session-screen-id"),g.$B("yt-remote-session-video-id"));
YM();f=aj();g.d2(f,cv());kmg(f)},ZnT=function(){if(!jP){const f=g.Sh();
f&&(jP=new g.Ah(f))}},RSx=function(){ZnT();
return jP?!!jP.get("yt-remote-use-staging-server"):!1},O2=function(f,e){g.Xb[f]=!0;
const B=g.WL();B&&B.publish.apply(B,arguments);g.Xb[f]=!1},oj=function(){let f=window.navigator.userAgent.match(/Chrome\/([0-9]+)/);
return f?parseInt(f[1],10):0},KrL=function(f){return!!document.currentScript&&(document.currentScript.src.indexOf("?"+f)!=-1||document.currentScript.src.indexOf("&"+f)!=-1)},qZF=function(){return typeof window.__onGCastApiAvailable=="function"?window.__onGCastApiAvailable:null},V6=function(f){f.length?zSe(f.shift(),function(){V6(f)}):lf()},lf=function(){let f=qZF();
f&&f(!1,"No cast extension found")},zSe=function(f,e,B){let n=document.createElement("script");
n.onerror=e;B&&(n.onload=B);g.y2(n,g.IS(f));(document.head||document.documentElement).appendChild(n)},arH=function(f){return"chrome-extension://"+f+"/cast_sender.js"},p9H=function(){const f=oj(),e=[];
if(f>1){const B=f-1;e.push("//www.gstatic.com/eureka/clank/"+f+"/cast_sender.js");e.push("//www.gstatic.com/eureka/clank/"+B+"/cast_sender.js")}return e},uf=function(){if(cdH){var f=2,e=qZF(),B=function(){f--;
f==0&&e&&e(!0)};
window.__onGCastApiAvailable=B;zSe("//www.gstatic.com/cast/sdk/libs/sender/1.0/cast_framework.js",lf,B)}},YZV=function(){uf();
let f=p9H();f.push("//www.gstatic.com/eureka/clank/cast_sender.js");V6(f)},jaV=function(){uf();
let f=p9H();f.push(...AdB.map(arH));f.push("//www.gstatic.com/eureka/clank/cast_sender.js");V6(f)},FR=function(f,e,B){g.$0.call(this);
this.U=B!=null?(0,g.VG)(f,B):f;this.D0=e;this.W=(0,g.VG)(this.Qq,this);this.C=!1;this.G=0;this.J=this.mu=null;this.V=[]},mY=function(){this.C=g.u0()},OnF=function(){U2||(U2=new mY)},obH=function(){U2||(U2=new mY)},N$=function(){g.fI.call(this,"p")},hm=function(){g.fI.call(this,"o")},gy=function(){return VjF=VjF||new g.pI},lre=function(f){g.fI.call(this,"serverreachability",f)},SP=function(f){const e=gy();
e.dispatchEvent(new lre(e,f))},ufI=function(f){g.fI.call(this,"statevent",f)},E2=function(f){const e=gy();
e.dispatchEvent(new ufI(e,f))},FrI=function(f,e,B,n){g.fI.call(this,"timingevent",f);
this.size=e;this.rtt=B;this.retries=n},Q6=function(f,e){if(typeof f!=="function")throw Error("Fn must not be null and must be a function");
return g.Kw.setTimeout(function(){f()},e)},TM=function(){},DU=function(f,e,B,n){this.J=f;
this.V=e;this.G6=B;this.Ch=n||1;this.qC=new g.fX(this);this.MC=45E3;this.PS=null;this.U=!1;this.N=this.BS=this.K=this.Lq=this.Cq=this.kA=this.Ed=null;this.A=[];this.C=null;this.X=0;this.W=this.cS=null;this.tL=-1;this.WS=!1;this.Fl=0;this.Z9=null;this.IA=this.uY=this.xA=this.eI=!1;this.G=new m_u},m_u=function(){this.J=null;
this.C="";this.G=!1},Jm=function(f,e,B){f.Lq=1;
f.K=ry(e.clone());f.N=B;f.eI=!0;U_H(f,null)},U_H=function(f,e){f.Cq=Date.now();
M$(f);f.BS=f.K.clone();LW(f.BS,"t",f.Ch);f.X=0;const B=f.J.uY;f.G=new m_u;f.C=NOe(f.J,B?e:null,!f.N);f.Fl>0&&(f.Z9=new g.f1((0,g.VG)(f.AM,f,f.C),f.Fl));f.qC.listen(f.C,"readystatechange",f.s9);e=f.PS?g.GL(f.PS):{};f.N?(f.cS||(f.cS="POST"),e["Content-Type"]="application/x-www-form-urlencoded",f.C.send(f.BS,f.cS,f.N,e)):(f.cS="GET",f.C.send(f.BS,f.cS,null,e));SP(1)},gbB=function(f){if(!hSV(f))return g.ur(f.C);
const e=g.FK(f.C);if(e==="")return"";let B="";const n=e.length,r=g.oq(f.C)==4;if(!f.G.J){if(typeof TextDecoder==="undefined")return GM(f),xM(f),"";f.G.J=new g.Kw.TextDecoder}for(let L=0;L<n;L++)f.G.G=!0,B+=f.G.J.decode(e[L],{stream:!(r&&L==n-1)});e.length=0;f.G.C+=B;f.X=0;return f.G.C},hSV=function(f){return f.C?f.cS=="GET"&&f.Lq!=2&&f.J.UE:!1},Ebe=function(f,e){var B=f.X,n=e.indexOf("\n",B);
if(n==-1)return Wv;B=Number(e.substring(B,n));if(isNaN(B))return SZM;n+=1;if(n+B>e.length)return Wv;e=e.slice(n,n+B);f.X=n+B;return e},M$=function(f){f.kA=Date.now()+f.MC;
QaH(f,f.MC)},QaH=function(f,e){if(f.Ed!=null)throw Error("WatchDog timer not null");
f.Ed=Q6((0,g.VG)(f.dP,f),e)},s2=function(f){f.Ed&&(g.Kw.clearTimeout(f.Ed),f.Ed=null)},xM=function(f){f.J.Y2()||f.WS||TOM(f.J,f)},GM=function(f){s2(f);
g.PT(f.Z9);f.Z9=null;f.qC.removeAll();if(f.C){const e=f.C;f.C=null;e.abort();e.dispose()}},rh=function(f,e){try{var B=f.J;
if(B.KW!=0&&(B.C==f||y6(B.G,f)))if(!f.uY&&y6(B.G,f)&&B.KW==3){try{var n=B.Ys.C.parse(e)}catch(k){n=null}if(Array.isArray(n)&&n.length==3){var r=n;if(r[0]==0)a:{if(!B.K){if(B.C)if(B.C.Cq+3E3<f.Cq)Pv(B),Ij(B);else break a;$M(B);E2(18)}}else B.Wd=r[1],0<B.Wd-B.Lq&&r[2]<37500&&B.Z9&&B.A==0&&!B.Ed&&(B.Ed=Q6((0,g.VG)(B.yq,B),6E3));if(fy(B.G)<=1&&B.tL){try{B.tL()}catch(k){}B.tL=void 0}}else ed(B,11)}else if((f.uY||B.C==f)&&Pv(B),!g.eU(e))for(r=B.Ys.C.parse(e),e=0;e<r.length;e++){let k=r[e];const C=k[0];
if(!(C<=B.Lq))if(B.Lq=C,k=k[1],B.KW==2)if(k[0]=="c"){B.V=k[1];B.G6=k[2];const w=k[3];w!=null&&(B.TT=w);const v=k[5];v!=null&&typeof v==="number"&&v>0&&(B.Fl=1.5*v);n=B;const b=f.ZU();if(b){const K=g.Ua(b,"X-Client-Wire-Protocol");if(K){var L=n.G;!L.C&&(g.BE(K,"spdy")||g.BE(K,"quic")||g.BE(K,"h2"))&&(L.V=L.W,L.C=new Set,L.G&&(B_(L,L.G),L.G=null))}if(n.eI){const Y=g.Ua(b,"X-HTTP-Session-Id");Y&&(n.hR=Y,g.WQ(n.PS,n.eI,Y))}}B.KW=3;B.W&&B.W.bl();B.uC&&(B.hE=Date.now()-f.Cq);n=B;var d=f;n.lC=D_M(n,n.uY?
n.G6:null,n.Yp);if(d.uY){JdL(n.G,d);var t=d,H=n.Fl;H&&t.setTimeout(H);t.Ed&&(s2(t),M$(t));n.C=d}else MjB(n);B.J.length>0&&ny(B)}else k[0]!="stop"&&k[0]!="close"||ed(B,7);else B.KW==3&&(k[0]=="stop"||k[0]=="close"?k[0]=="stop"?ed(B,7):B.disconnect():k[0]!="noop"&&B.W&&B.W.GT(k),B.A=0)}SP(4)}catch(k){}},Gmg=function(f){this.W=f||10;
g.Kw.PerformanceNavigationTiming?(f=g.Kw.performance.getEntriesByType("navigation"),f=f.length>0&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(g.Kw.chrome&&g.Kw.chrome.loadTimes&&g.Kw.chrome.loadTimes()&&g.Kw.chrome.loadTimes().wasFetchedViaSpdy);this.V=f?this.W:1;this.C=null;this.V>1&&(this.C=new Set);this.G=null;this.J=[]},x_x=function(f){return f.G?!0:f.C?f.C.size>=f.V:!1},fy=function(f){return f.G?1:f.C?f.C.size:0},y6=function(f,e){return f.G?f.G==e:f.C?f.C.has(e):!1},B_=function(f,
e){f.C?f.C.add(e):f.G=e},JdL=function(f,e){f.G&&f.G==e?f.G=null:f.C&&f.C.has(e)&&f.C.delete(e)},Ly=function(f){if(f.G!=null)return f.J.concat(f.G.A);
if(f.C!=null&&f.C.size!==0){let e=f.J;for(const B of f.C.values())e=e.concat(B.A);return e}return g.ke(f.J)},WrG=function(f,e){const B=new TM;
if(g.Kw.Image){const n=new Image;n.onload=g.l0(dh,B,"TestLoadImage: loaded",!0,e,n);n.onerror=g.l0(dh,B,"TestLoadImage: error",!1,e,n);n.onabort=g.l0(dh,B,"TestLoadImage: abort",!1,e,n);n.ontimeout=g.l0(dh,B,"TestLoadImage: timeout",!1,e,n);g.Kw.setTimeout(function(){if(n.ontimeout)n.ontimeout()},1E4);
n.src=f}else e(!1)},sau=function(f,e){const B=new TM,n=new AbortController,r=setTimeout(()=>{n.abort();
dh(B,"TestPingServer: timeout",!1,e)},1E4);
fetch(f,{signal:n.signal}).then(L=>{clearTimeout(r);L.ok?dh(B,"TestPingServer: ok",!0,e):dh(B,"TestPingServer: server error",!1,e)}).catch(()=>{clearTimeout(r);
dh(B,"TestPingServer: error",!1,e)})},dh=function(f,e,B,n,r){try{r&&(r.onload=null,r.onerror=null,r.onabort=null,r.ontimeout=null),n(B)}catch(L){}},X9B=function(){this.C=new tv},H_=function(f,e,B){return B&&B.N3?B.N3[f]||e:e},ydL=function(f){this.J=[];
this.G6=this.lC=this.PS=this.Yp=this.C=this.hR=this.eI=this.WS=this.X=this.xA=this.N=null;this.P4=this.BS=0;this.D2=H_("failFast",!1,f);this.Z9=this.Ed=this.K=this.U=this.W=null;this.Q3=!0;this.Wd=this.Lq=-1;this.Ch=this.A=this.Cq=0;this.hF=H_("baseRetryDelayMs",5E3,f);this.Qr=H_("retryDelaySeedMs",1E4,f);this.Cc=H_("forwardChannelMaxRetries",2,f);this.EE=H_("forwardChannelRequestTimeoutMs",2E4,f);this.sE=f&&f.f29||void 0;this.zt=f&&f.QMI||void 0;this.UE=f&&f.BZl||!1;this.Fl=void 0;this.uY=f&&f.Gj||
!1;this.V="";this.G=new Gmg(f&&f.jCl);this.mS=Math.min(f&&f.V6i||1E3,1E3);this.Ys=new X9B;this.qC=f&&f.yIi||!1;this.kA=f&&f.exY||!1;this.qC&&this.kA&&(this.kA=!1);this.qj=f&&f.m0j||!1;f&&f.Zci&&(this.Q3=!1);this.uC=!this.qC&&this.Q3&&f&&f.cI9||!1;this.Mk=void 0;f&&f.n7&&f.n7>0&&(this.Mk=f.n7);this.tL=void 0;this.hE=0;this.MC=!1;this.IA=this.cS=null},Ij=function(f){f.C&&(kJ(f),f.C.cancel(),f.C=null)},PCe=function(f){Ij(f);
f.K&&(g.Kw.clearTimeout(f.K),f.K=null);Pv(f);f.G.cancel();f.U&&(typeof f.U==="number"&&g.Kw.clearTimeout(f.U),f.U=null)},ny=function(f){x_x(f.G)||f.U||(f.U=!0,g.Sk(f.CK,f),f.Cq=0)},$_I=function(f,e){if(fy(f.G)>=f.G.V-(f.U?1:0))return!1;
if(f.U)return f.J=e.A.concat(f.J),!0;if(f.KW==1||f.KW==2||f.Cq>=(f.D2?0:f.Cc))return!1;f.U=Q6((0,g.VG)(f.CK,f,e),IrL(f,f.Cq));f.Cq++;return!0},fDM=function(f,e){var B;
e?B=e.G6:B=f.BS++;const n=f.PS.clone();g.WQ(n,"SID",f.V);g.WQ(n,"RID",B);g.WQ(n,"AID",f.Lq);Cy(f,n);f.X&&f.N&&g.im(n,f.X,f.N);B=new DU(f,f.V,B,f.Cq+1);f.X===null&&(B.PS=f.N);e&&(f.J=e.A.concat(f.J));e=inM(f,B,f.mS);B.setTimeout(Math.round(f.EE*.5)+Math.round(f.EE*.5*Math.random()));B_(f.G,B);Jm(B,n,e)},Cy=function(f,e){f.WS&&g.OM(f.WS,function(B,n){g.WQ(e,n,B)});
f.W&&g.OM({},function(B,n){g.WQ(e,n,B)})},inM=function(f,e,B){B=Math.min(f.J.length,B);
const n=f.W?(0,g.VG)(f.W.uA,f.W,f):null;a:{var r=f.J;let t=-1;for(;;){const H=["count="+B];t==-1?B>0?(t=r[0].C,H.push("ofs="+t)):t=0:H.push("ofs="+t);let k=!0;for(let C=0;C<B;C++){var L=r[C].C;const w=r[C].map;L-=t;if(L<0)t=Math.max(0,r[C].C-100),k=!1;else try{L="req"+L+"_"||"";try{var d=w instanceof Map?w:Object.entries(w);for(const [v,b]of d){let K=b;g.jC(b)&&(K=g.Zy(b));H.push(L+v+"="+encodeURIComponent(K))}}catch(v){throw H.push(L+"type="+encodeURIComponent("_badmap")),v;}}catch(v){n&&n(w)}}if(k){d=
H.join("&");break a}}d=void 0}f=f.J.splice(0,B);e.A=f;return d},MjB=function(f){f.C||f.K||(f.Ch=1,g.Sk(f.o7,f),f.A=0)},$M=function(f){if(f.C||f.K||f.A>=3)return!1;
f.Ch++;f.K=Q6((0,g.VG)(f.o7,f),IrL(f,f.A));f.A++;return!0},kJ=function(f){f.cS!=null&&(g.Kw.clearTimeout(f.cS),f.cS=null)},eiF=function(f){f.C=new DU(f,f.V,"rpc",f.Ch);
f.X===null&&(f.C.PS=f.N);f.C.Fl=0;var e=f.lC.clone();g.WQ(e,"RID","rpc");g.WQ(e,"SID",f.V);g.WQ(e,"AID",f.Lq);g.WQ(e,"CI",f.Z9?"0":"1");!f.Z9&&f.Mk&&g.WQ(e,"TO",f.Mk);g.WQ(e,"TYPE","xmlhttp");Cy(f,e);f.X&&f.N&&g.im(e,f.X,f.N);f.Fl&&f.C.setTimeout(f.Fl);var B=f.C;f=f.G6;B.Lq=1;B.K=ry(e.clone());B.N=null;B.eI=!0;U_H(B,f)},Pv=function(f){f.Ed!=null&&(g.Kw.clearTimeout(f.Ed),f.Ed=null)},TOM=function(f,e){var B=null;
if(f.C==e){Pv(f);kJ(f);f.C=null;var n=2}else if(y6(f.G,e))B=e.A,JdL(f.G,e),n=1;else return;if(f.KW!=0)if(e.U)if(n==1){B=e.N?e.N.length:0;e=Date.now()-e.Cq;var r=f.Cq;n=gy();n.dispatchEvent(new FrI(n,B,e,r));ny(f)}else MjB(f);else{var L=e.tL;r=e.getLastError();if(r==3||r==0&&L>0||!(n==1&&$_I(f,e)||n==2&&$M(f)))switch(B&&B.length>0&&(e=f.G,e.J=e.J.concat(B)),r){case 1:ed(f,5);break;case 4:ed(f,10);break;case 3:ed(f,6);break;default:ed(f,2)}}},IrL=function(f,e){let B=f.hF+Math.floor(Math.random()*f.Qr);
f.isActive()||(B*=2);return B*e},ed=function(f,e){if(e==2){var B=(0,g.VG)(f.W1,f),n=f.zt;
const r=!n;n=new g.S2(n||"//www.google.com/images/cleardot.gif");g.Kw.location&&g.Kw.location.protocol=="http"||g.Qd(n,"https");ry(n);r?WrG(n.toString(),B):sau(n.toString(),B)}else E2(2);f.KW=0;f.W&&f.W.c8(e);Bg2(f);PCe(f)},Bg2=function(f){f.KW=0;
f.IA=[];if(f.W){const e=Ly(f.G);if(e.length!=0||f.J.length!=0)g.CF(f.IA,e),g.CF(f.IA,f.J),f.G.J.length=0,g.ke(f.J),f.J.length=0;f.W.Eb()}},nxT=function(f){if(f.KW==0)return f.IA;
let e=[];g.CF(e,Ly(f.G));g.CF(e,f.J);return e},D_M=function(f,e,B){var n=g.sA(B);
n.C!=""?(e&&g.Ej(n,e+"."+n.C),g.TI(n,n.J)):(n=g.Kw.location,n=yDF(n.protocol,e?e+"."+n.hostname:n.hostname,+n.port,B));e=f.eI;B=f.hR;e&&B&&g.WQ(n,e,B);g.WQ(n,"VER",f.TT);Cy(f,n);return n},NOe=function(f,e,B){if(e&&!f.uY)throw Error("Can't create secondary domain capable XhrIo object.");
e=f.UE&&!f.sE?new g.p$(new g.NE({SA:B})):new g.p$(f.sE);e.X=f.uY;return e},rVM=function(){},LX2=function(){},v_=function(f,e){g.pI.call(this);
this.C=new ydL(e);this.U=f;this.G=e&&e.kO||null;f=e&&e.g5||null;e&&e.SEd&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"});this.C.N=f;f=e&&e.j1L||null;e&&e.qb&&(f?f["X-WebChannel-Content-Type"]=e.qb:f={"X-WebChannel-Content-Type":e.qb});e&&e.WX&&(f?f["X-WebChannel-Client-Profile"]=e.WX:f={"X-WebChannel-Client-Profile":e.WX});this.C.xA=f;(f=e&&e.qaI)&&!g.eU(f)&&(this.C.X=f);this.X=e&&e.Gj||!1;this.W=e&&e.z_q||!1;(e=e&&e.aO)&&!g.eU(e)&&(this.C.eI=e,g.hu(this.G,e)&&(f=this.G,
e in f&&delete f[e]));this.J=new wh(this)},dxT=function(f){N$.call(this);
f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);const e=f.__sm__;e?this.data=(this.C=g.FG(e))?g.Ju(e,this.C):e:this.data=f},twI=function(f){hm.call(this);
this.status=1;this.errorCode=f},wh=function(f){this.C=f},bZ=function(f,e){this.V=f;
this.C=e},ZQ=function(f,e){if(typeof f!=="function")throw Error("Fn must not be null and must be a function");
return g.Kw.setTimeout(function(){f()},e)},Ky=function(){Rg.dispatchEvent(new HdH)},qA=function(f,e,B,n){this.C=f;
this.V=e;this.X=B;this.U=n||1;this.G=45E3;this.J=new g.fX(this);this.W=new g.P7;this.W.setInterval(250)},CMH=function(f,e,B){f.I4=1;
f.IU=ry(e.clone());f.c$=B;f.eI=!0;kCH(f,null)},z1=function(f,e,B,n,r){f.I4=1;
f.IU=ry(e.clone());f.c$=null;f.eI=B;r&&(f.Pi=!1);kCH(f,n)},kCH=function(f,e){f.oD=Date.now();
ag(f);f.zF=f.IU.clone();LW(f.zF,"t",f.U);f.Tc=0;f.bK=f.C.VT(f.C.C0()?e:null);f.Jw>0&&(f.xo=new g.f1((0,g.VG)(f.JD,f,f.bK),f.Jw));f.J.listen(f.bK,"readystatechange",f.Rz);e=f.rH?g.GL(f.rH):{};f.c$?(f.AZ="POST",e["Content-Type"]="application/x-www-form-urlencoded",f.bK.send(f.zF,f.AZ,f.c$,e)):(f.AZ="GET",f.Pi&&!g.IA&&(e.Connection="close"),f.bK.send(f.zF,f.AZ,null,e));f.C.O_(1)},vxH=function(f,e){var B=f.Tc,n=e.indexOf("\n",B);
if(n==-1)return py;B=Number(e.substring(B,n));if(isNaN(B))return wsu;n+=1;if(n+B>e.length)return py;e=e.slice(n,n+B);f.Tc=n+B;return e},ag=function(f){f.v7=Date.now()+f.G;
bdg(f,f.G)},bdg=function(f,e){if(f.KQ!=null)throw Error("WatchDog timer not null");
f.KQ=ZQ((0,g.VG)(f.ZM,f),e)},Zd2=function(f){f.KQ&&(g.Kw.clearTimeout(f.KQ),f.KQ=null)},c_=function(f){f.C.Y2()||f.Ae||f.C.LM(f)},YJ=function(f){Zd2(f);
g.PT(f.xo);f.xo=null;f.W.stop();f.J.removeAll();if(f.bK){const e=f.bK;f.bK=null;e.abort();e.dispose()}f.WG&&(f.WG=null)},RiB=function(f,e){try{f.C.v8(f,e),f.C.O_(4)}catch(B){}},q1B=function(f,e,B,n,r){if(n==0)B(!1);
else{var L=r||0;n--;KXB(f,e,function(d){d?B(!0):g.Kw.setTimeout(function(){q1B(f,e,B,n,L)},L)})}},KXB=function(f,e,B){const n=new Image;
n.onload=function(){try{Av(n),B(!0)}catch(r){}};
n.onerror=function(){try{Av(n),B(!1)}catch(r){}};
n.onabort=function(){try{Av(n),B(!1)}catch(r){}};
n.ontimeout=function(){try{Av(n),B(!1)}catch(r){}};
g.Kw.setTimeout(function(){if(n.ontimeout)n.ontimeout()},e);
n.src=f},Av=function(f){f.onload=null;
f.onerror=null;f.onabort=null;f.ontimeout=null},zix=function(f){this.C=f;
this.G=new tv},aDB=function(f){const e=jd(f.C,f.ZK,"/mail/images/cleardot.gif");
ry(e);q1B(e.toString(),5E3,(0,g.VG)(f.N5,f),3,2E3);f.O_(1)},og=function(f){var e=f.C.U;
e!=null?(Ky(),e?(Ky(),OS(f.C,f,!1)):(Ky(),OS(f.C,f,!0))):(f.w8=new qA(f),f.w8.rH=f.W7,e=f.C,e=jd(e,e.C0()?f.oL:null,f.pM),Ky(),LW(e,"TYPE","xmlhttp"),z1(f.w8,e,!1,f.oL,!1))},Vr=function(f,e,B){this.C=1;
this.G=[];this.J=[];this.W=new tv;this.N=f||null;this.U=e!=null?e:null;this.K=B||!1},ps2=function(f,e){this.C=f;
this.map=e;this.context=null},cV2=function(f,e,B,n){g.fI.call(this,"timingevent",f);
this.size=e;this.rtt=B;this.retries=n},Y1B=function(f){g.fI.call(this,"serverreachability",f)},AVL=function(f){f.HZ(1,0);
f.Cw=jd(f,null,f.P7);lZ(f)},jn2=function(f){f.Im&&(f.Im.abort(),f.Im=null);
f.mx&&(f.mx.cancel(),f.mx=null);f.x5&&(g.Kw.clearTimeout(f.x5),f.x5=null);uZ(f);f.xz&&(f.xz.cancel(),f.xz=null);f.wz&&(g.Kw.clearTimeout(f.wz),f.wz=null)},F1=function(f,e){if(f.C==0)throw Error("Invalid operation: sending map when state is closed");
f.G.push(new ps2(f.U9++,e));f.C!=2&&f.C!=3||lZ(f)},OdV=function(f){let e=0;
f.mx&&e++;f.xz&&e++;return e},lZ=function(f){f.xz||f.wz||(f.wz=ZQ((0,g.VG)(f.pK,f),0),f.Dm=0)},VwI=function(f,e){if(f.C==1){if(!e){f.rG=Math.floor(Math.random()*1E5);
e=f.rG++;const B=new qA(f,"",e);B.rH=f.Xg;const n=ms(f),r=f.Cw.clone();g.WQ(r,"RID",e);g.WQ(r,"CVER","1");US(f,r);CMH(B,r,n);f.xz=B;f.C=2}}else f.C==3&&(e?oxG(f,e):f.G.length==0||f.xz||oxG(f))},oxG=function(f,e){if(e)if(f.Gp>6){f.G=f.J.concat(f.G);
f.J.length=0;var B=f.rG-1;e=ms(f)}else B=e.X,e=e.c$;else B=f.rG++,e=ms(f);const n=f.Cw.clone();g.WQ(n,"SID",f.V);g.WQ(n,"RID",B);g.WQ(n,"AID",f.gq);US(f,n);B=new qA(f,f.V,B,f.Dm+1);B.rH=f.Xg;B.setTimeout(1E4+Math.round(1E4*Math.random()));f.xz=B;CMH(B,n,e)},US=function(f,e){f.FB&&(f=f.FB.sb())&&g.OM(f,function(B,n){g.WQ(e,n,B)})},ms=function(f){const e=Math.min(f.G.length,1E3),B=["count="+e];
let n;f.Gp>6&&e>0?(n=f.G[0].C,B.push("ofs="+n)):n=0;for(let r=0;r<e;r++){let L=f.G[r].C;const d=f.G[r].map;L=f.Gp<=6?r:L-n;try{g.OM(d,function(t,H){B.push("req"+L+"_"+H+"="+encodeURIComponent(t))})}catch(t){B.push("req"+L+"_type="+encodeURIComponent("_badmap"))}}f.J=f.J.concat(f.G.splice(0,e));
return B.join("&")},lDH=function(f){f.mx||f.x5||(f.X=1,f.x5=ZQ((0,g.VG)(f.LK,f),0),f.Fd=0)},NA=function(f){if(f.mx||f.x5||f.Fd>=3)return!1;
f.X++;f.x5=ZQ((0,g.VG)(f.LK,f),ugI(f,f.Fd));f.Fd++;return!0},OS=function(f,e,B){f.MW=f.U==null?B:!f.U;
f.RV=e.NU;f.K||AVL(f)},uZ=function(f){f.er!=null&&(g.Kw.clearTimeout(f.er),f.er=null)},ugI=function(f,e){let B=5E3+Math.floor(Math.random()*1E4);
f.isActive()||(B*=2);return B*e},hv=function(f,e){if(e==2||e==9){var B=null;
f.FB&&(B=null);var n=(0,g.VG)(f.VS,f);B||(B=new g.S2("//www.google.com/images/cleardot.gif"),ry(B));KXB(B.toString(),1E4,n)}else Ky();FXe(f,e)},FXe=function(f,e){f.C=0;
f.FB&&f.FB.il(e);mxg(f);jn2(f)},mxg=function(f){f.C=0;
f.RV=-1;if(f.FB)if(f.J.length==0&&f.G.length==0)f.FB.QT();else{const e=g.ke(f.J),B=g.ke(f.G);f.J.length=0;f.G.length=0;f.FB.QT(e,B)}},jd=function(f,e,B){let n=g.sA(B);
if(n.C!="")e&&g.Ej(n,e+"."+n.C),g.TI(n,n.J);else{const r=window.location;n=yDF(r.protocol,e?e+"."+r.hostname:r.hostname,+r.port,B)}f.Ez&&g.OM(f.Ez,function(r,L){g.WQ(n,L,r)});
g.WQ(n,"VER",f.Gp);US(f,n);return n},Uxg=function(){},NgM=function(){this.C=[];
this.G=[]},hi2=function(f,e){this.action=f;
this.params=e||{}},gh=function(f,e){g.$0.call(this);
this.C=new g.T6(this.h2,0,this);g.A(this,this.C);this.D0=5E3;this.retryCount=this.UO=0;if(typeof f==="function")e&&(f=(0,g.VG)(f,e));else if(f&&typeof f.handleEvent==="function")f=(0,g.VG)(f.handleEvent,f);else throw Error("Invalid listener argument");this.G=f},Sd=function(f,e,B=!1,n=()=>"",r=!1,L=!1,d=!1,t=()=>g.Np({}),H=!1,k,C){this.uY=f;
this.Cq=e;this.X=new g.Y4;this.U=C;this.G=(this.J=!!k)?k(()=>{this.Sz()}):new gh(this.Sz,this);
this.C=null;this.N=!1;this.A=null;this.eI="";this.cS=this.Ed=0;this.V=[];this.tL=B;this.PS=n;this.K=L;this.Lq=t;this.xA=d;this.WS=null;this.W=g.Np();this.IA=r;this.qC=H;this.MC=new gxF;this.Z9=new S1I;this.kA=new Exu;this.Fl=new QnG;this.BS=new Tgu;this.Ch=new Dxe;this.G6=new JVM},MwG=function(f,e,B,n,r){ES(f);
if(f.C){const L=g.Q("ID_TOKEN"),d=f.C.Xg||{};L?d["x-youtube-identity-token"]=L:delete d["x-youtube-identity-token"];f.C.Xg=d}n?(n.getState()!=3&&OdV(n)==0||n.getState(),f.C.connect(e,B,f.Cq,n.V,n.gq)):r?f.C.connect(e,B,f.Cq,r.sessionId,r.arrayId):f.C.connect(e,B,f.Cq);f.J&&!f.G.isActive()&&f.G.start();f.U&&f.U.dMq()},xxg=function(f,e){return f.qC?!Object.values(GCe).includes(e):!1},WXG=async function(f){try{await Qr(f)}finally{var e=f.V;
f.V=[];var B=e;e=e.length;for(let n=0;n<e;++n)F1(f.C,B[n]);T1(f);T1(f)}},T1=function(f){f.publish("handlerOpened");
f.MC.C("BROWSER_CHANNEL")},ES=function(f){if(f.C){const e=f.PS(),B=f.C.Xg||{};
e?B["x-youtube-lounge-xsrf-token"]=e:delete B["x-youtube-lounge-xsrf-token"];f.C.Xg=B}},Qr=function(f){if(!f.xA)return snx(f);
f.WS===null&&(f.WS=snx(f));return f.WS},snx=function(f){return g.D6(f.Lq().then(e=>{if(f.C){let B=f.C.Xg||{};
e&&Object.keys(e).length>0?B={...B,...e}:delete B.Authorization;f.C.Xg=B}}).wT(()=>{}),()=>{f.WS=null})},DQ=function(f){this.scheme="https";
this.port=this.domain="";this.C="/api/lounge";this.G=!0;f=f||document.location.href;const e=Number(g.fY(f)[4]||null)||"";e&&(this.port=":"+e);this.domain=g.BT(f)||"";f=g.d0();f.search("MSIE")>=0&&(f=f.match(/MSIE ([\d.]+)/)[1],g.LE(f,"10.0")<0&&(this.G=!1))},Jv=function(f,e){let B=f.C;
f.G&&(B=f.scheme+"://"+f.domain+f.port+f.C);return g.vT(B+e,{})},XsT=function(f){g.kc(f.channel,"m",()=>{f.U=3;
f.J.reset();f.K=null;f.X=0;for(const e of f.A)f.channel&&f.channel.send(e);f.A=[];f.publish("webChannelOpened");f.PS.C("WEB_CHANNEL")});
g.kc(f.channel,"n",()=>{f.U=0;f.J.isActive()||f.publish("webChannelClosed");const e=f.channel?.V().J();e&&(f.A=[...e]);f.cS.C("WEB_CHANNEL")});
g.kc(f.channel,"p",e=>{const B=e.data;B[0]==="gracefulReconnect"?(f.J.start(),f.channel&&f.channel.close()):f.publish("webChannelMessage",new hi2(B[0],B[1]));f.QW=e.statusCode;f.WS.C("WEB_CHANNEL")});
g.kc(f.channel,"o",()=>{f.QW===401||f.J.start();f.publish("webChannelError");f.eI.C("WEB_CHANNEL","")})},MA=function(f){const e=f.Cq();
e?f.V["x-youtube-lounge-xsrf-token"]=e:delete f.V["x-youtube-lounge-xsrf-token"]},$xG=function(f,e,B=()=>"",n,r){const L=()=>new Sd(Jv(f,"/bc"),e,!1,B,n);
return g.UV("enable_mdx_web_channel_desktop")?new yVF(()=>new PMg(Jv(f,"/wc"),e,B)):new IDG(L,r)},BVB=function(){var f=idF;
f1e();G1.push(f);eZF()},xJ=function(f,e){f1e();
const B=nPB(f,String(e));G1.length==0?r4e(B):(eZF(),g.MH(G1,function(n){n(B)}))},W_=function(f){xJ("CP",f)},f1e=function(){G1||(G1=g.zO("yt.mdx.remote.debug.handlers_")||[],g.qH("yt.mdx.remote.debug.handlers_",G1))},r4e=function(f){const e=(sS+1)%50;
sS=e;X1[e]=f;yr||(yr=e==49)},eZF=function(){var f=G1;
if(X1[0]){var e=yr?sS:-1;do{e=(e+1)%50;const B=X1[e];g.MH(f,function(n){n(B)})}while(e!=sS);
X1=Array(50);sS=-1;yr=!1}},nPB=function(f,e){let B=(Date.now()-LRe)/1E3;
B.toFixed&&(B=B.toFixed(3));const n=[];n.push("[",B+"s","] ");n.push("[","yt.mdx.remote","] ");n.push(f+": "+e,"\n");return n.join("")},P_=function(f){g.$v.call(this);
this.U=f;this.screens=[]},dDL=function(f,e){const B=f.get(e.uuid)||f.get(e.id);
if(B)return f=B.name,B.id=e.id||B.id,B.name=e.name,B.token=e.token,B.uuid=e.uuid||B.uuid,B.name!=f;f.screens.push(e);return!0},tsI=function(f,e){let B=f.screens.length!=e.length;
f.screens=g.GO(f.screens,function(r){return!!q$(e,r)});
const n=e.length;for(let r=0;r<n;r++)B=dDL(f,e[r])||B;return B},HgB=function(f,e){const B=f.screens.length;
f.screens=g.GO(f.screens,function(n){return!(n||e?!n!=!e?0:n.id==e.id:1)});
return f.screens.length<B},$J=function(f){P_.call(this,"LocalScreenService");
this.G=f;this.C=NaN;Ig(this);this.info("Initializing with "+Rj(this.screens))},kWV=function(f){if(f.screens.length){const e=g.xg(f.screens,function(n){return n.id}),B=Jv(f.G,"/pairing/get_lounge_token_batch");
f.G.sendRequest("POST",B,{screen_ids:e.join(",")},(0,g.VG)(f.nN,f),(0,g.VG)(f.M3,f))}},Ig=function(f){if(g.UV("deprecate_pair_servlet_enabled"))return tsI(f,[]);
var e=LrV(w9g());e=g.GO(e,function(B){return!B.uuid});
return tsI(f,e)},iZ=function(f,e){bne(g.xg(f.screens,nbH));
e&&vbu()},fb=function(f){xJ("OnlineScreenService",f)},eM=function(f){isNaN(f.J)||g.us(f.J);
f.J=g.VY((0,g.VG)(f.X,f),f.V>0&&f.V<g.u0()?2E4:1E4)},B8=function(f,e){a:if(dy(e)!=dy(f.C))var B=!1;
else{B=g.NT(e);var n=B.length;for(let r=0;r<n;++r)if(!f.C[B[r]]){B=!1;break a}B=!0}B||(fb("Updated online screens: "+g.Zy(f.C)),f.C=e,f.publish("screenChange"));CiL(f)},nb=function(f,e,B){const n=Jv(f.W,"/pairing/get_screen_availability");
f.W.sendRequest("POST",n,{lounge_token:e.token},(0,g.VG)(function(r){r=r.screens||[];const L=r.length;for(let d=0;d<L;++d)if(r[d].loungeToken==e.token){B(r[d].status=="online");return}B(!1)},f),(0,g.VG)(function(){B(!1)},f))},CiL=function(f){f=g.NT(g.ox(f.C,function(e){return e}));
g.cB(f);f.length?g.yT("yt-remote-online-screen-ids",f.join(","),60):g.$B("yt-remote-online-screen-ids")},wie=function(f){const e={};
g.MH(f.U(),function(B){B.token?e[B.token]=B.id:this.Cz("Requesting availability of screen w/o lounge token.")});
return e},rt=function(f,e=!1){P_.call(this,"ScreenService");
this.V=f;this.X=e;this.C=this.G=null;this.J=[];this.W={};vPg(this)},ZgI=function(f,e,B,n,r,L){f.info("getAutomaticScreenByIds "+B+" / "+e);
B||(B=f.W[e]);const d=f.Sh();let t=B?zM(d,B):null;B&&(f.X||t)||(t=zM(d,e));if(t){t.uuid=e;const H=Lb(f,t);nb(f.C,H,function(k){r(k?H:null)})}else B?bgT(f,B,(0,g.VG)(function(H){const k=Lb(this,new vv({name:n,
screenId:B,loungeToken:H,dialId:e||""}));nb(this.C,k,function(C){r(C?k:null)})},f),L):r(null)},RZG=function(f,e){const B=f.screens.length;
for(let n=0;n<B;++n)if(f.screens[n].name==e)return f.screens[n];return null},KRx=function(f,e,B){nb(f.C,e,B)},bgT=function(f,e,B,n){f.info("requestLoungeToken_ for "+e);
const r={postParams:{screen_ids:e},method:"POST",context:f,onSuccess:function(L,d){L=d&&d.screens||[];L[0]&&L[0].screenId==e?B(L[0].loungeToken):n(Error("Missing lounge token in token response"))},
onError:function(){n(Error("Request screen lounge token failed"))}};
g.QY(Jv(f.V,"/pairing/get_lounge_token_batch"),r)},qyg=function(f){f.screens=f.G.Sh();
var e=f.W;const B={};for(var n in e)B[e[n]]=n;e=f.screens.length;for(n=0;n<e;++n){const r=f.screens[n];r.uuid=B[r.id]||""}f.info("Updated manual screens: "+Rj(f.screens))},vPg=function(f){dt(f);
f.G=new $J(f.V);f.G.subscribe("screenChange",(0,g.VG)(f.gs,f));qyg(f);f.X||(f.J=LrV(g.IB("yt-remote-automatic-screen-cache")||[]));dt(f);f.info("Initializing automatic screens: "+Rj(f.J));f.C=new zZg(f.V,(0,g.VG)(f.Sh,f,!0));f.C.subscribe("screenChange",(0,g.VG)(function(){this.publish("onlineScreenChange")},f))},Lb=function(f,e){var B=f.get(e.id);
B?(B.uuid=e.uuid,e=B):((B=zM(f.J,e.uuid))?(B.id=e.id,B.token=e.token,e=B):f.J.push(e),f.X||a1B(f));dt(f);f.W[e.uuid]=e.id;g.yT("yt-remote-device-id-map",f.W,31536E3);return e},a1B=function(f){f=g.GO(f.J,e=>e.idType!="shortLived");
g.yT("yt-remote-automatic-screen-cache",g.xg(f,nbH))},dt=function(f){f.W=g.IB("yt-remote-device-id-map")||{}},tz=function(f,e,B){g.$v.call(this);
this.eI=B;this.V=f;this.G=e;this.C=null},H8=function(f,e){f.C=e;
f.publish("sessionScreen",f.C)},piB=function(f,e){f.C&&(f.C.token=e,Lb(f.V,f.C));
f.publish("sessionScreen",f.C)},k8=function(f,e){xJ(f.eI,e)},YyT=function(f,e){g.us(f.Ed);
f.Ed=0;e?f.config_.enableCastLoungeToken&&e.loungeToken?e.deviceId?f.C&&f.C.uuid==e.deviceId||(e.loungeTokenRefreshIntervalMs?c4B(f,{name:f.G.friendlyName,screenId:e.screenId,loungeToken:e.loungeToken,dialId:e.deviceId,screenIdType:"shortLived"},e.loungeTokenRefreshIntervalMs):(g.rZ(Error(`No loungeTokenRefreshIntervalMs presents in mdxSessionStatusData: ${JSON.stringify(e)}.`)),Cb(f,e.screenId))):(g.rZ(Error(`No device id presents in mdxSessionStatusData: ${JSON.stringify(e)}.`)),Cb(f,e.screenId)):
Cb(f,e.screenId):f.uK(Error("Waiting for session status timed out."))},A4H=function(f){g.us(f.N);
f.N=0;g.us(f.X);f.X=0;g.us(f.Ed);f.Ed=0;g.us(f.W);f.W=0;g.us(f.K);f.K=0},jKV=function(f,e){f.info("sendYoutubeMessage_: "+e+" "+g.Zy());
const B={};B.type=e;f.J?f.J.sendMessage("urn:x-cast:com.google.youtube.mdx",B,()=>{},(0,g.VG)(function(){k8(this,"Failed to send message: "+e+".")},f)):k8(f,"Sending yt message without session: "+g.Zy(B))},oPg=function(f){jKV(f,"getLoungeToken");
g.us(f.W);f.W=g.VY(()=>{Oge(f,null)},3E4)},wt=function(f,e){g.us(f.K);
f.K=0;e==0?oPg(f):f.K=g.VY(()=>{oPg(f)},e)},Oge=function(f,e){g.us(f.W);
f.W=0;let B=null;e?e.loungeToken?f.C?.token==e.loungeToken&&(B="staleLoungeToken"):B="missingLoungeToken":B="noLoungeTokenResponse";B?(f.info("Did not receive a new lounge token in onLoungeToken_ with "+`data: ${JSON.stringify(e)}, error: ${B}`),wt(f,3E4)):(piB(f,e.loungeToken),wt(f,e.loungeTokenRefreshIntervalMs))},Cb=function(f,e){e?(f.info("onConnectedScreenId_: Received screenId: "+e),f.C&&f.C.id==e||f.WS(e,B=>{H8(f,B)},()=>f.uK(),5)):f.uK(Error("Waiting for session status timed out."))},Vsx=
function(f,e,B,n){g.us(f.X);
f.X=0;KRx(f.V,e,r=>{r||n<0?B(r):f.X=g.VY(()=>{Vsx(f,e,B,n-1)},300)})},c4B=function(f,e,B){f.info(`onConnectedScreenData_: Received screenData: ${JSON.stringify(e)}`);
const n=new vv(e);Vsx(f,n,r=>{r?(Lb(f.V,n),H8(f,n),wt(f,B)):(g.rZ(Error(`CastSession, RemoteScreen from screenData: ${JSON.stringify(e)} is not online.`)),f.uK())},5)},v8=function(f){return new Promise(e=>{f.Cq=KW();
if(f.PS){const B=new chrome.cast.DialLaunchResponse(!0,l1e(f));e(B);ujH(f)}else f.A=()=>{g.us(f.Ed);f.A=()=>{};
f.Ed=NaN;const B=new chrome.cast.DialLaunchResponse(!0,l1e(f));e(B);ujH(f)},f.Ed=g.VY(()=>{f.A()},100)})},FRT=function(f){g.us(f.X);
f.X=0;g.us(f.K);f.K=0;f.W();f.W=()=>{};
g.us(f.Ed)},bv=function(f){return!(!f.config_.enableDialLoungeToken||!f.J?.getDialAppInfo)},Zb=function(f,e){f.info(`getDialAppInfoWithTimeout_ ${e}`);
bv(f)&&(g.us(f.K),f.K=0,e==0?mDG(f):f.K=g.VY(()=>{mDG(f)},e))},ujH=function(f){f.W=f.V.ul(f.Cq,f.G.label,f.G.friendlyName,bv(f),(e,B)=>{f.W=()=>{};
H8(f,e);e.idType=="shortLived"&&B>0&&Zb(f,B)},e=>{f.W=()=>{};
f.uK(e)})},l1e=function(f){var e={};
e.pairingCode=f.Cq;e.theme=f.Lq;RSx()&&(e.env_useStageMdx=1);return g.we(e)},UDe=function(f,e){const B=f.N.receiver.label,n=f.G.friendlyName;
return(new Promise(r=>{ZgI(f.V,B,e,n,L=>{L&&L.token&&H8(f,L);r(L)},L=>{k8(f,"Failed to get DIAL screen: "+L);
r(null)})})).then(r=>r&&r.token?new chrome.cast.DialLaunchResponse(!1):v8(f))},hZ2=function(f,e,B){f.info(`initOnConnectedScreenDataPromise_: Received screenData: ${JSON.stringify(e)}`);
const n=new vv(e);return(new Promise(r=>{NVV(f,n,L=>{L?(Lb(f.V,n),H8(f,n),Zb(f,B)):g.rZ(Error(`DialSession, RemoteScreen from screenData: ${JSON.stringify(e)} is not online.`));r(L)},5)})).then(r=>r?new chrome.cast.DialLaunchResponse(!1):v8(f))},NVV=function(f,e,B,n){g.us(f.X);
f.X=0;KRx(f.V,e,r=>{r||n<0?B(r):f.X=g.VY(()=>{NVV(f,e,B,n-1)},300)})},mDG=function(f){bv(f)&&f.J.getDialAppInfo(e=>{f.info(`getDialAppInfo dialLaunchData: ${JSON.stringify(e)}`);
e=e.extraData||{};let B=null;e.loungeToken?f.C?.token==e.loungeToken&&(B="staleLoungeToken"):B="missingLoungeToken";B?Zb(f,3E4):(piB(f,e.loungeToken),Zb(f,e.loungeTokenRefreshIntervalMs))},e=>{f.info(`getDialAppInfo error: ${e}`);
Zb(f,3E4)})},idF=function(f){window.chrome&&chrome.cast&&chrome.cast.logMessage&&chrome.cast.logMessage(f)},Sy2=function(f){const e=f.G.yF();
let B=f.C&&f.C.G;f=g.xg(e,function(n){B&&bf(n,B.label)&&(B=null);const r=n.uuid?n.uuid:n.id;let L=gPH(this,n);L?(L.label=r,L.friendlyName=n.name):(L=new chrome.cast.Receiver(r,n.name),L.receiverType=chrome.cast.ReceiverType.CUSTOM);return L},f);
B&&(B.receiverType!=chrome.cast.ReceiverType.CUSTOM&&(B=new chrome.cast.Receiver(B.label,B.friendlyName),B.receiverType=chrome.cast.ReceiverType.CUSTOM),f.push(B));return f},RL=function(f){return f.K||!!f.J.length||!!f.C},Kb=function(f){xJ("Controller",f)},qR=function(f,e,B){e!=f.C&&(g.PT(f.C),(f.C=e)?(B?f.publish("yt-remote-cast2-receiver-resumed",e.G):f.publish("yt-remote-cast2-receiver-selected",e.G),e.subscribe("sessionScreen",(0,g.VG)(f.Ed,f,e)),e.subscribe("sessionFailed",()=>EPx(f,e)),e.C?
f.publish("yt-remote-cast2-session-change",e.C):B&&f.C.U(null)):f.publish("yt-remote-cast2-session-change",null))},gPH=function(f,e){return e?g.$g(f.J,function(B){return bf(e,B.label)},f):null},EPx=function(f,e){f.C==e&&f.publish("yt-remote-cast2-session-failed")},GWL=function(f,e,B,n){n.disableCastApi?zx("Cannot initialize because disabled by Mdx config."):QKH()?TVG(e,n)&&(aL(!0),window.chrome&&chrome.cast&&chrome.cast.isAvailable?DDB(f,B):(window.__onGCastApiAvailable=function(r,L){r?DDB(f,B):(pb("Failed to load cast API: "+
L),c8(!1),aL(!1),g.$B("yt-remote-cast-available"),g.$B("yt-remote-cast-receiver"),J42(),B(!1))},n.loadCastApiSetupScript?g.fB(Msx):window.navigator.userAgent.indexOf("Android")>=0&&window.navigator.userAgent.indexOf("Chrome/")>=0&&window.navigator.presentation?oj()>=60&&YZV():!window.chrome||!window.navigator.presentation||window.navigator.userAgent.indexOf("Edge")>=0?lf():oj()>=89?jaV():(uf(),V6(AdB.map(arH))))):zx("Cannot initialize because not running Chrome")},J42=function(){zx("dispose");
const f=Y8();f&&f.dispose();g.qH("yt.mdx.remote.cloudview.instance_",null);xDB(!1);g.$n(Az);Az.length=0},jM=function(){return!!g.IB("yt-remote-cast-installed")},WRH=function(){const f=g.IB("yt-remote-cast-receiver");
return f?f.friendlyName:null},sKu=function(){zx("clearCurrentReceiver");
g.$B("yt-remote-cast-receiver")},Xiu=function(){return jM()?Y8()?Y8().getCastSession():(pb("getCastSelector: Cast is not initialized."),null):(pb("getCastSelector: Cast API is not installed!"),null)},oL=function(){jM()?Y8()?OT()?(zx("Requesting cast selector."),Y8().requestSession()):(zx("Wait for cast API to be ready to request the session."),Az.push(g.IF("yt-remote-cast2-api-ready",oL))):pb("requestCastSelector: Cast is not initialized."):pb("requestCastSelector: Cast API is not installed!")},VB=
function(f,e){OT()?Y8().setConnectedScreenStatus(f,e):pb("setConnectedScreenStatus called before ready.")},QKH=function(){var f=g.d0().search(/ (CrMo|Chrome|CriOS)\//)>=0;
return g.PP||f},y4e=function(f,e){Y8().init(f,e)},TVG=function(f,e){let B=!1;
Y8()||(f=new lv(f,e),f.subscribe("yt-remote-cast2-availability-change",function(n){g.yT("yt-remote-cast-available",n);O2("yt-remote-cast2-availability-change",n)}),f.subscribe("yt-remote-cast2-receiver-selected",function(n){zx("onReceiverSelected: "+n.friendlyName);
g.yT("yt-remote-cast-receiver",n);O2("yt-remote-cast2-receiver-selected",n)}),f.subscribe("yt-remote-cast2-receiver-resumed",function(n){zx("onReceiverResumed: "+n.friendlyName);
g.yT("yt-remote-cast-receiver",n);O2("yt-remote-cast2-receiver-resumed",n)}),f.subscribe("yt-remote-cast2-session-change",function(n){zx("onSessionChange: "+ZU(n));
n||g.$B("yt-remote-cast-receiver");O2("yt-remote-cast2-session-change",n)}),g.qH("yt.mdx.remote.cloudview.instance_",f),B=!0);
zx("cloudview.createSingleton_: "+B);return B},Y8=function(){return g.zO("yt.mdx.remote.cloudview.instance_")},DDB=function(f,e){c8(!0);
aL(!1);y4e(f,function(B){B?(xDB(!0),g.iO("yt-remote-cast2-api-ready")):(pb("Failed to initialize cast API."),c8(!1),g.$B("yt-remote-cast-available"),g.$B("yt-remote-cast-receiver"),J42());e(B)})},zx=function(f){xJ("cloudview",f)},pb=function(f){xJ("cloudview",f)},c8=function(f){zx("setCastInstalled_ "+f);
g.yT("yt-remote-cast-installed",f)},OT=function(){return!!g.zO("yt.mdx.remote.cloudview.apiReady_")},xDB=function(f){zx("setApiReady_ "+f);
g.qH("yt.mdx.remote.cloudview.apiReady_",f)},aL=function(f){g.qH("yt.mdx.remote.cloudview.initializing_",f)},uv=function(f){this.index=-1;
this.videoId=this.listId="";this.volume=this.playerState=-1;this.muted=!1;this.audioTrackId=null;this.W=this.U=0;this.trackData=null;this.hasNext=this.hasPrevious=!1;this.loadedTime=this.J=this.X=this.G=0;this.C=NaN;this.V=!1;this.reset(f)},F9=function(f){f.audioTrackId=null;
f.trackData=null;f.playerState=-1;f.hasPrevious=!1;f.hasNext=!1;f.U=0;f.W=g.u0();f.G=0;f.X=0;f.J=0;f.loadedTime=0;f.C=NaN;f.V=!1},mQ=function(f){return f.isPlaying()?(g.u0()-f.W)/1E3:0},UT=function(f,e){f.U=e;
f.W=g.u0()},NR=function(f){switch(f.playerState){case 1:case 1081:return(g.u0()-f.W)/1E3+f.U;
case -1E3:return 0}return f.U},PiV=function(f){return f.V?f.X+mQ(f):f.X},hz=function(f,e,B){const n=f.videoId;
f.videoId=e;f.index=B;e!=n&&F9(f)},gt=function(f){const e={};
e.index=f.index;e.listId=f.listId;e.videoId=f.videoId;e.playerState=f.playerState;e.volume=f.volume;e.muted=f.muted;e.audioTrackId=f.audioTrackId;e.trackData=g.xe(f.trackData);e.hasPrevious=f.hasPrevious;e.hasNext=f.hasNext;e.playerTime=f.U;e.playerTimeAt=f.W;e.seekableStart=f.G;e.seekableEnd=f.X;e.duration=f.J;e.loadedTime=f.loadedTime;e.liveIngestionTime=f.C;return e},I1u=function(f){g.MH("nowAutoplaying autoplayDismissed remotePlayerChange remoteQueueChange autoplayModeChange autoplayUpNext previousNextChange multiStateLoopEnabled loopModeChange".split(" "),
function(e){this.X.push(this.V.subscribe(e,g.l0(this.uY,e),this))},f)},SM=function(f,e){f.G&&(f.G.removeUpdateListener(f.A),f.G.removeMediaListener(f.N),f.U(null));
f.G=e;f.G&&(W_("Setting cast session: "+f.G.sessionId),f.G.addUpdateListener(f.A),f.G.addMediaListener(f.N),f.G.media.length&&f.U(f.G.media[0]))},ET=function(f){return new uv(f.V.getPlayerContextData())},QB=function(f){return f.getState()==1},Db=function(f,e,B){return(0,g.VG)(function(n){this.Cz("Failed to "+e+" with cast v2 channel. Error code: "+n.code);
n.code!=chrome.cast.ErrorCode.TIMEOUT&&(this.Cz("Retrying "+e+" using MDx browser channel."),Tx(this,e,B))},f)},Tx=function(f,e,B){f.V.sendMessage(e,B)},MR=function(f,e,B){const n=ET(f);
UT(n,B);n.playerState!=-1E3&&(n.playerState=e);Jz(f,n)},Gx=function(f,e){var B=f.W;
B.C.length+B.G.length<50&&f.W.enqueue(e)},Jz=function(f,e){$DV(f);
f.V.setPlayerContextData(gt(e));I1u(f)},$DV=function(f){g.MH(f.X,function(e){this.V.unsubscribeByKey(e)},f);
f.X.length=0},igF=function(f){const e=f.C.media,B=f.C.customData;
if(e&&B){var n=ET(f);e.contentId!=n.videoId&&W_("Cast changing video to: "+e.contentId);n.videoId=e.contentId;n.playerState=B.playerState;UT(n,f.C.getEstimatedTime());Jz(f,n)}else W_("No cast media video. Ignoring state update.")},f6G=function(f){x8("Channel opened");
f.WS&&(f.WS=!1,W8(f),f.eI=g.VY(()=>{x8("Timing out waiting for a screen.");f.X(1)},15E3))},vce=function(f,e){e=e.message;
e.params?x8("Received: action="+e.action+", params="+g.Zy(e.params)):x8("Received: action="+e.action+" {}");switch(e.action){case "loungeStatus":e=tm(e.params.devices);f.J=g.xg(e,function(n){return new wy(n)});
e=!!g.$g(f.J,function(n){return n.type=="LOUNGE_SCREEN"});
e0x(f,e);e=f.BS("mlm");f.publish("multiStateLoopEnabled",e);break;case "loungeScreenDisconnected":g.tu(f.J,function(n){return n.type=="LOUNGE_SCREEN"});
e0x(f,!1);break;case "remoteConnected":let B=new wy(tm(e.params.device));g.$g(f.J,function(n){return n.equals(B)})||sII(f.J,B);
break;case "remoteDisconnected":B=new wy(tm(e.params.device));g.tu(f.J,function(n){return n.equals(B)});
break;case "gracefulDisconnect":break;case "playlistModified":BKx(f,e,"QUEUE_MODIFIED");break;case "nowPlaying":ncg(f,e);break;case "onStateChange":ro2(f,e);break;case "onAdStateChange":LU2(f,e);break;case "onVolumeChanged":dpg(f,e);break;case "onSubtitlesTrackChanged":tkV(f,e);break;case "nowAutoplaying":HIe(f,e);break;case "autoplayDismissed":f.publish("autoplayDismissed");break;case "autoplayUpNext":k_u(f,e);break;case "onAutoplayModeChanged":C52(f,e);break;case "onHasPreviousNextChanged":w72(f,
e);break;case "requestAssistedSignIn":f.publish("assistedSignInRequested",e.params.authCode);break;case "onLoopModeChanged":f.publish("loopModeChange",e.params.loopMode);break;default:x8("Unrecognized action: "+e.action)}},x8=function(f){xJ("conn",f)},bIB=function(f){f.U=g.VY(()=>{x8("Connecting timeout");
f.X(1)},2E4)},sT=function(f,e){f.publish("proxyStateChange",e)},X9=function(f){g.us(f.U);
f.U=NaN},yB=function(f){g.us(f.cS);
f.cS=NaN},W8=function(f){g.us(f.eI);
f.eI=NaN},ZIB=function(f){return g.$g(f.J,function(e){return e.type=="LOUNGE_SCREEN"})},P8=function(f,e,B){B?x8("Sending: action="+e+", params="+g.Zy(B)):x8("Sending: action="+e);
f.G.sendMessage(e,B)},R0T=function(f){yB(f);
f.cS=g.VY(()=>{P8(f,"getNowPlaying")},2E4)},KUx=function(f){g.us(f.A);
f.A=g.VY(()=>{f.X(1)},864E5)},e0x=function(f,e){var B=null;
if(e){const n=ZIB(f);n&&(B={clientName:n.clientName,deviceMake:n.brand,deviceModel:n.model,osVersion:n.osVersion})}g.qH("yt.mdx.remote.remoteClient_",B);e&&(X9(f),W8(f));B=f.G.Az()&&isNaN(f.U);e==B?e&&(sT(f,1),P8(f,"getSubtitlesTrack")):e?(f.Z9()&&f.C.reset(),sT(f,1),P8(f,"getNowPlaying"),KUx(f)):f.X(1)},tkV=function(f,e){const B=e.params.videoId;
delete e.params.videoId;B==f.C.videoId&&(g.TL(e.params)?f.C.trackData=null:f.C.trackData=e.params,f.publish("remotePlayerChange"))},BKx=function(f,e,B){const n=e.params.videoId||e.params.video_id,r=parseInt(e.params.currentIndex,10);
f.C.listId=e.params.listId||f.C.listId;hz(f.C,n,r);f.publish("remoteQueueChange",B)},ro2=function(f,e){var B=parseInt(e.params.currentTime||e.params.current_time,10);
UT(f.C,isNaN(B)?0:B);B=parseInt(e.params.state,10);B=isNaN(B)?-1:B;B==-1&&f.C.playerState==-1E3&&(B=-1E3);f.C.playerState=B;B=Number(e.params.loadedTime);f.C.loadedTime=isNaN(B)?0:B;f.C.P9(Number(e.params.duration));B=f.C;var n=Number(e.params.liveIngestionTime);B.C=n;B.V=isNaN(n)?!1:!0;B=f.C;n=Number(e.params.seekableStartTime);e=Number(e.params.seekableEndTime);B.G=isNaN(n)?0:n;B.X=isNaN(e)?0:e;f.C.playerState==1?R0T(f):yB(f);f.publish("remotePlayerChange")},ncg=function(f,e){e.params=e.params||
{};
BKx(f,e,"NOW_PLAYING_MAY_CHANGE");ro2(f,e);f.publish("autoplayDismissed")},LU2=function(f,e){if(f.C.playerState!=-1E3){var B=1085;
switch(parseInt(e.params.adState,10)){case 1:B=1081;break;case 2:B=1084;break;case 0:B=1083}f.C.playerState=B;e=parseInt(e.params.currentTime,10);UT(f.C,isNaN(e)?0:e);f.publish("remotePlayerChange")}},dpg=function(f,e){const B=e.params.muted=="true";
f.C.volume=parseInt(e.params.volume,10);f.C.muted=B;f.publish("remotePlayerChange")},HIe=function(f,e){f.K=e.params.videoId;
f.publish("nowAutoplaying",parseInt(e.params.timeout,10))},k_u=function(f,e){f.K=e.params.videoId||null;
f.publish("autoplayUpNext",f.K)},C52=function(f,e){f.W=e.params.autoplayMode;
f.publish("autoplayModeChange",f.W);f.W=="DISABLED"&&f.publish("autoplayDismissed")},w72=function(f,e){const B=e.params.hasNext=="true";
f.C.hasPrevious=e.params.hasPrevious=="true";f.C.hasNext=B;f.publish("previousNextChange")},p7e=function(f,e){ZnT();
if(!jP||!jP.get("yt-remote-disable-remote-module-for-dev")){e=g.Q("MDX_CONFIG")||e;tjB();YM();IL||(IL=new DQ(e?e.loungeApiHost:void 0),RSx()&&(IL.C="/api/loungedev"));$8||($8=g.zO("yt.mdx.remote.deferredProxies_")||[],g.qH("yt.mdx.remote.deferredProxies_",$8));qYe();var B=iv();if(!B){const r=new rt(IL,e?e.disableAutomaticScreenCache||!1:!1);g.qH("yt.mdx.remote.screenService_",r);B=iv();var n={};e&&(n={appId:e.appId,disableDial:e.disableDial,theme:e.theme,loadCastApiSetupScript:e.loadCastApiSetupScript,
disableCastApi:e.disableCastApi,enableDialLoungeToken:e.enableDialLoungeToken,enableCastLoungeToken:e.enableCastLoungeToken,forceMirroring:e.forceMirroring});g.qH("yt.mdx.remote.enableConnectWithInitialState_",e?e.enableConnectWithInitialState||!1:!1);GWL(f,r,function(L){L?fk()&&VB(fk(),"YouTube TV"):r.subscribe("onlineScreenChange",function(){O2("yt-remote-receiver-availability-change")})},n)}e&&!g.zO("yt.mdx.remote.initialized_")&&(g.qH("yt.mdx.remote.initialized_",!0),eg("Initializing: "+g.Zy(e)),
BI.push(g.IF("yt-remote-cast2-api-ready",function(){O2("yt-remote-api-ready")})),BI.push(g.IF("yt-remote-cast2-availability-change",function(){O2("yt-remote-receiver-availability-change")})),BI.push(g.IF("yt-remote-cast2-receiver-selected",function(){nk(null);
O2("yt-remote-auto-connect","cast-selector-receiver")})),BI.push(g.IF("yt-remote-cast2-receiver-resumed",function(){O2("yt-remote-receiver-resumed","cast-selector-receiver")})),BI.push(g.IF("yt-remote-cast2-session-change",z0T)),BI.push(g.IF("yt-remote-connection-change",function(r){r?VB(fk(),"YouTube TV"):rB()||(VB(null,null),sKu())})),BI.push(g.IF("yt-remote-cast2-session-failed",()=>{O2("yt-remote-connection-failed")})),f=Lk(),e.isAuto&&(f.id+="#dial"),n=e.capabilities||[],n.length>0&&(f.capabilities=
n),f.name=e.device,f.app=e.app,(e=e.theme)&&(f.theme=e),eg(" -- with channel params: "+g.Zy(f)),f?(g.yT("yt-remote-session-app",f.app),g.yT("yt-remote-session-name",f.name)):(g.$B("yt-remote-session-app"),g.$B("yt-remote-session-name")),g.qH("yt.mdx.remote.channelParams_",f),B.start(),fk()||a6M())}},coB=function(){var f=iv().AR.$_gos();
const e=dB();e&&te()&&(q$(f,e)||f.push(e));return d_I(f)},HI=function(){let f=YY2();
!f&&jM()&&WRH()&&(f={key:"cast-selector-receiver",name:WRH()});return f},YY2=function(){const f=coB();
let e=dB();e||(e=rB());return g.$g(f,function(B){return e&&bf(e,B.key)?!0:!1})},dB=function(){const f=fk();
if(!f)return null;const e=iv().Sh();return zM(e,f)},z0T=function(f){eg("remote.onCastSessionChange_: "+ZU(f));
if(f){var e=dB();if(e&&e.id==f.id){if(VB(e.id,"YouTube TV"),f.idType=="shortLived"&&(f=f.token))ka&&(ka.token=f),(e=te())&&e.vl(f)}else e&&Ck(),wB(f,1)}else te()&&Ck()},Ck=function(){OT()?Y8().stopSession():pb("stopSession called before API ready.");
const f=te();f&&(f.disconnect(1),vI(null))},b7=function(){const f=te();
return!!f&&f.getProxyState()!=3},eg=function(f){xJ("remote",f)},iv=function(){if(!ZF){const f=g.zO("yt.mdx.remote.screenService_");
ZF=f?new AoF(f):null}return ZF},fk=function(){return g.zO("yt.mdx.remote.currentScreenId_")},jvI=function(f){g.qH("yt.mdx.remote.currentScreenId_",f)},OIg=function(){return g.zO("yt.mdx.remote.connectData_")},nk=function(f){g.qH("yt.mdx.remote.connectData_",f)},te=function(){return g.zO("yt.mdx.remote.connection_")},vI=function(f){const e=te();
nk(null);f||jvI("");g.qH("yt.mdx.remote.connection_",f);$8&&(g.MH($8,function(B){B(f)}),$8.length=0);
e&&!f?O2("yt-remote-connection-change",!1):!e&&f&&O2("yt-remote-connection-change",!0)},rB=function(){const f=g.iz();
if(!f)return null;var e=iv();if(!e)return null;e=e.Sh();return zM(e,f)},wB=function(f,e){fk();
dB()&&dB();if(Rz)ka=f;else{jvI(f.id);var B=g.zO("yt.mdx.remote.enableConnectWithInitialState_")||!1;f=new Kk(f,B);f.connect(e,OIg());f.subscribe("beforeDisconnect",function(n){O2("yt-remote-before-disconnect",n)});
f.subscribe("beforeDispose",function(){te()&&(te(),vI(null))});
f.subscribe("browserChannelAuthError",()=>{const n=dB();n&&n.idType=="shortLived"&&(OT()?Y8().handleBrowserChannelAuthError():pb("refreshLoungeToken called before API ready."))});
vI(f)}},a6M=function(){const f=rB();
f?(eg("Resume connection to: "+ZU(f)),wB(f,0)):(Am(),sKu(),eg("Skipping connecting because no session screen found."))},qYe=function(){var f=Lk();
if(g.TL(f)){f=cv();var e=g.IB("yt-remote-session-name")||"";const B=g.IB("yt-remote-session-app")||"";f={device:"REMOTE_CONTROL",id:f,name:e,app:B,mdxVersion:3};f.authuser=String(g.Q("SESSION_INDEX","0"));(e=g.Q("DELEGATED_SESSION_ID"))&&(f.pageId=String(e));g.qH("yt.mdx.remote.channelParams_",f)}},Lk=function(){return g.zO("yt.mdx.remote.channelParams_")||{}},ocB=function(f,e){if(qe(f)){f.Nk.unsubscribe("remotePlayerChange",f.W,f);
const B=Math.round(e.volume);e=!!e.muted;const n=ET(f.Nk);if(B!==n.volume||e!==n.muted)f.Nk.setVolume(B,e),f.A.start();f.Nk.subscribe("remotePlayerChange",f.W,f)}},qe=function(f){return ET(f.Nk).videoId===zb(f).videoId},az=function(f,e){let B,n;
var r=f.Z.getPlaylist();r?.listId&&(B=r.index,n=r.listId.toString());r=zb(f);f.Nk.playVideo(r.videoId,e,B,n,r.playerParams,r.A,WbI(r));f.oC(new g.ks(1))},pk=function(f,e){if(qe(f)&&!f.U){let B=null;
e&&(B={style:f.Z.getSubtitlesUserSettings()},Object.assign(B,e));f.Nk.K(zb(f).videoId,B);f.V=ET(f.Nk).trackData}},VkM=function(f,e){if(e){const B=f.Z.getOption("captions","tracklist",{x3:1});
B&&B.length?(f.Z.setOption("captions","track",e),f.U=!1):(f.Z.loadModule("captions"),f.U=!0)}else f.Z.setOption("captions","track",{})},l6x=function(f){f.ZW(0);
f.G.stop();f.oC(new g.ks(64))},zb=function(f){return f.Z.getVideoData({playerType:1})},uAF=function(f){const e=f.player.S();
return!e.Y("mdx_enable_privacy_disclosure_ui")||f.isLoggedIn()||f.Ey||!f.zS?!1:g.yQ(e)||g.L3(e)},FUg=function(f,e,B){f.mA=B;
f.player.publish("presentingplayerstatechange",new g.aw(B,e))},cI=function(f,e,...B){f.loaded&&f.dU.xa(e,...B)},Ya=function(f){f.ot&&(f.player.removeEventListener("presentingplayerstatechange",f.ot),f.ot=null)},Ae=function(f,e){if(e.key!==f.TM.key)if(e.key===f.cF.key)Ck();
else if(uAF(f)&&mpg(f),f.TM=e,!g.TT(f.player.S())){{const L=f.player.getPlaylistId();var B=f.player.getVideoData({playerType:1});const d=B.videoId;if(!L&&!d||(f.player.getAppState()===2||f.player.getAppState()===1)&&f.player.S().Y("should_clear_video_data_on_player_cued_unstarted"))B=null;else{var n=f.player.getPlaylist();if(n){var r=[];for(let t=0;t<n.length;t++)r[t]=g.zi(n,t).videoId}else r=[d];n=f.player.getCurrentTime(1);f={videoIds:r,listId:L,videoId:d,playerParams:B.playerParams,clickTrackingParams:B.A,
index:Math.max(f.player.getPlaylistIndex(),0),currentTime:n===0?void 0:n};(B=WbI(B))&&(f.locationInfo=B);B=f}}eg("Connecting to: "+g.Zy(e));e.key=="cast-selector-receiver"?(nk(B||null),e=B||null,OT()?Y8().setLaunchParams(e):pb("setLaunchParams called before ready.")):!B&&b7()&&fk()==e.key?O2("yt-remote-connection-change",!0):(Ck(),nk(B||null),B=iv().Sh(),(e=zM(B,e.key))&&wB(e,1))}},mpg=function(f){f.player.getPlayerStateObject().isPlaying()?f.player.pauseVideo():(f.ot=e=>{!f.Ey&&e.IC(8)&&(f.player.pauseVideo(),
Ya(f))},f.player.addEventListener("presentingplayerstatechange",f.ot));
f.zS&&f.zS.Fx();te()||(Rz=!0)};
g.sL.prototype.sy=g.B5(46,function(){this.app.U2().sy()});
g.mV.prototype.sy=g.B5(45,function(){this.SX=null});
g.sL.prototype.DB=g.B5(44,function(f){this.app.U2().DB(f)});
g.mV.prototype.DB=g.B5(43,function(f){this.SX=f});
g.JU.prototype.gL=g.B5(1,function(){return g.BU(this,3)});
g.IH.prototype.gL=g.B5(0,function(){return g.BU(this,11)});
var gxF=class{constructor(){var f=g.ML();this.G=f;g.Bp(f,"/client_streamz/youtube/living_room/mdx/channel/opened",g.pg("channel_type"))}C(f){g.r5(this.G,"/client_streamz/youtube/living_room/mdx/channel/opened",f)}},S1I=class{constructor(){var f=g.ML();this.G=f;g.Bp(f,"/client_streamz/youtube/living_room/mdx/channel/closed",g.pg("channel_type"))}C(f){g.r5(this.G,"/client_streamz/youtube/living_room/mdx/channel/closed",f)}},QnG=class{constructor(){var f=g.ML();this.G=f;g.Bp(f,"/client_streamz/youtube/living_room/mdx/channel/message_received",
g.pg("channel_type"))}C(f){g.r5(this.G,"/client_streamz/youtube/living_room/mdx/channel/message_received",f)}},Exu=class{constructor(){var f=g.ML();this.G=f;g.Bp(f,"/client_streamz/youtube/living_room/mdx/channel/success")}C(){g.r5(this.G,"/client_streamz/youtube/living_room/mdx/channel/success")}},Tgu=class{constructor(){var f=g.ML();this.G=f;g.Bp(f,"/client_streamz/youtube/living_room/mdx/channel/error",g.pg("channel_type"),g.pg("error_type"))}C(f,e){g.r5(this.G,"/client_streamz/youtube/living_room/mdx/channel/error",
f,e)}},Dxe=class{constructor(){var f=g.ML();this.G=f;g.Bp(f,"/client_streamz/youtube/living_room/mdx/browser_channel/pending_maps")}C(){g.r5(this.G,"/client_streamz/youtube/living_room/mdx/browser_channel/pending_maps")}},JVM=class{constructor(){var f=g.ML();this.G=f;g.Bp(f,"/client_streamz/youtube/living_room/mdx/browser_channel/undelivered_maps")}C(){g.r5(this.G,"/client_streamz/youtube/living_room/mdx/browser_channel/undelivered_maps")}};g.c=kM.prototype;
g.c.t0=function(){CW(this);const f=[];for(let e=0;e<this.C.length;e++)f.push(this.G[this.C[e]]);return f};
g.c.qA=function(){CW(this);return this.C.concat()};
g.c.has=function(f){return Hv(this.G,f)};
g.c.equals=function(f,e){if(this===f)return!0;if(this.size!=f.size)return!1;e=e||IeM;CW(this);let B;for(let n=0;B=this.C[n];n++)if(!e(this.get(B),f.get(B)))return!1;return!0};
g.c.isEmpty=function(){return this.size==0};
g.c.clear=function(){this.G={};this.tB=this.size=this.C.length=0};
g.c.remove=function(f){return this.delete(f)};
g.c.delete=function(f){return Hv(this.G,f)?(delete this.G[f],--this.size,this.tB++,this.C.length>2*this.size&&CW(this),!0):!1};
g.c.get=function(f,e){return Hv(this.G,f)?this.G[f]:e};
g.c.set=function(f,e){Hv(this.G,f)||(this.size+=1,this.C.push(f),this.tB++);this.G[f]=e};
g.c.forEach=function(f,e){const B=this.qA();for(let n=0;n<B.length;n++){const r=B[n],L=this.get(r);f.call(e,L,r,this)}};
g.c.clone=function(){return new kM(this)};
g.c.keys=function(){return g.bp(this.w$(!0)).C()};
g.c.values=function(){return g.bp(this.w$(!1)).C()};
g.c.entries=function(){const f=this;return PUu(this.keys(),function(e){return[e,f.get(e)]})};
g.c.w$=function(f){CW(this);let e=0;const B=this.tB,n=this,r=new g.q_;r.next=function(){if(B!=n.tB)throw Error("The map has changed since the iterator was created");if(e>=n.C.length)return g.mM;const L=n.C[e++];return g.zm(f?L:n.G[L])};
return r};
var eSg={bB:"atp",jAY:"ska",WYl:"que",z9:"mus",qdA:"sus",ED:"dsp",Bii:"seq",DY:"mic",by:"dpa",Nu:"mlm",cA:"dsdtr",r_:"ntb",gpd:"vsp",RW:"scn",pSY:"rpe",oW:"dcn",Cr:"dcp",YX:"pas",rD:"drq",WW:"opf",Zz:"els",uy:"isg",KYY:"svq",xY:"mvp",AS:"ads",CCj:"stcp",gAC:"sads",Ec:"dloc",Jp:"dcw",ob:"asw",T3:"apw",C8:"wrc",qH:"pcw",Ao:"ipv",vW:"ndt",kQ:"ctops",xT:"gsrm"},BO2={FSA:"u",Ba:"cl",cT:"k",Yc:"i",jT:"cr",I2:"m",ly:"g",eF:"up"},GCe={Gl:"nowPlaying",Qo:"onStateChange",VG:"adPlaying",p9:"onAdStateChange",
eM:"nowPlayingShorts",PW:"onShortsStateChange"};wy.prototype.equals=function(f){return f?this.id==f.id:!1};
var pW="",jP=null,cdH=KrL("loadCastFramework")||KrL("loadCastApplicationFramework"),AdB=["pkedcjkdefgpdelpbcmbmeomcjbeemfm","enhhojjnijigcajfphajepfemndkmdlo"];g.Uk(FR,g.$0);g.c=FR.prototype;g.c.PZ=function(f){this.V=arguments;this.C=!1;this.mu?this.J=g.u0()+this.D0:this.mu=g.Iv(this.W,this.D0)};
g.c.stop=function(){this.mu&&(g.Kw.clearTimeout(this.mu),this.mu=null);this.J=null;this.C=!1;this.V=[]};
g.c.pause=function(){++this.G};
g.c.resume=function(){this.G&&(--this.G,!this.G&&this.C&&(this.C=!1,this.U.apply(null,this.V)))};
g.c.bY=function(){this.stop();FR.lj.bY.call(this)};
g.c.Qq=function(){this.mu&&(g.Kw.clearTimeout(this.mu),this.mu=null);this.J?(this.mu=g.Iv(this.W,this.J-g.u0()),this.J=null):this.G?this.C=!0:(this.C=!1,this.U.apply(null,this.V))};var U2=null;mY.prototype.set=function(f){this.C=f};
mY.prototype.reset=function(){this.set(g.u0())};
mY.prototype.get=function(){return this.C};g.Uk(obH,OnF);var tv=class{stringify(f){return g.Kw.JSON.stringify(f,void 0)}parse(f){return g.Kw.JSON.parse(f,void 0)}};g.Uk(N$,g.fI);g.Uk(hm,g.fI);var VjF=null;g.Uk(lre,g.fI);g.Uk(ufI,g.fI);g.Uk(FrI,g.fI);TM.prototype.debug=function(){};
TM.prototype.info=function(){};
TM.prototype.warning=function(){};var SZM={},Wv={};g.c=DU.prototype;g.c.setTimeout=function(f){this.MC=f};
g.c.s9=function(f){f=f.target;const e=this.Z9;e&&g.oq(f)==3?e.V():this.AM(f)};
g.c.AM=function(f){try{if(f==this.C)a:{const r=g.oq(this.C),L=this.C.G,d=this.C.getStatus();if(!(r<3)&&(r!=3||this.C&&(this.G.G||g.ur(this.C)||g.FK(this.C)))){this.WS||r!=4||L==7||(L==8||d<=0?SP(3):SP(2));s2(this);var e=this.C.getStatus();this.tL=e;var B=gbB(this);if(this.U=e==200){if(this.xA&&!this.uY){b:{if(this.C){const t=g.Ua(this.C,"X-HTTP-Initial-Response");if(t&&!g.eU(t)){var n=t;break b}}n=null}if(f=n)this.uY=!0,rh(this,f);else{this.U=!1;this.W=3;E2(12);GM(this);xM(this);break a}}if(this.eI){f=
!0;let t;for(;!this.WS&&this.X<B.length;)if(t=Ebe(this,B),t==Wv){r==4&&(this.W=4,E2(14),f=!1);break}else if(t==SZM){this.W=4;E2(15);f=!1;break}else rh(this,t);hSV(this)&&this.X!=0&&(this.G.C=this.G.C.slice(this.X),this.X=0);r!=4||B.length!=0||this.G.G||(this.W=1,E2(16),f=!1);this.U=this.U&&f;f?B.length>0&&!this.IA&&(this.IA=!0,this.J.Jg(this)):(GM(this),xM(this))}else rh(this,B);r==4&&GM(this);this.U&&!this.WS&&(r==4?TOM(this.J,this):(this.U=!1,M$(this)))}else g.mn(this.C),e==400&&B.indexOf("Unknown SID")>
0?(this.W=3,E2(12)):(this.W=0,E2(13)),GM(this),xM(this)}}}catch(r){}finally{}};
g.c.cancel=function(){this.WS=!0;GM(this)};
g.c.dP=function(){this.Ed=null;const f=Date.now();f-this.kA>=0?(this.Lq!=2&&(SP(3),E2(17)),GM(this),this.W=2,xM(this)):QaH(this,this.kA-f)};
g.c.getLastError=function(){return this.W};
g.c.ZU=function(){return this.C};var UpB=class{constructor(f,e){this.C=f;this.map=e;this.context=null}};Gmg.prototype.cancel=function(){this.J=Ly(this);if(this.G)this.G.cancel(),this.G=null;else if(this.C&&this.C.size!==0){for(const f of this.C.values())f.cancel();this.C.clear()}};g.c=ydL.prototype;g.c.TT=8;g.c.KW=1;g.c.connect=function(f,e,B,n){E2(0);this.Yp=f;this.WS=e||{};B&&n!==void 0&&(this.WS.OSID=B,this.WS.OAID=n);this.Z9=this.Q3;this.PS=D_M(this,null,this.Yp);ny(this)};
g.c.disconnect=function(){PCe(this);if(this.KW==3){var f=this.BS++,e=this.PS.clone();g.WQ(e,"SID",this.V);g.WQ(e,"RID",f);g.WQ(e,"TYPE","terminate");Cy(this,e);f=new DU(this,this.V,f);f.Lq=2;f.K=ry(e.clone());e=!1;if(g.Kw.navigator&&g.Kw.navigator.sendBeacon)try{e=g.Kw.navigator.sendBeacon(f.K.toString(),"")}catch{}!e&&g.Kw.Image&&((new Image).src=f.K,e=!0);e||(f.C=NOe(f.J,null),f.C.send(f.K));f.Cq=Date.now();M$(f)}Bg2(this)};
g.c.Y2=function(){return this.KW==0};
g.c.getState=function(){return this.KW};
g.c.CK=function(f){if(this.U)if(this.U=null,this.KW==1){if(!f){this.BS=Math.floor(Math.random()*1E5);f=this.BS++;const r=new DU(this,"",f);let L=this.N;this.xA&&(L?(L=g.GL(L),g.sM(L,this.xA)):L=this.xA);this.X!==null||this.kA||(r.PS=L,L=null);if(this.qC)a:{var e=0;for(var B=0;B<this.J.length;B++){b:{var n=this.J[B];if("__data__"in n.map&&(n=n.map.__data__,typeof n==="string")){n=n.length;break b}n=void 0}if(n===void 0)break;e+=n;if(e>4096){e=B;break a}if(e===4096||B===this.J.length-1){e=B+1;break a}}e=
this.mS}else e=this.mS;e=inM(this,r,e);B=this.PS.clone();g.WQ(B,"RID",f);g.WQ(B,"CVER",22);this.eI&&g.WQ(B,"X-HTTP-Session-Id",this.eI);Cy(this,B);L&&(this.kA?e="headers="+g.nH(g.$p(L))+"&"+e:this.X&&g.im(B,this.X,L));B_(this.G,r);this.qj&&g.WQ(B,"TYPE","init");this.qC?(g.WQ(B,"$req",e),g.WQ(B,"SID","null"),r.xA=!0,Jm(r,B,null)):Jm(r,B,e);this.KW=2}}else this.KW==3&&(f?fDM(this,f):this.J.length==0||x_x(this.G)||fDM(this))};
g.c.o7=function(){this.K=null;eiF(this);if(this.uC&&!(this.MC||this.C==null||this.hE<=0)){var f=4*this.hE;this.cS=Q6((0,g.VG)(this.rF,this),f)}};
g.c.rF=function(){this.cS&&(this.cS=null,this.Z9=!1,this.MC=!0,E2(10),Ij(this),eiF(this))};
g.c.Jg=function(f){this.C==f&&this.uC&&!this.MC&&(kJ(this),this.MC=!0,E2(11))};
g.c.yq=function(){this.Ed!=null&&(this.Ed=null,Ij(this),$M(this),E2(19))};
g.c.W1=function(f){f?E2(2):E2(1)};
g.c.isActive=function(){return!!this.W&&this.W.isActive(this)};
g.c=rVM.prototype;g.c.bl=function(){};
g.c.GT=function(){};
g.c.c8=function(){};
g.c.Eb=function(){};
g.c.isActive=function(){return!0};
g.c.uA=function(){};g.Uk(v_,g.pI);v_.prototype.open=function(){this.C.W=this.J;this.X&&(this.C.uY=!0);this.C.connect(this.U,this.G||void 0)};
v_.prototype.close=function(){this.C.disconnect()};
v_.prototype.send=function(f){var e=this.C;if(typeof f==="string"){var B={};B.__data__=f;f=B}else this.W&&(B={},B.__data__=g.Zy(f),f=B);e.J.push(new UpB(e.P4++,f));e.KW==3&&ny(e)};
v_.prototype.bY=function(){this.C.W=null;delete this.J;this.C.disconnect();delete this.C;v_.lj.bY.call(this)};
g.Uk(dxT,N$);g.Uk(twI,hm);g.Uk(wh,rVM);wh.prototype.bl=function(){this.C.dispatchEvent("m")};
wh.prototype.GT=function(f){this.C.dispatchEvent(new dxT(f))};
wh.prototype.c8=function(f){this.C.dispatchEvent(new twI(f))};
wh.prototype.Eb=function(){this.C.dispatchEvent("n")};
v_.prototype.V=function(){return new bZ(this,this.C)};
bZ.prototype.G=function(){return fy(this.C.G)};
bZ.prototype.J=function(){return nxT(this.C).map(f=>{var e=this.V;f=f.map;"__data__"in f?(f=f.__data__,e=e.W?XTe(f):f):e=f;return e})};
bZ.prototype.commit=function(f){this.C.tL=f};var Rg=new g.pI,HdH=class extends g.fI{constructor(){super("statevent",Rg)}};g.c=qA.prototype;g.c.rH=null;g.c.Bl=!1;g.c.KQ=null;g.c.v7=null;g.c.oD=null;g.c.I4=null;g.c.IU=null;g.c.zF=null;g.c.c$=null;g.c.bK=null;g.c.Tc=0;g.c.WG=null;g.c.AZ=null;g.c.nQ=null;g.c.TK=-1;g.c.Pi=!0;g.c.Ae=!1;g.c.Jw=0;g.c.xo=null;var wsu={},py={};g.c=qA.prototype;g.c.setTimeout=function(f){this.G=f};
g.c.Rz=function(f){f=f.target;const e=this.xo;e&&g.oq(f)==3?e.V():this.JD(f)};
g.c.JD=function(f){try{if(f==this.bK)a:{const e=g.oq(this.bK),B=this.bK.G,n=this.bK.getStatus();if(g.IA&&!g.pH("420+")){if(e<4)break a}else if(e<3||e==3&&!g.ur(this.bK))break a;this.Ae||e!=4||B==7||(B==8||n<=0?this.C.O_(3):this.C.O_(2));Zd2(this);const r=this.bK.getStatus();this.TK=r;const L=g.ur(this.bK);if(this.Bl=r==200){e==4&&YJ(this);if(this.eI){for(f=!0;!this.Ae&&this.Tc<L.length;){const d=vxH(this,L);if(d==py){e==4&&(this.nQ=4,Ky(),f=!1);break}else if(d==wsu){this.nQ=4;Ky();f=!1;break}else RiB(this,
d)}e==4&&L.length==0&&(this.nQ=1,Ky(),f=!1);this.Bl=this.Bl&&f;f||(YJ(this),c_(this))}else RiB(this,L);this.Bl&&!this.Ae&&(e==4?this.C.LM(this):(this.Bl=!1,ag(this)))}else this.nQ=r==400&&L.indexOf("Unknown SID")>0?3:0,Ky(),YJ(this),c_(this)}}catch(e){}finally{}};
g.c.cancel=function(){this.Ae=!0;YJ(this)};
g.c.ZM=function(){this.KQ=null;const f=Date.now();f-this.v7>=0?(this.I4!=2&&this.C.O_(3),YJ(this),this.nQ=2,Ky(),c_(this)):bdg(this,this.v7-f)};
g.c.getLastError=function(){return this.nQ};g.c=zix.prototype;g.c.W7=null;g.c.w8=null;g.c.Bh=!1;g.c.pM=null;g.c.Ya=null;g.c.NU=-1;g.c.oL=null;g.c.ZK=null;g.c.connect=function(f){this.pM=f;f=jd(this.C,null,this.pM);Ky();Date.now();const e=this.C.N;e!=null?(this.oL=e[0],(this.ZK=e[1])?(this.Ya=1,aDB(this)):(this.Ya=2,og(this))):(LW(f,"MODE","init"),this.w8=new qA(this),this.w8.rH=this.W7,z1(this.w8,f,!1,null,!0),this.Ya=0)};
g.c.N5=function(f){if(f)this.Ya=2,og(this);else{Ky();var e=this.C;e.RV=e.Im.NU;hv(e,9)}f&&this.O_(2)};
g.c.VT=function(f){return this.C.VT(f)};
g.c.abort=function(){this.w8&&(this.w8.cancel(),this.w8=null);this.NU=-1};
g.c.Y2=function(){return!1};
g.c.v8=function(f,e){this.NU=f.TK;if(this.Ya==0)if(e){try{var B=this.G.parse(e)}catch(n){f=this.C;f.RV=this.NU;hv(f,2);return}this.oL=B[0];this.ZK=B[1]}else f=this.C,f.RV=this.NU,hv(f,2);else this.Ya==2&&(this.Bh?(Ky(),Date.now()):e=="11111"?(Ky(),this.Bh=!0,Date.now(),this.NU=200,this.w8.cancel(),Ky(),OS(this.C,this,!0)):(Ky(),Date.now(),this.Bh=!1))};
g.c.LM=function(){this.NU=this.w8.TK;if(this.w8.Bl)this.Ya==0?this.ZK?(this.Ya=1,aDB(this)):(this.Ya=2,og(this)):this.Ya==2&&(this.Bh?(Ky(),OS(this.C,this,!0)):(Ky(),OS(this.C,this,!1)));else{this.Ya==0?Ky():this.Ya==2&&Ky();var f=this.C;this.w8.getLastError();f.RV=this.NU;hv(f,2)}};
g.c.C0=function(){return this.C.C0()};
g.c.isActive=function(){return this.C.isActive()};
g.c.O_=function(f){this.C.O_(f)};g.c=Vr.prototype;g.c.Xg=null;g.c.Ez=null;g.c.xz=null;g.c.mx=null;g.c.P7=null;g.c.Cw=null;g.c.VF=null;g.c.iD=null;g.c.rG=0;g.c.U9=0;g.c.FB=null;g.c.wz=null;g.c.x5=null;g.c.er=null;g.c.Im=null;g.c.MW=null;g.c.gq=-1;g.c.W8=-1;g.c.RV=-1;g.c.Dm=0;g.c.Fd=0;g.c.Gp=8;var NKH={OK:0,sA9:2,YY:4,JO:5,KS9:6,STOP:7,S1:8,Wa:9,JN:10,Vf:11,EP:12};g.Uk(cV2,g.fI);g.Uk(Y1B,g.fI);g.c=Vr.prototype;
g.c.connect=function(f,e,B,n,r){Ky();this.P7=e;this.Ez=B||{};n&&r!==void 0&&(this.Ez.OSID=n,this.Ez.OAID=r);this.K?(ZQ((0,g.VG)(this.iH,this,f),100),AVL(this)):this.iH(f)};
g.c.disconnect=function(){jn2(this);if(this.C==3){var f=this.rG++;const e=this.Cw.clone();g.WQ(e,"SID",this.V);g.WQ(e,"RID",f);g.WQ(e,"TYPE","terminate");US(this,e);f=new qA(this,this.V,f);f.I4=2;f.IU=ry(e.clone());(new Image).src=f.IU.toString();f.oD=Date.now();ag(f)}mxg(this)};
g.c.iH=function(f){this.Im=new zix(this);this.Im.W7=this.Xg;this.Im.G=this.W;this.Im.connect(f)};
g.c.Y2=function(){return this.C==0};
g.c.getState=function(){return this.C};
g.c.pK=function(f){this.wz=null;VwI(this,f)};
g.c.LK=function(){this.x5=null;this.mx=new qA(this,this.V,"rpc",this.X);this.mx.rH=this.Xg;this.mx.Jw=0;var f=this.VF.clone();g.WQ(f,"RID","rpc");g.WQ(f,"SID",this.V);g.WQ(f,"CI",this.MW?"0":"1");g.WQ(f,"AID",this.gq);US(this,f);g.WQ(f,"TYPE","xmlhttp");z1(this.mx,f,!0,this.iD,!1)};
g.c.v8=function(f,e){if(this.C!=0&&(this.mx==f||this.xz==f))if(this.RV=f.TK,this.xz==f&&this.C==3)if(this.Gp>7){try{var B=this.W.parse(e)}catch(n){B=null}if(Array.isArray(B)&&B.length==3)if(f=B,f[0]==0)a:{if(!this.x5){if(this.mx)if(this.mx.oD+3E3<this.xz.oD)uZ(this),this.mx.cancel(),this.mx=null;else break a;NA(this);Ky()}}else this.W8=f[1],0<this.W8-this.gq&&f[2]<37500&&this.MW&&this.Fd==0&&!this.er&&(this.er=ZQ((0,g.VG)(this.Y9,this),6E3));else hv(this,11)}else e!="y2f%"&&hv(this,11);else if(this.mx==
f&&uZ(this),!g.eU(e))for(f=this.W.parse(e),e=0;e<f.length;e++)B=f[e],this.gq=B[0],B=B[1],this.C==2?B[0]=="c"?(this.V=B[1],this.iD=B[2],B=B[3],B!=null?this.Gp=B:this.Gp=6,this.C=3,this.FB&&this.FB.QF(),this.VF=jd(this,this.C0()?this.iD:null,this.P7),lDH(this)):B[0]=="stop"&&hv(this,7):this.C==3&&(B[0]=="stop"?hv(this,7):B[0]!="noop"&&this.FB&&this.FB.P8(B),this.Fd=0)};
g.c.Y9=function(){this.er!=null&&(this.er=null,this.mx.cancel(),this.mx=null,NA(this),Ky())};
g.c.LM=function(f){if(this.mx==f){uZ(this);this.mx=null;var e=2}else if(this.xz==f)this.xz=null,e=1;else return;this.RV=f.TK;if(this.C!=0)if(f.Bl)if(e==1){e=f.c$?f.c$.length:0;f=Date.now()-f.oD;var B=Rg;B.dispatchEvent(new cV2(B,e,f,this.Dm));lZ(this);this.FB&&this.FB.d2(this,this.J);this.J.length=0}else lDH(this);else{B=f.getLastError();var n;if(!(n=B==3||B==7||B==0&&this.RV>0)){if(n=e==1)this.xz||this.wz||this.C==1||this.Dm>=2?n=!1:(this.wz=ZQ((0,g.VG)(this.pK,this,f),ugI(this,this.Dm)),this.Dm++,
n=!0);n=!(n||e==2&&NA(this))}if(n)switch(B){case 1:hv(this,5);break;case 4:hv(this,10);break;case 3:hv(this,6);break;case 7:hv(this,12);break;default:hv(this,2)}}};
g.c.HZ=function(f){if(!g.eB(arguments,this.C))throw Error("Unexpected channel state: "+this.C);};
g.c.VS=function(f){f?Ky():(Ky(),FXe(this,8))};
g.c.VT=function(f){if(f)throw Error("Can't create secondary domain capable XhrIo object.");f=new g.p$;f.X=!1;return f};
g.c.isActive=function(){return!!this.FB&&this.FB.isActive(this)};
g.c.O_=function(f){const e=Rg;e.dispatchEvent(new Y1B(e,f))};
g.c.C0=function(){return!1};
new obH;g.c=Uxg.prototype;g.c.QF=function(){};
g.c.P8=function(){};
g.c.d2=function(){};
g.c.il=function(){};
g.c.QT=function(){};
g.c.sb=function(){return{}};
g.c.isActive=function(){return!0};g.c=NgM.prototype;g.c.enqueue=function(f){this.G.push(f)};
g.c.isEmpty=function(){return this.C.length===0&&this.G.length===0};
g.c.clear=function(){this.C=[];this.G=[]};
g.c.contains=function(f){return g.eB(this.C,f)||g.eB(this.G,f)};
g.c.remove=function(f){{var e=this.C;const B=Array.prototype.lastIndexOf.call(e,f,e.length-1);B>=0?(g.LF(e,B),e=!0):e=!1}return e||g.d2(this.G,f)};
g.c.t0=function(){const f=[];for(var e=this.C.length-1;e>=0;--e)f.push(this.C[e]);e=this.G.length;for(let B=0;B<e;++B)f.push(this.G[B]);return f};var h0B=class extends g.fI{constructor(f){super("channelMessage");this.message=f}},gcF=class extends g.fI{constructor(f){super("channelError");this.error=f}};g.Uk(gh,g.$0);g.c=gh.prototype;g.c.h2=function(){this.retryCount++;this.D0=Math.min(3E5,this.D0*2);this.G();this.UO&&this.start()};
g.c.gL=function(){return this.retryCount};
g.c.start=function(){const f=this.D0+15E3*Math.random();this.C.M0(f);this.UO=Date.now()+f};
g.c.stop=function(){this.C.stop();this.UO=0};
g.c.isActive=function(){return this.C.isActive()};
g.c.reset=function(){this.C.stop();this.retryCount=0;this.D0=5E3};g.Uk(Sd,Uxg);g.c=Sd.prototype;g.c.subscribe=function(f,e,B){return this.X.subscribe(f,e,B)};
g.c.unsubscribe=function(f,e,B){return this.X.unsubscribe(f,e,B)};
g.c.nW=function(f){return this.X.nW(f)};
g.c.publish=function(f,e){return this.X.publish.apply(this.X,arguments)};
g.c.dispose=function(){this.N||(this.N=!0,g.PT(this.X),this.disconnect(),g.PT(this.G),this.G=null,this.PS=()=>"",this.Lq=()=>g.Np({}))};
g.c.HS=function(){return this.N};
g.c.connect=async function(f,e,B){try{this.K&&await this.W}finally{if(this.N||this.C&&this.C.getState()==2&&!this.J)return;this.eI="";this.J||this.G.stop();this.A=f||null;this.Ed=e||0;const n=this.uY+"/test",r=this.uY+"/bind";f=new Vr(B?B.firstTestResults:null,B?B.secondTestResults:null,this.tL);const L=this.C;L&&(L.FB=null);f.FB=this;this.C=f;if(this.K)return this.W=Qr(this).then(()=>MwG(this,n,r,L,B)),this.W.then(()=>{this.W=g.Np()});
MwG(this,n,r,L,B)}};
g.c.disconnect=function(f){try{this.K&&(this.W.cancel(),this.W=g.Np())}finally{this.cS=f||0,this.G&&this.G.stop(),ES(this),this.C&&(this.C.getState()==3&&VwI(this.C),this.C.disconnect()),this.cS=0}};
g.c.sendMessage=async function(f,e){try{this.K&&await this.W}finally{if(this.N)return;const B={_sc:f};e&&g.sM(B,e);if(this.G.isActive()||(this.C?this.C.getState():0)==2)this.V.push(B);else if(this.Az())try{this.K&&!xxg(this,f)&&await Qr(this)}finally{this.Az()&&(xxg(this,f),ES(this),F1(this.C,B))}}};
g.c.QF=function(){this.U&&this.G&&this.G.gL()>0&&(this.U.e_d(this.G.gL(),this.J,!0),this.U.JR9());this.U&&this.U.hP9();this.J?(this.G.stop(),g.PT(this.G),this.G=new gh(this.Sz,this),this.J=!1):this.G.reset();this.A=null;this.Ed=0;if(this.V.length)if(this.K)WXG(this);else{var f=this.V;this.V=[];var e=f.length;for(let B=0;B<e;++B)F1(this.C,f[B]);T1(this);T1(this)}else T1(this)};
g.c.il=function(f){var e=f==2&&this.C.RV==401;f==4||e||(this.J&&!this.G.isActive()&&(g.PT(this.G),this.G=new gh(this.Sz,this),this.J=!1),this.G.start());this.publish("handlerError",f,e);e=Object.keys(NKH).find(B=>NKH[B]===f);
this.BS.C("BROWSER_CHANNEL",e??"UNKNOWN")};
g.c.QT=function(f,e){if(!this.G.isActive())this.publish("handlerClosed");else if(e){const B=e.length;for(let n=0;n<B;++n){const r=e[n].map;r&&this.V.push(r)}}this.Z9.C("BROWSER_CHANNEL");f&&g.n$(this.Ch.G,"/client_streamz/youtube/living_room/mdx/browser_channel/pending_maps",f.length);e&&g.n$(this.G6.G,"/client_streamz/youtube/living_room/mdx/browser_channel/undelivered_maps",e.length)};
g.c.d2=function(f,e){e!=null&&f!=null&&this.kA.C()};
g.c.sb=function(){const f={v:2};this.eI&&(f.gsessionid=this.eI);this.Ed!=0&&(f.ui=""+this.Ed);this.cS!=0&&(f.ui=""+this.cS);this.A&&g.sM(f,this.A);return f};
g.c.P8=function(f){f[0]=="S"?this.eI=f[1]:f[0]=="gracefulReconnect"?(this.G.start(),this.C.disconnect()):this.publish("handlerMessage",new hi2(f[0],f[1]));this.Fl.C("BROWSER_CHANNEL")};
g.c.Az=function(){return!!this.C&&this.C.getState()==3};
g.c.vl=function(f){(this.Cq.loungeIdToken=f)||this.G.stop();if(this.IA&&this.C){const e=this.C.Xg||{};f?e["X-YouTube-LoungeId-Token"]=f:delete e["X-YouTube-LoungeId-Token"];this.C.Xg=e}};
g.c.getDeviceId=function(){return this.Cq.id};
g.c.u_=function(){return this.G.isActive()?this.G.UO-Date.now():NaN};
g.c.Sq=function(){var f=this.G;g.G6(f.C);f.start()};
g.c.Sz=function(){this.G.isActive();OdV(this.C)==0&&this.connect(this.A,this.Ed)};DQ.prototype.sendRequest=function(f,e,B,n,r,L,d){f={format:L?"RAW":"JSON",method:f,context:this,timeout:5E3,withCredentials:!!d,onSuccess:g.l0(this.V,n,!L),onError:g.l0(this.J,r),onTimeout:g.l0(this.W,r)};B&&(f.postParams=B,f.headers={"Content-Type":"application/x-www-form-urlencoded"});return g.QY(e,f)};
DQ.prototype.V=function(f,e,B,n){e?f(n):f({text:B.responseText})};
DQ.prototype.J=function(f,e){f(Error("Request error: "+e.status))};
DQ.prototype.W=function(f){f(Error("request timed out"))};var IDG=class extends g.pI{constructor(f,e){super();this.handler=f();this.handler.subscribe("handlerOpened",this.C,this);this.handler.subscribe("handlerClosed",this.onClosed,this);this.handler.subscribe("handlerError",(B,n)=>{this.onError(n)});
this.handler.subscribe("handlerMessage",this.onMessage,this);this.G=e}connect(f,e,B){this.handler.connect(f,e,B)}disconnect(f){this.handler.disconnect(f)}Sq(){this.handler.Sq()}getDeviceId(){return this.handler.getDeviceId()}u_(){return this.handler.u_()}Az(){return this.handler.Az()}C(){this.dispatchEvent("channelOpened");var f=this.handler,e=this.G;g.yT("yt-remote-session-browser-channel",{firstTestResults:[""],secondTestResults:!f.C.MW,sessionId:f.C.V,arrayId:f.C.gq});g.yT("yt-remote-session-screen-id",
e);f=aj();e=cv();g.eB(f,e)||f.push(e);kmg(f);YM()}onClosed(){this.dispatchEvent("channelClosed")}onMessage(f){this.dispatchEvent(new h0B(f))}onError(f){this.dispatchEvent(new gcF(f?1:0))}sendMessage(f,e){this.handler.sendMessage(f,e)}vl(f){this.handler.vl(f)}dispose(){this.handler.dispose()}};var PMg=class{constructor(f,e,B=()=>""){new LX2;
var n=new g.Y4;this.pathPrefix=f;this.C=e;this.Cq=B;this.W=n;this.K=null;this.N=this.X=0;this.channel=null;this.U=0;this.J=new gh(()=>{this.J.isActive();this.channel?.V().G()===0&&this.connect(this.K,this.X)});
this.V={};this.G={};this.Ed=!1;this.logger=null;this.A=[];this.QW=void 0;this.PS=new gxF;this.cS=new S1I;this.WS=new QnG;this.eI=new Tgu}connect(f={},e=0){this.U!==2&&(this.J.stop(),this.K=f,this.X=e,MA(this),(f=g.Q("ID_TOKEN"))?this.V["x-youtube-identity-token"]=f:delete this.V["x-youtube-identity-token"],this.C&&(this.G.device=this.C.device,this.G.name=this.C.name,this.G.app=this.C.app,this.G.id=this.C.id,this.C.n4&&(this.G.mdxVersion=`${this.C.n4}`),this.C.theme&&(this.G.theme=this.C.theme),this.C.capabilities&&
(this.G.capabilities=this.C.capabilities),this.C.vg&&(this.G.cst=this.C.vg),this.C.authuser&&(this.G.authuser=this.C.authuser),this.C.pageId&&(this.G.pageId=this.C.pageId)),this.X!==0?this.G.ui=`${this.X}`:delete this.G.ui,Object.assign(this.G,this.K),this.channel=new v_(this.pathPrefix,{aO:"gsessionid",g5:this.V,kO:this.G}),this.channel.open(),this.U=2,XsT(this))}disconnect(f=0){this.N=f;this.J.stop();MA(this);this.channel&&(this.N!==0?this.G.ui=`${this.N}`:delete this.G.ui,this.channel.close());
this.N=0}u_(){return this.J.isActive()?this.J.UO-Date.now():NaN}Sq(){var f=this.J;g.G6(f.C);f.start()}sendMessage(f,e){this.channel&&(MA(this),this.channel.send({_sc:f,...e}))}vl(f){f||this.J.stop();f?this.V["X-YouTube-LoungeId-Token"]=f:delete this.V["X-YouTube-LoungeId-Token"]}getDeviceId(){return this.C?this.C.id:""}publish(f,...e){return this.W.publish(f,...e)}subscribe(f,e,B){return this.W.subscribe(f,e,B)}unsubscribe(f,e,B){return this.W.unsubscribe(f,e,B)}nW(f){return this.W.nW(f)}dispose(){this.Ed||
(this.Ed=!0,g.PT(this.W),this.disconnect(),g.PT(this.J),this.Cq=()=>"")}HS(){return this.Ed}};var yVF=class extends g.pI{constructor(f){super();this.C=f();this.C.subscribe("webChannelOpened",this.G,this);this.C.subscribe("webChannelClosed",this.onClosed,this);this.C.subscribe("webChannelError",this.onError,this);this.C.subscribe("webChannelMessage",this.onMessage,this)}connect(f,e){this.C.connect(f,e)}disconnect(f){this.C.disconnect(f)}Sq(){this.C.Sq()}getDeviceId(){return this.C.getDeviceId()}u_(){return this.C.u_()}Az(){return this.C.U===3}G(){this.dispatchEvent("channelOpened")}onClosed(){this.dispatchEvent("channelClosed")}onMessage(f){this.dispatchEvent(new h0B(f))}onError(){this.dispatchEvent(new gcF(this.C.QW===
401?1:0))}sendMessage(f,e){this.C.sendMessage(f,e)}vl(f){this.C.vl(f)}dispose(){this.C.dispose()}};var LRe=Date.now(),G1=null,X1=Array(50),sS=-1,yr=!1;g.Uk(P_,g.$v);P_.prototype.Sh=function(){return this.screens};
P_.prototype.contains=function(f){return!!q$(this.screens,f)};
P_.prototype.get=function(f){return f?zM(this.screens,f):null};
P_.prototype.info=function(f){xJ(this.U,f)};var EcI=class extends g.$v{constructor(f,e,B,n,r){super();this.V=f;this.A=e;this.K=B;this.Ed=n;this.N=r;this.G=0;this.C=null;this.mu=NaN}start(){!this.C&&isNaN(this.mu)&&this.J()}stop(){this.C&&(this.C.abort(),this.C=null);isNaN(this.mu)||(g.us(this.mu),this.mu=NaN)}bY(){this.stop();super.bY()}J(){this.mu=NaN;this.C=g.QY(Jv(this.V,"/pairing/get_screen"),{method:"POST",postParams:{pairing_code:this.A},timeout:5E3,onSuccess:(0,g.VG)(this.U,this),onError:(0,g.VG)(this.W,this),onTimeout:(0,g.VG)(this.X,
this)})}U(f,e){this.C=null;f=e.screen||{};f.dialId=this.K;f.name=this.Ed;e=-1;this.N&&f.shortLivedLoungeToken&&f.shortLivedLoungeToken.value&&f.shortLivedLoungeToken.refreshIntervalMs&&(f.screenIdType="shortLived",f.loungeToken=f.shortLivedLoungeToken.value,e=f.shortLivedLoungeToken.refreshIntervalMs);this.publish("pairingComplete",new vv(f),e)}W(f){this.C=null;f.status&&f.status==404?this.G>=SYM.length?this.publish("pairingFailed",Error("DIAL polling timed out")):(f=SYM[this.G],this.mu=g.VY((0,g.VG)(this.J,
this),f),this.G++):this.publish("pairingFailed",Error("Server error "+f.status))}X(){this.C=null;this.publish("pairingFailed",Error("Server not responding"))}},SYM=[2E3,2E3,1E3,1E3,1E3,2E3,2E3,5E3,5E3,1E4];g.Uk($J,P_);g.c=$J.prototype;g.c.start=function(){Ig(this)&&this.publish("screenChange");!g.IB("yt-remote-lounge-token-expiration")&&kWV(this);g.us(this.C);this.C=g.VY((0,g.VG)(this.start,this),1E4)};
g.c.add=function(f,e){Ig(this);dDL(this,f);iZ(this,!1);this.publish("screenChange");e(f);f.token||kWV(this)};
g.c.remove=function(f,e){let B=Ig(this);HgB(this,f)&&(iZ(this,!1),B=!0);e(f);B&&this.publish("screenChange")};
g.c.fR=function(f,e,B,n){let r=Ig(this);const L=this.get(f.id);L?(L.name!=e&&(L.name=e,iZ(this,!1),r=!0),B(f)):n(Error("no such local screen."));r&&this.publish("screenChange")};
g.c.bY=function(){g.us(this.C);$J.lj.bY.call(this)};
g.c.nN=function(f){Ig(this);let e=this.screens.length;f=f&&f.screens||[];const B=f.length;for(let n=0;n<B;++n){const r=f[n],L=this.get(r.screenId);L&&(L.token=r.loungeToken,--e)}iZ(this,!e);e&&xJ(this.U,"Missed "+e+" lounge tokens.")};
g.c.M3=function(f){xJ(this.U,"Requesting lounge tokens failed: "+f)};var zZg=class extends g.$v{constructor(f,e){super();this.U=e;e=(e=g.IB("yt-remote-online-screen-ids")||"")?e.split(","):[];const B={},n=this.U(),r=n.length;for(let L=0;L<r;++L){const d=n[L].id;B[d]=g.eB(e,d)}this.C=B;this.W=f;this.J=this.V=NaN;this.G=null;fb("Initialized with "+g.Zy(this.C))}start(){const f=parseInt(g.IB("yt-remote-fast-check-period")||"0",10);(this.V=g.u0()-144E5<f?0:f)?eM(this):(this.V=g.u0()+3E5,g.yT("yt-remote-fast-check-period",this.V),this.X())}isEmpty(){return g.TL(this.C)}update(){fb("Updating availability on schedule.");
const f=this.U(),e=g.ox(this.C,function(B,n){return B&&!!zM(f,n)},this);
B8(this,e)}bY(){g.us(this.J);this.J=NaN;this.G&&(this.G.abort(),this.G=null);super.bY()}X(){g.us(this.J);this.J=NaN;this.G&&this.G.abort();const f=wie(this);if(dy(f)){var e=Jv(this.W,"/pairing/get_screen_availability"),B={lounge_token:g.NT(f).join(",")};this.G=this.W.sendRequest("POST",e,B,(0,g.VG)(this.N,this,f),(0,g.VG)(this.K,this))}else B8(this,{}),eM(this)}N(f,e){this.G=null;var B=g.NT(wie(this));if(g.Ye(B,g.NT(f))){e=e.screens||[];B={};var n=e.length;for(let r=0;r<n;++r)B[f[e[r].loungeToken]]=
e[r].status=="online";B8(this,B);eM(this)}else this.Cz("Changing Screen set during request."),this.X()}K(f){this.Cz("Screen availability failed: "+f);this.G=null;eM(this)}Cz(f){xJ("OnlineScreenService",f)}};g.Uk(rt,P_);g.c=rt.prototype;g.c.start=function(){this.G.start();this.C.start();this.screens.length&&(this.publish("screenChange"),this.C.isEmpty()||this.publish("onlineScreenChange"))};
g.c.add=function(f,e,B){this.G.add(f,e,B)};
g.c.remove=function(f,e,B){this.G.remove(f,e,B);this.C.update()};
g.c.fR=function(f,e,B,n){this.G.contains(f)?this.G.fR(f,e,B,n):(f="Updating name of unknown screen: "+f.name,xJ(this.U,f),n(Error(f)))};
g.c.Sh=function(f){return f?this.screens:g.HB(this.screens,g.GO(this.J,function(e){return!this.contains(e)},this))};
g.c.yF=function(){return g.GO(this.Sh(!0),function(f){return!!this.C.C[f.id]},this)};
g.c.ul=function(f,e,B,n,r,L){this.info("getDialScreenByPairingCode "+f+" / "+e);const d=new EcI(this.V,f,e,B,n);d.subscribe("pairingComplete",(t,H)=>{g.PT(d);r(Lb(this,t),H)});
d.subscribe("pairingFailed",t=>{g.PT(d);L(t)});
d.start();return(0,g.VG)(d.stop,d)};
g.c.XE=function(f,e,B,n){g.QY(Jv(this.V,"/pairing/get_screen"),{method:"POST",postParams:{pairing_code:f},timeout:5E3,onSuccess:(0,g.VG)(function(r,L){r=new vv(L.screen||{});if(!r.name||RZG(this,r.name)){a:{L=r.name;let d=2,t=e(L,d);for(;RZG(this,t);){d++;if(d>20)break a;t=e(L,d)}L=t}r.name=L}B(Lb(this,r))},this),
onError:(0,g.VG)(function(r){n(Error("pairing request failed: "+r.status))},this),
onTimeout:(0,g.VG)(function(){n(Error("pairing request timed out."))},this)})};
g.c.bY=function(){g.PT(this.G);g.PT(this.C);rt.lj.bY.call(this)};
g.c.gs=function(){qyg(this);this.publish("screenChange");this.C.update()};
rt.prototype.dispose=rt.prototype.dispose;g.Uk(tz,g.$v);g.c=tz.prototype;g.c.uK=function(f){this.HS()||(f&&(k8(this,""+f),this.publish("sessionFailed")),this.C=null,this.publish("sessionScreen",null))};
g.c.info=function(f){xJ(this.eI,f)};
g.c.ZA=function(){return null};
g.c.SL=function(f){const e=this.G;f?(e.displayStatus=new chrome.cast.ReceiverDisplayStatus(f,[]),e.displayStatus.showStop=!0):e.displayStatus=null;chrome.cast.setReceiverDisplayStatus(e,(0,g.VG)(function(){this.info("Updated receiver status for "+e.friendlyName+": "+f)},this),(0,g.VG)(function(){k8(this,"Failed to update receiver status for: "+e.friendlyName)},this))};
g.c.bY=function(){this.SL("");tz.lj.bY.call(this)};var jg=class extends tz{constructor(f,e,B){super(f,e,"CastSession");this.config_=B;this.J=null;this.A=(0,g.VG)(this.PS,this);this.Cq=(0,g.VG)(this.Lq,this);this.Ed=g.VY(()=>{YyT(this,null)},12E4);
this.K=this.W=this.X=this.N=0}cS(f){if(this.J){if(this.J==f)return;k8(this,"Overriding cast session with new session object");A4H(this);this.J.removeUpdateListener(this.A);this.J.removeMessageListener("urn:x-cast:com.google.youtube.mdx",this.Cq)}this.J=f;this.J.addUpdateListener(this.A);this.J.addMessageListener("urn:x-cast:com.google.youtube.mdx",this.Cq);jKV(this,"getMdxSessionStatus")}U(f){this.info("launchWithParams no-op for Cast: "+g.Zy(f))}stop(){this.J?this.J.stop((0,g.VG)(function(){this.uK()},
this),(0,g.VG)(function(){this.uK(Error("Failed to stop receiver app."))},this)):this.uK(Error("Stopping cast device without session."))}SL(){}bY(){this.info("disposeInternal");
A4H(this);this.J&&(this.J.removeUpdateListener(this.A),this.J.removeMessageListener("urn:x-cast:com.google.youtube.mdx",this.Cq));this.J=null;super.bY()}Lq(f,e){if(!this.HS())if(e)if(e=tm(e),g.jC(e))switch(f=""+e.type,e=e.data||{},this.info("onYoutubeMessage_: "+f+" "+g.Zy(e)),f){case "mdxSessionStatus":YyT(this,e);break;case "loungeToken":Oge(this,e);break;default:k8(this,"Unknown youtube message: "+f)}else k8(this,"Unable to parse message.");else k8(this,"No data in message.")}WS(f,e,B,n){g.us(this.N);
this.N=0;ZgI(this.V,this.G.label,f,this.G.friendlyName,(0,g.VG)(function(r){r?e(r):n>=0?(k8(this,"Screen "+f+" appears to be offline. "+n+" retries left."),this.N=g.VY((0,g.VG)(this.WS,this,f,e,B,n-1),300)):B(Error("Unable to fetch screen."))},this),B)}ZA(){return this.J}PS(f){this.HS()||f||(k8(this,"Cast session died."),this.uK())}};var Qvu=class extends tz{constructor(f,e,B,n){super(f,e,"DialSession");this.config_=n;this.J=this.N=null;this.Cq="";this.Lq=B;this.PS=null;this.A=()=>{};
this.Ed=NaN;this.WS=(0,g.VG)(this.uY,this);this.W=()=>{};
this.K=this.X=0}cS(f){this.J=f;this.J.addUpdateListener(this.WS)}U(f){this.PS=f;this.A()}stop(){FRT(this);this.J?this.J.stop((0,g.VG)(this.uK,this,null),(0,g.VG)(this.uK,this,"Failed to stop DIAL device.")):this.uK()}bY(){FRT(this);this.J&&this.J.removeUpdateListener(this.WS);this.J=null;super.bY()}uY(f){this.HS()||f||(k8(this,"DIAL session died."),this.W(),this.W=()=>{},this.uK())}};var TKM=class extends tz{constructor(f,e){super(f,e,"ManualSession");this.J=g.VY((0,g.VG)(this.U,this,null),150)}stop(){this.uK()}cS(){}U(){g.us(this.J);this.J=NaN;const f=zM(this.V.Sh(),this.G.label);f?H8(this,f):this.uK(Error("No such screen"))}bY(){g.us(this.J);this.J=NaN;super.bY()}};var lv=class extends g.$v{constructor(f,e){super();this.config_=e;this.G=f;this.cS=e.appId||"233637DE";this.V=e.theme||"cl";this.eI=e.disableCastApi||!1;this.X=e.forceMirroring||!1;this.C=null;this.K=!1;this.J=[];this.U=(0,g.VG)(this.PS,this)}init(f,e){chrome.cast.timeout.requestSession=3E4;var B=new chrome.cast.SessionRequest(this.cS,[chrome.cast.Capability.AUDIO_OUT]);g.UV("desktop_enable_cast_connect")&&(B.androidReceiverCompatible=!0);this.eI||(B.dialRequest=new chrome.cast.DialRequest("YouTube"));
const n=chrome.cast.AutoJoinPolicy.TAB_AND_ORIGIN_SCOPED;f=f||this.X?chrome.cast.DefaultActionPolicy.CAST_THIS_TAB:chrome.cast.DefaultActionPolicy.CREATE_SESSION;const r=(0,g.VG)(this.Lq,this);B=new chrome.cast.ApiConfig(B,(0,g.VG)(this.N,this),r,n,f);B.customDialLaunchCallback=(0,g.VG)(this.WS,this);chrome.cast.initialize(B,(0,g.VG)(function(){this.HS()||(chrome.cast.addReceiverActionListener(this.U),BVB(),this.G.subscribe("onlineScreenChange",(0,g.VG)(this.W,this)),this.J=Sy2(this),chrome.cast.setCustomReceivers(this.J,
()=>{},(0,g.VG)(function(L){this.Cz("Failed to set initial custom receivers: "+g.Zy(L))},this)),this.publish("yt-remote-cast2-availability-change",RL(this)),e(!0))},this),(0,g.VG)(function(L){this.Cz("Failed to initialize API: "+g.Zy(L));
e(!1)},this))}Z9(f,e){Kb("Setting connected screen ID: "+f+" -> "+e);
if(this.C){var B=this.C.C;if(!f||B&&B.id!=f)Kb("Unsetting old screen status: "+this.C.G.friendlyName),qR(this,null)}if(f&&e){if(!this.C){f=zM(this.G.Sh(),f);if(!f){Kb("setConnectedScreenStatus: Unknown screen.");return}if(f.idType=="shortLived"){Kb("setConnectedScreenStatus: Screen with id type to be short lived.");return}B=gPH(this,f);B||(Kb("setConnectedScreenStatus: Connected receiver not custom..."),B=new chrome.cast.Receiver(f.uuid?f.uuid:f.id,f.name),B.receiverType=chrome.cast.ReceiverType.CUSTOM,
this.J.push(B),chrome.cast.setCustomReceivers(this.J,()=>{},(0,g.VG)(function(n){this.Cz("Failed to set initial custom receivers: "+g.Zy(n))},this)));
Kb("setConnectedScreenStatus: new active receiver: "+B.friendlyName);qR(this,new TKM(this.G,B),!0)}this.C.SL(e)}else Kb("setConnectedScreenStatus: no screen.")}BS(f){this.HS()?this.Cz("Setting connection data on disposed cast v2"):this.C?this.C.U(f):this.Cz("Setting connection data without a session")}Cq(){this.HS()?this.Cz("Stopping session on disposed cast v2"):this.C?(this.C.stop(),qR(this,null)):Kb("Stopping non-existing session")}requestSession(){chrome.cast.requestSession((0,g.VG)(this.N,this),
(0,g.VG)(this.uY,this))}bY(){this.G.unsubscribe("onlineScreenChange",(0,g.VG)(this.W,this));window.chrome&&chrome.cast&&chrome.cast.removeReceiverActionListener(this.U);var f=idF;const e=g.zO("yt.mdx.remote.debug.handlers_");g.d2(e||[],f);g.PT(this.C);super.bY()}Cz(f){xJ("Controller",f)}Ed(f,e){this.C==f&&(e||qR(this,null),this.publish("yt-remote-cast2-session-change",e))}PS(f,e){if(!this.HS())if(f)switch(f.friendlyName=chrome.cast.unescape(f.friendlyName),Kb("onReceiverAction_ "+f.label+" / "+f.friendlyName+
"-- "+e),e){case chrome.cast.ReceiverAction.CAST:if(this.C)if(this.C.G.label!=f.label)Kb("onReceiverAction_: Stopping active receiver: "+this.C.G.friendlyName),this.C.stop();else{Kb("onReceiverAction_: Casting to active receiver.");this.C.C&&this.publish("yt-remote-cast2-session-change",this.C.C);break}switch(f.receiverType){case chrome.cast.ReceiverType.CUSTOM:qR(this,new TKM(this.G,f));break;case chrome.cast.ReceiverType.DIAL:qR(this,new Qvu(this.G,f,this.V,this.config_));break;case chrome.cast.ReceiverType.CAST:qR(this,
new jg(this.G,f,this.config_));break;default:this.Cz("Unknown receiver type: "+f.receiverType)}break;case chrome.cast.ReceiverAction.STOP:this.C&&this.C.G.label==f.label?this.C.stop():this.Cz("Stopping receiver w/o session: "+f.friendlyName)}else this.Cz("onReceiverAction_ called without receiver.")}WS(f){if(this.HS())return Promise.reject(Error("disposed"));var e=f.receiver;e.receiverType!=chrome.cast.ReceiverType.DIAL&&(this.Cz("Not DIAL receiver: "+e.friendlyName),e.receiverType=chrome.cast.ReceiverType.DIAL);
var B=this.C?this.C.G:null;if(!B||B.label!=e.label)return this.Cz("Receiving DIAL launch request for non-clicked DIAL receiver: "+e.friendlyName),Promise.reject(Error("illegal DIAL launch"));if(B&&B.label==e.label&&B.receiverType!=chrome.cast.ReceiverType.DIAL){if(this.C.C)return Kb("Reselecting dial screen."),this.publish("yt-remote-cast2-session-change",this.C.C),Promise.resolve(new chrome.cast.DialLaunchResponse(!1));this.Cz('Changing CAST intent from "'+B.receiverType+'" to "dial" for '+e.friendlyName);
qR(this,new Qvu(this.G,e,this.V,this.config_))}e=this.C;e.N=f;e.N.appState==chrome.cast.DialAppState.RUNNING?(f=e.N.extraData||{},B=f.screenId||null,bv(e)&&f.loungeToken?f.loungeTokenRefreshIntervalMs?f=hZ2(e,{name:e.G.friendlyName,screenId:f.screenId,loungeToken:f.loungeToken,dialId:e.N.receiver.label,screenIdType:"shortLived"},f.loungeTokenRefreshIntervalMs):(g.rZ(Error(`No loungeTokenRefreshIntervalMs presents in additionalData: ${JSON.stringify(f)}.`)),f=UDe(e,B)):f=UDe(e,B)):f=v8(e);return f}N(f){if(!this.HS()&&
!this.X){Kb("New cast session ID: "+f.sessionId);var e=f.receiver;if(e.receiverType!=chrome.cast.ReceiverType.CUSTOM){if(!this.C)if(e.receiverType==chrome.cast.ReceiverType.CAST)Kb("Got resumed cast session before resumed mdx connection."),e.friendlyName=chrome.cast.unescape(e.friendlyName),qR(this,new jg(this.G,e,this.config_),!0);else{this.Cz("Got non-cast session without previous mdx receiver event, or mdx resume.");return}var B=this.C.G,n=zM(this.G.Sh(),B.label);n&&bf(n,e.label)&&B.receiverType!=
chrome.cast.ReceiverType.CAST&&e.receiverType==chrome.cast.ReceiverType.CAST&&(Kb("onSessionEstablished_: manual to cast session change "+e.friendlyName),g.PT(this.C),this.C=new jg(this.G,e,this.config_),this.C.subscribe("sessionScreen",(0,g.VG)(this.Ed,this,this.C)),this.C.subscribe("sessionFailed",()=>EPx(this,this.C)),this.C.U(null));
this.C.cS(f)}}}A(){return this.C?this.C.ZA():null}uY(f){this.HS()||(this.Cz("Failed to estabilish a session: "+g.Zy(f)),f.code!=chrome.cast.ErrorCode.CANCEL&&qR(this,null),this.publish("yt-remote-cast2-session-failed"))}Lq(f){Kb("Receiver availability updated: "+f);if(!this.HS()){var e=RL(this);this.K=f==chrome.cast.ReceiverAvailability.AVAILABLE;RL(this)!=e&&this.publish("yt-remote-cast2-availability-change",RL(this))}}W(){this.HS()||(this.J=Sy2(this),Kb("Updating custom receivers: "+g.Zy(this.J)),
chrome.cast.setCustomReceivers(this.J,()=>{},(0,g.VG)(function(){this.Cz("Failed to set custom receivers.")},this)),this.publish("yt-remote-cast2-availability-change",RL(this)))}};
lv.prototype.setLaunchParams=lv.prototype.BS;lv.prototype.setConnectedScreenStatus=lv.prototype.Z9;lv.prototype.stopSession=lv.prototype.Cq;lv.prototype.getCastSession=lv.prototype.A;lv.prototype.requestSession=lv.prototype.requestSession;lv.prototype.init=lv.prototype.init;lv.prototype.dispose=lv.prototype.dispose;var Az=[],Msx=(0,g.hj)`https://www.gstatic.com/cv/js/sender/v1/cast_sender.js`;g.c=uv.prototype;
g.c.reset=function(f){this.listId="";this.index=-1;this.videoId="";F9(this);this.volume=-1;this.muted=!1;f&&(this.index=f.index,this.listId=f.listId,this.videoId=f.videoId,this.playerState=f.playerState,this.volume=f.volume,this.muted=f.muted,this.audioTrackId=f.audioTrackId,this.trackData=f.trackData,this.hasPrevious=f.hasPrevious,this.hasNext=f.hasNext,this.U=f.playerTime,this.W=f.playerTimeAt,this.G=f.seekableStart,this.X=f.seekableEnd,this.J=f.duration,this.loadedTime=f.loadedTime,this.C=f.liveIngestionTime,
this.V=!isNaN(this.C))};
g.c.isPlaying=function(){return this.playerState==1};
g.c.isBuffering=function(){return this.playerState==3};
g.c.P9=function(f){this.J=isNaN(f)?0:f};
g.c.getDuration=function(){return this.V?this.J+mQ(this):this.J};
g.c.clone=function(){return new uv(gt(this))};var DpL=class extends g.$v{constructor(){var f=te();super();this.J=0;this.V=f;this.X=[];this.W=new NgM;this.G=this.C=null;this.A=(0,g.VG)(this.PS,this);this.N=(0,g.VG)(this.U,this);this.Ed=(0,g.VG)(this.WS,this);this.eI=(0,g.VG)(this.Lq,this);let e=0;f?(e=f.getProxyState(),e!=3&&(f.subscribe("proxyStateChange",this.cS,this),I1u(this))):e=3;e!=0&&g.VY(()=>{this.cS(e)},0);
(f=Xiu())&&SM(this,f);this.subscribe("yt-remote-cast2-session-change",this.eI)}getState(){return this.J}u_(){return this.V.getReconnectTimeout()}Sq(){this.V.reconnect()}play(){QB(this)?(this.C?this.C.play(null,g.zt,Db(this,"play")):Tx(this,"play"),MR(this,1,NR(ET(this))),this.publish("remotePlayerChange")):Gx(this,this.play)}pause(){QB(this)?(this.C?this.C.pause(null,g.zt,Db(this,"pause")):Tx(this,"pause"),MR(this,2,NR(ET(this))),this.publish("remotePlayerChange")):Gx(this,this.pause)}seekTo(f){if(QB(this)){if(this.C){const e=
ET(this),B=new chrome.cast.media.SeekRequest;B.currentTime=f;e.isPlaying()||e.isBuffering()?B.resumeState=chrome.cast.media.ResumeState.PLAYBACK_START:B.resumeState=chrome.cast.media.ResumeState.PLAYBACK_PAUSE;this.C.seek(B,g.zt,Db(this,"seekTo",{newTime:f}))}else Tx(this,"seekTo",{newTime:f});MR(this,3,f);this.publish("remotePlayerChange")}else Gx(this,g.l0(this.seekTo,f))}stop(){if(QB(this)){this.C?this.C.stop(null,g.zt,Db(this,"stopVideo")):Tx(this,"stopVideo");var f=ET(this);f.index=-1;f.videoId=
"";F9(f);Jz(this,f);this.publish("remotePlayerChange")}else Gx(this,this.stop)}setVolume(f,e){if(QB(this)){var B=ET(this);if(this.G){if(B.volume!=f){const n=Math.round(f)/100;this.G.setReceiverVolumeLevel(n,(0,g.VG)(function(){W_("set receiver volume: "+n)},this),(0,g.VG)(function(){this.Cz("failed to set receiver volume.")},this))}B.muted!=e&&this.G.setReceiverMuted(e,(0,g.VG)(function(){W_("set receiver muted: "+e)},this),(0,g.VG)(function(){this.Cz("failed to set receiver muted.")},this))}else{const n=
{volume:f,
muted:e};B.volume!=-1&&(n.delta=f-B.volume);Tx(this,"setVolume",n)}B.muted=e;B.volume=f;Jz(this,B)}else Gx(this,g.l0(this.setVolume,f,e))}K(f,e){if(QB(this)){var B=ET(this);f={videoId:f};e&&(B.trackData={trackName:e.name,languageCode:e.languageCode,sourceLanguageCode:e.translationLanguage?e.translationLanguage.languageCode:"",languageName:e.languageName,kind:e.kind},f.style=g.Zy(e.style),g.sM(f,B.trackData));Tx(this,"setSubtitlesTrack",f);Jz(this,B)}else Gx(this,g.l0(this.K,f,e))}setAudioTrack(f,
e){QB(this)?(e=e.getLanguageInfo().getId(),Tx(this,"setAudioTrack",{videoId:f,audioTrackId:e}),f=ET(this),f.audioTrackId=e,Jz(this,f)):Gx(this,g.l0(this.setAudioTrack,f,e))}playVideo(f,e,B,n=null,r=null,L=null,d=null){const t=ET(this),H={videoId:f};B!==void 0&&(H.currentIndex=B);hz(t,f,B||0);e!==void 0&&(UT(t,e),H.currentTime=e);n&&(H.listId=n);r&&(H.playerParams=r);L&&(H.clickTrackingParams=L);d&&(H.locationInfo=g.Zy(d));Tx(this,"setPlaylist",H);n||Jz(this,t)}Ph(f,e){if(QB(this)){if(f&&e){const B=
ET(this);hz(B,f,e);Jz(this,B)}Tx(this,"previous")}else Gx(this,g.l0(this.Ph,f,e))}nextVideo(f,e){if(QB(this)){if(f&&e){const B=ET(this);hz(B,f,e);Jz(this,B)}Tx(this,"next")}else Gx(this,g.l0(this.nextVideo,f,e))}Cm(){if(QB(this)){Tx(this,"clearPlaylist");var f=ET(this);f.reset();Jz(this,f);this.publish("remotePlayerChange")}else Gx(this,this.Cm)}Cq(){QB(this)?Tx(this,"dismissAutoplay"):Gx(this,this.Cq)}dispose(){if(this.J!=3){const f=this.J;this.J=3;this.publish("proxyStateChange",f,this.J)}super.dispose()}bY(){$DV(this);
this.V=null;this.W.clear();SM(this,null);super.bY()}cS(f){if((f!=this.J||f==2)&&this.J!=3&&f!=0){var e=this.J;this.J=f;this.publish("proxyStateChange",e,f);if(f==1)for(;!this.W.isEmpty();)e=f=this.W,e.C.length===0&&(e.C=e.G,e.C.reverse(),e.G=[]),f.C.pop().apply(this);else f==3&&this.dispose()}}uY(f,e){this.publish(f,e)}PS(f){if(!f)this.U(null),SM(this,null);else if(this.G.receiver.volume){f=this.G.receiver.volume;const e=ET(this),B=Math.round(100*f.level||0);if(e.volume!=B||e.muted!=f.muted)W_("Cast volume update: "+
f.level+(f.muted?" muted":"")),e.volume=B,e.muted=!!f.muted,Jz(this,e)}}U(f){W_("Cast media: "+!!f);this.C&&this.C.removeUpdateListener(this.Ed);if(this.C=f)this.C.addUpdateListener(this.Ed),igF(this),this.publish("remotePlayerChange")}WS(f){f?(igF(this),this.publish("remotePlayerChange")):this.U(null)}HO(){Tx(this,"sendDebugCommand",{debugCommand:"stats4nerds "})}Lq(){const f=Xiu();f&&SM(this,f)}Cz(f){xJ("CP",f)}};var Kk=class extends g.$v{constructor(f,e=!1){var B=IL,n=Lk();super();this.U=NaN;this.WS=!1;this.A=this.Ed=this.cS=this.eI=NaN;this.Cq=[];this.W=this.K=this.V=this.C=this.G=null;this.Fl=B;this.uY=e;this.Cq.push(g.Ds(window,"beforeunload",()=>{this.X(2)}));
this.J=[];this.C=new uv;this.kA=f.id;this.Lq=f.idType;this.G=$xG(this.Fl,n,this.PS,this.Lq=="shortLived",this.kA);this.G.listen("channelOpened",()=>{f6G(this)});
this.G.listen("channelClosed",()=>{x8("Channel closed");isNaN(this.U)?Am(!0):Am();this.dispose()});
this.G.listen("channelError",r=>{Am();isNaN(this.N())?(r==1&&this.Lq=="shortLived"&&this.publish("browserChannelAuthError",r),x8(`Channel error: ${r} without reconnection`),this.dispose()):(this.WS=!0,x8("Channel error: "+r+" with reconnection in "+this.N()+" ms"),sT(this,2))});
this.G.listen("channelMessage",r=>{vce(this,r)});
this.G.vl(f.token);this.subscribe("remoteQueueChange",()=>{var r=this.C.videoId;g.iz()&&g.yT("yt-remote-session-video-id",r)})}connect(f,e){if(e){var B=e.listId;
const n=e.videoId,r=e.videoIds,L=e.playerParams,d=e.clickTrackingParams,t=e.index,H={videoId:n},k=e.currentTime,C=e.locationInfo;e=e.loopMode;k!==void 0&&(H.currentTime=k<=5?0:k);L&&(H.playerParams=L);C&&(H.locationInfo=C);d&&(H.clickTrackingParams=d);B&&(H.listId=B);r&&r.length>0&&(H.videoIds=r.join(","));t!==void 0&&(H.currentIndex=t);this.uY&&(H.loopMode=e||"LOOP_MODE_OFF");B&&(this.C.listId=B);this.C.videoId=n;this.C.index=t||0;this.C.state=3;UT(this.C,k);this.W="UNSUPPORTED";B=this.uY?"setInitialState":
"setPlaylist";x8(`Connecting with ${B} and params: ${g.Zy(H)}`);this.G.connect({method:B,params:g.Zy(H)},f,CCI())}else x8("Connecting without params"),this.G.connect({},f,CCI());bIB(this)}vl(f){this.G.vl(f)}dispose(){this.HS()||(g.qH("yt.mdx.remote.remoteClient_",null),this.publish("beforeDispose"),sT(this,3));super.dispose()}bY(){X9(this);yB(this);W8(this);g.us(this.Ed);this.Ed=NaN;g.us(this.A);this.A=NaN;this.V=null;g.Jl(this.Cq);this.Cq.length=0;this.G.dispose();super.bY();this.W=this.K=this.J=
this.C=this.G=null}BS(f){if(!this.J||this.J.length===0)return!1;for(const e of this.J)if(!e.capabilities.has(f))return!1;return!0}IA(){let f=3;this.HS()||(f=0,isNaN(this.N())?this.G.Az()&&isNaN(this.U)&&(f=1):f=2);return f}X(f){x8("Disconnecting with "+f);g.qH("yt.mdx.remote.remoteClient_",null);X9(this);this.publish("beforeDisconnect",f);f==1&&Am();this.G.disconnect(f);this.dispose()}xA(){let f=this.C;this.V&&(f=this.C.clone(),hz(f,this.V,f.index));return gt(f)}G6(f){const e=new uv(f);e.videoId&&
e.videoId!=this.C.videoId&&(this.V=e.videoId,g.us(this.Ed),this.Ed=g.VY(()=>{if(this.V){const n=this.V;this.V=null;this.C.videoId!=n&&P8(this,"getNowPlaying")}},5E3));
const B=[];this.C.listId==e.listId&&this.C.videoId==e.videoId&&this.C.index==e.index||B.push("remoteQueueChange");this.C.playerState==e.playerState&&this.C.volume==e.volume&&this.C.muted==e.muted&&NR(this.C)==NR(e)&&g.Zy(this.C.trackData)==g.Zy(e.trackData)||B.push("remotePlayerChange");this.C.reset(f);g.MH(B,function(n){this.publish(n)},this)}Z9(){const f=this.G.getDeviceId(),e=g.$g(this.J,function(B){return B.type=="REMOTE_CONTROL"&&B.id!=f});
return e?e.id:""}N(){return this.G.u_()}qC(){return this.W||"UNSUPPORTED"}tL(){return this.K||""}MC(){!isNaN(this.N())&&this.G.Sq()}Ch(f,e){P8(this,f,e);KUx(this)}PS(){var f=g.fs("SAPISID","")||g.fs("__Secure-1PAPISID")||"",e=g.fs("__Secure-3PAPISID","")||"";if(!f&&!e)return"";f=g.ON(g.Y_(f),2);e=g.ON(g.Y_(e),2);return g.ON(g.Y_(`,${f},${e}`),2)}};Kk.prototype.subscribe=Kk.prototype.subscribe;Kk.prototype.unsubscribeByKey=Kk.prototype.nW;Kk.prototype.getProxyState=Kk.prototype.IA;
Kk.prototype.disconnect=Kk.prototype.X;Kk.prototype.getPlayerContextData=Kk.prototype.xA;Kk.prototype.setPlayerContextData=Kk.prototype.G6;Kk.prototype.getOtherConnectedRemoteId=Kk.prototype.Z9;Kk.prototype.getReconnectTimeout=Kk.prototype.N;Kk.prototype.getAutoplayMode=Kk.prototype.qC;Kk.prototype.getAutoplayVideoId=Kk.prototype.tL;Kk.prototype.reconnect=Kk.prototype.MC;Kk.prototype.sendMessage=Kk.prototype.Ch;Kk.prototype.getXsrfToken=Kk.prototype.PS;
Kk.prototype.isCapabilitySupportedOnConnectedDevices=Kk.prototype.BS;var AoF=class extends P_{constructor(f){super("ScreenServiceProxy");this.AR=f;this.C=[];this.C.push(this.AR.$_s("screenChange",(0,g.VG)(this.G,this)));this.C.push(this.AR.$_s("onlineScreenChange",(0,g.VG)(this.J,this)))}Sh(f){return this.AR.$_gs(f)}contains(f){return!!this.AR.$_c(f)}get(f){return this.AR.$_g(f)}start(){this.AR.$_st()}add(f,e,B){this.AR.$_a(f,e,B)}remove(f,e,B){this.AR.$_r(f,e,B)}fR(f,e,B,n){this.AR.$_un(f,e,B,n)}bY(){const f=this.C.length;for(let e=0;e<f;++e)this.AR.$_ubk(this.C[e]);
this.C.length=0;this.AR=null;super.bY()}G(){this.publish("screenChange")}J(){this.publish("onlineScreenChange")}};rt.prototype.$_st=rt.prototype.start;rt.prototype.$_gspc=rt.prototype.XE;rt.prototype.$_gsppc=rt.prototype.ul;rt.prototype.$_c=rt.prototype.contains;rt.prototype.$_g=rt.prototype.get;rt.prototype.$_a=rt.prototype.add;rt.prototype.$_un=rt.prototype.fR;rt.prototype.$_r=rt.prototype.remove;rt.prototype.$_gs=rt.prototype.Sh;rt.prototype.$_gos=rt.prototype.yF;rt.prototype.$_s=rt.prototype.subscribe;
rt.prototype.$_ubk=rt.prototype.nW;var ka=null,Rz=!1,IL=null,$8=null,ZF=null,BI=[];var JoV=class extends g.$0{constructor(f,e,B){super();this.C=f;this.Z=e;this.Nk=B;this.events=new g.ep(this);this.U=!1;this.K=new g.ks(64);this.G=new g.T6(this.PS,500,this);this.J=new g.T6(this.Lq,1E3,this);this.Ed=new FR(this.kA,0,this);this.V={};this.A=new g.T6(this.Z9,1E3,this);this.N=new g.f1(this.seekTo,1E3,this);this.BS=this.events.D(this.Z,"onVolumeChange",n=>{ocB(this,n)});
g.A(this,this.events);this.events.D(e,"onCaptionsTrackListChanged",this.MC);this.events.D(e,"captionschanged",this.Fl);this.events.D(e,"captionssettingschanged",this.uY);this.events.D(e,"videoplayerreset",this.X);this.events.D(e,"mdxautoplaycancel",()=>{this.Nk.Cq()});
e.Y("enable_mdx_video_play_directly")&&this.events.D(e,"videodatachange",()=>{uAF(this.C)||qe(this)||az(this,0)});
f=this.Nk;f.HS();f.subscribe("proxyStateChange",this.WS,this);f.subscribe("remotePlayerChange",this.W,this);f.subscribe("remoteQueueChange",this.X,this);f.subscribe("previousNextChange",this.eI,this);f.subscribe("nowAutoplaying",this.cS,this);f.subscribe("autoplayDismissed",this.Cq,this);g.A(this,this.G);g.A(this,this.J);g.A(this,this.Ed);g.A(this,this.A);g.A(this,this.N);this.uY();this.X();this.W()}bY(){super.bY();this.G.stop();this.J.stop();this.Ed.stop();const f=this.Nk;f.unsubscribe("proxyStateChange",
this.WS,this);f.unsubscribe("remotePlayerChange",this.W,this);f.unsubscribe("remoteQueueChange",this.X,this);f.unsubscribe("previousNextChange",this.eI,this);f.unsubscribe("nowAutoplaying",this.cS,this);f.unsubscribe("autoplayDismissed",this.Cq,this);this.Nk=this.C=null}xa(f,...e){if(this.Nk.J!=2)if(qe(this)){if(ET(this.Nk).playerState!=1081||f!=="control_seek")switch(f){case "control_toggle_play_pause":ET(this.Nk).isPlaying()?this.Nk.pause():this.Nk.play();break;case "control_play":this.Nk.play();
break;case "control_pause":this.Nk.pause();break;case "control_seek":this.N.V(e[0],e[1]);break;case "control_subtitles_set_track":pk(this,e[0]);break;case "control_set_audio_track":this.setAudioTrack(e[0])}}else switch(f){case "control_toggle_play_pause":case "control_play":case "control_pause":f=this.Z.getCurrentTime();az(this,f===0?void 0:f);break;case "control_seek":az(this,e[0]);break;case "control_subtitles_set_track":pk(this,e[0]);break;case "control_set_audio_track":this.setAudioTrack(e[0])}}Fl(f){this.Ed.PZ(f)}kA(f){this.xa("control_subtitles_set_track",
g.TL(f)?null:f)}uY(){const f=this.Z.getOption("captions","track");g.TL(f)||pk(this,f)}ZW(f){this.C.ZW(f,this.Z.getVideoData().lengthSeconds)}MC(){g.TL(this.V)||VkM(this,this.V);this.U=!1}WS(f,e){this.J.stop();e===2&&this.Lq()}W(){if(qe(this)){this.G.stop();var f=ET(this.Nk);switch(f.playerState){case 1080:case 1081:case 1084:case 1085:this.C.qM=1;break;case 1082:case 1083:this.C.qM=0;break;default:this.C.qM=-1}switch(f.playerState){case 1081:case 1:this.oC(new g.ks(8));this.PS();break;case 1085:case 3:this.oC(new g.ks(9));
break;case 1083:case 0:this.oC(new g.ks(2));this.N.stop();this.ZW(this.Z.getVideoData().lengthSeconds);break;case 1084:this.oC(new g.ks(4));break;case 2:this.oC(new g.ks(4));this.ZW(NR(f));break;case -1:this.oC(new g.ks(64));break;case -1E3:this.oC(new g.ks(128,{errorCode:"mdx.remoteerror",errorMessage:"This video is not available for remote playback.",Fa:2}))}const B=ET(this.Nk).trackData;f=B;var e=this.V;(f||e?f&&e&&f.trackName==e.trackName&&f.languageCode==e.languageCode&&f.languageName==e.languageName&&
f.kind==e.kind:1)||(this.V=B,VkM(this,B));f=ET(this.Nk);f.volume===-1||Math.round(this.Z.getVolume())===f.volume&&this.Z.isMuted()===f.muted||this.A.isActive()||this.Z9()}else l6x(this)}eI(){this.Z.publish("mdxpreviousnextchange")}X(){qe(this)||l6x(this)}cS(f){isNaN(f)||this.Z.publish("mdxnowautoplaying",f)}Cq(){this.Z.publish("mdxautoplaycanceled")}setAudioTrack(f){qe(this)&&this.Nk.setAudioTrack(zb(this).videoId,f)}seekTo(f,e){ET(this.Nk).playerState===-1?az(this,f):e&&this.Nk.seekTo(f)}Z9(){if(qe(this)){var f=
ET(this.Nk);this.events.uh(this.BS);f.muted?this.Z.mute():this.Z.unMute();this.Z.setVolume(f.volume);this.BS=this.events.D(this.Z,"onVolumeChange",e=>{ocB(this,e)})}}PS(){this.G.stop();
if(!this.Nk.HS()){var f=ET(this.Nk);f.isPlaying()&&this.oC(new g.ks(8));this.ZW(NR(f));this.G.start()}}Lq(){this.J.stop();this.G.stop();const f=this.Nk.u_();this.Nk.J==2&&!isNaN(f)&&this.J.start()}oC(f){this.J.stop();const e=this.K;if(!g.Rw(e,f)){const B=f.C(2);B!==this.K.C(2)&&this.Z.WP(B);this.K=f;FUg(this.C,e,f)}}};var MkI=class extends g.ua{constructor(f,e){super(f);this.C=e}getCurrentTime(){return this.C.getCurrentTime()}getDuration(){return this.C.getDuration()}Lc(){return this.C.Lc()}l$(){return this.C.l$()}zJ(){return this.C.zJ()}Pz(){return this.C.Pz()}getPlayerState(){return this.C.mA}isAtLiveHead(){return this.C.isAtLiveHead()}pauseVideo(){cI(this.C,"control_pause")}async playVideo(){cI(this.C,"control_play")}seekTo(f,e){cI(this.C,"control_seek",f,!e?.Lv)}uw(f){cI(this.C,"control_set_audio_track",f);
return!0}};var G_2=class extends g.y{constructor(){super({L:"div",B:"ytp-mdx-popup-dialog",O:{role:"dialog"},j:[{L:"div",B:"ytp-mdx-popup-dialog-inner-content",j:[{L:"div",B:"ytp-mdx-popup-title",Ga:"You're signed out"},{L:"div",B:"ytp-mdx-popup-description",Ga:"Videos you watch may be added to the TV's watch history and influence TV recommendations. To avoid this, cancel and sign in to YouTube on your computer."},{L:"div",B:"ytp-mdx-privacy-popup-buttons",j:[{L:"button",y9:["ytp-button","ytp-mdx-privacy-popup-cancel"],
Ga:"Cancel"},{L:"button",y9:["ytp-button","ytp-mdx-privacy-popup-confirm"],Ga:"Confirm"}]}]}]});this.fade=new g.Ob(this,250);this.cancelButton=this.JL("ytp-mdx-privacy-popup-cancel");this.confirmButton=this.JL("ytp-mdx-privacy-popup-confirm");g.A(this,this.fade);this.D(this.cancelButton,"click",this.C);this.D(this.confirmButton,"click",this.G)}Fx(){this.fade.show()}HL(){this.fade.hide()}C(){O2("mdx-privacy-popup-cancel");this.HL()}G(){O2("mdx-privacy-popup-confirm");this.HL()}};var xpM=class extends g.y{constructor(f){super({L:"div",B:"ytp-remote",j:[{L:"div",B:"ytp-remote-display-status",j:[{L:"div",B:"ytp-remote-display-status-icon",j:[g.m_Y()]},{L:"div",B:"ytp-remote-display-status-text",Ga:"{{statustext}}"}]}]});this.api=f;this.fade=new g.Ob(this,250);g.A(this,this.fade);this.D(f,"presentingplayerstatechange",this.onStateChange);this.Hd(f.getPlayerStateObject())}onStateChange(f){this.Hd(f.state)}Hd(f){if(this.api.getPresentingPlayerType()===3){const e={RECEIVER_NAME:this.api.getOption("remote",
"currentReceiver").name};f=f.C(128)?g.RT("Error on $RECEIVER_NAME",e):f.isPlaying()||f.isPaused()?g.RT("Playing on $RECEIVER_NAME",e):g.RT("Connected to $RECEIVER_NAME",e);this.updateValue("statustext",f);this.fade.show()}else this.fade.hide()}};var WUB=class extends g.R3{constructor(f,e){super("Play on",1,f,e);this.Z=f;this.p6={};this.D(f,"onMdxReceiversChange",this.U);this.D(f,"presentingplayerstatechange",this.U);this.U()}U(){var f=this.Z.getOption("remote","receivers");f&&f.length>1&&!this.Z.getOption("remote","quickCast")?(this.p6=g.jB(f,this.W,this),this.V(g.xg(f,this.W)),f=this.Z.getOption("remote","currentReceiver"),f=this.W(f),this.options[f]&&this.G(f),this.enable(!0)):this.enable(!1)}W(f){return f.key}J(f){return f==="cast-selector-receiver"?
"Cast...":this.p6[f].name}C(f){super.C(f);this.Z.setOption("remote","currentReceiver",this.p6[f]);this.rA.HL()}};g.cO("remote",class extends g.zV{constructor(f){super(f);this.cF={key:KW(),name:"This computer"};this.dU=null;this.subscriptions=[];this.Ag=this.Nk=null;this.p6=[this.cF];this.TM=this.cF;this.mA=new g.ks(64);this.L7=0;this.qM=-1;this.Ey=!1;this.SX=this.ot=this.zS=null;if(!g.DH(this.player.S())&&!g.TT(this.player.S())){f=this.player;var e=g.n_(f);e&&(e=e.iT())&&(e=new WUB(f,e),g.A(this,e));e=new xpM(f);g.A(this,e);g.qX(f,e.element,4);this.zS=new G_2;g.A(this,this.zS);g.qX(f,this.zS.element,4);this.Ey=
!!rB()}}create(){var f=this.player.S();const e=g.Ms(f);f={device:"Desktop",app:"youtube-desktop",loadCastApiSetupScript:f.Y("mdx_load_cast_api_bootstrap_script"),enableDialLoungeToken:f.Y("enable_dial_short_lived_lounge_token"),enableCastLoungeToken:f.Y("enable_cast_short_lived_lounge_token")};p7e(e,f);this.subscriptions.push(g.IF("yt-remote-before-disconnect",this.E0,this));this.subscriptions.push(g.IF("yt-remote-connection-change",this.Pq,this));this.subscriptions.push(g.IF("yt-remote-receiver-availability-change",
this.QM,this));this.subscriptions.push(g.IF("yt-remote-auto-connect",this.pf,this));this.subscriptions.push(g.IF("yt-remote-receiver-resumed",this.Lf,this));this.subscriptions.push(g.IF("mdx-privacy-popup-confirm",this.Jk,this));this.subscriptions.push(g.IF("mdx-privacy-popup-cancel",this.eW,this));this.QM()}load(){this.player.cancelPlayback();super.load();this.SX=new MkI(this.player.S(),this);this.player.DB(this.SX);this.dU=new JoV(this,this.player,this.Nk);var f=(f=OIg())?f.currentTime:0;const e=
b7()?new DpL:null;f==0&&e&&(f=NR(ET(e)));f!==0&&this.ZW(f);FUg(this,this.mA,this.mA);this.player.Um(6)}unload(){this.player.publish("mdxautoplaycanceled");this.player.sy();this.TM=this.cF;g.II(this.dU,this.Nk);this.Nk=this.SX=this.dU=null;super.unload();this.player.Um(5);Ya(this)}bY(){g.$n(this.subscriptions);super.bY()}getAdState(){return this.qM}hasPrevious(){return this.Nk?ET(this.Nk).hasPrevious:!1}hasNext(){return this.Nk?ET(this.Nk).hasNext:!1}ZW(f,e){this.L7=f||0;this.player.publish("progresssync",
f,e);g.id(this.player,"onVideoProgress",f||0)}getCurrentTime(){return this.L7}getDuration(){return ET(this.Nk).getDuration()||0}Lc(){var f=ET(this.Nk);return f.V?f.C+mQ(f):f.C}l$(){return ET(this.Nk).loadedTime}zJ(){return PiV(ET(this.Nk))}Pz(){var f=ET(this.Nk);return f.G>0?f.G+mQ(f):f.G}getProgressState(){const f=ET(this.Nk),e=this.player.getVideoData();return{airingStart:0,airingEnd:0,allowSeeking:f.playerState!=1081&&this.player.Xq(),clipEnd:e.clipEnd,clipStart:e.clipStart,current:this.getCurrentTime(),
displayedStart:-1,duration:this.getDuration(),ingestionTime:this.Lc(),isAtLiveHead:this.isAtLiveHead(),loaded:this.l$(),seekableEnd:this.zJ(),seekableStart:this.Pz(),offset:0,viewerLivestreamJoinMediaTime:0}}isAtLiveHead(){return PiV(ET(this.Nk))-this.getCurrentTime()<=1}nextVideo(){this.Nk&&this.Nk.nextVideo()}Ph(){this.Nk&&this.Nk.Ph()}E0(f){f===1&&(this.Ag=this.Nk?ET(this.Nk):null)}Pq(){var f=b7()?new DpL:null;if(f){const e=this.TM;this.loaded&&this.unload();this.Nk=f;this.Ag=null;e.key!==this.cF.key&&
(this.TM=e,this.load())}else g.PT(this.Nk),this.Nk=null,this.loaded&&(this.unload(),(f=this.Ag)&&f.videoId===this.player.getVideoData().videoId&&this.player.cueVideoById(f.videoId,NR(f)));this.player.publish("videodatachange","newdata",this.player.getVideoData(),3)}QM(){var f=[this.cF],e=f.concat;const B=coB();jM()&&g.IB("yt-remote-cast-available")&&B.push({key:"cast-selector-receiver",name:"Cast..."});this.p6=e.call(f,B);f=HI()||this.cF;Ae(this,f);g.id(this.player,"onMdxReceiversChange")}pf(){const f=
HI();Ae(this,f)}Lf(){this.TM=HI()}Jk(){this.Ey=!0;Ya(this);Rz=!1;ka&&wB(ka,1);ka=null}eW(){this.Ey=!1;Ya(this);Ae(this,this.cF);this.TM=this.cF;Rz=!1;ka=null;this.player.playVideo()}gZ(f,e){switch(f){case "casting":return this.loaded;case "receivers":return this.p6;case "currentReceiver":return e&&(e.key==="cast-selector-receiver"?oL():Ae(this,e)),this.loaded?this.TM:this.cF;case "quickCast":return this.p6.length===2&&this.p6[1].key==="cast-selector-receiver"?(e&&oL(),!0):!1}}HO(){this.Nk.HO()}Ls(){return!1}getOptions(){return["casting",
"receivers","currentReceiver","quickCast"]}isLoggedIn(){return g.Q("PLAYER_CONFIG")?.args?.authuser!==void 0?!0:!(!g.Q("SESSION_INDEX")&&!g.Q("LOGGED_IN"))}});})(_yt_player);
