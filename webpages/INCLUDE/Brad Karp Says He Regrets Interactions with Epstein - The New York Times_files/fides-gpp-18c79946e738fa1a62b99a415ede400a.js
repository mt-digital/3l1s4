!function(){"use strict";if(typeof Fides<"u"&&"enabled_acknowledge_not_supported"!==Fides.options?.fidesUnsupportedRepeatedScriptLoading)throw new Error("Fides detected that it was already loaded on this page, aborting execution! See https://www.ethyca.com/docs/dev-docs/js/troubleshooting for more information.");!function(e,t){"object"==typeof exports&&typeof module<"u"?t(exports):t((e=typeof globalThis<"u"?globalThis:e||self).Fides={})}(void 0,(function(e){class t{constructor(e,t,n){this.notice=e,this.consentPreference=t,this.noticeHistoryId=n}}var n,i;e.TCMobileDataVals=void 0,n=e.TCMobileDataVals||(e.TCMobileDataVals={}),(i=n.IABTCFgdprApplies||(n.IABTCFgdprApplies={}))[i._0=0]="_0",i[i._1=1]="_1",(e=>{e[e._0=0]="_0",e[e._1=1]="_1"})(n.IABTCFPurposeOneTreatment||(n.IABTCFPurposeOneTreatment={})),(e=>{e[e._0=0]="_0",e[e._1=1]="_1"})(n.IABTCFUseNonStandardTexts||(n.IABTCFUseNonStandardTexts={}));var s=(e=>(e.GPP_US_NATIONAL="gpp_us_national",e.GPP_US_STATE="gpp_us_state",e))(s||{}),o=(e=>(e.FRONTEND="frontend",e.SYSTEM_WIDE="system_wide",e.NOT_APPLICABLE="not_applicable",e))(o||{}),r=(e=>(e.OPT_IN="opt_in",e.OPT_OUT="opt_out",e.NOTICE_ONLY="notice_only",e))(r||{}),a=(e=>(e.COOKIE="Cookie",e.BROWSER_REQUEST="Browser Request",e.I_FRAME="iFrame",e.JAVASCRIPT_TAG="Javascript tag",e.IMAGE="Image",e))(a||{}),c=(e=>(e.OPT_IN="opt_in",e.OPT_OUT="opt_out",e.ACKNOWLEDGE="acknowledge",e.NOT_APPLICABLE="not_applicable",e.TCF="tcf",e))(c||{}),l=(e=>(e.OMIT="omit",e.INCLUDE="include",e))(l||{}),d=(e=>(e.BOOLEAN="boolean",e.CONSENT_MECHANISM="consent_mechanism",e))(d||{}),p=(e=>(e.THROW="throw",e.WARN="warn",e.IGNORE="ignore",e))(p||{}),u=(e=>(e.OVERLAY="overlay",e.BANNER_AND_MODAL="banner_and_modal",e.MODAL="modal",e.PRIVACY_CENTER="privacy_center",e.TCF_OVERLAY="tcf_overlay",e.HEADLESS="headless",e))(u||{}),E=(e=>(e.ALWAYS_ENABLED="always_enabled",e.ENABLED_WHERE_REQUIRED="enabled_where_required",e.ALWAYS_DISABLED="always_disabled",e))(E||{}),g=(e=>(e.PURPOSES="/tcf/purposes",e.FEATURES="/tcf/features",e.VENDORS="/tcf/vendors",e))(g||{}),h=(e=>(e.OPTIONS="options",e.EXPERIENCE_TRANSLATION="language",e))(h||{}),_=(e=>(e.PRIMARY="primary",e.SECONDARY="secondary",e.TERTIARY="tertiary",e))(_||{}),S=(e=>(e.ACKNOWLEDGE="acknowledge",e.OPT_IN_OPT_OUT="opt_in_opt_out",e.OPT_IN_ONLY="opt_in_only",e.GPC_CONDITIONAL="gpc_conditional",e))(S||{}),T=(e=>(e.REJECT_ALL="reject_all",e.REJECT_CONSENT_ONLY="reject_consent_only",e))(T||{}),O=(e=>(e.BUTTON="button",e.REJECT="reject",e.ACCEPT="accept",e.SCRIPT="script",e.SAVE="save",e.DISMISS="dismiss",e.GPC="gpc",e.INDIVIDUAL_NOTICE="individual_notice",e.ACKNOWLEDGE="acknowledge",e.EXTERNAL_PROVIDER="external_provider",e))(O||{}),N=(e=>(e.privacy_center="privacy_center",e.overlay="overlay",e.api="api",e))(N||{}),I=(e=>(e.NONE="none",e.APPLIED="applied",e.OVERRIDDEN="overridden",e))(I||{}),f=(e=>(e.OVERLAY="overlay",e.MODAL="modal",e.BANNER="banner",e.PRIVACY_CENTER="privacy_center",e.TCF_OVERLAY="tcf_overlay",e.TCF_BANNER="tcf_banner",e))(f||{}),A=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},C={exports:{}};/*! https://mths.be/base64 v1.0.0 by @mathias | MIT license */!function(e,t){!function(n){var i=t,s=e&&e.exports==i&&e,o="object"==typeof A&&A;(o.global===o||o.window===o)&&(n=o);var r=function(e){this.message=e};(r.prototype=new Error).name="InvalidCharacterError";var a=function(e){throw new r(e)},c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",l=/[\t\n\f\r ]/g,d={encode:function(e){e=String(e),/[^\0-\xFF]/.test(e)&&a("The string to be encoded contains characters outside of the Latin1 range.");for(var t,n,i,s,o=e.length%3,r="",l=-1,d=e.length-o;++l<d;)t=e.charCodeAt(l)<<16,n=e.charCodeAt(++l)<<8,i=e.charCodeAt(++l),r+=c.charAt((s=t+n+i)>>18&63)+c.charAt(s>>12&63)+c.charAt(s>>6&63)+c.charAt(63&s);return 2==o?(t=e.charCodeAt(l)<<8,n=e.charCodeAt(++l),r+=c.charAt((s=t+n)>>10)+c.charAt(s>>4&63)+c.charAt(s<<2&63)+"="):1==o&&(s=e.charCodeAt(l),r+=c.charAt(s>>2)+c.charAt(s<<4&63)+"=="),r},decode:function(e){var t=(e=String(e).replace(l,"")).length;t%4==0&&(t=(e=e.replace(/==?$/,"")).length),(t%4==1||/[^+a-zA-Z0-9/]/.test(e))&&a("Invalid character: the string to be decoded is not correctly encoded.");for(var n,i,s=0,o="",r=-1;++r<t;)i=c.indexOf(e.charAt(r)),n=s%4?64*n+i:i,s++%4&&(o+=String.fromCharCode(255&n>>(-2*s&6)));return o},version:"1.0.0"};if(i&&!i.nodeType)if(s)s.exports=d;else for(var p in d)d.hasOwnProperty(p)&&(i[p]=d[p]);else n.base64=d}(A)}(C,C.exports);var m=C.exports;/*! js-cookie v3.0.5 | MIT */function w(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)e[i]=n[i]}return e}var v={read:function(e){return'"'===e[0]&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}};var P=function e(t,n){function i(e,i,s){if(!(typeof document>"u")){"number"==typeof(s=w({},n,s)).expires&&(s.expires=new Date(Date.now()+864e5*s.expires)),s.expires&&(s.expires=s.expires.toUTCString()),e=encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var o="";for(var r in s)s[r]&&(o+="; "+r,!0!==s[r]&&(o+="="+s[r].split(";")[0]));return document.cookie=e+"="+t.write(i,e)+o}}return Object.create({set:i,get:function(e){if(!(typeof document>"u"||arguments.length&&!e)){for(var n=document.cookie?document.cookie.split("; "):[],i={},s=0;s<n.length;s++){var o=n[s].split("="),r=o.slice(1).join("=");try{var a=decodeURIComponent(o[0]);if(i[a]=t.read(r,a),e===a)break}catch{}}return e?i[e]:i}},remove:function(e,t){i(e,"",w({},t,{expires:-1}))},withAttributes:function(t){return e(this.converter,w({},this.attributes,t))},withConverter:function(t){return e(w({},this.converter,t),this.attributes)}},{attributes:{value:Object.freeze(n)},converter:{value:Object.freeze(t)}})}(v,{path:"/"});let D;const b=new Uint8Array(16);function R(){if(!D&&(D=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!D))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return D(b)}const y=[];for(let e=0;e<256;++e)y.push((e+256).toString(16).slice(1));var V={randomUUID:typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};function M(e,t,n){if(V.randomUUID&&!e)return V.randomUUID();const i=(e=e||{}).random||(e.rng||R)();return i[6]=15&i[6]|64,i[8]=63&i[8]|128,function(e,t=0){return y[e[t+0]]+y[e[t+1]]+y[e[t+2]]+y[e[t+3]]+"-"+y[e[t+4]]+y[e[t+5]]+"-"+y[e[t+6]]+y[e[t+7]]+"-"+y[e[t+8]]+y[e[t+9]]+"-"+y[e[t+10]]+y[e[t+11]]+y[e[t+12]]+y[e[t+13]]+y[e[t+14]]+y[e[t+15]]}(i)}const L="en",U="Manage preferences",G=/^([A-Za-z]{2,3})(?:(?:[_-]([A-Za-z0-9]{2,4}))?$|(?:(?:[_-]\w+)+))/;const F={ar:{"static.gpc":"التحكم العالمي في الخصوصية","static.gpc.description":"تم تطبيق تفضيلك للتحكم العالمي في الخصوصية. لقد ألغي اشتراكك تلقائيًا في حالات استخدام البيانات التي تلتزم بالتحكم العالمي في الخصوصية.","static.gpc.status.applied":"تم التطبيق","static.gpc.status.overridden":"تم التجاوز","static.gpc.title":"تم اكتشاف التحكم العالمي في الخصوصية","static.other.cookies":"ملفات تعريف الارتباط","static.other.back":"رجوع","static.other.vendors":"الموردون","static.other.retention":"الحفظ","static.other.description":"وصف"},bg:{"static.gpc":"Глобално управление на личните данни","static.gpc.description":"Вашето предпочитание за глобално управление на личните данни е зачетено. Вие сте били автоматично изключени от случаите на използване на данни, които се отнасят към глобално управление на личните данни.","static.gpc.status.applied":"Приложено","static.gpc.status.overridden":"Премахнато","static.gpc.title":"Установен е глобален контрол на поверителността","static.other.cookies":"Бисквитки","static.other.back":"Назад","static.other.vendors":"Доставчици","static.other.retention":"Съхранение","static.other.description":"Описание"},bs:{"static.gpc":"Globalna kontrola privatnosti","static.gpc.description":"Vaš izbor globalne kontrole privatnosti je uvažen. Automatski ste isključeni iz slučajeva korištenja podataka koji se pridržavaju globalne kontrole privatnosti.","static.gpc.status.applied":"Prihvaćena","static.gpc.status.overridden":"Odbijena","static.gpc.title":"Globalna kontrola privatnosti je otkrivena","static.other.cookies":"Kolačići","static.other.back":"Nazad","static.other.vendors":"Dobavljači","static.other.retention":"Zadržavanje","static.other.description":"Opis"},ca:{"static.gpc":"Control de privadesa global","static.gpc.description":"S’ha respectat la vostra preferència pel que fa al control de privadesa global. Se us ha exclòs automàticament dels casos d’ús de dades que s’adhereixen al control de privadesa global.","static.gpc.status.applied":"Aplicat","static.gpc.status.overridden":"Anul·lat","static.gpc.title":"S'ha detectat un control de privadesa global","static.other.cookies":"Galetes","static.other.back":"Enrere","static.other.vendors":"Proveïdors","static.other.retention":"Retenció","static.other.description":"Descripció"},cs:{"static.gpc":"Globální kontrola ochrany osobních údajů","static.gpc.description":"Byly dodrženy vaše globální preference ochrany osobních údajů. Automaticky jste byli vyřazeni z používání údajů v případech, na které se vztahuje globální ochrana osobních údajů.","static.gpc.status.applied":"Aplikováno","static.gpc.status.overridden":"Přepsáno","static.gpc.title":"Byla zjištěna globální kontrola soukromí","static.other.cookies":"Soubory cookie","static.other.back":"Zpět","static.other.vendors":"Dodavatelé","static.other.retention":"Uložení","static.other.description":"Popis"},da:{"static.gpc":"Global fortrolighedskontrol","static.gpc.description":"Din præference i forbindelse med global fortrolighedskontrol er blevet efterkommet. Du er automatisk blevet frameldt tilfælde af databrug, der overholder global fortrolighedskontrol.","static.gpc.status.applied":"Anvendt","static.gpc.status.overridden":"Tilsidesat","static.gpc.title":"Global privatlivskontrol registreret","static.other.cookies":"Cookies","static.other.back":"Tilbage","static.other.vendors":"Forhandlere","static.other.retention":"Opbevaring","static.other.description":"Beskrivelse"},de:{"static.gpc":"Globale Datenschutzeinstellungen","static.gpc.description":"Ihre globale Datenschutzeinstellungen werden berücksichtigt. Sie wurden automatisch von Anwendungsfällen ausgenommen, die nicht Ihren globalen Datenschutzeinstellungen unterliegen.","static.gpc.status.applied":"Angewendet","static.gpc.status.overridden":"Überschrieben","static.gpc.title":"Globale Datenschutzkontrolle erkannt","static.other.cookies":"Cookies","static.other.back":"Zurück","static.other.vendors":"Anbieter","static.other.retention":"Aufbewahrungsdauer","static.other.description":"Beschreibung"},el:{"static.gpc":"Καθολικός έλεγχος απορρήτου","static.gpc.description":"Η προτίμησή σας για τον καθολικό έλεγχο απορρήτου έχει τηρηθεί. Έχετε εξαιρεθεί αυτόματα από περιπτώσεις χρήσης δεδομένων που συμμορφώνονται με τον καθολικό έλεγχο απορρήτου.","static.gpc.status.applied":"Εφαρμόστηκε","static.gpc.status.overridden":"Παρακάμφθηκε","static.gpc.title":"Εντοπίστηκε ο καθολικός έλεγχος απορρήτου","static.other.cookies":"Cookies","static.other.back":"Πίσω","static.other.vendors":"Προμηθευτές","static.other.retention":"Διατήρηση","static.other.description":"Περιγραφή"},en:{"static.gpc":"Global Privacy Control","static.gpc.description":"Your global privacy control preference has been honored. You have been automatically opted out of data use cases which adhere to global privacy control.","static.gpc.status.applied":"Applied","static.gpc.status.overridden":"Overridden","static.gpc.title":"Global Privacy Control detected","static.other.cookies":"Cookies","static.other.back":"Back","static.other.vendors":"Vendors","static.other.retention":"Retention","static.other.description":"Description"},es:{"static.gpc":"Control de privacidad global","static.gpc.description":"Su preferencia de control de privacidad global se ha respetado. Se le ha excluido automáticamente de los casos de uso de datos que se adhieren al control de privacidad global.","static.gpc.status.applied":"Aplicado","static.gpc.status.overridden":"Anulado","static.gpc.title":"Control de privacidad global detectado","static.other.cookies":"Cookies","static.other.back":"Atrás","static.other.vendors":"Proveedores","static.other.retention":"Conservación","static.other.description":"Descripción"},"es-MX":{"static.gpc":"Control de privacidad global","static.gpc.description":"Su preferencia de control de privacidad global se ha respetado. Se le excluyó automáticamente de los casos de uso de datos que se adhieren al control de privacidad global.","static.gpc.status.applied":"Aplicado","static.gpc.status.overridden":"Anulado","static.gpc.title":"Control de privacidad global detectado","static.other.cookies":"Cookies","static.other.back":"Atrás","static.other.vendors":"Proveedores","static.other.retention":"Retención","static.other.description":"Descripción"},et:{"static.gpc":"Üldine andmekaitsekontroll","static.gpc.description":"Teie üldist andmekaitse-eelistust on arvestatud. Teid on automaatselt välja arvatud andmete kasutamise juhtudest, mis järgivad üldist andmekaitsekontrolli.","static.gpc.status.applied":"Rakendatud","static.gpc.status.overridden":"Tühistatud","static.gpc.title":"Tuvastati globaalne privaatsuskontroll","static.other.cookies":"Küpsised","static.other.back":"Tagasi","static.other.vendors":"Kaupmehed","static.other.retention":"Säilitamine","static.other.description":"Kirjeldus"},eu:{"static.gpc":"Pribatutasun-kontrol globala","static.gpc.description":"Pribatutasun-kontrol globalaren lehentasuna bete da. Pribatutasun-kontrol globalari atxikitzen zaizkion datuen erabileren kasuetatik automatikoki baztertua izan zara.","static.gpc.status.applied":"Ezarrita","static.gpc.status.overridden":"Baliogabetuta","static.gpc.title":"Pribatutasun-kontrol globala atzeman da","static.other.cookies":"Cookieak","static.other.back":"Atzera","static.other.vendors":"Hornitzaileak","static.other.retention":"Atxikipena","static.other.description":"Deskripzioa"},fi:{"static.gpc":"Maailmanlaajunen tietosuojavalvonta","static.gpc.description":"Maailmanlaajuinen tietosuojavalvontanne on vahvistettu. Teidät on automaattisesti poistettu tietojen käyttötapauksista, jotka noudattavat maailmanlaajuista tietosuojavalvontaa.","static.gpc.status.applied":"Käytössä","static.gpc.status.overridden":"Ohitettu","static.gpc.title":"Yleinen tietosuoja-asetus havaittu","static.other.cookies":"Evästeet","static.other.back":"Takaisin","static.other.vendors":"Toimittajat","static.other.retention":"Säilyttäminen","static.other.description":"Kuvaus"},fr:{"static.gpc":"Global Privacy Control","static.gpc.description":"Votre préférence en matière de contrôle global de la confidentialité (GPC) a été respectée. Vous avez automatiquement été retiré des cas d’usage des données qui adhèrent au GPC.","static.gpc.status.applied":"Appliqué","static.gpc.status.overridden":"Ignoré","static.gpc.title":"Contrôle global de la confidentialité détecté","static.other.cookies":"Cookies","static.other.back":"Retour","static.other.vendors":"Fournisseurs","static.other.retention":"Rétention","static.other.description":"Description"},"fr-CA":{"static.gpc":"Contrôle mondial de confidentialité","static.gpc.description":"Votre préférence en matière de contrôle mondial de confidentialité a été honorée. Vous avez été automatiquement écarté des cas d'utilisation de données qui adhèrent au contrôle mondial de confidentialité.","static.gpc.status.applied":"Appliqué","static.gpc.status.overridden":"Annulé","static.gpc.title":"Contrôle de la confidentialité global détecté","static.other.cookies":"Témoins","static.other.back":"Retour","static.other.vendors":"Fournisseurs","static.other.retention":"Rétention","static.other.description":"Description"},gl:{"static.gpc":"Control de privacidade global","static.gpc.description":"Respetouse a súa preferencia de control de privacidade global. Foi automaticamente excluído dos casos de uso de datos que cumpren o control de privacidade global.","static.gpc.status.applied":"Aplicado","static.gpc.status.overridden":"Anulado","static.gpc.title":"Detectouse un control de privacidade global","static.other.cookies":"Cookies","static.other.back":"Atrás","static.other.vendors":"Provedores","static.other.retention":"Retención","static.other.description":"Descrición"},"hi-IN":{"static.gpc":"वैश्विक गोपनीयता नियंत्रण","static.gpc.description":"आपकी वैश्विक गोपनीयता नियंत्रण वरीयताओं का सम्मान किया गया। आपको वैश्विक गोपनीयता नियंत्रण का पालन करने वाले डेटा उपयोग मामलों से स्वचालित रूप से बाहर कर दिया गया है।","static.gpc.status.applied":"लागू किया","static.gpc.status.overridden":"ओवरराइड किया","static.gpc.title":"वैश्विक गोपनीयता नियंत्रण का पता चला","static.other.cookies":"कुकीज़","static.other.back":"वापस","static.other.vendors":"वेंडर्स","static.other.retention":"रिटेंशन","static.other.description":"विवरण"},hr:{"static.gpc":"Globalna kontrola privatnosti","static.gpc.description":"Poštuju se vaše preferencije globalne kontrole privatnosti. Automatski se isključeni iz slučajeve korištenja podataka koji se pridržavaju globalne kontrole privatnosti.","static.gpc.status.applied":"Primijenjeno","static.gpc.status.overridden":"Premošćeno","static.gpc.title":"Otkrivena je globalna kontrola privatnosti","static.other.cookies":"Kolačići","static.other.back":"Natrag","static.other.vendors":"Uslužne tvrtke","static.other.retention":"Zadržavanje","static.other.description":"Opis"},hu:{"static.gpc":"Globális adatvédelmi szabályozás","static.gpc.description":"A globális adatvédelmi szabályozással kapcsolatos beállításai el lettek fogadva. Automatikusan kikerült azokból az adatfelhasználási esetekből, amelyek a globális adatvédelmi szabályozáshoz tartoznak.","static.gpc.status.applied":"Alkalmazva","static.gpc.status.overridden":"Felülírva","static.gpc.title":"Globális adatvédelmi ellenőrzés észlelve","static.other.cookies":"Sütik","static.other.back":"Vissza","static.other.vendors":"Értékesítők","static.other.retention":"Megőrzés","static.other.description":"Leírás"},it:{"static.gpc":"Controllo Globale della Privacy","static.gpc.description":"Le tue preferenze del Controllo Globale della Privacy sono state prese in carico. Sei stato automaticamente escluso dai casi di utilizzo dei dati che corrispondono al Controllo Globale della Privacy.","static.gpc.status.applied":"Applicato","static.gpc.status.overridden":"Non applicato","static.gpc.title":"Rilevato il controllo della privacy globale","static.other.cookies":"Cookie","static.other.back":"Indietro","static.other.vendors":"Fornitori","static.other.retention":"Conservazione","static.other.description":"Descrizione"},ja:{"static.gpc":"グローバルプライバシーコントロール","static.gpc.description":"グローバルプライバシーコントロールの設定は尊重されます。グローバルプライバシーコントロールに従うデータのユースケースからは自動的にオプトアウトされています。","static.gpc.status.applied":"適用","static.gpc.status.overridden":"変更","static.gpc.title":"グローバルプライバシー管理を検出しました","static.other.cookies":"クッキー","static.other.back":"戻る","static.other.vendors":"ベンダー","static.other.retention":"保持期間","static.other.description":"説明"},lt:{"static.gpc":"Visuotinė privatumo kontrolė","static.gpc.description":"Buvo atsižvelgta į jūsų visuotinės privatumo kontrolės pageidavimą. Buvote automatiškai atšauktas iš duomenų naudojimo atvejų, kai laikomasi visuotinės privatumo kontrolės.","static.gpc.status.applied":"Taikoma","static.gpc.status.overridden":"Nebegaliojantis","static.gpc.title":"Aptiktas visuotinis privatumo valdymas","static.other.cookies":"Slapukai","static.other.back":"Atgal","static.other.vendors":"Pardavėjai","static.other.retention":"Saugojimas","static.other.description":"Aprašymas"},lv:{"static.gpc":"Globālā privātuma kontrole","static.gpc.description":"Mēs esam izpildījuši jūsu prasību kontrolēt globālo privātumu. Pēc noklusējuma esat noņemts no datu lietojuma pieteikumiem, kas atbilst globālajai privātuma kontrolei.","static.gpc.status.applied":"Pielietots","static.gpc.status.overridden":"Ignorēts","static.gpc.title":"Konstatēta globālā privātuma kontrole","static.other.cookies":"Sīkdatnes","static.other.back":"Atpakaļ","static.other.vendors":"Preču pārdevēji/pakalpojumu sniedzēji","static.other.retention":"Ieturēšana","static.other.description":"Apraksts"},mt:{"static.gpc":"Kontroll Globali tal-Privatezza","static.gpc.description":"Il-preferenza globali tiegħek għall-kontroll tal-privatezza ġiet onorata. Inti awtomatikament għażilt li ma tibqax tuża d-dejta f'każijiet li jirrispettaw il-kontroll globali tal-privatezza.","static.gpc.status.applied":"Applikat","static.gpc.status.overridden":"Maqbuża","static.gpc.title":"Kontroll Globali tal-Privatezza misjub","static.other.cookies":"Cookies","static.other.back":"Lura","static.other.vendors":"Bejjiegħa","static.other.retention":"Ritenzjoni","static.other.description":"Deskrizzjoni"},nl:{"static.gpc":"Global Privacy Control","static.gpc.description":"Uw Global Privacy Control-voorkeur wordt gerespecteerd. U bent automatisch afgemeld voor gegevensgebruiksscenario's die zich houden aan Global Privacy Control.","static.gpc.status.applied":"Toegepast","static.gpc.status.overridden":"Genegeerd","static.gpc.title":"Globale privacyinstelling gedetecteerd","static.other.cookies":"Cookies","static.other.back":"Terug","static.other.vendors":"Leveranciers","static.other.retention":"Bewaartermijn","static.other.description":"Beschrijving"},no:{"static.gpc":"Globale personverninnstillinger","static.gpc.description":"Preferansene dine vedrørende de globale personverninnstilingene dine er godtatt. Du har automatisk takket nei til databruksaker som følger globale personverninnstillinger.","static.gpc.status.applied":"Anvendt","static.gpc.status.overridden":"Overstyrt","static.gpc.title":"Global personvernkontroll oppdaget","static.other.cookies":"Informasjonskapsler","static.other.back":"Tilbake","static.other.vendors":"Leverandører","static.other.retention":"Oppbevaring","static.other.description":"Beskrivelse"},pl:{"static.gpc":"Ogólna kontrola prywatności","static.gpc.description":"Twoja preferencja dotycząca ogólnej kontroli prywatności została uwzględniona. Automatycznie odmówiono zgody na Twoje przypadki wykorzystania danych, które są zgodne z Ogólną kontrolą prywatności.","static.gpc.status.applied":"Zastosowano","static.gpc.status.overridden":"Nadpisano","static.gpc.title":"Wykryto globalną kontrolę prywatności","static.other.cookies":"Pliki cookie","static.other.back":"Wstecz","static.other.vendors":"Dostawcy","static.other.retention":"Przechowywanie","static.other.description":"Opis"},"pt-BR":{"static.gpc":"Controle de Privacidade Global","static.gpc.description":"Sua preferência global de controle de privacidade foi respeitada. Você foi automaticamente removido dos casos de uso de dados que aderem ao controle de privacidade global.","static.gpc.status.applied":"Aplicado","static.gpc.status.overridden":"Anulado","static.gpc.title":"Controle de Privacidade Global detectado","static.other.cookies":"Cookies","static.other.back":"Voltar","static.other.vendors":"Fornecedores","static.other.retention":"Retenção","static.other.description":"Descrição"},"pt-PT":{"static.gpc":"Controlo de Privacidade Global","static.gpc.description":"A sua preferência de controlo de privacidade global foi honrada. Foi automaticamente excluído/a dos casos de utilização de dados que aderem ao controlo de privacidade global.","static.gpc.status.applied":"Aplicado","static.gpc.status.overridden":"Anulado","static.gpc.title":"Controlo de Privacidade Global detetado","static.other.cookies":"Cookies","static.other.back":"Voltar","static.other.vendors":"Fornecedores","static.other.retention":"Retenção","static.other.description":"Descrição"},ro:{"static.gpc":"Control global al confidențialității","static.gpc.description":"Preferința dvs. de control global al confidențialității a fost onorată. Ați fost exclus(ă) automat de la cazurile de utilizare a datelor care respectă controlul global al confidențialității.","static.gpc.status.applied":"Aplicat","static.gpc.status.overridden":"Suprascris","static.gpc.title":"S-a detectat controlul global al confidențialității","static.other.cookies":"Cookie-uri","static.other.back":"Înapoi","static.other.vendors":"Furnizori","static.other.retention":"Păstrare","static.other.description":"Descriere"},ru:{"static.gpc":"Global Privacy Control","static.gpc.description":"Ваша настройка Global Privacy Control учтена. Вы автоматически исключаетесь в сценариях, где используется Global Privacy Control.","static.gpc.status.applied":"Применено","static.gpc.status.overridden":"Изменено","static.gpc.title":"Обнаружена глобальная система контроля конфиденциальности","static.other.cookies":"Файлы cookie","static.other.back":"Назад","static.other.vendors":"Поставщики услуг","static.other.retention":"Хранение","static.other.description":"Описание"},sk:{"static.gpc":"Globálna kontrola súkromia","static.gpc.description":"Vaša predvoľba pre globálnu kontrolu súkromia bola dodržaná. Pre prípady použitia, kde sa používa globálna kontrola súkromia, vám bol automaticky nastavený explicitný nesúhlas.","static.gpc.status.applied":"Použitá","static.gpc.status.overridden":"Prepísaná","static.gpc.title":"Zistila sa globálna kontrola ochrany osobných údajov","static.other.cookies":"Súbory cookie","static.other.back":"Späť","static.other.vendors":"Dodávatelia","static.other.retention":"Uchovávanie","static.other.description":"Popis"},sl:{"static.gpc":"Global Privacy Control","static.gpc.description":"Vaša nastavitev globalnega nadzora zasebnosti je bila upoštevana. Samodejno je bilo preklicano vaše soglasje za tiste primere uporabe podatkov, ki se ravnajo po globalnem nadzoru zasebnosti.","static.gpc.status.applied":"Uporabljeno","static.gpc.status.overridden":"Preglašeno","static.gpc.title":"Zaznan je globalni nadzor nad zasebnostjo","static.other.cookies":"Piškotki","static.other.back":"Nazaj","static.other.vendors":"Partnerji","static.other.retention":"Hramba","static.other.description":"Opis"},"sr-Cyrl":{"static.gpc":"Global Privacy Control","static.gpc.description":"Ваша глобална поставка контроле приватности је подешена. Аутоматски сте искључени из случајева употребе података који су у складу са глобалном контролом приватности.","static.gpc.status.applied":"Примењена","static.gpc.status.overridden":"Замењена","static.gpc.title":"Откривена је глобална контрола приватности","static.other.cookies":"Колачићи","static.other.back":"Назад","static.other.vendors":"Добављачи","static.other.retention":"Задржавање","static.other.description":"Опис"},"sr-Latn":{"static.gpc":"Globalna kontrola privatnosti","static.gpc.description":"Vaša globalna postavka kontrole privatnosti se poštuje. Automatski ste isključeni iz slučajeva korišćenja podataka koji podležu globalnoj kontroli privatnosti.","static.gpc.status.applied":"Primenjeno","static.gpc.status.overridden":"Zaobiđeno","static.gpc.title":"Otkrivena je globalna kontrola privatnosti","static.other.cookies":"Kolačići","static.other.back":"Nazad","static.other.vendors":"Dobavljači","static.other.retention":"Zadržavanje","static.other.description":"Opis"},sv:{"static.gpc":"Global integritetskontroll","static.gpc.description":"Dina preferenser för global integritetskontroll har efterföljts. Du har automatiskt valt bort användningsfall för uppgifter som efterföljer global integritetskontroll.","static.gpc.status.applied":"Tillämpad","static.gpc.status.overridden":"Åsidosatt","static.gpc.title":"Global sekretesskontroll upptäcktes","static.other.cookies":"Cookies","static.other.back":"Tillbaka","static.other.vendors":"Leverantörer","static.other.retention":"Lagring","static.other.description":"Beskrivning"},tr:{"static.gpc":"Global Gizlilik Kontrolü","static.gpc.description":"Global gizlilik kontrolü tercihiniz yerine getirildi. Global gizlilik kontrolüne uygun veri kullanım durumlarından otomatik olarak çıkarıldınız.","static.gpc.status.applied":"Uygulandı","static.gpc.status.overridden":"Geçersiz kılındı","static.gpc.title":"Genel Gizlilik Kontrolü algılandı","static.other.cookies":"Çerezler","static.other.back":"Geri","static.other.vendors":"Satıcılar","static.other.retention":"Tutma","static.other.description":"Açıklama"},uk:{"static.gpc":"Глобальний контроль конфіденційності","static.gpc.description":"Ваші налаштування глобального контролю конфіденційності враховано. Вас було автоматично виключено з випадків використання даних, які дотримуються налаштувань глобального контролю конфіденційності.","static.gpc.status.applied":"Застосовано","static.gpc.status.overridden":"Перевизначено","static.gpc.title":"Виявлено глобальний контроль конфіденційності","static.other.cookies":"Файли cookie","static.other.back":"Назад","static.other.vendors":"Постачальники","static.other.retention":"Зберігання","static.other.description":"Опис"},zh:{"static.gpc":"全局隐私控制","static.gpc.description":"您的全局隐私控制偏好已得到尊重。您已自动选择退出符合全局隐私控制的数据使用案例。","static.gpc.status.applied":"已应用","static.gpc.status.overridden":"被覆盖","static.gpc.title":"检测到全局隐私控制","static.other.cookies":"Cookie","static.other.back":"返回","static.other.vendors":"供应商","static.other.retention":"保留期","static.other.description":"描述"},"zh-Hant":{"static.gpc":"全域隱私控制","static.gpc.description":"您的全域隱私控制偏好已被接受。根據您的選擇·，已自動將您退出符合全域隱私控制的資料使用案例。","static.gpc.status.applied":"已應用","static.gpc.status.overridden":"已覆寫","static.gpc.title":"檢測到全局隱私控制","static.other.cookies":"Cookie","static.other.back":"返回","static.other.vendors":"供應商","static.other.retention":"保留期","static.other.description":"描述"}},k=[{locale:"ar",label_en:"Arabic",label_original:"العَرَبِيَّة"},{locale:"bg",label_en:"Bulgarian",label_original:"български език"},{locale:"bs",label_en:"Bosnian",label_original:"Bosanski Jezik"},{locale:"ca",label_en:"Catalan",label_original:"català"},{locale:"cs",label_en:"Czech",label_original:"český jazyk"},{locale:"da",label_en:"Danish",label_original:"Dansk"},{locale:"de",label_en:"German",label_original:"Deutsch"},{locale:"el",label_en:"Greek",label_original:"ελληνικά"},{locale:"en",label_en:"English",label_original:"English"},{locale:"es",label_en:"Spanish",label_original:"Español"},{locale:"es-MX",label_en:"Spanish (Mexico)",label_original:"Español - MX"},{locale:"et",label_en:"Estonian",label_original:"Eesti"},{locale:"eu",label_en:"Basque",label_original:"euskara"},{locale:"fi",label_en:"Finnish",label_original:"Suomi"},{locale:"fr",label_en:"French",label_original:"Français"},{locale:"fr-CA",label_en:"French (Canada)",label_original:"Français - CA"},{locale:"gl",label_en:"Galician",label_original:"Galego"},{locale:"hi-IN",label_en:"Hindi (India)",label_original:"हिन्दी"},{locale:"hr",label_en:"Croatian",label_original:"Hrvatski Jezik"},{locale:"hu",label_en:"Hungarian",label_original:"magyar"},{locale:"it",label_en:"Italian",label_original:"Italiano"},{locale:"ja",label_en:"Japanese",label_original:"日本語"},{locale:"lt",label_en:"Lithuanian",label_original:"lietuvių kalba"},{locale:"lv",label_en:"Latvian",label_original:"latviešu valoda"},{locale:"mt",label_en:"Maltese",label_original:"Malti"},{locale:"nl",label_en:"Dutch",label_original:"Nederlands"},{locale:"no",label_en:"Norwegian",label_original:"Norsk"},{locale:"pl",label_en:"Polish",label_original:"Polski"},{locale:"pt-BR",label_en:"Portuguese (Brazil)",label_original:"Português - BR"},{locale:"pt-PT",label_en:"Portuguese (Portugal)",label_original:"Português - PT"},{locale:"ro",label_en:"Romanian",label_original:"limba română"},{locale:"ru",label_en:"Russian",label_original:"русский язык"},{locale:"sk",label_en:"Slovak",label_original:"slovenčina"},{locale:"sl",label_en:"Slovenian",label_original:"Slovenski Jezik"},{locale:"sr-Cyrl",label_en:"Serbian (Cyrillic)",label_original:"српски"},{locale:"sr-Latn",label_en:"Serbian (Latin)",label_original:"Srpski"},{locale:"sv",label_en:"Swedish",label_original:"Sverige"},{locale:"tr",label_en:"Turkish",label_original:"Türkçe"},{locale:"uk",label_en:"Ukrainian",label_original:"українська мова"},{locale:"zh",label_en:"Chinese (Simplified)",label_original:"简体中文"},{locale:"zh-Hant",label_en:"Chinese (Traditional)",label_original:"繁體中文"}];function x(e,t){return e.toLowerCase().replaceAll("_","-")===t.toLowerCase().replaceAll("_","-")}function j(e){if(e?.experience_config?.translations){const{translations:t}=e.experience_config;return t.find((e=>e.is_default))?.language}}function z(e,t){const n={};return t.forEach((t=>{const i=Object.keys(e).find((e=>x(e,t)));if(i){const s=e[i],o={};["purposes","specialPurposes","features","specialFeatures","stacks","dataCategories"].forEach((e=>{const t=s[e]||{};Object.keys(t).forEach((n=>{const i=t[n],s=`exp.tcf.${e}.${n}`;o[`${s}.name`]=i.name,o[`${s}.description`]=i.description,i.illustrations&&i.illustrations.length>0&&i.illustrations.forEach(((e,t)=>{o[`${s}.illustrations.${t}`]=e}))}))})),n[t]={...o,...n[t]}}})),n}function H(e){return Object.keys(F).forEach((t=>{e.load(t,F[t])})),Object.keys(F)}function B(e,t,n){const i={},s=t.available_locales?.length?t.available_locales:[L];if(t?.experience_config){const e=function(e,t){const n={},i=["accept_button_label","acknowledge_button_label","banner_description","banner_title","description","gpc_label","gpc_description","gpc_status_applied_label","gpc_status_overridden_label","gpc_title","purpose_header","privacy_policy_link_label","privacy_policy_url","privacy_preferences_link_label","reject_button_label","save_button_label","title","modal_link_label"];if(e.translations)e.translations.forEach((e=>{const s=e.language;let o=!1;t?.override_language&&(o=x(t.override_language,s));const r={};i.forEach((n=>{let i=null;t&&(o||"privacy_policy_url"===n)&&(i=n in t?t[n]:null);const s=e[n];"string"==typeof s&&(r[`exp.${n}`]=i||s)})),n[s]={...r,...n[s]}}));else{const t=L,s={};i.forEach((t=>{const n=e[t];"string"==typeof n&&(s[`exp.${t}`]=n)})),n[t]={...s,...n[t]}}return n}(t.experience_config,n);Object.keys(e).forEach((t=>{i[t]={...e[t],...i[t]}}))}s.forEach((t=>{e.load(t,i[t])}))}function K(e,t){if(!t.gvl)return;const{locale:n}=e,i={};i[n]=t.gvl;const s=z(i,[n]);e.load(n,s[n])}function Y(e,t,n=L){const i=e?.language;return t||i||n}function $(e,t,n=L){const i=e.match(G);if(i){const[e,n]=i,s=t.find((t=>x(t,e)));if(s)return s;const o=t.find((e=>x(e,n)));if(o)return o}return n}function W(e,t){return""!==e.t(t)&&e.t(t)!==t}function q(e,t,n){if(!n||!n.translations)return null;if(e){const t=n.translations.find((t=>x(t.language,e)));if(t)return t}return n.translations.find((e=>x(e.language,t)))||n.translations[0]||null}function J(e,t,n){if(!n||!n.translations)return null;if(e){const t=n.translations.find((t=>x(t.language,e)));if(t)return t}return n.translations.find((e=>x(e.language,t)))||n.translations[0]||null}function Q(e,t,n,i,s){H(e);const o=n.available_locales?.length?n.available_locales:[L];B(e,n,s);const r=k.filter((e=>o.includes(e.locale))),a=r.findIndex((t=>x(t.locale,e.getDefaultLocale())));a>0&&r.unshift(r.splice(a,1)[0]),e.setAvailableLanguages(r);const c=j(n)||L;e.setDefaultLocale(c);let l=c;!1===n.experience_config?.auto_detect_language||(l=Y(t,i?.fidesLocale,c));const d=$(l,o||[],e.getDefaultLocale());if(n.experience_config?.translations?.find((e=>e.language===d)))e.activate(d);else{const t=J(d,c,n.experience_config);e.activate(t?.language||d)}n.experience_config?.component===u.TCF_OVERLAY&&n.gvl&&K(e,n)}function X(){let e=[],t=L,n=L;const i={};return{setAvailableLanguages(t){e=t},get availableLanguages(){return e},activate:e=>{n=e},getDefaultLocale:()=>t,setDefaultLocale:e=>{t=e},get locale(){return n},load:(e,t)=>{i[e]={...i[e],...t}},t:e=>{if(typeof e>"u")throw new TypeError("Unexpected type for descriptor or id!");let t;if("string"==typeof e)t=e;else{if("object"!=typeof e||!e.id)return"";t=e.id}return n&&n in i&&t&&t in i[n]&&i[n][t]?i[n][t]:t}}}const Z=(e,t,n)=>{let i=U;if(e){const e=t.getDefaultLocale(),s=n?.experience_config?.translations.find((t=>t.language===e));s?.modal_link_label&&(i=s.modal_link_label)}else W(t,"exp.modal_link_label")&&(i=t.t("exp.modal_link_label"));return i},ee=X(),te=(e,t)=>!!Object.keys(t).includes(e.notice_key),ne=e=>!(!e||e===c.OPT_OUT)&&(e===c.OPT_IN||e===c.ACKNOWLEDGE),ie=(e,t)=>e?t===r.NOTICE_ONLY?c.ACKNOWLEDGE:c.OPT_IN:c.OPT_OUT,se=(e,n,i,s,o)=>{const r=[];return n.forEach((n=>{const a=e[n.notice_key];if(void 0!==a){const e=q(i,s,n)?.privacy_notice_history_id;if(e){let i;if("boolean"==typeof a)i=ie(a,n.consent_mechanism);else{const e=ne(a);i=ie(e,n.consent_mechanism)}!1!==o?r.push(new t(n,i,e)):r.push({noticeHistoryId:e,consentPreference:i})}}})),r},oe=e=>"string"==typeof e?ne(e):e,re=e=>e?e.split(",").map((e=>e.trim())).filter(Boolean):[],ae=(e,t)=>void 0!==e&&("boolean"==typeof e?e:!0===t.globalPrivacyControl?e.globalPrivacyControl:e.value),ce=/^(?:([a-z]{2})(-[a-z0-9]{1,3})?|(eea))$/i,le=[{overrideName:"fidesEmbed",overrideType:"boolean",overrideKey:"fides_embed",validationRegex:/^(true|false)$/},{overrideName:"fidesDisableSaveApi",overrideType:"boolean",overrideKey:"fides_disable_save_api",validationRegex:/^(true|false)$/},{overrideName:"fidesDisableNoticesServedApi",overrideType:"boolean",overrideKey:"fides_disable_notices_served_api",validationRegex:/^(true|false)$/},{overrideName:"fidesDisableBanner",overrideType:"boolean",overrideKey:"fides_disable_banner",validationRegex:/^(true|false)$/},{overrideName:"fidesString",overrideType:"string",overrideKey:"fides_string",validationRegex:/(.*)/},{overrideName:"fidesTcfGdprApplies",overrideType:"boolean",overrideKey:"fides_tcf_gdpr_applies",validationRegex:/^(true|false)$/},{overrideName:"fidesLocale",overrideType:"string",overrideKey:"fides_locale",validationRegex:G},{overrideName:"fidesPrimaryColor",overrideType:"string",overrideKey:"fides_primary_color",validationRegex:/(.*)/},{overrideName:"fidesClearCookie",overrideType:"string",overrideKey:"fides_clear_cookie",validationRegex:/(.*)/},{overrideName:"fidesConsentOverride",overrideType:"string",overrideKey:"fides_consent_override",validationRegex:/^(accept|reject)$/},{overrideName:"otFidesMapping",overrideType:"string",overrideKey:"ot_fides_mapping",validationRegex:/(.*)/},{overrideName:"fidesDisabledNotices",overrideType:"array",overrideKey:"fides_disabled_notices",validationRegex:/(.*)/,transform:re},{overrideName:"fidesDisabledSystems",overrideType:"array",overrideKey:"fides_disabled_systems",validationRegex:/(.*)/,transform:re},{overrideName:"fidesConsentNonApplicableFlagMode",overrideType:"string",overrideKey:"fides_consent_non_applicable_flag_mode",validationRegex:/^(omit|include)$/},{overrideName:"fidesConsentFlagType",overrideType:"string",overrideKey:"fides_consent_flag_type",validationRegex:/^(boolean|consent_mechanism)$/},{overrideName:"fidesInitializedEventMode",overrideType:"string",overrideKey:"fides_initialized_event_mode",validationRegex:/^(multiple|once|disable)$/},{overrideName:"fidesModalDefaultView",overrideType:"string",overrideKey:"fides_modal_default_view",validationRegex:/^\/tcf\/(purposes|features|vendors)$/},{overrideName:"fidesModalDisplay",overrideType:"string",overrideKey:"fides_modal_display",validationRegex:/^(immediate|default)$/},{overrideName:"fidesUnsupportedRepeatedScriptLoading",overrideType:"string",overrideKey:"fides_unsupported_repeated_script_loading",validationRegex:/^(enabled_acknowledge_not_supported|disabled)$/},{overrideName:"fidesCookieSuffix",overrideType:"string",overrideKey:"fides_cookie_suffix",validationRegex:/.*/},{overrideName:"fidesCookieCompression",overrideType:"string",overrideKey:"fides_cookie_compression",validationRegex:/^(gzip|none)$/}],de=[{overrideName:"title",overrideType:"string",overrideKey:"fides_title",validationRegex:/(.*)/},{overrideName:"description",overrideType:"string",overrideKey:"fides_description",validationRegex:/(.*)/},{overrideName:"privacy_policy_url",overrideType:"string",overrideKey:"fides_privacy_policy_url",validationRegex:/(.*)/},{overrideName:"override_language",overrideType:"string",overrideKey:"fides_override_language",validationRegex:G}],pe=["marketing","data_sales","data_sales_and_sharing","data_sales_sharing_gpp_us_state","data_sharing_gpp_us_state","data_sales_gpp_us_state","targeted_advertising_gpp_us_state","sales_sharing_targeted_advertising_gpp_us_national","sales_sharing_targeted_advertising"],ue="fides-modal-link",Ee=e=>!(!e||"object"!=typeof e)&&(0===Object.keys(e).length||"id"in e),ge=e=>{if(e){if(e.location&&ce.test(e.location))return e.location.replace("-","_").toLowerCase();if(e.country&&e.region)return`${e.country.toLowerCase()}_${e.region.toLowerCase()}`}},he=e=>{if("object"!=typeof e||!e.fidesApiUrl||!e.privacyCenterUrl)return!1;try{new URL(e.privacyCenterUrl),new URL(e.fidesApiUrl)}catch{return!1}return!0},_e=e=>{switch(e){case h.OPTIONS:return le;case h.EXPERIENCE_TRANSLATION:return de;default:return null}},Se=e=>{if(!Ee(e))return!1;const t=e.experience_config;return!(!t||t.component!==u.MODAL&&t.component!==u.BANNER_AND_MODAL&&t.component!==u.TCF_OVERLAY&&t.component!==u.HEADLESS||t.component===u.BANNER_AND_MODAL&&!(e.privacy_notices&&e.privacy_notices.length>0))},Te=e=>e.fidesConsentOverride===O.ACCEPT||e.fidesConsentOverride===O.REJECT,Oe=(e,t,n,i)=>!(i?.fidesDisableBanner||!Ee(e)||"immediate"===i.fidesModalDisplay||e.experience_config?.component===u.TCF_OVERLAY&&0===e.vendor_count)&&(e.experience_config?.component===u.TCF_OVERLAY&&t?(!i||!Te(i))&&(!e.meta?.version_hash||e.meta.version_hash!==t.tcf_version_hash):!(e.experience_config?.component===u.MODAL||e.experience_config?.component===u.HEADLESS||!e?.privacy_notices?.length)&&(!n||(!i||!Te(i))&&(t?.fides_meta.consentMethod===O.GPC||!e.privacy_notices?.every((e=>te(e,n)))))),Ne=e=>{"window"===e[0]&&e.shift();let t=window;for(;e.length>0;){const n=e.shift();if(typeof n>"u"||"object"!=typeof t[n])return;t=t[n]}return t},Ie=()=>{},fe=e=>{try{const t=JSON.stringify(e);return btoa(t.replace(/\s/g,""))}catch(e){throw new Error("Failed to encode Notice Consent string:",{cause:e})}},Ae=e=>{if(!e)return{};try{const t=atob(e),n=JSON.parse(t);return Object.fromEntries(Object.entries(n).map((([e,t])=>[e,!!t])))}catch(e){throw new Error("Failed to decode Notice Consent string:",{cause:e})}},Ce=(e,t,n=[],i,s,o)=>{const r={...e},a=window.Fides?.options,p=s??a?.fidesConsentNonApplicableFlagMode??l.OMIT,u=i??a?.fidesConsentFlagType??d.BOOLEAN,E={};Object.assign(E,(({consent:e,nonApplicableNotices:t,flagType:n,mode:i=l.OMIT})=>{if(!t?.length)return e;const s={...e};return i===l.INCLUDE?t.forEach((e=>{s[e]=n!==d.CONSENT_MECHANISM||c.NOT_APPLICABLE})):t.forEach((e=>{delete s[e]})),s})({consent:{},nonApplicableNotices:t??[],flagType:u,mode:p}));const g=n.reduce(((e,t)=>({...e,[t.notice_key]:t.consent_mechanism})),{}),h={};return Object.entries(r).forEach((([e,n])=>{o?.includes(e)&&!t?.includes(e)||(h[e]=n)})),Object.assign(E,(({consent:e,flagType:t=d.BOOLEAN,consentMechanisms:n})=>{const i={};if(t!==d.CONSENT_MECHANISM)return Object.fromEntries(Object.entries(e).map((([e,t])=>[e,oe(t)])));const s=Object.values(e).some((e=>"boolean"==typeof e));if(s&&!n)throw new Error("Cannot transform boolean consent values to consent mechanisms without consent mechanisms map");return s?(Object.keys(e).forEach((t=>{const s=e[t];if("string"==typeof s)i[t]=s;else{const e=n[t];i[t]=ie(s,e)}})),i):{...e}})({consent:h,consentMechanisms:g,flagType:u})),E},me=(e,t,n)=>new Proxy(e,{get(e,i){if(void 0===e[i.toString()]){const e=t.fidesConsentFlagType===d.CONSENT_MECHANISM;return n||"essential"!==i.toString()?!!e&&r.OPT_OUT:!e||r.NOTICE_ONLY}return e[i.toString()]}});var we=(e=>(e.CONSENT="Consent",e.LEGITIMATE_INTERESTS="Legitimate interests",e))(we||{});const ve=[{cookieKey:"system_consent_preferences",experienceKey:"tcf_system_consents"},{cookieKey:"system_legitimate_interests_preferences",experienceKey:"tcf_system_legitimate_interests"}];[{experienceKey:"tcf_purpose_consents",tcfModelKey:"purposeConsents",enabledIdsKey:"purposesConsent"},{experienceKey:"tcf_purpose_legitimate_interests",tcfModelKey:"purposeLegitimateInterests",enabledIdsKey:"purposesLegint"},{experienceKey:"tcf_special_features",tcfModelKey:"specialFeatureOptins",enabledIdsKey:"specialFeatures"},{experienceKey:"tcf_vendor_consents",tcfModelKey:"vendorConsents",enabledIdsKey:"vendorsConsent"},{experienceKey:"tcf_vendor_legitimate_interests",tcfModelKey:"vendorLegitimateInterests",enabledIdsKey:"vendorsLegint"}].filter((({experienceKey:e})=>"tcf_features"!==e&&"tcf_special_purposes"!==e)).map((e=>e.experienceKey)),we.CONSENT.toString(),we.LEGITIMATE_INTERESTS.toString();const Pe=e=>{if(!e)return{tc:"",ac:"",gpp:"",nc:""};const[t="",n="",i="",s=""]=e.split(",");return t?{tc:t,ac:n,gpp:i,nc:s}:{tc:"",ac:"",gpp:i,nc:s}},De="fides_consent",be=e=>{const t=(e??"").trim();return t.length>0?`${De}_${t}`:De},Re=P.withConverter({read:e=>decodeURIComponent(e),write:e=>encodeURIComponent(e)}),ye=e=>!!e&&Object.values(e).some((e=>void 0!==e)),Ve=()=>M(),Me=Ve(),Le=e=>!e.fides_meta?.updatedAt,Ue=e=>{const t=new Date;return{consent:e||{},identity:{fides_user_device_id:Me||Ve()},fides_meta:{version:"0.9.0",createdAt:t.toISOString(),updatedAt:""},tcf_consent:{},non_applicable_notice_keys:[]}},Ge=e=>Re.get(e),Fe=e=>!!Ge(be(e)),ke="gzip:",xe=()=>!(typeof window>"u")&&(typeof CompressionStream<"u"&&typeof DecompressionStream<"u"),je=async e=>{if(!xe())return e;try{const t=(new TextEncoder).encode(e),n=new Blob([t]).stream().pipeThrough(new CompressionStream("gzip")),i=await new Response(n).arrayBuffer();return ke+(e=>btoa(String.fromCharCode(...e)).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,""))(new Uint8Array(i))}catch{return e}},ze=async e=>{if(!xe())throw new Error("DecompressionStream API not supported, cannot read compressed cookie");try{const t=(e=>{const t=e.replace(/-/g,"+").replace(/_/g,"/"),n=t+"===".slice(0,(4-t.length%4)%4),i=atob(n);return new Uint8Array([...i].map((e=>e.charCodeAt(0))))})(e.slice(5)),n=new Blob([t.buffer]).stream().pipeThrough(new DecompressionStream("gzip"));return await new Response(n).text()}catch(e){throw new Error(`Failed to decompress cookie: ${e}`)}},He=async e=>{const t=Ge(be(e));if(t)try{if((e=>e.startsWith(ke))(t))try{const e=await ze(t);return JSON.parse(e)}catch{return}return JSON.parse(t)}catch{try{return JSON.parse(m.decode(t))}catch{return}}},Be=async(e,{fidesClearCookie:t=!1,fidesCookieSuffix:n}={})=>{const i=Ue(e);if(typeof document>"u")return i;if(t)return document.cookie=`${be(n)}=; Path=/; Expires=Thu, 01 Jan 1970 00:00:01 GMT`,i;let s=await He(n);if(s?.consent){const{consent:e}=s;Object.entries(e).forEach((([t,n])=>{e[t]=oe(n)}))}if(!s)return i;try{"consent"in s&&"fides_meta"in s||(s={...i,consent:s});const t={...e,...s.consent};return s.consent=t,s}catch(e){return console.error("Unable to read consent cookie: invalid JSON.",e),i}},Ke=async(e,{base64Cookie:t=!1,fidesCookieCompression:n="none",fidesCookieSuffix:i}={})=>{if(typeof document>"u")return;const s=(new Date).toISOString();e.fides_meta.updatedAt=s;let o="none";("gzip"===n||"none"===n)&&(o=n);let r=JSON.stringify(e);"gzip"===o?r=await je(r):t&&(r=m.encode(r));const a=window.location.hostname.split(".");let c="";for(let t=1;t<=a.length;t+=1)if(c=a.slice(-t).join("."),Re.set(be(i),r,{path:"/",domain:c,expires:365})){const t=await He(i);if(t&&t.fides_meta.updatedAt===e.fides_meta.updatedAt)break}},Ye=({experience:e,cookie:t})=>{if(!e.privacy_notices)return e;const n=e.privacy_notices?.map((n=>{const i=t.non_applicable_notice_keys?.includes(n.notice_key),s=e.non_applicable_privacy_notices?.includes(n.notice_key);if(i&&!s)return{...n,current_preference:void 0};const o=Object.keys(t.consent).includes(n.notice_key)?ie(!!t.consent[n.notice_key],n.consent_mechanism):void 0;return{...n,current_preference:o}}));return{...e,privacy_notices:n}},$e=(e,t)=>{const n={};return e?.options.forEach((({cookieKeys:e,default:i})=>{if(void 0===i)return;const s=ae(i,t);e.forEach((e=>{const t=n[e];n[e]=void 0!==t?t&&s:s}))})),n},We=e=>e.name.includes("[id]"),qe=(e,t=!0,n=!0)=>{const{hostname:i}=window.location,s=[],o=e=>{const s=t?i:e.domain;Re.remove(e.name,{path:e.path??"/",domain:s}),n&&Re.remove(e.name,{domain:`.${i}`})};if(e.forEach((e=>{We(e)?s.push(e):o(e)})),s.length>0){const e=Re.get();s.forEach((t=>{const n=t.name.replace(/[.*+?^${}()|[\]\\]/g,"\\$&").replace(/\\\[id\\\]/g,".+?"),i=new RegExp(`^(${n})$`);Object.keys(e).forEach((e=>{i.test(e)&&o({name:e,domain:t.domain,path:t.path})}))}))}},Je=e=>{const t=new Map(e.map((({notice:e,consentPreference:t})=>[e.notice_key,ne(t)])));return Object.fromEntries(t)},Qe=async(e,t)=>{const n=window.Fides?.experience?.non_applicable_privacy_notices||[];return{...e,consent:Je(t),non_applicable_notice_keys:n}},Xe=({cookie:e,experience:t})=>{const n=(e=>{const t={};return e.privacy_notices&&e.privacy_notices.forEach((e=>{e.current_preference?t[e.notice_key]=ne(e.current_preference):e.default_preference&&(t[e.notice_key]=ne(e.default_preference))})),t})(t);return{...e,consent:n,non_applicable_notice_keys:t.non_applicable_privacy_notices||e.non_applicable_notice_keys||[]}};class Ze{constructor(){this.cookieName="OptanonConsent",this.migrationMethod=O.EXTERNAL_PROVIDER}getConsentCookie(){return Ge(this.cookieName)}convertToFidesConsent(e,t){if(t.otFidesMapping)try{const n=decodeURIComponent(t.otFidesMapping).replace(/^'|'$/g,""),i=JSON.parse(n);return this.parseCookieValue(e,i)}catch{return}}parseCookieValue(e,t){const n={},i=e.match(/groups=([^&]*)/);return!i||!i[1]||i[1].split(",").forEach((e=>{const[i,s]=e.split(":");t[i]&&t[i].forEach((e=>{const t="1"===s;void 0===n[e]&&(n[e]=t)}))})),n}}var et=(e=>(e.ONETRUST="onetrust",e))(et||{});const tt=new Map;function nt(e){e.otFidesMapping&&function(e,t){tt.set(e,t)}(et.ONETRUST,new Ze)}const it=()=>{if(!0===window.navigator?.globalPrivacyControl)return window.navigator.globalPrivacyControl;const e=new URL(window.location.href).searchParams.get("globalPrivacyControl");return"true"===e||"false"!==e&&window.navigator?.globalPrivacyControl},st=()=>typeof window>"u"?{}:{globalPrivacyControl:it()},ot=(e,t)=>{const n={};n.hasFidesCookie=Fe(e.fidesCookieSuffix),n.globalPrivacyControl=it(),nt(t);const{consent:i,method:s}=function(e){let t,n;if(Array.from(tt).some((([i,s])=>{const o=s.getConsentCookie();if(!o)return!1;const r=s.convertToFidesConsent(o,e);return!!r&&(t=r,n=i,!0)})),!n)return{consent:void 0,method:void 0};const i=tt.get(n);return{consent:t,method:i.migrationMethod}}(t);i&&s&&(n.migratedConsent=i,n.migrationMethod=s);const{nc:o}=Pe(e.fidesString??"");return o&&(n.noticeConsentString=o),n};var rt=(e=>(e.FIDES="fides",e.EXTERNAL="external",e))(rt||{}),at=(e=>(e.TOGGLE="toggle",e.BUTTON="button",e.LINK="link",e))(at||{});const ct="FidesLocaleUpdated",lt=(e,t,n)=>{const i=t?{...t}:void 0;if(typeof window<"u"&&typeof CustomEvent<"u"){const t={consentMethod:i?.fides_meta.consentMethod,...n};n?.trigger?.origin||(t.trigger={...t.trigger,origin:"fides"});const s=performance?.mark?.(e)?.startTime,o=i;o&&i?.consent&&(o.consent=Ce(i.consent,window.Fides?.experience?.non_applicable_privacy_notices,window.Fides?.experience?.privacy_notices,void 0,void 0,i.non_applicable_notice_keys));const r=new CustomEvent(e,{detail:{...o,debug:!!window.Fides?.options?.debug,extraDetails:t,timestamp:s},bubbles:!0});window.dispatchEvent(r)}},dt=(e,t)=>{const n=e=>t(e.detail);return window.addEventListener(e,n),()=>{window.removeEventListener(e,n)}},pt=(e,t)=>{lt("FidesConsentLoaded",e,t),"multiple"===window.Fides?.options?.fidesInitializedEventMode&&lt("FidesInitialized",e,t)},ut=(e,t)=>{lt("FidesReady",e,t);const n=window.Fides?.options?.fidesInitializedEventMode;("multiple"===n||"once"===n)&&lt("FidesInitialized",e,t)},Et=e=>{if(typeof window<"u"&&typeof CustomEvent<"u"){const t=performance?.mark?.("FidesLocaleUpdated")?.startTime,n=new CustomEvent(ct,{detail:{locale:e,timestamp:t},bubbles:!0});window.dispatchEvent(n)}},gt={FidesInitializing:!1,FidesInitialized:!1,FidesConsentLoaded:!1,FidesReady:!0,FidesUpdating:!1,FidesUpdated:!0,FidesUIShown:!1,FidesUIChanged:!1,FidesModalClosed:!1};function ht(e,t){Object.entries(gt).filter((([,e])=>e)).map((([e])=>e)).forEach((t=>{window.addEventListener(t,(t=>{e(t.detail.consent)}))})),window.Fides?.consent&&e(window.Fides.consent)}const _t={analytics:["collect","measure"],functional:["personalize"],advertising:["share","personalize"]},St={analytics:["aa"],functional:["target"],advertising:["aam"]};const Tt=(e,t)=>{const n=t?.purposeMapping&&Object.keys(t.purposeMapping).length>0?t.purposeMapping:_t,i="function"==typeof window.alloy?window.alloy:null,s=window.adobe?.optIn||null;if(i||s){if(i){const t=function(e,t){const n={};return Object.entries(t).forEach((([t,i])=>{const s=e[t]?"in":"out";i.forEach((e=>{n[e]=s}))})),n}(e,n);try{i("setConsent",{consent:[{standard:"Adobe",version:"2.0",value:t}]})}catch{}}if(s)try{const n={},i=t?.ecidMapping&&Object.keys(t.ecidMapping).length>0?t.ecidMapping:St;Object.entries(i).forEach((([t,i])=>{const s=!!e[t];i.forEach((e=>{n[e]=n[e]||s}))}));const{Categories:o}=s;Object.entries(o||{}).forEach((([,e])=>{"string"==typeof e&&(!0===n[e]?s.approve(e):!1===n[e]&&s.deny(e))}))}catch{}}};const Ot=e=>(ht((t=>Tt(t,e))),{consent:()=>function(){const e={timestamp:(new Date).toISOString()};if("function"==typeof window.alloy?e.alloy={configured:!0,purposes:void 0}:e.alloy={configured:!1},window.adobe?.optIn){const{optIn:t}=window.adobe;try{const n={};t.Categories&&Object.entries(t.Categories).forEach((([,e])=>{"string"==typeof e&&"function"==typeof t.isApproved&&(n[e]=t.isApproved(e))})),e.ecidOptIn={configured:!0,categories:n}}catch{e.ecidOptIn={configured:!0}}}else e.ecidOptIn={configured:!1};return e}()}),Nt=e=>{if(!(typeof window.blueConicClient<"u"&&typeof window.blueConicClient.event<"u"&&typeof window.blueConicClient.event.subscribe<"u"&&window.blueConicClient?.profile))return;const t=window.blueConicClient?.profile?.getProfile(),n=void 0!==e&&Object.entries(e).length>0,i=pe.some((t=>e[t]));!n||i?(t.setConsentedObjectives(["iab_purpose_1","iab_purpose_2","iab_purpose_3","iab_purpose_4"]),t.setRefusedObjectives([])):(t.setConsentedObjectives(["iab_purpose_1"]),t.setRefusedObjectives(["iab_purpose_2","iab_purpose_3","iab_purpose_4"])),window.blueConicClient.profile.updateProfile()},It=({approach:e="onetrust"}={approach:"onetrust"})=>{if("onetrust"!==e)throw new Error("Unsupported approach");ht(Nt),window.addEventListener("onBlueConicLoaded",(()=>{window.Fides?.consent&&Nt(window.Fides.consent)}))},ft={analytics:["analytics_storage"],advertising:["ad_storage","ad_personalization","ad_user_data"],functional:["functionality_storage","personalization_storage"],data_sales_and_sharing:["ad_storage","ad_personalization","ad_user_data"],marketing:["ad_storage","ad_personalization","ad_user_data"]},At=(e,t)=>{const{purposeMapping:n}=t;if("function"!=typeof window.gtag)return;const i=((e,t)=>{const n={};return Object.entries(t).forEach((([t,i])=>{if(t in e){const s=e[t]?"granted":"denied";i.forEach((e=>{n[e]=s}))}})),n})(e,n);if(0!==Object.keys(i).length)try{window.gtag("consent","update",i)}catch{}},Ct=e=>{const t={purposeMapping:e?.purposeMapping&&Object.keys(e.purposeMapping).length>0?e.purposeMapping:ft};return ht((e=>{At(e,t)})),{consent:()=>(e=>{if("function"!=typeof window.gtag)return null;const t=new Set;return Object.values(e).forEach((e=>{e.forEach((e=>t.add(e)))})),null})(t.purposeMapping)}},mt=(e,t)=>{const n=window.dataLayer??[];window.dataLayer=n;const{detail:i,type:s}=e,{consent:o,extraDetails:r,fides_string:a,timestamp:c}=i;let p=o;const u=t?.flag_type??window.Fides?.options?.fidesConsentFlagType??d.BOOLEAN,E=t?.non_applicable_flag_mode??window.Fides?.options?.fidesConsentNonApplicableFlagMode??l.OMIT,g=window.Fides?.experience?.privacy_notices??[],h=window.Fides?.experience?.non_applicable_privacy_notices;p=Ce(o,h,g,u,E,window.Fides?.cookie?.non_applicable_notice_keys);const _={consent:p,extraDetails:r,fides_string:a,timestamp:c};n.push({event:s,Fides:_})},wt=e=>{const t=Object.entries({FidesInitializing:{forwardEvent:!1,dispatchSynthetic:!1},FidesInitialized:{forwardEvent:!0,dispatchSynthetic:!0},FidesConsentLoaded:{forwardEvent:!0,dispatchSynthetic:!1},FidesReady:{forwardEvent:!0,dispatchSynthetic:!0},FidesUpdating:{forwardEvent:!0,dispatchSynthetic:!1},FidesUpdated:{forwardEvent:!0,dispatchSynthetic:!1},FidesUIChanged:{forwardEvent:!0,dispatchSynthetic:!1},FidesUIShown:{forwardEvent:!0,dispatchSynthetic:!1},FidesModalClosed:{forwardEvent:!0,dispatchSynthetic:!1}});if(t.filter((([,{forwardEvent:e}])=>e)).map((([e])=>e)).forEach((t=>{window.addEventListener(t,(t=>mt(t,e)))})),window.Fides?.initialized){const{consent:n,fides_meta:i,identity:s,tcf_consent:o}=window.Fides,r=performance?.getEntriesByName?.("FidesInitialized")[0]?.startTime;t.filter((([,{dispatchSynthetic:e}])=>e)).map((([e])=>e)).forEach((t=>{mt({type:t,detail:{consent:n,fides_meta:i,identity:s,tcf_consent:o,timestamp:r,extraDetails:{consentMethod:i?.consentMethod}}},e)}))}},vt=e=>{const t=(()=>{if(window.fbq)return window.fbq;const e={queue:[],loaded:!0,version:"2.0",push(...e){const t=window.fbq;t.callMethod?t.callMethod(...e):t.queue.push(e)}};return window.fbq=Object.assign(e.push,e),window._fbq=window.fbq,window.fbq})();t("consent",e.consent?"grant":"revoke"),e.dataUse?t("dataProcessingOptions",[]):t("dataProcessingOptions",["LDU"],1,1e3)},Pt={marketing:pe,sale_of_data:pe,analytics:["analytics"],preferences:["functional"]};const Dt=(e,t)=>{window.Shopify.customerPrivacy.setTrackingConsent(function(e,t){const n=Object.fromEntries(Object.entries(e).map((([e,t])=>[e,oe(t)]))),i={};return Object.entries(Pt).forEach((([e,t])=>{const s=t.some((e=>!0===n[e])),o=t.some((e=>!1===n[e]));s?i[e]=!0:o&&(i[e]=!1)})),void 0===i.sale_of_data&&(i.sale_of_data=t?.sale_of_data_default??!1),i}(e,t),(()=>{}))},bt=e=>{window.Shopify?.customerPrivacy||console.error("Fides could not access Shopify's customerPrivacy API"),window.addEventListener("FidesReady",(t=>Dt(t.detail.consent,e))),window.addEventListener("FidesUpdating",(t=>Dt(t.detail.consent,e))),window.addEventListener("FidesUpdated",(t=>Dt(t.detail.consent,e))),window.Fides?.initialized&&window.Fides.cookie&&Dt(window.Fides.cookie.consent,e)},Rt=e=>{let t,n;const i=()=>{clearTimeout(t),clearTimeout(n)},s=()=>{if(window.Shopify)return i(),window.Shopify.customerPrivacy?void bt(e):void window.Shopify.loadFeatures([{name:"consent-tracking-api",version:"0.1"}],(t=>{if(t)throw Error("Fides could not load Shopify's consent-tracking-api");bt(e)}));n=setTimeout(s,200)};t=setTimeout((()=>{throw i(),Error("Fides.shopify was called but Shopify is not present in the page after 3 seconds.")}),3e3),s()};var yt=(e=>(e.PRIVACY_EXPERIENCE="/privacy-experience",e.PRIVACY_PREFERENCES="/privacy-preferences",e.GVL_TRANSLATIONS="/privacy-experience/gvl/translations",e.NOTICES_SERVED="/notices-served",e))(yt||{});function Vt(){return{}}const Mt=async({userLocationString:e,userLanguageString:t,fidesApiUrl:n,apiOptions:i,propertyId:s,requestMinimalTCF:o,missingExperienceHandler:r=Vt,excludeNoticeAssetsBySystems:a})=>{if(i?.getPrivacyExperienceFn)try{return await i.getPrivacyExperienceFn(e,null)}catch(e){return r(e)}const c=[["Unescape-Safestr","true"],["Accept-Encoding","gzip, deflate"]];t&&c.push(["Accept-Language",t]);const l={method:"GET",mode:"cors",headers:c};let d;a&&(d=(Array.isArray(a)?[...a]:a.split(",").map((e=>e.trim())).filter(Boolean)).sort(((e,t)=>e.localeCompare(t))).join(","));let p,E={show_disabled:"false",region:e,component:u.OVERLAY,has_config:"true",systems_applicable:"true",exclude_gvl_languages:"true",include_meta:"true",include_gvl:"true",include_non_applicable_notices:"true",...o&&{minimal_tcf:"true"},...s&&{property_id:s},...d&&{exclude_notice_assets_by_systems:d}};E=new URLSearchParams(E);try{if(p=await fetch(`${n}/privacy-experience?${E}`,l),!p.ok)throw new Error("Error fetching experience from Fides API")}catch(e){return r(e)}try{const e=await p.json();if(e.items?.length<1)return{};const t=e.items&&e.items[0];t.experience_config?.translations?.[0].language;return t}catch(e){return r(e)}},Lt={method:"PATCH",mode:"cors",headers:{"Content-Type":"application/json"}},Ut="Fides.js",Gt=async(e,t,n,i,s)=>{if(n.apiOptions?.savePreferencesFn){try{await n.apiOptions.savePreferencesFn(e,i.consent,i.fides_string,s)}catch(e){return Promise.reject(e)}return Promise.resolve()}const o={...Lt,body:JSON.stringify({...t,source:Ut})};return(await fetch(`${n.fidesApiUrl}/privacy-preferences`,o)).ok,Promise.resolve()};const Ft=new class{constructor(){this.servedNoticeHistoryId=null}getServedNoticeHistoryId(){return this.servedNoticeHistoryId||(this.servedNoticeHistoryId=M()),this.servedNoticeHistoryId}reset(){this.servedNoticeHistoryId=null}hasLifecycleId(){return null!==this.servedNoticeHistoryId}},kt=[O.SCRIPT,O.GPC,O.EXTERNAL_PROVIDER];async function xt(e,t,n,i,s,o,r,a,c){const l=(o||[]).map((e=>({preference:e.consentPreference,privacy_notice_history_id:e.noticeHistoryId||""}))),d={browser_identity:t.identity,preferences:l,privacy_experience_config_history_id:s,user_geography:a,method:i,served_notice_history_id:c,property_id:n.property_id,...r??[]};await Gt(i,d,e,t,n)}const jt=(e,t,n,i)=>Object.entries(n).reduce(((n,[s,o])=>{if(n)return n;const a=t.find((e=>e===s));if(a&&!o&&i!==O.EXTERNAL_PROVIDER)return new Error(`Provided notice key '${s}' is not applicable to the current experience.`);const l=e.find((e=>e.notice_key===s));if(!a&&!l)return new Error(`'${s}' is not a valid notice key`);const d=l?.consent_mechanism===r.NOTICE_ONLY;return d&&!0!==o&&o!==c.ACKNOWLEDGE&&!window?.FidesPreview?new Error(`Invalid consent value for notice-only notice key: '${s}'. Must be \`true\` or "acknowledge"`):d||"boolean"==typeof o||o===c.OPT_IN||o===c.OPT_OUT?null:new Error(`Invalid consent value for notice key: '${s}'. Must be a boolean or "opt_in" or "opt_out"`)}),null),zt=async(e,t)=>{const{experience:n,cookie:i,config:s,locale:o}=e;if(!n)throw new Error("Experience must be initialized before updating consent");if(!s)throw new Error("Config is not initialized");if(!i)throw new Error("Cookie is not initialized");if(!t?.noticeConsent&&!t?.fidesString&&!t?.tcf)throw new Error("Either consent object or fidesString must be provided");if(t?.validation&&!Object.values(p).includes(t.validation))throw new Error(`Validation must be one of: ${Object.values(p).join(", ")} (default is ${p.THROW})`);const{noticeConsent:r,fidesString:a,validation:l=p.THROW,consentMethod:d=O.SCRIPT,eventExtraDetails:u={trigger:{origin:rt.EXTERNAL}},tcf:E,updateCookie:g}=t,{experience_config:h,privacy_notices:_,non_applicable_privacy_notices:S}=n,T=j(n)||L,N=e=>{if(l===p.THROW)throw new Error(e);l===p.WARN&&console.warn(e)};let I=i.consent||{};if(a)try{const e=Pe(a);if(e.nc){const t=Ae(e.nc);I={...i.consent,...t};const n=jt(_||[],S||[],I,d);n&&N(n.message)}}catch(e){N(`Invalid fidesString provided: ${e instanceof Error?e.message:String(e)}`)}else if(r){const e=jt(_||[],S||[],r,d);e&&N(e.message),I={...i.consent,...r}}const f=se(I,_||[],o,T,!0);let A;h?.translations?.length&&(A=J(o,T,h)?.privacy_experience_config_history_id);const C=ge(s.geolocation),m=Ft.getServedNoticeHistoryId();return(async({consentPreferencesToSave:e,privacyExperienceConfigHistoryId:t,experience:n,consentMethod:i,options:s,userLocationString:o,cookie:r,eventExtraDetails:a,servedNoticeHistoryId:l,tcf:d,updateCookie:p})=>{if(!p&&e&&(p=t=>Qe(t,e)),!p&&!e)throw new Error("updateCookie is required");const u={...a?.trigger,origin:a?.trigger?.origin||(kt.includes(i)?rt.EXTERNAL:rt.FIDES)},E=await p(r);Object.assign(r,E),Object.assign(r.fides_meta,{consentMethod:i}),lt("FidesUpdating",r,{...a,trigger:u});const g=Ce(r.consent,window.Fides?.experience?.non_applicable_privacy_notices,window.Fides?.experience?.privacy_notices,void 0,void 0,r.non_applicable_notice_keys),h=!!window.Fides?.experience?.non_applicable_privacy_notices||!!window.Fides?.experience?.privacy_notices;if(window.Fides.consent=me(g,s,h),window.Fides.fides_string=r.fides_string,window.Fides.tcf_consent=r.tcf_consent,await Ke({...r,consent:g},s),window.Fides.saved_consent=r.consent,!s.fidesDisableSaveApi)try{await xt(s,r,n,i,t,e,d,o,l)}catch{}e&&e.filter((e=>e.consentPreference===c.OPT_OUT)).forEach((e=>{e.notice?.cookies&&qe(e.notice.cookies,n.experience_config?.cookie_deletion_based_on_host_domain,n.experience_config?.auto_subdomain_cookie_deletion)})),lt("FidesUpdated",r,{...a,trigger:u})})({consentPreferencesToSave:f,privacyExperienceConfigHistoryId:A,experience:n,consentMethod:d,options:s.options,userLocationString:C,cookie:i,eventExtraDetails:u,servedNoticeHistoryId:m,tcf:E,updateCookie:g})},Ht=e=>{throw new Error(e)},Bt=e=>{typeof window<"u"&&(window.Fides=e)},Kt=({cookie:e,experience:t})=>{let n=t;return ye(e.consent)&&(n=Ye({experience:t,cookie:e})),n},Yt=({tcfEnabled:e=!1})=>({consent:{},experience:void 0,geolocation:{},locale:L,options:{debug:!0,isOverlayEnabled:!1,isPrefetchEnabled:!1,isGeolocationEnabled:!1,geolocationApiUrl:"",overlayParentId:null,modalLinkId:ue,privacyCenterUrl:"",fidesApiUrl:"",tcfEnabled:e,gppEnabled:!1,fidesEmbed:!1,fidesDisableSaveApi:!1,fidesDisableNoticesServedApi:!1,fidesDisableBanner:!1,fidesString:null,apiOptions:null,fidesTcfGdprApplies:e,fidesJsBaseUrl:"",customOptionsPath:null,preventDismissal:!1,allowHTMLDescription:null,base64Cookie:!1,fidesPrimaryColor:null,fidesClearCookie:!1,showFidesBrandLink:!e,fidesConsentOverride:null,otFidesMapping:null,fidesDisabledNotices:null,fidesDisabledSystems:null,fidesConsentNonApplicableFlagMode:null,fidesConsentFlagType:null,fidesInitializedEventMode:"once",fidesCookieCompression:"none"},fides_meta:{},identity:{},tcf_consent:{},saved_consent:{},version:"2.78.0",config:void 0,initialized:!1,onFidesEvent:dt,aep:Ot,blueconic:It,gcm:Ct,gtm:wt,meta:vt,shopify:Rt,showModal:Ie,getModalLinkLabel:()=>U,encodeNoticeConsentString:fe,decodeNoticeConsentString:Ae,reinitialize(){return"function"!=typeof this.init?Promise.reject(new Error("Fides.init method is not available")):((!this.config||!this.initialized)&&Ht("Fides must be initialized before reinitializing"),this.init())},shouldShowExperience(){return!!(this?.experience&&this?.cookie&&this?.saved_consent&&this?.options)&&Oe(this.experience,this.cookie,this.saved_consent,this.options)},updateConsent(e){const{consent:t,fidesString:n,validation:i}=e;return zt(this,{noticeConsent:t,fidesString:n,validation:i})}}),$t=async(e,t)=>{if(!e||!t)return null;const n=await fetch(t,{mode:"cors"});if(!n.ok)return null;try{return await n.json()}catch{return null}},Wt=(e,t)=>{const n={};if(typeof window<"u"){const i=new URLSearchParams(window.location.search),s=t.options.customOptionsPath&&t.options.customOptionsPath.split("."),o=s&&s.length>=0?Ne(s):window.fides_overrides;_e(e)?.forEach((({overrideName:e,overrideType:t,overrideKey:s,validationRegex:r,transform:a})=>{const c=i.get(s),l=o?o[s]:void 0,d=Ge(s),p=c||l||d;p&&r.test(p.toString())&&(n[e]=a?a(p.toString()):"string"===t?p:JSON.parse(p.toString()))}))}return n},qt=async({fides:e,initOverlay:t,renderOverlay:n,updateExperience:i,overrides:s,automatedConsentContext:o})=>{const{config:a}=e;if(!a)throw new Error("Fides config should be initialized");const{options:l,geolocation:d}=a;let p,E=!0,g=()=>U;if(!e.cookie)throw new Error("Fides cookie should be initialized");if(E=l.isOverlayEnabled,E){he(l)||(E=!1),p=await(async(e,t)=>ge(e)||ge(await $t(t.isGeolocationEnabled,t.geolocationApiUrl)))(d,l);let h=!1;if(p?Ee(e.experience)||(h=!0,e.experience=await Mt({userLocationString:p,fidesApiUrl:l.fidesApiUrl,apiOptions:l.apiOptions,requestMinimalTCF:!1,propertyId:e.config?.propertyId,excludeNoticeAssetsBySystems:l.fidesDisabledSystems||void 0})):E=!1,E&&Ee(e.experience)&&Se(e.experience)){const{noticeConsent:d,consentMethod:_,applied:S}=((e,t,n)=>{if(!e||!e.experience_config||!e.privacy_notices?.length)return{noticeConsent:{},consentMethod:null,applied:!1};const{globalPrivacyControl:i,migratedConsent:s,migrationMethod:o,noticeConsentString:a,hasFidesCookie:c}=n,l=!!s&&!!o&&!c;if(!i&&!a&&!l)return{noticeConsent:{},consentMethod:null,applied:!1};let d=!1,p=!1,u=!1;const E=e.privacy_notices.reduce(((e,n)=>{const o={...e},c=ne(n.default_preference);o[n.notice_key]=c,t[n.notice_key]&&(o[n.notice_key]=t[n.notice_key]);const E=te(n,t);if(n.consent_mechanism===r.NOTICE_ONLY)return o[n.notice_key]=!0,o;if(l){const e=s[n.notice_key];if(void 0!==e)return u=!0,o[n.notice_key]=e,o}if(a){const e=Ae(a)[n.notice_key];if(void 0!==e)return p=!0,o[n.notice_key]=e,o}return i&&!E&&n.has_gpc_flag&&(d=!0,o[n.notice_key]=!1),o}),{});if(d||p||u){let e=O.SCRIPT;return u&&o?e=o:p?e=O.SCRIPT:d&&(e=O.GPC),{noticeConsent:E,consentMethod:e,applied:!0}}return{noticeConsent:{},consentMethod:null,applied:!1}})(e.experience,e.saved_consent,o);if(S&&e.experience.privacy_notices&&(e.experience.privacy_notices=e.experience.privacy_notices.map((e=>{const t=d[e.notice_key];let n=e.current_preference;return void 0!==t&&(n=t?c.OPT_IN:c.OPT_OUT),{...e,current_preference:n}}))),h){const t=i({cookie:e.cookie,experience:e.experience});e.experience={...e.experience,...t}}e.config?.propertyId&&(e.experience.property_id=e.config.propertyId);const T=Xe({cookie:e.cookie,experience:e.experience});e.cookie=T,S&&(Object.assign(e.cookie.fides_meta,{consentMethod:_}),await Ke(e.cookie,l));const N=X();if(Q(N,window?.navigator,e.experience,l,s?.experienceTranslationOverrides),e.locale=N.locale||L,g=t=>Z(!!t?.disableLocalization,N,e.experience),e.experience.experience_config?.component===u.HEADLESS){const{modalLinkId:t}=l;!e.experience||l.fidesEmbed||l.modalLinkId,(e=>{let t=0,n=200;return new Promise((i=>{const s=o=>{const r=setTimeout((()=>{const o=document.getElementById(e);o?(clearInterval(r),i(o)):(t+=1,t>=5&&n<1e3&&(n+=200),s(n))}),o)};s(n)}))})(t).then((e=>{Et(N.locale),document.body.classList.add("fides-overlay-modal-link-shown"),e.classList.add("fides-modal-link-shown")})),E=!1}if(t&&E){t({initializedFides:{...e,cookie:e.cookie,config:a,options:l,experience:e.experience,fidesRegionString:p},i18n:N,renderOverlay:n}).catch((e=>{}))}S&&_&&(async(e,t,n)=>{const{experience:i,cookie:s,config:o,locale:r}=e;if(!i||!s||!o||o.options.fidesDisableSaveApi||!i.privacy_notices)return;const{options:a}=o;try{const e=se(t,i.privacy_notices,r||L,L,!1);if(0===e.length)return;let c;i.experience_config?.translations?.length&&(c=J(r||L,L,i.experience_config)?.privacy_experience_config_history_id);const l=ge(o.geolocation),d=Ft.getServedNoticeHistoryId();await xt(a,s,i,n,c,e,void 0,l,d)}catch{}})(e,d,_).catch((e=>{}))}}const{fides_meta:h,identity:_,fides_string:S,tcf_consent:T}=e.cookie,N=Ce(e.cookie.consent,e.experience?.non_applicable_privacy_notices,e.experience?.privacy_notices,l.fidesConsentFlagType??void 0,l.fidesConsentNonApplicableFlagMode??void 0,e.cookie.non_applicable_notice_keys),I=!!e.experience?.non_applicable_privacy_notices||!!e.experience?.privacy_notices;return{consent:me(N,l,I),fides_meta:h,identity:_,fides_string:S,tcf_consent:T,experience:e.experience,geolocation:d,options:l,initialized:!0,getModalLinkLabel:g}};const Jt={...Yt({}),init:async function(e){let t=e??this.config??Ht("Fides must be initialized with a configuration object");(e=>{typeof window<"u"?window.fidesDebugger||(window.fidesDebugger=e?console.log:()=>{}):globalThis.fidesDebugger=()=>{}})(!!t.options?.debug),this.config=t,lt("FidesInitializing",void 0,{gppEnabled:this.config.options.gppEnabled||this.config.experience?.gpp_settings?.enabled,tcfEnabled:this.config.options.tcfEnabled});const n=Wt(h.OPTIONS,t),i=Wt(h.EXPERIENCE_TRANSLATION,t),s=await async function(e){if(!e.options.apiOptions?.getPreferencesFn)return null;try{return await e.options.apiOptions.getPreferencesFn(e)}catch{return null}}(t);!n.fidesString&&s?.fides_string&&(n.fidesString=s.fides_string);const o={optionsOverrides:n,experienceTranslationOverrides:i};t={...t,options:{...t.options,...o.optionsOverrides}},this.config=t;const r=ot(t.options,n);let a;r.migratedConsent&&!Fe(t.options.fidesCookieSuffix)&&(a=r.migratedConsent),this.cookie=await(async({consent:e,options:t})=>{const n=st(),i=$e(e,n);return Be(i,t)})(t),this.cookie.consent={...this.cookie.consent,...a},this.saved_consent={...this.cookie.consent};const{fidesString:c}=t.options;if(c)try{const{nc:e}=Pe(c);this.decodeNoticeConsentString(e);const t={fides_string:c};this.cookie={...this.cookie,...t}}catch{}if(this.experience=t.experience,!Le(this.cookie)||a){const e=(({cookie:e,savedConsent:t,experience:n,geolocation:i,options:s,updateExperienceFromCookieConsent:o})=>{let r=n;return Ee(n)&&(r=o({experience:n,cookie:e,debug:s.debug})),{consent:e.consent,fides_meta:e.fides_meta,identity:e.identity,experience:r,tcf_consent:e.tcf_consent,fides_string:e.fides_string,saved_consent:t,geolocation:i,options:s,initialized:!0}})({...t,cookie:this.cookie,savedConsent:this.saved_consent,updateExperienceFromCookieConsent:Ye});Object.assign(this,e),Bt(this),this.experience=e.experience,pt(this.cookie,{shouldShowExperience:this.shouldShowExperience()})}const l=await qt({fides:this,updateExperience:Kt,overrides:o,automatedConsentContext:r});Object.assign(this,l),Bt(this),ut(this.cookie,{shouldShowExperience:this.shouldShowExperience()})}};Bt(Jt),e.AssetType=a,e.BannerEnabled=E,e.ButtonType=_,e.CONSENT_COOKIE_MAX_AGE_DAYS=365,e.CONSENT_COOKIE_NAME=De,e.ComponentType=u,e.ConsentFlagType=d,e.ConsentMechanism=r,e.ConsentMethod=O,e.ConsentNonApplicableFlagMode=l,e.DEFAULT_LOCALE=L,e.DEFAULT_MODAL_LINK_ID=ue,e.DEFAULT_MODAL_LINK_LABEL=U,e.EnforcementLevel=o,e.FIDES_LOCALE_UPDATED_EVENT=ct,e.FidesEndpointPaths=yt,e.FidesEventOrigin=rt,e.FidesEventTargetType=at,e.FidesModalDefaultView=g,e.GpcStatus=I,e.LOCALE_REGEX=G,e.Layer1ButtonOption=S,e.OverrideType=h,e.PrivacyNoticeFramework=s,e.REQUEST_SOURCE=Ut,e.RejectAllMechanism=T,e.RequestOrigin=N,e.SaveConsentPreference=t,e.ServingComponent=f,e.UpdateConsentValidation=p,e.UserConsentPreference=c,e.allNoticesAreDefaultOptIn=e=>!(!e||!e.every((e=>e.default_preference===c.OPT_IN))),e.applyOverridesToConsent=Ce,e.areLocalesEqual=x,e.buildConsentPreferencesArray=se,e.buildCookieConsentFromConsentPreferences=Je,e.consentCookieObjHasSomeConsentSet=ye,e.constructFidesRegionString=ge,e.createConsentPreferencesToSave=(e,n)=>e.map((e=>{const i=ie(n.includes(e.notice.notice_key),e.notice.consent_mechanism);return new t(e.notice,i,e.bestTranslation?.privacy_notice_history_id)})),e.createConsentProxy=me,e.createEmptyExperience=Vt,e.decodeNoticeConsentString=Ae,e.defaultShowModal=Ie,e.detectUserLocale=Y,e.dispatchConsentLoadedEvents=pt,e.dispatchFidesEvent=lt,e.dispatchLocaleEvent=Et,e.dispatchReadyEvents=ut,e.encodeNoticeConsentString=fe,e.experienceIsValid=Se,e.extractDefaultLocaleFromExperience=j,e.fetchExperience=Mt,e.fetchGvlTranslations=async(e,t)=>{const n=new URLSearchParams;t?.forEach((e=>{n.append("language",e)}));const i={method:"GET",mode:"cors"};let s;try{s=await fetch(`${e}/privacy-experience/gvl/translations${function(e){return Array.from(e).length}(n)>0?"?":""}${n.toString()}`,i)}catch{return{}}return s.ok?await s.json():{}},e.getConsentContext=ot,e.getCookieByName=Ge,e.getCoreFides=Yt,e.getCurrentLocale=function(e){return e.locale},e.getFidesConsentCookie=He,e.getGeolocation=$t,e.getGpcContext=st,e.getGpcStatusFromNotice=({value:e,notice:t,consentContext:n})=>n.globalPrivacyControl&&t.has_gpc_flag&&t.consent_mechanism!==r.NOTICE_ONLY?e?I.OVERRIDDEN:I.APPLIED:I.NONE,e.getOrMakeFidesCookie=Be,e.getOverrideValidatorMapByType=_e,e.getTcfDefaultPreference=e=>e.default_preference??c.OPT_OUT,e.getWindowObjFromPath=Ne,e.hasFidesConsentCookie=Fe,e.i18n=ee,e.initializeI18n=Q,e.isConsentOverride=Te,e.isNewFidesCookie=Le,e.isPrivacyExperience=Ee,e.isValidAcString=e=>{const t=e.split("~")[0];return!!(t&&["1","2"].includes(t)&&e?.match("1"===t?/\d~[0-9.]*$/:/\d~[0-9.]*~dv.[0-9.]*$/))},e.isWildcardCookie=We,e.loadGVLMessagesFromExperience=K,e.loadMessagesFromExperience=B,e.loadMessagesFromFiles=H,e.loadMessagesFromGVLTranslations=function(e,t,n){const i=z(t,n);n.forEach((t=>{e.load(t,i[t])}))},e.localizeModalLinkText=Z,e.makeConsentDefaultsLegacy=$e,e.makeFidesCookie=Ue,e.matchAvailableLocales=$,e.messageExists=W,e.noticeHasConsentInCookie=te,e.onFidesEvent=dt,e.parseCommaSeparatedString=re,e.patchNoticesServed=async({request:e,options:t})=>{if(t.apiOptions?.patchNoticesServedFn)try{return await t.apiOptions.patchNoticesServedFn(e)}catch{return null}const n={...Lt,body:JSON.stringify(e)};try{const e=await fetch(`${t.fidesApiUrl}/notices-served`,n);return e.ok?await e.json():null}catch{return null}},e.patchUserPreference=Gt,e.processExternalConsentValue=oe,e.raise=Ht,e.removeCookiesFromBrowser=qe,e.resolveConsentValue=(e,t)=>e.consent_mechanism===r.NOTICE_ONLY||(t&&te(e,t)?"string"==typeof t[e.notice_key]?ne(t[e.notice_key]):t[e.notice_key]:ne(e.default_preference)),e.resolveLegacyConsentValue=ae,e.saveFidesCookie=Ke,e.selectBestExperienceConfigTranslation=J,e.selectBestNoticeTranslation=q,e.setupI18n=X,e.shouldResurfaceBanner=Oe,e.tcfCookieIsProperlySet=e=>{if(!e||!e.fides_string||!e.tcf_version_hash)return!1;const t=Pe(e.fides_string);return!!t.tc||!!t.gpp},e.transformConsentToFidesUserPreference=ie,e.transformTcfPreferencesToCookieKeys=e=>{const t={};return ve.forEach((({cookieKey:n})=>{const i=e[n]??[];t[n]=Object.fromEntries(i.map((e=>[e.id,ne(e.preference)])))})),t},e.transformUserPreferenceToBoolean=ne,e.updateCookieFromExperience=Xe,e.updateCookieFromNoticePreferences=Qe,e.updateExperience=Kt,e.updateExperienceFromCookieConsentNotices=Ye,e.updateWindowFides=Bt,e.validateOptions=he}));class e{eventName;listenerId;data;pingData;constructor(e,t,n,i){this.eventName=e,this.listenerId=t,this.data=n,this.pingData=i}}class t{gppVersion;cmpStatus;cmpDisplayStatus;signalStatus;supportedAPIs;cmpId;sectionList;applicableSections;gppString;parsedSections;constructor(e){this.gppVersion=e.gppVersion,this.cmpStatus=e.cmpStatus,this.cmpDisplayStatus=e.cmpDisplayStatus,this.signalStatus=e.signalStatus,this.supportedAPIs=e.supportedAPIs,this.cmpId=e.cmpId,this.sectionList=e.gppModel.getSectionIds(),this.applicableSections=e.applicableSections,this.gppString=e.gppModel.encode(),this.parsedSections=e.gppModel.toObject()}}let n=class{callback;parameter;success=!0;cmpApiContext;constructor(e,t,n){this.cmpApiContext=e,Object.assign(this,{callback:t,parameter:n})}execute(){try{return this.respond()}catch{return this.invokeCallback(null),null}}invokeCallback(e){const t=null!==e;this.callback&&this.callback(e,t)}},i=class extends n{respond(){let n=this.cmpApiContext.eventQueue.add({callback:this.callback,parameter:this.parameter}),i=new e("listenerRegistered",n,!0,new t(this.cmpApiContext));this.invokeCallback(i)}},s=class extends n{respond(){let e=new t(this.cmpApiContext);this.invokeCallback(e)}};class o extends n{respond(){if(!this.parameter||0===this.parameter.length)throw new Error("<section>.<field> parameter required");let e=this.parameter.split(".");if(2!=e.length)throw new Error("Field name must be in the format <section>.<fieldName>");let t=e[0],n=e[1],i=this.cmpApiContext.gppModel.getFieldValue(t,n);this.invokeCallback(i)}}class r extends n{respond(){if(!this.parameter||0===this.parameter.length)throw new Error("<section> parameter required");let e=null;this.cmpApiContext.gppModel.hasSection(this.parameter)&&(e=this.cmpApiContext.gppModel.getSection(this.parameter)),this.invokeCallback(e)}}class a extends n{respond(){if(!this.parameter||0===this.parameter.length)throw new Error("<section>[.version] parameter required");let e=this.cmpApiContext.gppModel.hasSection(this.parameter);this.invokeCallback(e)}}var c,l;(l=c||(c={})).ADD_EVENT_LISTENER="addEventListener",l.GET_FIELD="getField",l.GET_SECTION="getSection",l.HAS_SECTION="hasSection",l.PING="ping",l.REMOVE_EVENT_LISTENER="removeEventListener";let d=class extends n{respond(){let n=this.parameter,i=this.cmpApiContext.eventQueue.remove(n),s=new e("listenerRemoved",n,i,new t(this.cmpApiContext));this.invokeCallback(s)}},p=class{static[c.ADD_EVENT_LISTENER]=i;static[c.GET_FIELD]=o;static[c.GET_SECTION]=r;static[c.HAS_SECTION]=a;static[c.PING]=s;static[c.REMOVE_EVENT_LISTENER]=d};var u,E,g,h;!function(e){e.STUB="stub",e.LOADING="loading",e.LOADED="loaded",e.ERROR="error"}(u||(u={})),function(e){e.VISIBLE="visible",e.HIDDEN="hidden",e.DISABLED="disabled"}(E||(E={})),function(e){e.GPP_LOADED="gpploaded",e.CMP_UI_SHOWN="cmpuishown",e.USER_ACTION_COMPLETE="useractioncomplete"}(g||(g={})),function(e){e.NOT_READY="not ready",e.READY="ready"}(h||(h={}));class _{callQueue;customCommands;cmpApiContext;constructor(e,t){if(this.cmpApiContext=e,t){let e=c.ADD_EVENT_LISTENER;if(t?.[e])throw new Error(`Built-In Custom Commmand for ${e} not allowed`);if(e=c.REMOVE_EVENT_LISTENER,t?.[e])throw new Error(`Built-In Custom Commmand for ${e} not allowed`);this.customCommands=t}try{this.callQueue=window.__gpp()||[]}catch{this.callQueue=[]}finally{window.__gpp=this.apiCall.bind(this),this.purgeQueuedCalls()}}apiCall(e,t,n,i){if("string"!=typeof e)t(null,!1);else{if(t&&"function"!=typeof t)throw new Error("invalid callback function");this.isCustomCommand(e)?this.customCommands[e](t,n):this.isBuiltInCommand(e)?new p[e](this.cmpApiContext,t,n).execute():t&&t(null,!1)}}purgeQueuedCalls(){const e=this.callQueue;this.callQueue=[],e.forEach((e=>{window.__gpp(...e)}))}isCustomCommand(e){return this.customCommands&&"function"==typeof this.customCommands[e]}isBuiltInCommand(e){return void 0!==p[e]}}let S=class{eventQueue=new Map;queueNumber=1e3;cmpApiContext;constructor(e){this.cmpApiContext=e;try{let e=window.__gpp("events")||[];for(var t=0;t<e.length;t++){let n=e[t];this.eventQueue.set(n.id,{callback:n.callback,parameter:n.parameter})}}catch(e){console.log(e)}}add(e){return this.eventQueue.set(this.queueNumber,e),this.queueNumber++}get(e){return this.eventQueue.get(e)}remove(e){return this.eventQueue.delete(e)}exec(n,i){this.eventQueue.forEach(((s,o)=>{let r=new e(n,o,i,new t(this.cmpApiContext));s.callback(r,!0)}))}clear(){this.queueNumber=1e3,this.eventQueue.clear()}get size(){return this.eventQueue.size}};class T extends Error{constructor(e){super(e),this.name="InvalidFieldError"}}class O{segments;encodedString=null;dirty=!1;decoded=!0;constructor(){this.segments=this.initializeSegments()}hasField(e){this.decoded||(this.segments=this.decodeSection(this.encodedString),this.dirty=!1,this.decoded=!0);for(let t=0;t<this.segments.length;t++){let n=this.segments[t];if(n.getFieldNames().includes(e))return n.hasField(e)}return!1}getFieldValue(e){this.decoded||(this.segments=this.decodeSection(this.encodedString),this.dirty=!1,this.decoded=!0);for(let t=0;t<this.segments.length;t++){let n=this.segments[t];if(n.hasField(e))return n.getFieldValue(e)}throw new T("Invalid field: '"+e+"'")}setFieldValue(e,t){this.decoded||(this.segments=this.decodeSection(this.encodedString),this.dirty=!1,this.decoded=!0);for(let n=0;n<this.segments.length;n++){let i=this.segments[n];if(i.hasField(e))return void i.setFieldValue(e,t)}throw new T("Invalid field: '"+e+"'")}toObj(){let e={};for(let t=0;t<this.segments.length;t++){let n=this.segments[t].toObj();for(const[t,i]of Object.entries(n))e[t]=i}return e}encode(){return(null==this.encodedString||0===this.encodedString.length||this.dirty)&&(this.encodedString=this.encodeSection(this.segments),this.dirty=!1,this.decoded=!0),this.encodedString}decode(e){this.encodedString=e,this.segments=this.decodeSection(this.encodedString),this.dirty=!1,this.decoded=!1}setIsDirty(e){this.dirty=e}}let N=class extends Error{constructor(e){super(e),this.name="DecodingError"}},I=class extends Error{constructor(e){super(e),this.name="EncodingError"}};class f{static encode(e,t){let n=[];if(e>=1)for(n.push(1);e>=2*n[0];)n.unshift(2*n[0]);let i="";for(let t=0;t<n.length;t++){let s=n[t];e>=s?(i+="1",e-=s):i+="0"}if(i.length>t)throw new I("Numeric value '"+e+"' is too large for a bit string length of '"+t+"'");for(;i.length<t;)i="0"+i;return i}static decode(e){if(!/^[0-1]*$/.test(e))throw new N("Undecodable FixedInteger '"+e+"'");let t=0,n=[];for(let t=0;t<e.length;t++)n[e.length-(t+1)]=0===t?1:2*n[e.length-t];for(let i=0;i<e.length;i++)"1"===e.charAt(i)&&(t+=n[i]);return t}}class A{static DICT="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_";static REVERSE_DICT=new Map([["A",0],["B",1],["C",2],["D",3],["E",4],["F",5],["G",6],["H",7],["I",8],["J",9],["K",10],["L",11],["M",12],["N",13],["O",14],["P",15],["Q",16],["R",17],["S",18],["T",19],["U",20],["V",21],["W",22],["X",23],["Y",24],["Z",25],["a",26],["b",27],["c",28],["d",29],["e",30],["f",31],["g",32],["h",33],["i",34],["j",35],["k",36],["l",37],["m",38],["n",39],["o",40],["p",41],["q",42],["r",43],["s",44],["t",45],["u",46],["v",47],["w",48],["x",49],["y",50],["z",51],["0",52],["1",53],["2",54],["3",55],["4",56],["5",57],["6",58],["7",59],["8",60],["9",61],["-",62],["_",63]]);encode(e){if(!/^[0-1]*$/.test(e))throw new I("Unencodable Base64Url '"+e+"'");e=this.pad(e);let t="",n=0;for(;n<=e.length-6;){let i=e.substring(n,n+6);try{let e=f.decode(i);t+=A.DICT.charAt(e),n+=6}catch{throw new I("Unencodable Base64Url '"+e+"'")}}return t}decode(e){if(!/^[A-Za-z0-9\-_]*$/.test(e))throw new N("Undecodable Base64URL string '"+e+"'");let t="";for(let n=0;n<e.length;n++){let i=e.charAt(n),s=A.REVERSE_DICT.get(i);t+=f.encode(s,6)}return t}}class C extends A{static instance=new C;constructor(){super()}static getInstance(){return this.instance}pad(e){for(;e.length%8>0;)e+="0";for(;e.length%6>0;)e+="0";return e}}class m{static instance=new m;constructor(){}static getInstance(){return this.instance}encode(e,t){let n="";for(let i=0;i<t.length;i++){let s=t[i];if(!e.containsKey(s))throw new Error("Field not found: '"+s+"'");n+=e.get(s).encode()}return n}decode(e,t,n){let i=0;for(let s=0;s<t.length;s++){let o=t[s];if(!n.containsKey(o))throw new Error("Field not found: '"+o+"'");{let t=n.get(o);try{let n=t.substring(e,i);t.decode(n),i+=n.length}catch(e){if("SubstringError"===e.name&&!t.getHardFailIfMissing())return;throw new N("Unable to decode field '"+o+"'")}}}}}class w{static encode(e){let t=[];if(e>=1&&(t.push(1),e>=2)){t.push(2);let n=2;for(;e>=t[n-1]+t[n-2];)t.push(t[n-1]+t[n-2]),n++}let n="1";for(let i=t.length-1;i>=0;i--){let s=t[i];e>=s?(n="1"+n,e-=s):n="0"+n}return n}static decode(e){if(!/^[0-1]*$/.test(e)||e.length<2||e.indexOf("11")!==e.length-2)throw new N("Undecodable FibonacciInteger '"+e+"'");let t=0,n=[];for(let t=0;t<e.length-1;t++)0===t?n.push(1):1===t?n.push(2):n.push(n[t-1]+n[t-2]);for(let i=0;i<e.length-1;i++)"1"===e.charAt(i)&&(t+=n[i]);return t}}let v=class{static encode(e){if(!0===e)return"1";if(!1===e)return"0";throw new I("Unencodable Boolean '"+e+"'")}static decode(e){if("1"===e)return!0;if("0"===e)return!1;throw new N("Undecodable Boolean '"+e+"'")}};class P{static encode(e){e=e.sort(((e,t)=>e-t));let t=[],n=0,i=0;for(;i<e.length;){let n=i;for(;n<e.length-1&&e[n]+1===e[n+1];)n++;t.push(e.slice(i,n+1)),i=n+1}let s=f.encode(t.length,12);for(let e=0;e<t.length;e++)if(1==t[e].length){let i=t[e][0]-n;n=t[e][0],s+="0"+w.encode(i)}else{let i=t[e][0]-n;n=t[e][0];let o=t[e][t[e].length-1]-n;n=t[e][t[e].length-1],s+="1"+w.encode(i)+w.encode(o)}return s}static decode(e){if(!/^[0-1]*$/.test(e)||e.length<12)throw new N("Undecodable FibonacciIntegerRange '"+e+"'");let t=[],n=f.decode(e.substring(0,12)),i=0,s=12;for(let o=0;o<n;o++){let n=v.decode(e.substring(s,s+1));if(s++,!0===n){let n=e.indexOf("11",s),o=w.decode(e.substring(s,n+2))+i;i=o,s=n+2,n=e.indexOf("11",s);let r=w.decode(e.substring(s,n+2))+i;i=r,s=n+2;for(let e=o;e<=r;e++)t.push(e)}else{let n=e.indexOf("11",s),o=w.decode(e.substring(s,n+2))+i;i=o,t.push(o),s=n+2}}return t}}class D extends Error{constructor(e){super(e),this.name="ValidationError"}}class b{hardFailIfMissing;validator;value;constructor(e=!0){this.hardFailIfMissing=e}withValidator(e){return this.validator=e,this}hasValue(){return void 0!==this.value&&null!==this.value}getValue(){return this.value}setValue(e){if(this.validator&&!this.validator.test(e))throw new D("Invalid value '"+e+"'");this.value=e}getHardFailIfMissing(){return this.hardFailIfMissing}}class R extends N{constructor(e){super(e),this.name="SubstringError"}}class y{static substring(e,t,n){if(n>e.length||t<0||t>n)throw new R("Invalid substring indexes "+t+":"+n+" for string of length "+e.length);return e.substring(t,n)}}class V extends b{constructor(e,t=!0){super(t),this.setValue(e)}encode(){try{return P.encode(this.value)}catch(e){throw new I(e)}}decode(e){try{this.value=P.decode(e)}catch(e){throw new N(e)}}substring(e,t){try{let n=f.decode(y.substring(e,t,t+12)),i=t+12;for(let t=0;t<n;t++)i="1"===e.charAt(i)?e.indexOf("11",e.indexOf("11",i+1)+2)+2:e.indexOf("11",i+1)+2;return y.substring(e,t,i)}catch(e){throw new R(e)}}getValue(){return[...super.getValue()]}setValue(e){super.setValue(Array.from(new Set(e)).sort(((e,t)=>e-t)))}}class M extends b{bitStringLength;constructor(e,t,n=!0){super(n),this.bitStringLength=e,this.setValue(t)}encode(){try{return f.encode(this.value,this.bitStringLength)}catch(e){throw new I(e)}}decode(e){try{this.value=f.decode(e)}catch(e){throw new N(e)}}substring(e,t){try{return y.substring(e,t,t+this.bitStringLength)}catch(e){throw new R(e)}}}class L{fields=new Map;containsKey(e){return this.fields.has(e)}put(e,t){this.fields.set(e,t)}get(e){return this.fields.get(e)}getAll(){return new Map(this.fields)}reset(e){this.fields.clear(),e.getAll().forEach(((e,t)=>{this.fields.set(t,e)}))}}var U;!function(e){e.ID="Id",e.VERSION="Version",e.SECTION_IDS="SectionIds"}(U||(U={}));const G=[U.ID,U.VERSION,U.SECTION_IDS];class F{fields;encodedString=null;dirty=!1;decoded=!0;constructor(){this.fields=this.initializeFields()}validate(){}hasField(e){return this.fields.containsKey(e)}getFieldValue(e){if(this.decoded||(this.decodeSegment(this.encodedString,this.fields),this.dirty=!1,this.decoded=!0),this.fields.containsKey(e))return this.fields.get(e).getValue();throw new T("Invalid field: '"+e+"'")}setFieldValue(e,t){if(this.decoded||(this.decodeSegment(this.encodedString,this.fields),this.dirty=!1,this.decoded=!0),!this.fields.containsKey(e))throw new T(e+" not found");this.fields.get(e).setValue(t),this.dirty=!0}toObj(){let e={},t=this.getFieldNames();for(let n=0;n<t.length;n++){let i=t[n],s=this.getFieldValue(i);e[i]=s}return e}encode(){return(null==this.encodedString||0===this.encodedString.length||this.dirty)&&(this.validate(),this.encodedString=this.encodeSegment(this.fields),this.dirty=!1,this.decoded=!0),this.encodedString}decode(e){this.encodedString=e,this.dirty=!1,this.decoded=!1}}class k extends F{base64UrlEncoder=C.getInstance();bitStringEncoder=m.getInstance();constructor(e){super(),e&&this.decode(e)}getFieldNames(){return G}initializeFields(){let e=new L;return e.put(U.ID.toString(),new M(6,x.ID)),e.put(U.VERSION.toString(),new M(6,x.VERSION)),e.put(U.SECTION_IDS.toString(),new V([])),e}encodeSegment(e){let t=this.bitStringEncoder.encode(e,this.getFieldNames());return this.base64UrlEncoder.encode(t)}decodeSegment(e,t){(null==e||0===e.length)&&this.fields.reset(t);try{let n=this.base64UrlEncoder.decode(e);this.bitStringEncoder.decode(n,this.getFieldNames(),t)}catch{throw new N("Unable to decode HeaderV1CoreSegment '"+e+"'")}}}class x extends O{static ID=3;static VERSION=1;static NAME="header";constructor(e){super(),e&&e.length>0&&this.decode(e)}getId(){return x.ID}getName(){return x.NAME}getVersion(){return x.VERSION}initializeSegments(){let e=[];return e.push(new k),e}decodeSection(e){let t=this.initializeSegments();if(null!=e&&0!==e.length){let n=e.split(".");for(let e=0;e<t.length;e++)n.length>e&&t[e].decode(n[e])}return t}encodeSection(e){let t=[];for(let n=0;n<e.length;n++){let i=e[n];t.push(i.encode())}return t.join(".")}}var j;!function(e){e.VERSION="Version",e.CREATED="Created",e.LAST_UPDATED="LastUpdated",e.CMP_ID="CmpId",e.CMP_VERSION="CmpVersion",e.CONSENT_SCREEN="ConsentScreen",e.CONSENT_LANGUAGE="ConsentLanguage",e.VENDOR_LIST_VERSION="VendorListVersion",e.POLICY_VERSION="PolicyVersion",e.IS_SERVICE_SPECIFIC="IsServiceSpecific",e.USE_NON_STANDARD_STACKS="UseNonStandardStacks",e.SPECIAL_FEATURE_OPTINS="SpecialFeatureOptins",e.PURPOSE_CONSENTS="PurposeConsents",e.PURPOSE_LEGITIMATE_INTERESTS="PurposeLegitimateInterests",e.PURPOSE_ONE_TREATMENT="PurposeOneTreatment",e.PUBLISHER_COUNTRY_CODE="PublisherCountryCode",e.VENDOR_CONSENTS="VendorConsents",e.VENDOR_LEGITIMATE_INTERESTS="VendorLegitimateInterests",e.PUBLISHER_RESTRICTIONS="PublisherRestrictions",e.PUBLISHER_PURPOSES_SEGMENT_TYPE="PublisherPurposesSegmentType",e.PUBLISHER_CONSENTS="PublisherConsents",e.PUBLISHER_LEGITIMATE_INTERESTS="PublisherLegitimateInterests",e.NUM_CUSTOM_PURPOSES="NumCustomPurposes",e.PUBLISHER_CUSTOM_CONSENTS="PublisherCustomConsents",e.PUBLISHER_CUSTOM_LEGITIMATE_INTERESTS="PublisherCustomLegitimateInterests",e.VENDORS_ALLOWED_SEGMENT_TYPE="VendorsAllowedSegmentType",e.VENDORS_ALLOWED="VendorsAllowed",e.VENDORS_DISCLOSED_SEGMENT_TYPE="VendorsDisclosedSegmentType",e.VENDORS_DISCLOSED="VendorsDisclosed"}(j||(j={}));const z=[j.VERSION,j.CREATED,j.LAST_UPDATED,j.CMP_ID,j.CMP_VERSION,j.CONSENT_SCREEN,j.CONSENT_LANGUAGE,j.VENDOR_LIST_VERSION,j.POLICY_VERSION,j.IS_SERVICE_SPECIFIC,j.USE_NON_STANDARD_STACKS,j.SPECIAL_FEATURE_OPTINS,j.PURPOSE_CONSENTS,j.PURPOSE_LEGITIMATE_INTERESTS,j.PURPOSE_ONE_TREATMENT,j.PUBLISHER_COUNTRY_CODE,j.VENDOR_CONSENTS,j.VENDOR_LEGITIMATE_INTERESTS,j.PUBLISHER_RESTRICTIONS],H=[j.PUBLISHER_PURPOSES_SEGMENT_TYPE,j.PUBLISHER_CONSENTS,j.PUBLISHER_LEGITIMATE_INTERESTS,j.NUM_CUSTOM_PURPOSES,j.PUBLISHER_CUSTOM_CONSENTS,j.PUBLISHER_CUSTOM_LEGITIMATE_INTERESTS],B=[j.VENDORS_ALLOWED_SEGMENT_TYPE,j.VENDORS_ALLOWED],K=[j.VENDORS_DISCLOSED_SEGMENT_TYPE,j.VENDORS_DISCLOSED];class Y extends A{static instance=new Y;constructor(){super()}static getInstance(){return this.instance}pad(e){for(;e.length%24>0;)e+="0";return e}}class ${static encode(e){e.sort(((e,t)=>e-t));let t=[],n=0;for(;n<e.length;){let i=n;for(;i<e.length-1&&e[i]+1===e[i+1];)i++;t.push(e.slice(n,i+1)),n=i+1}let i=f.encode(t.length,12);for(let e=0;e<t.length;e++)1===t[e].length?i+="0"+f.encode(t[e][0],16):i+="1"+f.encode(t[e][0],16)+f.encode(t[e][t[e].length-1],16);return i}static decode(e){if(!/^[0-1]*$/.test(e)||e.length<12)throw new N("Undecodable FixedIntegerRange '"+e+"'");let t=[],n=f.decode(e.substring(0,12)),i=12;for(let s=0;s<n;s++){let n=v.decode(e.substring(i,i+1));if(i++,!0===n){let n=f.decode(e.substring(i,i+16));i+=16;let s=f.decode(e.substring(i,i+16));i+=16;for(let e=n;e<=s;e++)t.push(e)}else{let n=f.decode(e.substring(i,i+16));t.push(n),i+=16}}return t}}class W extends b{constructor(e,t=!0){super(t),this.setValue(e)}encode(){try{return $.encode(this.value)}catch(e){throw new I(e)}}decode(e){try{this.value=$.decode(e)}catch(e){throw new N(e)}}substring(e,t){try{let n=f.decode(y.substring(e,t,t+12)),i=t+12;for(let t=0;t<n;t++)"1"===e.charAt(i)?i+=33:i+=17;return y.substring(e,t,i)}catch(e){throw new R(e)}}getValue(){return[...super.getValue()]}setValue(e){super.setValue(Array.from(new Set(e)).sort(((e,t)=>e-t)))}}class q{key;type;ids;constructor(e,t,n){this.key=e,this.type=t,this.ids=n}getKey(){return this.key}setKey(e){this.key=e}getType(){return this.type}setType(e){this.type=e}getIds(){return this.ids}setIds(e){this.ids=e}}class J extends b{keyBitStringLength;typeBitStringLength;constructor(e,t,n,i=!0){super(i),this.keyBitStringLength=e,this.typeBitStringLength=t,this.setValue(n)}encode(){try{let e=this.value,t="";t+=f.encode(e.length,12);for(let n=0;n<e.length;n++){let i=e[n];t+=f.encode(i.getKey(),this.keyBitStringLength),t+=f.encode(i.getType(),this.typeBitStringLength),t+=$.encode(i.getIds())}return t}catch(e){throw new I(e)}}decode(e){try{let t=[],n=f.decode(y.substring(e,0,12)),i=12;for(let s=0;s<n;s++){let n=f.decode(y.substring(e,i,i+this.keyBitStringLength));i+=this.keyBitStringLength;let s=f.decode(y.substring(e,i,i+this.typeBitStringLength));i+=this.typeBitStringLength;let o=new W([]).substring(e,i),r=$.decode(o);i+=o.length,t.push(new q(n,s,r))}this.value=t}catch(e){throw new N(e)}}substring(e,t){try{let n="";n+=y.substring(e,t,t+12);let i=f.decode(n.toString()),s=t+n.length;for(let t=0;t<i;t++){let t=y.substring(e,s,s+this.keyBitStringLength);s+=t.length,n+=t;let i=y.substring(e,s,s+this.typeBitStringLength);s+=i.length,n+=i;let o=new W([]).substring(e,s);s+=o.length,n+=o}return n}catch(e){throw new R(e)}}}class Q extends b{constructor(e,t=!0){super(t),this.setValue(e)}encode(){try{return v.encode(this.value)}catch(e){throw new I(e)}}decode(e){try{this.value=v.decode(e)}catch(e){throw new N(e)}}substring(e,t){try{return y.substring(e,t,t+1)}catch(e){throw new R(e)}}}class X{static encode(e){return e?f.encode(Math.round(e.getTime()/100),36):f.encode(0,36)}static decode(e){if(!/^[0-1]*$/.test(e)||36!==e.length)throw new N("Undecodable Datetime '"+e+"'");return new Date(100*f.decode(e))}}class Z extends b{constructor(e,t=!0){super(t),this.setValue(e)}encode(){try{return X.encode(this.value)}catch(e){throw new I(e)}}decode(e){try{this.value=X.decode(e)}catch(e){throw new N(e)}}substring(e,t){try{return y.substring(e,t,t+36)}catch(e){throw new R(e)}}}class ee{static encode(e,t){if(e.length>t)throw new I("Too many values '"+e.length+"'");let n="";for(let t=0;t<e.length;t++)n+=v.encode(e[t]);for(;n.length<t;)n+="0";return n}static decode(e){if(!/^[0-1]*$/.test(e))throw new N("Undecodable FixedBitfield '"+e+"'");let t=[];for(let n=0;n<e.length;n++)t.push(v.decode(e.substring(n,n+1)));return t}}class te extends b{numElements;constructor(e,t=!0){super(t),this.numElements=e.length,this.setValue(e)}encode(){try{return ee.encode(this.value,this.numElements)}catch(e){throw new I(e)}}decode(e){try{this.value=ee.decode(e)}catch(e){throw new N(e)}}substring(e,t){try{return y.substring(e,t,t+this.numElements)}catch(e){throw new R(e)}}getValue(){return[...super.getValue()]}setValue(e){let t=[...e];for(let e=t.length;e<this.numElements;e++)t.push(!1);t.length>this.numElements&&(t=t.slice(0,this.numElements)),super.setValue(t)}}class ne{static encode(e,t){for(;e.length<t;)e+=" ";let n="";for(let t=0;t<e.length;t++){let i=e.charCodeAt(t);if(32===i)n+=f.encode(63,6);else{if(!(i>=65))throw new I("Unencodable FixedString '"+e+"'");n+=f.encode(e.charCodeAt(t)-65,6)}}return n}static decode(e){if(!/^[0-1]*$/.test(e)||e.length%6!=0)throw new N("Undecodable FixedString '"+e+"'");let t="";for(let n=0;n<e.length;n+=6){let i=f.decode(e.substring(n,n+6));t+=63===i?" ":String.fromCharCode(i+65)}return t.trim()}}class ie extends b{stringLength;constructor(e,t,n=!0){super(n),this.stringLength=e,this.setValue(t)}encode(){try{return ne.encode(this.value,this.stringLength)}catch(e){throw new I(e)}}decode(e){try{this.value=ne.decode(e)}catch(e){throw new N(e)}}substring(e,t){try{return y.substring(e,t,t+6*this.stringLength)}catch(e){throw new R(e)}}}class se extends b{constructor(e,t=!0){super(t),this.setValue(e)}encode(){try{let e=this.value.length>0?this.value[this.value.length-1]:0,t=$.encode(this.value),n=t.length,i=e;if(n<=i)return f.encode(e,16)+"1"+t;{let t=[],n=0;for(let i=0;i<e;i++)i===this.value[n]-1?(t[i]=!0,n++):t[i]=!1;return f.encode(e,16)+"0"+ee.encode(t,i)}}catch(e){throw new I(e)}}decode(e){try{if("1"===e.charAt(16))this.value=$.decode(e.substring(17));else{let t=[],n=ee.decode(e.substring(17));for(let e=0;e<n.length;e++)!0===n[e]&&t.push(e+1);this.value=t}}catch(e){throw new N(e)}}substring(e,t){try{let n=f.decode(y.substring(e,t,t+16));return"1"===e.charAt(t+16)?y.substring(e,t,t+17)+new W([]).substring(e,t+17):y.substring(e,t,t+17+n)}catch(e){throw new R(e)}}getValue(){return[...super.getValue()]}setValue(e){super.setValue(Array.from(new Set(e)).sort(((e,t)=>e-t)))}}class oe extends F{base64UrlEncoder=Y.getInstance();bitStringEncoder=m.getInstance();constructor(e){super(),e&&this.decode(e)}getFieldNames(){return z}initializeFields(){let e=new Date,t=new L;return t.put(j.VERSION.toString(),new M(6,de.VERSION)),t.put(j.CREATED.toString(),new Z(e)),t.put(j.LAST_UPDATED.toString(),new Z(e)),t.put(j.CMP_ID.toString(),new M(12,0)),t.put(j.CMP_VERSION.toString(),new M(12,0)),t.put(j.CONSENT_SCREEN.toString(),new M(6,0)),t.put(j.CONSENT_LANGUAGE.toString(),new ie(2,"EN")),t.put(j.VENDOR_LIST_VERSION.toString(),new M(12,0)),t.put(j.POLICY_VERSION.toString(),new M(6,2)),t.put(j.IS_SERVICE_SPECIFIC.toString(),new Q(!1)),t.put(j.USE_NON_STANDARD_STACKS.toString(),new Q(!1)),t.put(j.SPECIAL_FEATURE_OPTINS.toString(),new te([!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1])),t.put(j.PURPOSE_CONSENTS.toString(),new te([!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1])),t.put(j.PURPOSE_LEGITIMATE_INTERESTS.toString(),new te([!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1])),t.put(j.PURPOSE_ONE_TREATMENT.toString(),new Q(!1)),t.put(j.PUBLISHER_COUNTRY_CODE.toString(),new ie(2,"AA")),t.put(j.VENDOR_CONSENTS.toString(),new se([])),t.put(j.VENDOR_LEGITIMATE_INTERESTS.toString(),new se([])),t.put(j.PUBLISHER_RESTRICTIONS.toString(),new J(6,2,[],!1)),t}encodeSegment(e){let t=this.bitStringEncoder.encode(e,this.getFieldNames());return this.base64UrlEncoder.encode(t)}decodeSegment(e,t){(null==e||0===e.length)&&this.fields.reset(t);try{let n=this.base64UrlEncoder.decode(e);this.bitStringEncoder.decode(n,this.getFieldNames(),t)}catch{throw new N("Unable to decode TcfEuV2CoreSegment '"+e+"'")}}}class re extends b{getLength;constructor(e,t,n=!0){super(n),this.getLength=e,this.setValue(t)}encode(){try{return ee.encode(this.value,this.getLength())}catch(e){throw new I(e)}}decode(e){try{this.value=ee.decode(e)}catch(e){throw new N(e)}}substring(e,t){try{return y.substring(e,t,t+this.getLength())}catch(e){throw new R(e)}}getValue(){return[...super.getValue()]}setValue(e){let t=this.getLength(),n=[...e];for(let e=n.length;e<t;e++)n.push(!1);n.length>t&&(n=n.slice(0,t)),super.setValue([...n])}}class ae extends F{base64UrlEncoder=Y.getInstance();bitStringEncoder=m.getInstance();constructor(e){super(),e&&this.decode(e)}getFieldNames(){return H}initializeFields(){let e=new L;e.put(j.PUBLISHER_PURPOSES_SEGMENT_TYPE.toString(),new M(3,3)),e.put(j.PUBLISHER_CONSENTS.toString(),new te([!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1])),e.put(j.PUBLISHER_LEGITIMATE_INTERESTS.toString(),new te([!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1]));let t=new M(6,0);return e.put(j.NUM_CUSTOM_PURPOSES.toString(),t),e.put(j.PUBLISHER_CUSTOM_CONSENTS.toString(),new re((()=>t.getValue()),[])),e.put(j.PUBLISHER_CUSTOM_LEGITIMATE_INTERESTS.toString(),new re((()=>t.getValue()),[])),e}encodeSegment(e){let t=this.bitStringEncoder.encode(e,this.getFieldNames());return this.base64UrlEncoder.encode(t)}decodeSegment(e,t){(null==e||0===e.length)&&this.fields.reset(t);try{let n=this.base64UrlEncoder.decode(e);this.bitStringEncoder.decode(n,this.getFieldNames(),t)}catch{throw new N("Unable to decode TcfEuV2PublisherPurposesSegment '"+e+"'")}}}class ce extends F{base64UrlEncoder=Y.getInstance();bitStringEncoder=m.getInstance();constructor(e){super(),e&&this.decode(e)}getFieldNames(){return B}initializeFields(){let e=new L;return e.put(j.VENDORS_ALLOWED_SEGMENT_TYPE.toString(),new M(3,2)),e.put(j.VENDORS_ALLOWED.toString(),new se([])),e}encodeSegment(e){let t=this.bitStringEncoder.encode(e,this.getFieldNames());return this.base64UrlEncoder.encode(t)}decodeSegment(e,t){(null==e||0===e.length)&&this.fields.reset(t);try{let n=this.base64UrlEncoder.decode(e);this.bitStringEncoder.decode(n,this.getFieldNames(),t)}catch{throw new N("Unable to decode TcfEuV2VendorsAllowedSegment '"+e+"'")}}}class le extends F{base64UrlEncoder=Y.getInstance();bitStringEncoder=m.getInstance();constructor(e){super(),e&&this.decode(e)}getFieldNames(){return K}initializeFields(){let e=new L;return e.put(j.VENDORS_DISCLOSED_SEGMENT_TYPE.toString(),new M(3,1)),e.put(j.VENDORS_DISCLOSED.toString(),new se([])),e}encodeSegment(e){let t=this.bitStringEncoder.encode(e,this.getFieldNames());return this.base64UrlEncoder.encode(t)}decodeSegment(e,t){(null==e||0===e.length)&&this.fields.reset(t);try{let n=this.base64UrlEncoder.decode(e);this.bitStringEncoder.decode(n,this.getFieldNames(),t)}catch{throw new N("Unable to decode TcfEuV2VendorsDisclosedSegment '"+e+"'")}}}class de extends O{static ID=2;static VERSION=2;static NAME="tcfeuv2";constructor(e){super(),e&&e.length>0&&this.decode(e)}getId(){return de.ID}getName(){return de.NAME}getVersion(){return de.VERSION}initializeSegments(){let e=[];return e.push(new oe),e.push(new ae),e.push(new ce),e.push(new le),e}decodeSection(e){let t=this.initializeSegments();if(null!=e&&0!==e.length){let n=e.split(".");for(let e=0;e<n.length;e++){let i=n[e];if(0!==i.length){let s=i.charAt(0);if(s>="A"&&s<="H")t[0].decode(n[e]);else if(s>="I"&&s<="P")t[3].decode(n[e]);else if(s>="Q"&&s<="X")t[2].decode(n[e]);else{if(!(s>="Y"&&s<="Z"||s>="a"&&s<="f"))throw new N("Unable to decode TcfEuV2 segment '"+i+"'");t[1].decode(n[e])}}}}return t}encodeSection(e){let t=[];return e.length>=1&&(t.push(e[0].encode()),this.getFieldValue(j.IS_SERVICE_SPECIFIC)?e.length>=2&&t.push(e[1].encode()):e.length>=2&&(t.push(e[2].encode()),e.length>=3&&t.push(e[3].encode()))),t.join(".")}setFieldValue(e,t){if(super.setFieldValue(e,t),e!==j.CREATED&&e!==j.LAST_UPDATED){let e=new Date;super.setFieldValue(j.CREATED,e),super.setFieldValue(j.LAST_UPDATED,e)}}}var pe;!function(e){e.VERSION="Version",e.CREATED="Created",e.LAST_UPDATED="LastUpdated",e.CMP_ID="CmpId",e.CMP_VERSION="CmpVersion",e.CONSENT_SCREEN="ConsentScreen",e.CONSENT_LANGUAGE="ConsentLanguage",e.VENDOR_LIST_VERSION="VendorListVersion",e.TCF_POLICY_VERSION="TcfPolicyVersion",e.USE_NON_STANDARD_STACKS="UseNonStandardStacks",e.SPECIAL_FEATURE_EXPRESS_CONSENT="SpecialFeatureExpressConsent",e.PUB_PURPOSES_SEGMENT_TYPE="PubPurposesSegmentType",e.PURPOSES_EXPRESS_CONSENT="PurposesExpressConsent",e.PURPOSES_IMPLIED_CONSENT="PurposesImpliedConsent",e.VENDOR_EXPRESS_CONSENT="VendorExpressConsent",e.VENDOR_IMPLIED_CONSENT="VendorImpliedConsent",e.PUB_RESTRICTIONS="PubRestrictions",e.PUB_PURPOSES_EXPRESS_CONSENT="PubPurposesExpressConsent",e.PUB_PURPOSES_IMPLIED_CONSENT="PubPurposesImpliedConsent",e.NUM_CUSTOM_PURPOSES="NumCustomPurposes",e.CUSTOM_PURPOSES_EXPRESS_CONSENT="CustomPurposesExpressConsent",e.CUSTOM_PURPOSES_IMPLIED_CONSENT="CustomPurposesImpliedConsent",e.DISCLOSED_VENDORS_SEGMENT_TYPE="DisclosedVendorsSegmentType",e.DISCLOSED_VENDORS="DisclosedVendors"}(pe||(pe={}));const ue=[pe.VERSION,pe.CREATED,pe.LAST_UPDATED,pe.CMP_ID,pe.CMP_VERSION,pe.CONSENT_SCREEN,pe.CONSENT_LANGUAGE,pe.VENDOR_LIST_VERSION,pe.TCF_POLICY_VERSION,pe.USE_NON_STANDARD_STACKS,pe.SPECIAL_FEATURE_EXPRESS_CONSENT,pe.PURPOSES_EXPRESS_CONSENT,pe.PURPOSES_IMPLIED_CONSENT,pe.VENDOR_EXPRESS_CONSENT,pe.VENDOR_IMPLIED_CONSENT,pe.PUB_RESTRICTIONS],Ee=[pe.PUB_PURPOSES_SEGMENT_TYPE,pe.PUB_PURPOSES_EXPRESS_CONSENT,pe.PUB_PURPOSES_IMPLIED_CONSENT,pe.NUM_CUSTOM_PURPOSES,pe.CUSTOM_PURPOSES_EXPRESS_CONSENT,pe.CUSTOM_PURPOSES_IMPLIED_CONSENT],ge=[pe.DISCLOSED_VENDORS_SEGMENT_TYPE,pe.DISCLOSED_VENDORS];class he extends F{base64UrlEncoder=C.getInstance();bitStringEncoder=m.getInstance();constructor(e){super(),e&&this.decode(e)}getFieldNames(){return ue}initializeFields(){let e=new Date,t=new L;return t.put(pe.VERSION.toString(),new M(6,Te.VERSION)),t.put(pe.CREATED.toString(),new Z(e)),t.put(pe.LAST_UPDATED.toString(),new Z(e)),t.put(pe.CMP_ID.toString(),new M(12,0)),t.put(pe.CMP_VERSION.toString(),new M(12,0)),t.put(pe.CONSENT_SCREEN.toString(),new M(6,0)),t.put(pe.CONSENT_LANGUAGE.toString(),new ie(2,"EN")),t.put(pe.VENDOR_LIST_VERSION.toString(),new M(12,0)),t.put(pe.TCF_POLICY_VERSION.toString(),new M(6,2)),t.put(pe.USE_NON_STANDARD_STACKS.toString(),new Q(!1)),t.put(pe.SPECIAL_FEATURE_EXPRESS_CONSENT.toString(),new te([!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1])),t.put(pe.PURPOSES_EXPRESS_CONSENT.toString(),new te([!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1])),t.put(pe.PURPOSES_IMPLIED_CONSENT.toString(),new te([!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1])),t.put(pe.VENDOR_EXPRESS_CONSENT.toString(),new se([])),t.put(pe.VENDOR_IMPLIED_CONSENT.toString(),new se([])),t.put(pe.PUB_RESTRICTIONS.toString(),new J(6,2,[],!1)),t}encodeSegment(e){let t=this.bitStringEncoder.encode(e,this.getFieldNames());return this.base64UrlEncoder.encode(t)}decodeSegment(e,t){(null==e||0===e.length)&&this.fields.reset(t);try{let n=this.base64UrlEncoder.decode(e);this.bitStringEncoder.decode(n,this.getFieldNames(),t)}catch{throw new N("Unable to decode TcfCaV1CoreSegment '"+e+"'")}}}class _e extends F{base64UrlEncoder=C.getInstance();bitStringEncoder=m.getInstance();constructor(e){super(),e&&this.decode(e)}getFieldNames(){return Ee}initializeFields(){let e=new L;e.put(pe.PUB_PURPOSES_SEGMENT_TYPE.toString(),new M(3,3)),e.put(pe.PUB_PURPOSES_EXPRESS_CONSENT.toString(),new te([!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1])),e.put(pe.PUB_PURPOSES_IMPLIED_CONSENT.toString(),new te([!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1]));let t=new M(6,0);return e.put(pe.NUM_CUSTOM_PURPOSES.toString(),t),e.put(pe.CUSTOM_PURPOSES_EXPRESS_CONSENT.toString(),new re((()=>t.getValue()),[])),e.put(pe.CUSTOM_PURPOSES_IMPLIED_CONSENT.toString(),new re((()=>t.getValue()),[])),e}encodeSegment(e){let t=this.bitStringEncoder.encode(e,this.getFieldNames());return this.base64UrlEncoder.encode(t)}decodeSegment(e,t){(null==e||0===e.length)&&this.fields.reset(t);try{let n=this.base64UrlEncoder.decode(e);this.bitStringEncoder.decode(n,this.getFieldNames(),t)}catch{throw new N("Unable to decode TcfCaV1PublisherPurposesSegment '"+e+"'")}}}class Se extends F{base64UrlEncoder=Y.getInstance();bitStringEncoder=m.getInstance();constructor(e){super(),e&&this.decode(e)}getFieldNames(){return ge}initializeFields(){let e=new L;return e.put(pe.DISCLOSED_VENDORS_SEGMENT_TYPE.toString(),new M(3,1)),e.put(pe.DISCLOSED_VENDORS.toString(),new se([])),e}encodeSegment(e){let t=this.bitStringEncoder.encode(e,this.getFieldNames());return this.base64UrlEncoder.encode(t)}decodeSegment(e,t){(null==e||0===e.length)&&this.fields.reset(t);try{let n=this.base64UrlEncoder.decode(e);this.bitStringEncoder.decode(n,this.getFieldNames(),t)}catch{throw new N("Unable to decode HeaderV1CoreSegment '"+e+"'")}}}class Te extends O{static ID=5;static VERSION=1;static NAME="tcfcav1";constructor(e){super(),e&&e.length>0&&this.decode(e)}getId(){return Te.ID}getName(){return Te.NAME}getVersion(){return Te.VERSION}initializeSegments(){let e=[];return e.push(new he),e.push(new _e),e.push(new Se),e}decodeSection(e){let t=this.initializeSegments();if(null!=e&&0!==e.length){let n=e.split(".");for(let e=0;e<n.length;e++){let i=n[e];if(0!==i.length){let s=i.charAt(0);if(s>="A"&&s<="H")t[0].decode(n[e]);else if(s>="I"&&s<="P")t[2].decode(n[e]);else{if(!(s>="Y"&&s<="Z"||s>="a"&&s<="f"))throw new N("Unable to decode TcfCaV1 segment '"+i+"'");t[1].decode(n[e])}}}}return t}encodeSection(e){let t=[];return t.push(e[0].encode()),t.push(e[1].encode()),this.getFieldValue(pe.DISCLOSED_VENDORS).length>0&&t.push(e[2].encode()),t.join(".")}setFieldValue(e,t){if(super.setFieldValue(e,t),e!==pe.CREATED&&e!==pe.LAST_UPDATED){let e=new Date;super.setFieldValue(pe.CREATED,e),super.setFieldValue(pe.LAST_UPDATED,e)}}}class Oe{validator;value=null;constructor(e,t){this.validator=t||new class{test(e){return!0}},this.setValue(e)}hasValue(){return null!=this.value}getValue(){return this.value}setValue(e){e?this.value=e.charAt(0):e=null}}class Ne{validator;value=null;constructor(e,t){this.validator=t||new class{test(e){return!0}},this.setValue(e)}hasValue(){return null!=this.value}getValue(){return this.value}setValue(e){this.value=e}}class Ie{fields=new Map;containsKey(e){return this.fields.has(e)}put(e,t){this.fields.set(e,t)}get(e){return this.fields.get(e)}getAll(){return new Map(this.fields)}reset(e){this.fields.clear(),e.getAll().forEach(((e,t)=>{this.fields.set(t,e)}))}}var fe;!function(e){e.VERSION="Version",e.NOTICE="Notice",e.OPT_OUT_SALE="OptOutSale",e.LSPA_COVERED="LspaCovered"}(fe||(fe={}));const Ae=[fe.VERSION,fe.NOTICE,fe.OPT_OUT_SALE,fe.LSPA_COVERED];class Ce extends F{constructor(e){super(),e&&this.decode(e)}getFieldNames(){return Ae}initializeFields(){const e=new class{test(e){return"-"===e||"Y"===e||"N"===e}};let t=new Ie;return t.put(fe.VERSION,new Ne(me.VERSION)),t.put(fe.NOTICE,new Oe("-",e)),t.put(fe.OPT_OUT_SALE,new Oe("-",e)),t.put(fe.LSPA_COVERED,new Oe("-",e)),t}encodeSegment(e){let t="";return t+=e.get(fe.VERSION).getValue(),t+=e.get(fe.NOTICE).getValue(),t+=e.get(fe.OPT_OUT_SALE).getValue(),t+=e.get(fe.LSPA_COVERED).getValue(),t}decodeSegment(e,t){if(null==e||4!=e.length)throw new N("Unable to decode UspV1CoreSegment '"+e+"'");try{t.get(fe.VERSION).setValue(parseInt(e.substring(0,1))),t.get(fe.NOTICE).setValue(e.charAt(1)),t.get(fe.OPT_OUT_SALE).setValue(e.charAt(2)),t.get(fe.LSPA_COVERED).setValue(e.charAt(3))}catch{throw new N("Unable to decode UspV1CoreSegment '"+e+"'")}}}class me extends O{static ID=6;static VERSION=1;static NAME="uspv1";constructor(e){super(),e&&e.length>0&&this.decode(e)}getId(){return me.ID}getName(){return me.NAME}getVersion(){return me.VERSION}initializeSegments(){let e=[];return e.push(new Ce),e}decodeSection(e){let t=this.initializeSegments();if(null!=e&&0!==e.length){let n=e.split(".");for(let e=0;e<t.length;e++)n.length>e&&t[e].decode(n[e])}return t}encodeSection(e){let t=[];for(let n=0;n<e.length;n++){let i=e[n];t.push(i.encode())}return t.join(".")}}var we;!function(e){e.VERSION="Version",e.SHARING_NOTICE="SharingNotice",e.SALE_OPT_OUT_NOTICE="SaleOptOutNotice",e.SHARING_OPT_OUT_NOTICE="SharingOptOutNotice",e.TARGETED_ADVERTISING_OPT_OUT_NOTICE="TargetedAdvertisingOptOutNotice",e.SENSITIVE_DATA_PROCESSING_OPT_OUT_NOTICE="SensitiveDataProcessingOptOutNotice",e.SENSITIVE_DATA_LIMIT_USE_NOTICE="SensitiveDataLimitUseNotice",e.SALE_OPT_OUT="SaleOptOut",e.SHARING_OPT_OUT="SharingOptOut",e.TARGETED_ADVERTISING_OPT_OUT="TargetedAdvertisingOptOut",e.SENSITIVE_DATA_PROCESSING="SensitiveDataProcessing",e.KNOWN_CHILD_SENSITIVE_DATA_CONSENTS="KnownChildSensitiveDataConsents",e.PERSONAL_DATA_CONSENTS="PersonalDataConsents",e.MSPA_COVERED_TRANSACTION="MspaCoveredTransaction",e.MSPA_OPT_OUT_OPTION_MODE="MspaOptOutOptionMode",e.MSPA_SERVICE_PROVIDER_MODE="MspaServiceProviderMode",e.GPC_SEGMENT_TYPE="GpcSegmentType",e.GPC_SEGMENT_INCLUDED="GpcSegmentIncluded",e.GPC="Gpc"}(we||(we={}));const ve=[we.VERSION,we.SHARING_NOTICE,we.SALE_OPT_OUT_NOTICE,we.SHARING_OPT_OUT_NOTICE,we.TARGETED_ADVERTISING_OPT_OUT_NOTICE,we.SENSITIVE_DATA_PROCESSING_OPT_OUT_NOTICE,we.SENSITIVE_DATA_LIMIT_USE_NOTICE,we.SALE_OPT_OUT,we.SHARING_OPT_OUT,we.TARGETED_ADVERTISING_OPT_OUT,we.SENSITIVE_DATA_PROCESSING,we.KNOWN_CHILD_SENSITIVE_DATA_CONSENTS,we.PERSONAL_DATA_CONSENTS,we.MSPA_COVERED_TRANSACTION,we.MSPA_OPT_OUT_OPTION_MODE,we.MSPA_SERVICE_PROVIDER_MODE],Pe=[we.GPC_SEGMENT_TYPE,we.GPC];class De{static encode(e,t,n){if(e.length>n)throw new I("Too many values '"+e.length+"'");let i="";for(let n=0;n<e.length;n++)i+=f.encode(e[n],t);for(;i.length<t*n;)i+="0";return i}static decode(e,t,n){if(!/^[0-1]*$/.test(e))throw new N("Undecodable FixedInteger '"+e+"'");if(e.length>t*n)throw new N("Undecodable FixedIntegerList '"+e+"'");if(e.length%t!=0)throw new N("Undecodable FixedIntegerList '"+e+"'");for(;e.length<t*n;)e+="0";e.length>t*n&&(e=e.substring(0,t*n));let i=[];for(let n=0;n<e.length;n+=t)i.push(f.decode(e.substring(n,n+t)));for(;i.length<n;)i.push(0);return i}}class be extends b{elementBitStringLength;numElements;constructor(e,t,n=!0){super(n),this.elementBitStringLength=e,this.numElements=t.length,this.setValue(t)}encode(){try{return De.encode(this.value,this.elementBitStringLength,this.numElements)}catch(e){throw new I(e)}}decode(e){try{this.value=De.decode(e,this.elementBitStringLength,this.numElements)}catch(e){throw new N(e)}}substring(e,t){try{return y.substring(e,t,t+this.elementBitStringLength*this.numElements)}catch(e){throw new R(e)}}getValue(){return[...super.getValue()]}setValue(e){let t=[...e];for(let e=t.length;e<this.numElements;e++)t.push(0);t.length>this.numElements&&(t=t.slice(0,this.numElements)),super.setValue(t)}}class Re extends F{base64UrlEncoder=C.getInstance();bitStringEncoder=m.getInstance();constructor(e){super(),e&&this.decode(e)}getFieldNames(){return ve}initializeFields(){const e=new class{test(e){return e>=0&&e<=2}},t=new class{test(e){return e>=1&&e<=2}},n=new class{test(e){for(let t=0;t<e.length;t++){let n=e[t];if(n<0||n>2)return!1}return!0}};let i=new L;return i.put(we.VERSION.toString(),new M(6,Ve.VERSION)),i.put(we.SHARING_NOTICE.toString(),new M(2,0).withValidator(e)),i.put(we.SALE_OPT_OUT_NOTICE.toString(),new M(2,0).withValidator(e)),i.put(we.SHARING_OPT_OUT_NOTICE.toString(),new M(2,0).withValidator(e)),i.put(we.TARGETED_ADVERTISING_OPT_OUT_NOTICE.toString(),new M(2,0).withValidator(e)),i.put(we.SENSITIVE_DATA_PROCESSING_OPT_OUT_NOTICE.toString(),new M(2,0).withValidator(e)),i.put(we.SENSITIVE_DATA_LIMIT_USE_NOTICE.toString(),new M(2,0).withValidator(e)),i.put(we.SALE_OPT_OUT.toString(),new M(2,0).withValidator(e)),i.put(we.SHARING_OPT_OUT.toString(),new M(2,0).withValidator(e)),i.put(we.TARGETED_ADVERTISING_OPT_OUT.toString(),new M(2,0).withValidator(e)),i.put(we.SENSITIVE_DATA_PROCESSING.toString(),new be(2,[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]).withValidator(n)),i.put(we.KNOWN_CHILD_SENSITIVE_DATA_CONSENTS.toString(),new be(2,[0,0,0]).withValidator(n)),i.put(we.PERSONAL_DATA_CONSENTS.toString(),new M(2,0).withValidator(e)),i.put(we.MSPA_COVERED_TRANSACTION.toString(),new M(2,1).withValidator(t)),i.put(we.MSPA_OPT_OUT_OPTION_MODE.toString(),new M(2,0).withValidator(e)),i.put(we.MSPA_SERVICE_PROVIDER_MODE.toString(),new M(2,0).withValidator(e)),i}encodeSegment(e){let t=this.bitStringEncoder.encode(e,this.getFieldNames());return this.base64UrlEncoder.encode(t)}decodeSegment(e,t){(null==e||0===e.length)&&this.fields.reset(t);try{let n=this.base64UrlEncoder.decode(e);66==n.length&&(n=n.substring(0,48)+"00000000"+n.substring(48,52)+"00"+n.substring(52,62)),this.bitStringEncoder.decode(n,this.getFieldNames(),t)}catch{throw new N("Unable to decode UsNatCoreSegment '"+e+"'")}}}class ye extends F{base64UrlEncoder=C.getInstance();bitStringEncoder=m.getInstance();constructor(e){super(),e&&this.decode(e)}getFieldNames(){return Pe}initializeFields(){let e=new L;return e.put(we.GPC_SEGMENT_TYPE.toString(),new M(2,1)),e.put(we.GPC_SEGMENT_INCLUDED.toString(),new Q(!0)),e.put(we.GPC.toString(),new Q(!1)),e}encodeSegment(e){let t=this.bitStringEncoder.encode(e,this.getFieldNames());return this.base64UrlEncoder.encode(t)}decodeSegment(e,t){(null==e||0===e.length)&&this.fields.reset(t);try{let n=this.base64UrlEncoder.decode(e);this.bitStringEncoder.decode(n,this.getFieldNames(),t)}catch{throw new N("Unable to decode UsNatGpcSegment '"+e+"'")}}}class Ve extends O{static ID=7;static VERSION=1;static NAME="usnat";constructor(e){super(),e&&e.length>0&&this.decode(e)}getId(){return Ve.ID}getName(){return Ve.NAME}getVersion(){return Ve.VERSION}initializeSegments(){let e=[];return e.push(new Re),e.push(new ye),e}decodeSection(e){let t=this.initializeSegments();if(null!=e&&0!==e.length){let n=e.split(".");n.length>0&&t[0].decode(n[0]),n.length>1?(t[1].setFieldValue(we.GPC_SEGMENT_INCLUDED,!0),t[1].decode(n[1])):t[1].setFieldValue(we.GPC_SEGMENT_INCLUDED,!1)}return t}encodeSection(e){let t=[];return e.length>=1&&(t.push(e[0].encode()),e.length>=2&&!0===e[1].getFieldValue(we.GPC_SEGMENT_INCLUDED)&&t.push(e[1].encode())),t.join(".")}}var Me;!function(e){e.VERSION="Version",e.SALE_OPT_OUT_NOTICE="SaleOptOutNotice",e.SHARING_OPT_OUT_NOTICE="SharingOptOutNotice",e.SENSITIVE_DATA_LIMIT_USE_NOTICE="SensitiveDataLimitUseNotice",e.SALE_OPT_OUT="SaleOptOut",e.SHARING_OPT_OUT="SharingOptOut",e.SENSITIVE_DATA_PROCESSING="SensitiveDataProcessing",e.KNOWN_CHILD_SENSITIVE_DATA_CONSENTS="KnownChildSensitiveDataConsents",e.PERSONAL_DATA_CONSENTS="PersonalDataConsents",e.MSPA_COVERED_TRANSACTION="MspaCoveredTransaction",e.MSPA_OPT_OUT_OPTION_MODE="MspaOptOutOptionMode",e.MSPA_SERVICE_PROVIDER_MODE="MspaServiceProviderMode",e.GPC_SEGMENT_TYPE="GpcSegmentType",e.GPC_SEGMENT_INCLUDED="GpcSegmentIncluded",e.GPC="Gpc"}(Me||(Me={}));const Le=[Me.VERSION,Me.SALE_OPT_OUT_NOTICE,Me.SHARING_OPT_OUT_NOTICE,Me.SENSITIVE_DATA_LIMIT_USE_NOTICE,Me.SALE_OPT_OUT,Me.SHARING_OPT_OUT,Me.SENSITIVE_DATA_PROCESSING,Me.KNOWN_CHILD_SENSITIVE_DATA_CONSENTS,Me.PERSONAL_DATA_CONSENTS,Me.MSPA_COVERED_TRANSACTION,Me.MSPA_OPT_OUT_OPTION_MODE,Me.MSPA_SERVICE_PROVIDER_MODE],Ue=[Me.GPC_SEGMENT_TYPE,Me.GPC];class Ge extends F{base64UrlEncoder=C.getInstance();bitStringEncoder=m.getInstance();constructor(e){super(),e&&this.decode(e)}getFieldNames(){return Le}initializeFields(){const e=new class{test(e){return e>=0&&e<=2}},t=new class{test(e){return e>=1&&e<=2}},n=new class{test(e){for(let t=0;t<e.length;t++){let n=e[t];if(n<0||n>2)return!1}return!0}};let i=new L;return i.put(Me.VERSION.toString(),new M(6,ke.VERSION)),i.put(Me.SALE_OPT_OUT_NOTICE.toString(),new M(2,0).withValidator(e)),i.put(Me.SHARING_OPT_OUT_NOTICE.toString(),new M(2,0).withValidator(e)),i.put(Me.SENSITIVE_DATA_LIMIT_USE_NOTICE.toString(),new M(2,0).withValidator(e)),i.put(Me.SALE_OPT_OUT.toString(),new M(2,0).withValidator(e)),i.put(Me.SHARING_OPT_OUT.toString(),new M(2,0).withValidator(e)),i.put(Me.SENSITIVE_DATA_PROCESSING.toString(),new be(2,[0,0,0,0,0,0,0,0,0]).withValidator(n)),i.put(Me.KNOWN_CHILD_SENSITIVE_DATA_CONSENTS.toString(),new be(2,[0,0]).withValidator(n)),i.put(Me.PERSONAL_DATA_CONSENTS.toString(),new M(2,0).withValidator(e)),i.put(Me.MSPA_COVERED_TRANSACTION.toString(),new M(2,1).withValidator(t)),i.put(Me.MSPA_OPT_OUT_OPTION_MODE.toString(),new M(2,0).withValidator(e)),i.put(Me.MSPA_SERVICE_PROVIDER_MODE.toString(),new M(2,0).withValidator(e)),i}encodeSegment(e){let t=this.bitStringEncoder.encode(e,this.getFieldNames());return this.base64UrlEncoder.encode(t)}decodeSegment(e,t){(null==e||0===e.length)&&this.fields.reset(t);try{let n=this.base64UrlEncoder.decode(e);this.bitStringEncoder.decode(n,this.getFieldNames(),t)}catch{throw new N("Unable to decode UsCaCoreSegment '"+e+"'")}}}class Fe extends F{base64UrlEncoder=C.getInstance();bitStringEncoder=m.getInstance();constructor(e){super(),e&&this.decode(e)}getFieldNames(){return Ue}initializeFields(){let e=new L;return e.put(Me.GPC_SEGMENT_TYPE.toString(),new M(2,1)),e.put(Me.GPC_SEGMENT_INCLUDED.toString(),new Q(!0)),e.put(Me.GPC.toString(),new Q(!1)),e}encodeSegment(e){let t=this.bitStringEncoder.encode(e,this.getFieldNames());return this.base64UrlEncoder.encode(t)}decodeSegment(e,t){(null==e||0===e.length)&&this.fields.reset(t);try{let n=this.base64UrlEncoder.decode(e);this.bitStringEncoder.decode(n,this.getFieldNames(),t)}catch{throw new N("Unable to decode UsCaGpcSegment '"+e+"'")}}}class ke extends O{static ID=8;static VERSION=1;static NAME="usca";constructor(e){super(),e&&e.length>0&&this.decode(e)}getId(){return ke.ID}getName(){return ke.NAME}getVersion(){return ke.VERSION}initializeSegments(){let e=[];return e.push(new Ge),e.push(new Fe),e}decodeSection(e){let t=this.initializeSegments();if(null!=e&&0!==e.length){let n=e.split(".");n.length>0&&t[0].decode(n[0]),n.length>1?(t[1].setFieldValue(Me.GPC_SEGMENT_INCLUDED,!0),t[1].decode(n[1])):t[1].setFieldValue(Me.GPC_SEGMENT_INCLUDED,!1)}return t}encodeSection(e){let t=[];return e.length>=1&&(t.push(e[0].encode()),e.length>=2&&!0===e[1].getFieldValue(Me.GPC_SEGMENT_INCLUDED)&&t.push(e[1].encode())),t.join(".")}}var xe;!function(e){e.VERSION="Version",e.SHARING_NOTICE="SharingNotice",e.SALE_OPT_OUT_NOTICE="SaleOptOutNotice",e.TARGETED_ADVERTISING_OPT_OUT_NOTICE="TargetedAdvertisingOptOutNotice",e.SALE_OPT_OUT="SaleOptOut",e.TARGETED_ADVERTISING_OPT_OUT="TargetedAdvertisingOptOut",e.SENSITIVE_DATA_PROCESSING="SensitiveDataProcessing",e.KNOWN_CHILD_SENSITIVE_DATA_CONSENTS="KnownChildSensitiveDataConsents",e.MSPA_COVERED_TRANSACTION="MspaCoveredTransaction",e.MSPA_OPT_OUT_OPTION_MODE="MspaOptOutOptionMode",e.MSPA_SERVICE_PROVIDER_MODE="MspaServiceProviderMode"}(xe||(xe={}));const je=[xe.VERSION,xe.SHARING_NOTICE,xe.SALE_OPT_OUT_NOTICE,xe.TARGETED_ADVERTISING_OPT_OUT_NOTICE,xe.SALE_OPT_OUT,xe.TARGETED_ADVERTISING_OPT_OUT,xe.SENSITIVE_DATA_PROCESSING,xe.KNOWN_CHILD_SENSITIVE_DATA_CONSENTS,xe.MSPA_COVERED_TRANSACTION,xe.MSPA_OPT_OUT_OPTION_MODE,xe.MSPA_SERVICE_PROVIDER_MODE];class ze extends F{base64UrlEncoder=C.getInstance();bitStringEncoder=m.getInstance();constructor(e){super(),e&&this.decode(e)}getFieldNames(){return je}initializeFields(){const e=new class{test(e){return e>=0&&e<=2}},t=new class{test(e){return e>=1&&e<=2}},n=new class{test(e){for(let t=0;t<e.length;t++){let n=e[t];if(n<0||n>2)return!1}return!0}};let i=new L;return i.put(xe.VERSION.toString(),new M(6,He.VERSION)),i.put(xe.SHARING_NOTICE.toString(),new M(2,0).withValidator(e)),i.put(xe.SALE_OPT_OUT_NOTICE.toString(),new M(2,0).withValidator(e)),i.put(xe.TARGETED_ADVERTISING_OPT_OUT_NOTICE.toString(),new M(2,0).withValidator(e)),i.put(xe.SALE_OPT_OUT.toString(),new M(2,0).withValidator(e)),i.put(xe.TARGETED_ADVERTISING_OPT_OUT.toString(),new M(2,0).withValidator(e)),i.put(xe.SENSITIVE_DATA_PROCESSING.toString(),new be(2,[0,0,0,0,0,0,0,0]).withValidator(n)),i.put(xe.KNOWN_CHILD_SENSITIVE_DATA_CONSENTS.toString(),new M(2,0).withValidator(e)),i.put(xe.MSPA_COVERED_TRANSACTION.toString(),new M(2,1).withValidator(t)),i.put(xe.MSPA_OPT_OUT_OPTION_MODE.toString(),new M(2,0).withValidator(e)),i.put(xe.MSPA_SERVICE_PROVIDER_MODE.toString(),new M(2,0).withValidator(e)),i}encodeSegment(e){let t=this.bitStringEncoder.encode(e,this.getFieldNames());return this.base64UrlEncoder.encode(t)}decodeSegment(e,t){(null==e||0===e.length)&&this.fields.reset(t);try{let n=this.base64UrlEncoder.decode(e);this.bitStringEncoder.decode(n,this.getFieldNames(),t)}catch{throw new N("Unable to decode UsVaCoreSegment '"+e+"'")}}}class He extends O{static ID=9;static VERSION=1;static NAME="usva";constructor(e){super(),e&&e.length>0&&this.decode(e)}getId(){return He.ID}getName(){return He.NAME}getVersion(){return He.VERSION}initializeSegments(){let e=[];return e.push(new ze),e}decodeSection(e){let t=this.initializeSegments();if(null!=e&&0!==e.length){let n=e.split(".");for(let e=0;e<t.length;e++)n.length>e&&t[e].decode(n[e])}return t}encodeSection(e){let t=[];for(let n=0;n<e.length;n++){let i=e[n];t.push(i.encode())}return t.join(".")}}var Be;!function(e){e.VERSION="Version",e.SHARING_NOTICE="SharingNotice",e.SALE_OPT_OUT_NOTICE="SaleOptOutNotice",e.TARGETED_ADVERTISING_OPT_OUT_NOTICE="TargetedAdvertisingOptOutNotice",e.SALE_OPT_OUT="SaleOptOut",e.TARGETED_ADVERTISING_OPT_OUT="TargetedAdvertisingOptOut",e.SENSITIVE_DATA_PROCESSING="SensitiveDataProcessing",e.KNOWN_CHILD_SENSITIVE_DATA_CONSENTS="KnownChildSensitiveDataConsents",e.MSPA_COVERED_TRANSACTION="MspaCoveredTransaction",e.MSPA_OPT_OUT_OPTION_MODE="MspaOptOutOptionMode",e.MSPA_SERVICE_PROVIDER_MODE="MspaServiceProviderMode",e.GPC_SEGMENT_TYPE="GpcSegmentType",e.GPC_SEGMENT_INCLUDED="GpcSegmentIncluded",e.GPC="Gpc"}(Be||(Be={}));const Ke=[Be.VERSION,Be.SHARING_NOTICE,Be.SALE_OPT_OUT_NOTICE,Be.TARGETED_ADVERTISING_OPT_OUT_NOTICE,Be.SALE_OPT_OUT,Be.TARGETED_ADVERTISING_OPT_OUT,Be.SENSITIVE_DATA_PROCESSING,Be.KNOWN_CHILD_SENSITIVE_DATA_CONSENTS,Be.MSPA_COVERED_TRANSACTION,Be.MSPA_OPT_OUT_OPTION_MODE,Be.MSPA_SERVICE_PROVIDER_MODE],Ye=[Be.GPC_SEGMENT_TYPE,Be.GPC];class $e extends F{base64UrlEncoder=C.getInstance();bitStringEncoder=m.getInstance();constructor(e){super(),e&&this.decode(e)}getFieldNames(){return Ke}initializeFields(){const e=new class{test(e){return e>=0&&e<=2}},t=new class{test(e){return e>=1&&e<=2}},n=new class{test(e){for(let t=0;t<e.length;t++){let n=e[t];if(n<0||n>2)return!1}return!0}};let i=new L;return i.put(Be.VERSION.toString(),new M(6,qe.VERSION)),i.put(Be.SHARING_NOTICE.toString(),new M(2,0).withValidator(e)),i.put(Be.SALE_OPT_OUT_NOTICE.toString(),new M(2,0).withValidator(e)),i.put(Be.TARGETED_ADVERTISING_OPT_OUT_NOTICE.toString(),new M(2,0).withValidator(e)),i.put(Be.SALE_OPT_OUT.toString(),new M(2,0).withValidator(e)),i.put(Be.TARGETED_ADVERTISING_OPT_OUT.toString(),new M(2,0).withValidator(e)),i.put(Be.SENSITIVE_DATA_PROCESSING.toString(),new be(2,[0,0,0,0,0,0,0]).withValidator(n)),i.put(Be.KNOWN_CHILD_SENSITIVE_DATA_CONSENTS.toString(),new M(2,0).withValidator(e)),i.put(Be.MSPA_COVERED_TRANSACTION.toString(),new M(2,1).withValidator(t)),i.put(Be.MSPA_OPT_OUT_OPTION_MODE.toString(),new M(2,0).withValidator(e)),i.put(Be.MSPA_SERVICE_PROVIDER_MODE.toString(),new M(2,0).withValidator(e)),i}encodeSegment(e){let t=this.bitStringEncoder.encode(e,this.getFieldNames());return this.base64UrlEncoder.encode(t)}decodeSegment(e,t){(null==e||0===e.length)&&this.fields.reset(t);try{let n=this.base64UrlEncoder.decode(e);this.bitStringEncoder.decode(n,this.getFieldNames(),t)}catch{throw new N("Unable to decode UsCoCoreSegment '"+e+"'")}}}class We extends F{base64UrlEncoder=C.getInstance();bitStringEncoder=m.getInstance();constructor(e){super(),e&&this.decode(e)}getFieldNames(){return Ye}initializeFields(){let e=new L;return e.put(Be.GPC_SEGMENT_TYPE.toString(),new M(2,1)),e.put(Be.GPC_SEGMENT_INCLUDED.toString(),new Q(!0)),e.put(Be.GPC.toString(),new Q(!1)),e}encodeSegment(e){let t=this.bitStringEncoder.encode(e,this.getFieldNames());return this.base64UrlEncoder.encode(t)}decodeSegment(e,t){(null==e||0===e.length)&&this.fields.reset(t);try{let n=this.base64UrlEncoder.decode(e);this.bitStringEncoder.decode(n,this.getFieldNames(),t)}catch{throw new N("Unable to decode UsCoGpcSegment '"+e+"'")}}}class qe extends O{static ID=10;static VERSION=1;static NAME="usco";constructor(e){super(),e&&e.length>0&&this.decode(e)}getId(){return qe.ID}getName(){return qe.NAME}getVersion(){return qe.VERSION}initializeSegments(){let e=[];return e.push(new $e),e.push(new We),e}decodeSection(e){let t=this.initializeSegments();if(null!=e&&0!==e.length){let n=e.split(".");n.length>0&&t[0].decode(n[0]),n.length>1?(t[1].setFieldValue(Be.GPC_SEGMENT_INCLUDED,!0),t[1].decode(n[1])):t[1].setFieldValue(Be.GPC_SEGMENT_INCLUDED,!1)}return t}encodeSection(e){let t=[];return e.length>=1&&(t.push(e[0].encode()),e.length>=2&&!0===e[1].getFieldValue(Be.GPC_SEGMENT_INCLUDED)&&t.push(e[1].encode())),t.join(".")}}var Je;!function(e){e.VERSION="Version",e.SHARING_NOTICE="SharingNotice",e.SALE_OPT_OUT_NOTICE="SaleOptOutNotice",e.TARGETED_ADVERTISING_OPT_OUT_NOTICE="TargetedAdvertisingOptOutNotice",e.SENSITIVE_DATA_PROCESSING_OPT_OUT_NOTICE="SensitiveDataProcessingOptOutNotice",e.SALE_OPT_OUT="SaleOptOut",e.TARGETED_ADVERTISING_OPT_OUT="TargetedAdvertisingOptOut",e.SENSITIVE_DATA_PROCESSING="SensitiveDataProcessing",e.KNOWN_CHILD_SENSITIVE_DATA_CONSENTS="KnownChildSensitiveDataConsents",e.MSPA_COVERED_TRANSACTION="MspaCoveredTransaction",e.MSPA_OPT_OUT_OPTION_MODE="MspaOptOutOptionMode",e.MSPA_SERVICE_PROVIDER_MODE="MspaServiceProviderMode"}(Je||(Je={}));const Qe=[Je.VERSION,Je.SHARING_NOTICE,Je.SALE_OPT_OUT_NOTICE,Je.TARGETED_ADVERTISING_OPT_OUT_NOTICE,Je.SENSITIVE_DATA_PROCESSING_OPT_OUT_NOTICE,Je.SALE_OPT_OUT,Je.TARGETED_ADVERTISING_OPT_OUT,Je.SENSITIVE_DATA_PROCESSING,Je.KNOWN_CHILD_SENSITIVE_DATA_CONSENTS,Je.MSPA_COVERED_TRANSACTION,Je.MSPA_OPT_OUT_OPTION_MODE,Je.MSPA_SERVICE_PROVIDER_MODE];class Xe extends F{base64UrlEncoder=C.getInstance();bitStringEncoder=m.getInstance();constructor(e){super(),e&&this.decode(e)}getFieldNames(){return Qe}initializeFields(){const e=new class{test(e){return e>=0&&e<=2}},t=new class{test(e){return e>=1&&e<=2}},n=new class{test(e){for(let t=0;t<e.length;t++){let n=e[t];if(n<0||n>2)return!1}return!0}};let i=new L;return i.put(Je.VERSION.toString(),new M(6,Ze.VERSION)),i.put(Je.SHARING_NOTICE.toString(),new M(2,0).withValidator(e)),i.put(Je.SALE_OPT_OUT_NOTICE.toString(),new M(2,0).withValidator(e)),i.put(Je.TARGETED_ADVERTISING_OPT_OUT_NOTICE.toString(),new M(2,0).withValidator(e)),i.put(Je.SENSITIVE_DATA_PROCESSING_OPT_OUT_NOTICE.toString(),new M(2,0).withValidator(e)),i.put(Je.SALE_OPT_OUT.toString(),new M(2,0).withValidator(e)),i.put(Je.TARGETED_ADVERTISING_OPT_OUT.toString(),new M(2,0).withValidator(e)),i.put(Je.SENSITIVE_DATA_PROCESSING.toString(),new be(2,[0,0,0,0,0,0,0,0]).withValidator(n)),i.put(Je.KNOWN_CHILD_SENSITIVE_DATA_CONSENTS.toString(),new M(2,0).withValidator(e)),i.put(Je.MSPA_COVERED_TRANSACTION.toString(),new M(2,1).withValidator(t)),i.put(Je.MSPA_OPT_OUT_OPTION_MODE.toString(),new M(2,0).withValidator(e)),i.put(Je.MSPA_SERVICE_PROVIDER_MODE.toString(),new M(2,0).withValidator(e)),i}encodeSegment(e){let t=this.bitStringEncoder.encode(e,this.getFieldNames());return this.base64UrlEncoder.encode(t)}decodeSegment(e,t){(null==e||0===e.length)&&this.fields.reset(t);try{let n=this.base64UrlEncoder.decode(e);this.bitStringEncoder.decode(n,this.getFieldNames(),t)}catch{throw new N("Unable to decode UsUtCoreSegment '"+e+"'")}}}class Ze extends O{static ID=11;static VERSION=1;static NAME="usut";constructor(e){super(),e&&e.length>0&&this.decode(e)}getId(){return Ze.ID}getName(){return Ze.NAME}getVersion(){return Ze.VERSION}initializeSegments(){let e=[];return e.push(new Xe),e}decodeSection(e){let t=this.initializeSegments();if(null!=e&&0!==e.length){let n=e.split(".");for(let e=0;e<t.length;e++)n.length>e&&t[e].decode(n[e])}return t}encodeSection(e){let t=[];for(let n=0;n<e.length;n++){let i=e[n];t.push(i.encode())}return t.join(".")}}var et;!function(e){e.VERSION="Version",e.SHARING_NOTICE="SharingNotice",e.SALE_OPT_OUT_NOTICE="SaleOptOutNotice",e.TARGETED_ADVERTISING_OPT_OUT_NOTICE="TargetedAdvertisingOptOutNotice",e.SALE_OPT_OUT="SaleOptOut",e.TARGETED_ADVERTISING_OPT_OUT="TargetedAdvertisingOptOut",e.SENSITIVE_DATA_PROCESSING="SensitiveDataProcessing",e.KNOWN_CHILD_SENSITIVE_DATA_CONSENTS="KnownChildSensitiveDataConsents",e.MSPA_COVERED_TRANSACTION="MspaCoveredTransaction",e.MSPA_OPT_OUT_OPTION_MODE="MspaOptOutOptionMode",e.MSPA_SERVICE_PROVIDER_MODE="MspaServiceProviderMode",e.GPC_SEGMENT_TYPE="GpcSegmentType",e.GPC_SEGMENT_INCLUDED="GpcSegmentIncluded",e.GPC="Gpc"}(et||(et={}));const tt=[et.VERSION,et.SHARING_NOTICE,et.SALE_OPT_OUT_NOTICE,et.TARGETED_ADVERTISING_OPT_OUT_NOTICE,et.SALE_OPT_OUT,et.TARGETED_ADVERTISING_OPT_OUT,et.SENSITIVE_DATA_PROCESSING,et.KNOWN_CHILD_SENSITIVE_DATA_CONSENTS,et.MSPA_COVERED_TRANSACTION,et.MSPA_OPT_OUT_OPTION_MODE,et.MSPA_SERVICE_PROVIDER_MODE],nt=[et.GPC_SEGMENT_TYPE,et.GPC];class it extends F{base64UrlEncoder=C.getInstance();bitStringEncoder=m.getInstance();constructor(e){super(),e&&this.decode(e)}getFieldNames(){return tt}initializeFields(){const e=new class{test(e){return e>=0&&e<=2}},t=new class{test(e){return e>=1&&e<=2}},n=new class{test(e){for(let t=0;t<e.length;t++){let n=e[t];if(n<0||n>2)return!1}return!0}};let i=new L;return i.put(et.VERSION.toString(),new M(6,ot.VERSION)),i.put(et.SHARING_NOTICE.toString(),new M(2,0).withValidator(e)),i.put(et.SALE_OPT_OUT_NOTICE.toString(),new M(2,0).withValidator(e)),i.put(et.TARGETED_ADVERTISING_OPT_OUT_NOTICE.toString(),new M(2,0).withValidator(e)),i.put(et.SALE_OPT_OUT.toString(),new M(2,0).withValidator(e)),i.put(et.TARGETED_ADVERTISING_OPT_OUT.toString(),new M(2,0).withValidator(e)),i.put(et.SENSITIVE_DATA_PROCESSING.toString(),new be(2,[0,0,0,0,0,0,0,0]).withValidator(n)),i.put(et.KNOWN_CHILD_SENSITIVE_DATA_CONSENTS.toString(),new be(2,[0,0,0]).withValidator(n)),i.put(et.MSPA_COVERED_TRANSACTION.toString(),new M(2,1).withValidator(t)),i.put(et.MSPA_OPT_OUT_OPTION_MODE.toString(),new M(2,0).withValidator(e)),i.put(et.MSPA_SERVICE_PROVIDER_MODE.toString(),new M(2,0).withValidator(e)),i}encodeSegment(e){let t=this.bitStringEncoder.encode(e,this.getFieldNames());return this.base64UrlEncoder.encode(t)}decodeSegment(e,t){(null==e||0===e.length)&&this.fields.reset(t);try{let n=this.base64UrlEncoder.decode(e);this.bitStringEncoder.decode(n,this.getFieldNames(),t)}catch{throw new N("Unable to decode UsCtCoreSegment '"+e+"'")}}}class st extends F{base64UrlEncoder=C.getInstance();bitStringEncoder=m.getInstance();constructor(e){super(),e&&this.decode(e)}getFieldNames(){return nt}initializeFields(){let e=new L;return e.put(et.GPC_SEGMENT_TYPE.toString(),new M(2,1)),e.put(et.GPC_SEGMENT_INCLUDED.toString(),new Q(!0)),e.put(et.GPC.toString(),new Q(!1)),e}encodeSegment(e){let t=this.bitStringEncoder.encode(e,this.getFieldNames());return this.base64UrlEncoder.encode(t)}decodeSegment(e,t){(null==e||0===e.length)&&this.fields.reset(t);try{let n=this.base64UrlEncoder.decode(e);this.bitStringEncoder.decode(n,this.getFieldNames(),t)}catch{throw new N("Unable to decode UsCtGpcSegment '"+e+"'")}}}class ot extends O{static ID=12;static VERSION=1;static NAME="usct";constructor(e){super(),e&&e.length>0&&this.decode(e)}getId(){return ot.ID}getName(){return ot.NAME}getVersion(){return ot.VERSION}initializeSegments(){let e=[];return e.push(new it),e.push(new st),e}decodeSection(e){let t=this.initializeSegments();if(null!=e&&0!==e.length){let n=e.split(".");n.length>0&&t[0].decode(n[0]),n.length>1?(t[1].setFieldValue(et.GPC_SEGMENT_INCLUDED,!0),t[1].decode(n[1])):t[1].setFieldValue(et.GPC_SEGMENT_INCLUDED,!1)}return t}encodeSection(e){let t=[];return e.length>=1&&(t.push(e[0].encode()),e.length>=2&&!0===e[1].getFieldValue(et.GPC_SEGMENT_INCLUDED)&&t.push(e[1].encode())),t.join(".")}}var rt;!function(e){e.VERSION="Version",e.PROCESSING_NOTICE="ProcessingNotice",e.SALE_OPT_OUT_NOTICE="SaleOptOutNotice",e.TARGETED_ADVERTISING_OPT_OUT_NOTICE="TargetedAdvertisingOptOutNotice",e.SALE_OPT_OUT="SaleOptOut",e.TARGETED_ADVERTISING_OPT_OUT="TargetedAdvertisingOptOut",e.SENSITIVE_DATA_PROCESSING="SensitiveDataProcessing",e.KNOWN_CHILD_SENSITIVE_DATA_CONSENTS="KnownChildSensitiveDataConsents",e.ADDITIONAL_DATA_PROCESSING_CONSENT="AdditionalDataProcessingConsent",e.MSPA_COVERED_TRANSACTION="MspaCoveredTransaction",e.MSPA_OPT_OUT_OPTION_MODE="MspaOptOutOptionMode",e.MSPA_SERVICE_PROVIDER_MODE="MspaServiceProviderMode"}(rt||(rt={}));const at=[rt.VERSION,rt.PROCESSING_NOTICE,rt.SALE_OPT_OUT_NOTICE,rt.TARGETED_ADVERTISING_OPT_OUT_NOTICE,rt.SALE_OPT_OUT,rt.TARGETED_ADVERTISING_OPT_OUT,rt.SENSITIVE_DATA_PROCESSING,rt.KNOWN_CHILD_SENSITIVE_DATA_CONSENTS,rt.ADDITIONAL_DATA_PROCESSING_CONSENT,rt.MSPA_COVERED_TRANSACTION,rt.MSPA_OPT_OUT_OPTION_MODE,rt.MSPA_SERVICE_PROVIDER_MODE];class ct extends F{base64UrlEncoder=C.getInstance();bitStringEncoder=m.getInstance();constructor(e){super(),e&&this.decode(e)}getFieldNames(){return at}initializeFields(){const e=new class{test(e){return e>=0&&e<=2}},t=new class{test(e){return e>=1&&e<=2}},n=new class{test(e){for(let t=0;t<e.length;t++){let n=e[t];if(n<0||n>2)return!1}return!0}};let i=new L;return i.put(rt.VERSION.toString(),new M(6,lt.VERSION)),i.put(rt.PROCESSING_NOTICE.toString(),new M(2,0).withValidator(e)),i.put(rt.SALE_OPT_OUT_NOTICE.toString(),new M(2,0).withValidator(e)),i.put(rt.TARGETED_ADVERTISING_OPT_OUT_NOTICE.toString(),new M(2,0).withValidator(e)),i.put(rt.SALE_OPT_OUT.toString(),new M(2,0).withValidator(e)),i.put(rt.TARGETED_ADVERTISING_OPT_OUT.toString(),new M(2,0).withValidator(e)),i.put(rt.SENSITIVE_DATA_PROCESSING.toString(),new be(2,[0,0,0,0,0,0,0,0]).withValidator(n)),i.put(rt.KNOWN_CHILD_SENSITIVE_DATA_CONSENTS.toString(),new be(2,[0,0,0]).withValidator(n)),i.put(rt.ADDITIONAL_DATA_PROCESSING_CONSENT.toString(),new M(2,0).withValidator(e)),i.put(rt.MSPA_COVERED_TRANSACTION.toString(),new M(2,1).withValidator(t)),i.put(rt.MSPA_OPT_OUT_OPTION_MODE.toString(),new M(2,0).withValidator(e)),i.put(rt.MSPA_SERVICE_PROVIDER_MODE.toString(),new M(2,0).withValidator(e)),i}encodeSegment(e){let t=this.bitStringEncoder.encode(e,this.getFieldNames());return this.base64UrlEncoder.encode(t)}decodeSegment(e,t){(null==e||0===e.length)&&this.fields.reset(t);try{let n=this.base64UrlEncoder.decode(e);this.bitStringEncoder.decode(n,this.getFieldNames(),t)}catch{throw new N("Unable to decode UsFlCoreSegment '"+e+"'")}}}class lt extends O{static ID=13;static VERSION=1;static NAME="usfl";constructor(e){super(),e&&e.length>0&&this.decode(e)}getId(){return lt.ID}getName(){return lt.NAME}getVersion(){return lt.VERSION}initializeSegments(){let e=[];return e.push(new ct),e}decodeSection(e){let t=this.initializeSegments();if(null!=e&&0!==e.length){let n=e.split(".");for(let e=0;e<t.length;e++)n.length>e&&t[e].decode(n[e])}return t}encodeSection(e){let t=[];for(let n=0;n<e.length;n++){let i=e[n];t.push(i.encode())}return t.join(".")}}var dt;!function(e){e.VERSION="Version",e.SHARING_NOTICE="SharingNotice",e.SALE_OPT_OUT_NOTICE="SaleOptOutNotice",e.TARGETED_ADVERTISING_OPT_OUT_NOTICE="TargetedAdvertisingOptOutNotice",e.SALE_OPT_OUT="SaleOptOut",e.TARGETED_ADVERTISING_OPT_OUT="TargetedAdvertisingOptOut",e.SENSITIVE_DATA_PROCESSING="SensitiveDataProcessing",e.KNOWN_CHILD_SENSITIVE_DATA_CONSENTS="KnownChildSensitiveDataConsents",e.ADDITIONAL_DATA_PROCESSING_CONSENT="AdditionalDataProcessingConsent",e.MSPA_COVERED_TRANSACTION="MspaCoveredTransaction",e.MSPA_OPT_OUT_OPTION_MODE="MspaOptOutOptionMode",e.MSPA_SERVICE_PROVIDER_MODE="MspaServiceProviderMode",e.GPC_SEGMENT_TYPE="GpcSegmentType",e.GPC_SEGMENT_INCLUDED="GpcSegmentIncluded",e.GPC="Gpc"}(dt||(dt={}));const pt=[dt.VERSION,dt.SHARING_NOTICE,dt.SALE_OPT_OUT_NOTICE,dt.TARGETED_ADVERTISING_OPT_OUT_NOTICE,dt.SALE_OPT_OUT,dt.TARGETED_ADVERTISING_OPT_OUT,dt.SENSITIVE_DATA_PROCESSING,dt.KNOWN_CHILD_SENSITIVE_DATA_CONSENTS,dt.ADDITIONAL_DATA_PROCESSING_CONSENT,dt.MSPA_COVERED_TRANSACTION,dt.MSPA_OPT_OUT_OPTION_MODE,dt.MSPA_SERVICE_PROVIDER_MODE],ut=[dt.GPC_SEGMENT_TYPE,dt.GPC];class Et extends F{base64UrlEncoder=C.getInstance();bitStringEncoder=m.getInstance();constructor(e){super(),e&&this.decode(e)}getFieldNames(){return pt}initializeFields(){const e=new class{test(e){return e>=0&&e<=2}},t=new class{test(e){return e>=1&&e<=2}},n=new class{test(e){for(let t=0;t<e.length;t++){let n=e[t];if(n<0||n>2)return!1}return!0}};let i=new L;return i.put(dt.VERSION.toString(),new M(6,ht.VERSION)),i.put(dt.SHARING_NOTICE.toString(),new M(2,0).withValidator(e)),i.put(dt.SALE_OPT_OUT_NOTICE.toString(),new M(2,0).withValidator(e)),i.put(dt.TARGETED_ADVERTISING_OPT_OUT_NOTICE.toString(),new M(2,0).withValidator(e)),i.put(dt.SALE_OPT_OUT.toString(),new M(2,0).withValidator(e)),i.put(dt.TARGETED_ADVERTISING_OPT_OUT.toString(),new M(2,0).withValidator(e)),i.put(dt.SENSITIVE_DATA_PROCESSING.toString(),new be(2,[0,0,0,0,0,0,0,0]).withValidator(n)),i.put(dt.KNOWN_CHILD_SENSITIVE_DATA_CONSENTS.toString(),new be(2,[0,0,0]).withValidator(n)),i.put(dt.ADDITIONAL_DATA_PROCESSING_CONSENT.toString(),new M(2,0).withValidator(e)),i.put(dt.MSPA_COVERED_TRANSACTION.toString(),new M(2,1).withValidator(t)),i.put(dt.MSPA_OPT_OUT_OPTION_MODE.toString(),new M(2,0).withValidator(e)),i.put(dt.MSPA_SERVICE_PROVIDER_MODE.toString(),new M(2,0).withValidator(e)),i}encodeSegment(e){let t=this.bitStringEncoder.encode(e,this.getFieldNames());return this.base64UrlEncoder.encode(t)}decodeSegment(e,t){(null==e||0===e.length)&&this.fields.reset(t);try{let n=this.base64UrlEncoder.decode(e);this.bitStringEncoder.decode(n,this.getFieldNames(),t)}catch{throw new N("Unable to decode UsMtCoreSegment '"+e+"'")}}}class gt extends F{base64UrlEncoder=C.getInstance();bitStringEncoder=m.getInstance();constructor(e){super(),e&&this.decode(e)}getFieldNames(){return ut}initializeFields(){let e=new L;return e.put(dt.GPC_SEGMENT_TYPE.toString(),new M(2,1)),e.put(dt.GPC_SEGMENT_INCLUDED.toString(),new Q(!0)),e.put(dt.GPC.toString(),new Q(!1)),e}encodeSegment(e){let t=this.bitStringEncoder.encode(e,this.getFieldNames());return this.base64UrlEncoder.encode(t)}decodeSegment(e,t){(null==e||0===e.length)&&this.fields.reset(t);try{let n=this.base64UrlEncoder.decode(e);this.bitStringEncoder.decode(n,this.getFieldNames(),t)}catch{throw new N("Unable to decode UsMtGpcSegment '"+e+"'")}}}class ht extends O{static ID=14;static VERSION=1;static NAME="usmt";constructor(e){super(),e&&e.length>0&&this.decode(e)}getId(){return ht.ID}getName(){return ht.NAME}getVersion(){return ht.VERSION}initializeSegments(){let e=[];return e.push(new Et),e.push(new gt),e}decodeSection(e){let t=this.initializeSegments();if(null!=e&&0!==e.length){let n=e.split(".");n.length>0&&t[0].decode(n[0]),n.length>1?(t[1].setFieldValue(dt.GPC_SEGMENT_INCLUDED,!0),t[1].decode(n[1])):t[1].setFieldValue(dt.GPC_SEGMENT_INCLUDED,!1)}return t}encodeSection(e){let t=[];return e.length>=1&&(t.push(e[0].encode()),e.length>=2&&!0===e[1].getFieldValue(dt.GPC_SEGMENT_INCLUDED)&&t.push(e[1].encode())),t.join(".")}}var _t;!function(e){e.VERSION="Version",e.PROCESSING_NOTICE="ProcessingNotice",e.SALE_OPT_OUT_NOTICE="SaleOptOutNotice",e.TARGETED_ADVERTISING_OPT_OUT_NOTICE="TargetedAdvertisingOptOutNotice",e.SALE_OPT_OUT="SaleOptOut",e.TARGETED_ADVERTISING_OPT_OUT="TargetedAdvertisingOptOut",e.SENSITIVE_DATA_PROCESSING="SensitiveDataProcessing",e.KNOWN_CHILD_SENSITIVE_DATA_CONSENTS="KnownChildSensitiveDataConsents",e.ADDITIONAL_DATA_PROCESSING_CONSENT="AdditionalDataProcessingConsent",e.MSPA_COVERED_TRANSACTION="MspaCoveredTransaction",e.MSPA_OPT_OUT_OPTION_MODE="MspaOptOutOptionMode",e.MSPA_SERVICE_PROVIDER_MODE="MspaServiceProviderMode",e.GPC_SEGMENT_TYPE="GpcSegmentType",e.GPC_SEGMENT_INCLUDED="GpcSegmentIncluded",e.GPC="Gpc"}(_t||(_t={}));const St=[_t.VERSION,_t.PROCESSING_NOTICE,_t.SALE_OPT_OUT_NOTICE,_t.TARGETED_ADVERTISING_OPT_OUT_NOTICE,_t.SALE_OPT_OUT,_t.TARGETED_ADVERTISING_OPT_OUT,_t.SENSITIVE_DATA_PROCESSING,_t.KNOWN_CHILD_SENSITIVE_DATA_CONSENTS,_t.ADDITIONAL_DATA_PROCESSING_CONSENT,_t.MSPA_COVERED_TRANSACTION,_t.MSPA_OPT_OUT_OPTION_MODE,_t.MSPA_SERVICE_PROVIDER_MODE],Tt=[_t.GPC_SEGMENT_TYPE,_t.GPC];class Ot extends F{base64UrlEncoder=C.getInstance();bitStringEncoder=m.getInstance();constructor(e){super(),e&&this.decode(e)}getFieldNames(){return St}initializeFields(){const e=new class{test(e){return e>=0&&e<=2}},t=new class{test(e){return e>=1&&e<=2}},n=new class{test(e){for(let t=0;t<e.length;t++){let n=e[t];if(n<0||n>2)return!1}return!0}};let i=new L;return i.put(_t.VERSION.toString(),new M(6,It.VERSION)),i.put(_t.PROCESSING_NOTICE.toString(),new M(2,0).withValidator(e)),i.put(_t.SALE_OPT_OUT_NOTICE.toString(),new M(2,0).withValidator(e)),i.put(_t.TARGETED_ADVERTISING_OPT_OUT_NOTICE.toString(),new M(2,0).withValidator(e)),i.put(_t.SALE_OPT_OUT.toString(),new M(2,0).withValidator(e)),i.put(_t.TARGETED_ADVERTISING_OPT_OUT.toString(),new M(2,0).withValidator(e)),i.put(_t.SENSITIVE_DATA_PROCESSING.toString(),new be(2,[0,0,0,0,0,0,0,0,0,0,0]).withValidator(n)),i.put(_t.KNOWN_CHILD_SENSITIVE_DATA_CONSENTS.toString(),new be(2,[0,0,0]).withValidator(n)),i.put(_t.ADDITIONAL_DATA_PROCESSING_CONSENT.toString(),new M(2,0).withValidator(e)),i.put(_t.MSPA_COVERED_TRANSACTION.toString(),new M(2,1).withValidator(t)),i.put(_t.MSPA_OPT_OUT_OPTION_MODE.toString(),new M(2,0).withValidator(e)),i.put(_t.MSPA_SERVICE_PROVIDER_MODE.toString(),new M(2,0).withValidator(e)),i}encodeSegment(e){let t=this.bitStringEncoder.encode(e,this.getFieldNames());return this.base64UrlEncoder.encode(t)}decodeSegment(e,t){(null==e||0===e.length)&&this.fields.reset(t);try{let n=this.base64UrlEncoder.decode(e);this.bitStringEncoder.decode(n,this.getFieldNames(),t)}catch{throw new N("Unable to decode UsOrCoreSegment '"+e+"'")}}}class Nt extends F{base64UrlEncoder=C.getInstance();bitStringEncoder=m.getInstance();constructor(e){super(),e&&this.decode(e)}getFieldNames(){return Tt}initializeFields(){let e=new L;return e.put(_t.GPC_SEGMENT_TYPE.toString(),new M(2,1)),e.put(_t.GPC_SEGMENT_INCLUDED.toString(),new Q(!0)),e.put(_t.GPC.toString(),new Q(!1)),e}encodeSegment(e){let t=this.bitStringEncoder.encode(e,this.getFieldNames());return this.base64UrlEncoder.encode(t)}decodeSegment(e,t){(null==e||0===e.length)&&this.fields.reset(t);try{let n=this.base64UrlEncoder.decode(e);this.bitStringEncoder.decode(n,this.getFieldNames(),t)}catch{throw new N("Unable to decode UsOrGpcSegment '"+e+"'")}}}class It extends O{static ID=15;static VERSION=1;static NAME="usor";constructor(e){super(),e&&e.length>0&&this.decode(e)}getId(){return It.ID}getName(){return It.NAME}getVersion(){return It.VERSION}initializeSegments(){let e=[];return e.push(new Ot),e.push(new Nt),e}decodeSection(e){let t=this.initializeSegments();if(null!=e&&0!==e.length){let n=e.split(".");n.length>0&&t[0].decode(n[0]),n.length>1?(t[1].setFieldValue(_t.GPC_SEGMENT_INCLUDED,!0),t[1].decode(n[1])):t[1].setFieldValue(_t.GPC_SEGMENT_INCLUDED,!1)}return t}encodeSection(e){let t=[];return e.length>=1&&(t.push(e[0].encode()),e.length>=2&&!0===e[1].getFieldValue(_t.GPC_SEGMENT_INCLUDED)&&t.push(e[1].encode())),t.join(".")}}var ft;!function(e){e.VERSION="Version",e.PROCESSING_NOTICE="ProcessingNotice",e.SALE_OPT_OUT_NOTICE="SaleOptOutNotice",e.TARGETED_ADVERTISING_OPT_OUT_NOTICE="TargetedAdvertisingOptOutNotice",e.SALE_OPT_OUT="SaleOptOut",e.TARGETED_ADVERTISING_OPT_OUT="TargetedAdvertisingOptOut",e.SENSITIVE_DATA_PROCESSING="SensitiveDataProcessing",e.KNOWN_CHILD_SENSITIVE_DATA_CONSENTS="KnownChildSensitiveDataConsents",e.ADDITIONAL_DATA_PROCESSING_CONSENT="AdditionalDataProcessingConsent",e.MSPA_COVERED_TRANSACTION="MspaCoveredTransaction",e.MSPA_OPT_OUT_OPTION_MODE="MspaOptOutOptionMode",e.MSPA_SERVICE_PROVIDER_MODE="MspaServiceProviderMode",e.GPC_SEGMENT_TYPE="GpcSegmentType",e.GPC_SEGMENT_INCLUDED="GpcSegmentIncluded",e.GPC="Gpc"}(ft||(ft={}));const At=[ft.VERSION,ft.PROCESSING_NOTICE,ft.SALE_OPT_OUT_NOTICE,ft.TARGETED_ADVERTISING_OPT_OUT_NOTICE,ft.SALE_OPT_OUT,ft.TARGETED_ADVERTISING_OPT_OUT,ft.SENSITIVE_DATA_PROCESSING,ft.KNOWN_CHILD_SENSITIVE_DATA_CONSENTS,ft.ADDITIONAL_DATA_PROCESSING_CONSENT,ft.MSPA_COVERED_TRANSACTION,ft.MSPA_OPT_OUT_OPTION_MODE,ft.MSPA_SERVICE_PROVIDER_MODE],Ct=[ft.GPC_SEGMENT_TYPE,ft.GPC];class mt extends F{base64UrlEncoder=C.getInstance();bitStringEncoder=m.getInstance();constructor(e){super(),e&&this.decode(e)}getFieldNames(){return At}initializeFields(){const e=new class{test(e){return e>=0&&e<=2}},t=new class{test(e){return e>=1&&e<=2}},n=new class{test(e){for(let t=0;t<e.length;t++){let n=e[t];if(n<0||n>2)return!1}return!0}};let i=new L;return i.put(ft.VERSION.toString(),new M(6,vt.VERSION)),i.put(ft.PROCESSING_NOTICE.toString(),new M(2,0).withValidator(e)),i.put(ft.SALE_OPT_OUT_NOTICE.toString(),new M(2,0).withValidator(e)),i.put(ft.TARGETED_ADVERTISING_OPT_OUT_NOTICE.toString(),new M(2,0).withValidator(e)),i.put(ft.SALE_OPT_OUT.toString(),new M(2,0).withValidator(e)),i.put(ft.TARGETED_ADVERTISING_OPT_OUT.toString(),new M(2,0).withValidator(e)),i.put(ft.SENSITIVE_DATA_PROCESSING.toString(),new be(2,[0,0,0,0,0,0,0,0]).withValidator(n)),i.put(ft.KNOWN_CHILD_SENSITIVE_DATA_CONSENTS.toString(),new M(2,0).withValidator(e)),i.put(ft.ADDITIONAL_DATA_PROCESSING_CONSENT.toString(),new M(2,0).withValidator(e)),i.put(ft.MSPA_COVERED_TRANSACTION.toString(),new M(2,1).withValidator(t)),i.put(ft.MSPA_OPT_OUT_OPTION_MODE.toString(),new M(2,0).withValidator(e)),i.put(ft.MSPA_SERVICE_PROVIDER_MODE.toString(),new M(2,0).withValidator(e)),i}encodeSegment(e){let t=this.bitStringEncoder.encode(e,this.getFieldNames());return this.base64UrlEncoder.encode(t)}decodeSegment(e,t){(null==e||0===e.length)&&this.fields.reset(t);try{let n=this.base64UrlEncoder.decode(e);this.bitStringEncoder.decode(n,this.getFieldNames(),t)}catch{throw new N("Unable to decode UsTxCoreSegment '"+e+"'")}}}class wt extends F{base64UrlEncoder=C.getInstance();bitStringEncoder=m.getInstance();constructor(e){super(),e&&this.decode(e)}getFieldNames(){return Ct}initializeFields(){let e=new L;return e.put(ft.GPC_SEGMENT_TYPE.toString(),new M(2,1)),e.put(ft.GPC_SEGMENT_INCLUDED.toString(),new Q(!0)),e.put(ft.GPC.toString(),new Q(!1)),e}encodeSegment(e){let t=this.bitStringEncoder.encode(e,this.getFieldNames());return this.base64UrlEncoder.encode(t)}decodeSegment(e,t){(null==e||0===e.length)&&this.fields.reset(t);try{let n=this.base64UrlEncoder.decode(e);this.bitStringEncoder.decode(n,this.getFieldNames(),t)}catch{throw new N("Unable to decode UsTxGpcSegment '"+e+"'")}}}class vt extends O{static ID=16;static VERSION=1;static NAME="ustx";constructor(e){super(),e&&e.length>0&&this.decode(e)}getId(){return vt.ID}getName(){return vt.NAME}getVersion(){return vt.VERSION}initializeSegments(){let e=[];return e.push(new mt),e.push(new wt),e}decodeSection(e){let t=this.initializeSegments();if(null!=e&&0!==e.length){let n=e.split(".");n.length>0&&t[0].decode(n[0]),n.length>1?(t[1].setFieldValue(ft.GPC_SEGMENT_INCLUDED,!0),t[1].decode(n[1])):t[1].setFieldValue(ft.GPC_SEGMENT_INCLUDED,!1)}return t}encodeSection(e){let t=[];return e.length>=1&&(t.push(e[0].encode()),e.length>=2&&!0===e[1].getFieldValue(ft.GPC_SEGMENT_INCLUDED)&&t.push(e[1].encode())),t.join(".")}}var Pt;!function(e){e.VERSION="Version",e.PROCESSING_NOTICE="ProcessingNotice",e.SALE_OPT_OUT_NOTICE="SaleOptOutNotice",e.TARGETED_ADVERTISING_OPT_OUT_NOTICE="TargetedAdvertisingOptOutNotice",e.SALE_OPT_OUT="SaleOptOut",e.TARGETED_ADVERTISING_OPT_OUT="TargetedAdvertisingOptOut",e.SENSITIVE_DATA_PROCESSING="SensitiveDataProcessing",e.KNOWN_CHILD_SENSITIVE_DATA_CONSENTS="KnownChildSensitiveDataConsents",e.ADDITIONAL_DATA_PROCESSING_CONSENT="AdditionalDataProcessingConsent",e.MSPA_COVERED_TRANSACTION="MspaCoveredTransaction",e.MSPA_OPT_OUT_OPTION_MODE="MspaOptOutOptionMode",e.MSPA_SERVICE_PROVIDER_MODE="MspaServiceProviderMode",e.GPC_SEGMENT_TYPE="GpcSegmentType",e.GPC_SEGMENT_INCLUDED="GpcSegmentIncluded",e.GPC="Gpc"}(Pt||(Pt={}));const Dt=[Pt.VERSION,Pt.PROCESSING_NOTICE,Pt.SALE_OPT_OUT_NOTICE,Pt.TARGETED_ADVERTISING_OPT_OUT_NOTICE,Pt.SALE_OPT_OUT,Pt.TARGETED_ADVERTISING_OPT_OUT,Pt.SENSITIVE_DATA_PROCESSING,Pt.KNOWN_CHILD_SENSITIVE_DATA_CONSENTS,Pt.ADDITIONAL_DATA_PROCESSING_CONSENT,Pt.MSPA_COVERED_TRANSACTION,Pt.MSPA_OPT_OUT_OPTION_MODE,Pt.MSPA_SERVICE_PROVIDER_MODE],bt=[Pt.GPC_SEGMENT_TYPE,Pt.GPC];class Rt extends F{base64UrlEncoder=C.getInstance();bitStringEncoder=m.getInstance();constructor(e){super(),e&&this.decode(e)}getFieldNames(){return Dt}initializeFields(){const e=new class{test(e){return e>=0&&e<=2}},t=new class{test(e){return e>=1&&e<=2}},n=new class{test(e){for(let t=0;t<e.length;t++){let n=e[t];if(n<0||n>2)return!1}return!0}};let i=new L;return i.put(Pt.VERSION.toString(),new M(6,Vt.VERSION)),i.put(Pt.PROCESSING_NOTICE.toString(),new M(2,0).withValidator(e)),i.put(Pt.SALE_OPT_OUT_NOTICE.toString(),new M(2,0).withValidator(e)),i.put(Pt.TARGETED_ADVERTISING_OPT_OUT_NOTICE.toString(),new M(2,0).withValidator(e)),i.put(Pt.SALE_OPT_OUT.toString(),new M(2,0).withValidator(e)),i.put(Pt.TARGETED_ADVERTISING_OPT_OUT.toString(),new M(2,0).withValidator(e)),i.put(Pt.SENSITIVE_DATA_PROCESSING.toString(),new be(2,[0,0,0,0,0,0,0,0,0]).withValidator(n)),i.put(Pt.KNOWN_CHILD_SENSITIVE_DATA_CONSENTS.toString(),new be(2,[0,0,0,0,0]).withValidator(n)),i.put(Pt.ADDITIONAL_DATA_PROCESSING_CONSENT.toString(),new M(2,0).withValidator(e)),i.put(Pt.MSPA_COVERED_TRANSACTION.toString(),new M(2,1).withValidator(t)),i.put(Pt.MSPA_OPT_OUT_OPTION_MODE.toString(),new M(2,0).withValidator(e)),i.put(Pt.MSPA_SERVICE_PROVIDER_MODE.toString(),new M(2,0).withValidator(e)),i}encodeSegment(e){let t=this.bitStringEncoder.encode(e,this.getFieldNames());return this.base64UrlEncoder.encode(t)}decodeSegment(e,t){(null==e||0===e.length)&&this.fields.reset(t);try{let n=this.base64UrlEncoder.decode(e);this.bitStringEncoder.decode(n,this.getFieldNames(),t)}catch{throw new N("Unable to decode UsDeCoreSegment '"+e+"'")}}}class yt extends F{base64UrlEncoder=C.getInstance();bitStringEncoder=m.getInstance();constructor(e){super(),e&&this.decode(e)}getFieldNames(){return bt}initializeFields(){let e=new L;return e.put(Pt.GPC_SEGMENT_TYPE.toString(),new M(2,1)),e.put(Pt.GPC_SEGMENT_INCLUDED.toString(),new Q(!0)),e.put(Pt.GPC.toString(),new Q(!1)),e}encodeSegment(e){let t=this.bitStringEncoder.encode(e,this.getFieldNames());return this.base64UrlEncoder.encode(t)}decodeSegment(e,t){(null==e||0===e.length)&&this.fields.reset(t);try{let n=this.base64UrlEncoder.decode(e);this.bitStringEncoder.decode(n,this.getFieldNames(),t)}catch{throw new N("Unable to decode UsDeGpcSegment '"+e+"'")}}}class Vt extends O{static ID=17;static VERSION=1;static NAME="usde";constructor(e){super(),e&&e.length>0&&this.decode(e)}getId(){return Vt.ID}getName(){return Vt.NAME}getVersion(){return Vt.VERSION}initializeSegments(){let e=[];return e.push(new Rt),e.push(new yt),e}decodeSection(e){let t=this.initializeSegments();if(null!=e&&0!==e.length){let n=e.split(".");n.length>0&&t[0].decode(n[0]),n.length>1?(t[1].setFieldValue(Pt.GPC_SEGMENT_INCLUDED,!0),t[1].decode(n[1])):t[1].setFieldValue(Pt.GPC_SEGMENT_INCLUDED,!1)}return t}encodeSection(e){let t=[];return e.length>=1&&(t.push(e[0].encode()),e.length>=2&&!0===e[1].getFieldValue(Pt.GPC_SEGMENT_INCLUDED)&&t.push(e[1].encode())),t.join(".")}}var Mt;!function(e){e.VERSION="Version",e.PROCESSING_NOTICE="ProcessingNotice",e.SALE_OPT_OUT_NOTICE="SaleOptOutNotice",e.TARGETED_ADVERTISING_OPT_OUT_NOTICE="TargetedAdvertisingOptOutNotice",e.SENSITIVE_DATA_OPT_OUT_NOTICE="SensitiveDataOptOutNotice",e.SALE_OPT_OUT="SaleOptOut",e.TARGETED_ADVERTISING_OPT_OUT="TargetedAdvertisingOptOut",e.SENSITIVE_DATA_PROCESSING="SensitiveDataProcessing",e.KNOWN_CHILD_SENSITIVE_DATA_CONSENTS="KnownChildSensitiveDataConsents",e.MSPA_COVERED_TRANSACTION="MspaCoveredTransaction",e.MSPA_OPT_OUT_OPTION_MODE="MspaOptOutOptionMode",e.MSPA_SERVICE_PROVIDER_MODE="MspaServiceProviderMode",e.GPC_SEGMENT_TYPE="GpcSegmentType",e.GPC_SEGMENT_INCLUDED="GpcSegmentIncluded",e.GPC="Gpc"}(Mt||(Mt={}));const Lt=[Mt.VERSION,Mt.PROCESSING_NOTICE,Mt.SALE_OPT_OUT_NOTICE,Mt.TARGETED_ADVERTISING_OPT_OUT_NOTICE,Mt.SENSITIVE_DATA_OPT_OUT_NOTICE,Mt.SALE_OPT_OUT,Mt.TARGETED_ADVERTISING_OPT_OUT,Mt.SENSITIVE_DATA_PROCESSING,Mt.KNOWN_CHILD_SENSITIVE_DATA_CONSENTS,Mt.MSPA_COVERED_TRANSACTION,Mt.MSPA_OPT_OUT_OPTION_MODE,Mt.MSPA_SERVICE_PROVIDER_MODE],Ut=[Mt.GPC_SEGMENT_TYPE,Mt.GPC];class Gt extends F{base64UrlEncoder=C.getInstance();bitStringEncoder=m.getInstance();constructor(e){super(),e&&this.decode(e)}getFieldNames(){return Lt}initializeFields(){const e=new class{test(e){return e>=0&&e<=2}},t=new class{test(e){return e>=1&&e<=2}},n=new class{test(e){for(let t=0;t<e.length;t++){let n=e[t];if(n<0||n>2)return!1}return!0}};let i=new L;return i.put(Mt.VERSION.toString(),new M(6,kt.VERSION)),i.put(Mt.PROCESSING_NOTICE.toString(),new M(2,0).withValidator(e)),i.put(Mt.SALE_OPT_OUT_NOTICE.toString(),new M(2,0).withValidator(e)),i.put(Mt.TARGETED_ADVERTISING_OPT_OUT_NOTICE.toString(),new M(2,0).withValidator(e)),i.put(Mt.SENSITIVE_DATA_OPT_OUT_NOTICE.toString(),new M(2,0).withValidator(e)),i.put(Mt.SALE_OPT_OUT.toString(),new M(2,0).withValidator(e)),i.put(Mt.TARGETED_ADVERTISING_OPT_OUT.toString(),new M(2,0).withValidator(e)),i.put(Mt.SENSITIVE_DATA_PROCESSING.toString(),new be(2,[0,0,0,0,0,0,0,0]).withValidator(n)),i.put(Mt.KNOWN_CHILD_SENSITIVE_DATA_CONSENTS.toString(),new M(2,0).withValidator(e)),i.put(Mt.MSPA_COVERED_TRANSACTION.toString(),new M(2,1).withValidator(t)),i.put(Mt.MSPA_OPT_OUT_OPTION_MODE.toString(),new M(2,0).withValidator(e)),i.put(Mt.MSPA_SERVICE_PROVIDER_MODE.toString(),new M(2,0).withValidator(e)),i}encodeSegment(e){let t=this.bitStringEncoder.encode(e,this.getFieldNames());return this.base64UrlEncoder.encode(t)}decodeSegment(e,t){(null==e||0===e.length)&&this.fields.reset(t);try{let n=this.base64UrlEncoder.decode(e);this.bitStringEncoder.decode(n,this.getFieldNames(),t)}catch{throw new N("Unable to decode UsIaCoreSegment '"+e+"'")}}}class Ft extends F{base64UrlEncoder=C.getInstance();bitStringEncoder=m.getInstance();constructor(e){super(),e&&this.decode(e)}getFieldNames(){return Ut}initializeFields(){let e=new L;return e.put(Mt.GPC_SEGMENT_TYPE.toString(),new M(2,1)),e.put(Mt.GPC_SEGMENT_INCLUDED.toString(),new Q(!0)),e.put(Mt.GPC.toString(),new Q(!1)),e}encodeSegment(e){let t=this.bitStringEncoder.encode(e,this.getFieldNames());return this.base64UrlEncoder.encode(t)}decodeSegment(e,t){(null==e||0===e.length)&&this.fields.reset(t);try{let n=this.base64UrlEncoder.decode(e);this.bitStringEncoder.decode(n,this.getFieldNames(),t)}catch{throw new N("Unable to decode UsIaGpcSegment '"+e+"'")}}}class kt extends O{static ID=18;static VERSION=1;static NAME="usia";constructor(e){super(),e&&e.length>0&&this.decode(e)}getId(){return kt.ID}getName(){return kt.NAME}getVersion(){return kt.VERSION}initializeSegments(){let e=[];return e.push(new Gt),e.push(new Ft),e}decodeSection(e){let t=this.initializeSegments();if(null!=e&&0!==e.length){let n=e.split(".");n.length>0&&t[0].decode(n[0]),n.length>1?(t[1].setFieldValue(Mt.GPC_SEGMENT_INCLUDED,!0),t[1].decode(n[1])):t[1].setFieldValue(Mt.GPC_SEGMENT_INCLUDED,!1)}return t}encodeSection(e){let t=[];return e.length>=1&&(t.push(e[0].encode()),e.length>=2&&!0===e[1].getFieldValue(Mt.GPC_SEGMENT_INCLUDED)&&t.push(e[1].encode())),t.join(".")}}var xt;!function(e){e.VERSION="Version",e.PROCESSING_NOTICE="ProcessingNotice",e.SALE_OPT_OUT_NOTICE="SaleOptOutNotice",e.TARGETED_ADVERTISING_OPT_OUT_NOTICE="TargetedAdvertisingOptOutNotice",e.SALE_OPT_OUT="SaleOptOut",e.TARGETED_ADVERTISING_OPT_OUT="TargetedAdvertisingOptOut",e.SENSITIVE_DATA_PROCESSING="SensitiveDataProcessing",e.KNOWN_CHILD_SENSITIVE_DATA_CONSENTS="KnownChildSensitiveDataConsents",e.ADDITIONAL_DATA_PROCESSING_CONSENT="AdditionalDataProcessingConsent",e.MSPA_COVERED_TRANSACTION="MspaCoveredTransaction",e.MSPA_OPT_OUT_OPTION_MODE="MspaOptOutOptionMode",e.MSPA_SERVICE_PROVIDER_MODE="MspaServiceProviderMode",e.GPC_SEGMENT_TYPE="GpcSegmentType",e.GPC_SEGMENT_INCLUDED="GpcSegmentIncluded",e.GPC="Gpc"}(xt||(xt={}));const jt=[xt.VERSION,xt.PROCESSING_NOTICE,xt.SALE_OPT_OUT_NOTICE,xt.TARGETED_ADVERTISING_OPT_OUT_NOTICE,xt.SALE_OPT_OUT,xt.TARGETED_ADVERTISING_OPT_OUT,xt.SENSITIVE_DATA_PROCESSING,xt.KNOWN_CHILD_SENSITIVE_DATA_CONSENTS,xt.ADDITIONAL_DATA_PROCESSING_CONSENT,xt.MSPA_COVERED_TRANSACTION,xt.MSPA_OPT_OUT_OPTION_MODE,xt.MSPA_SERVICE_PROVIDER_MODE],zt=[xt.GPC_SEGMENT_TYPE,xt.GPC];class Ht extends F{base64UrlEncoder=C.getInstance();bitStringEncoder=m.getInstance();constructor(e){super(),e&&this.decode(e)}getFieldNames(){return jt}initializeFields(){const e=new class{test(e){return e>=0&&e<=2}},t=new class{test(e){return e>=1&&e<=2}},n=new class{test(e){for(let t=0;t<e.length;t++){let n=e[t];if(n<0||n>2)return!1}return!0}};let i=new L;return i.put(xt.VERSION.toString(),new M(6,Kt.VERSION)),i.put(xt.PROCESSING_NOTICE.toString(),new M(2,0).withValidator(e)),i.put(xt.SALE_OPT_OUT_NOTICE.toString(),new M(2,0).withValidator(e)),i.put(xt.TARGETED_ADVERTISING_OPT_OUT_NOTICE.toString(),new M(2,0).withValidator(e)),i.put(xt.SALE_OPT_OUT.toString(),new M(2,0).withValidator(e)),i.put(xt.TARGETED_ADVERTISING_OPT_OUT.toString(),new M(2,0).withValidator(e)),i.put(xt.SENSITIVE_DATA_PROCESSING.toString(),new be(2,[0,0,0,0,0,0,0,0]).withValidator(n)),i.put(xt.KNOWN_CHILD_SENSITIVE_DATA_CONSENTS.toString(),new M(2,0).withValidator(e)),i.put(xt.ADDITIONAL_DATA_PROCESSING_CONSENT.toString(),new M(2,0).withValidator(e)),i.put(xt.MSPA_COVERED_TRANSACTION.toString(),new M(2,1).withValidator(t)),i.put(xt.MSPA_OPT_OUT_OPTION_MODE.toString(),new M(2,0).withValidator(e)),i.put(xt.MSPA_SERVICE_PROVIDER_MODE.toString(),new M(2,0).withValidator(e)),i}encodeSegment(e){let t=this.bitStringEncoder.encode(e,this.getFieldNames());return this.base64UrlEncoder.encode(t)}decodeSegment(e,t){(null==e||0===e.length)&&this.fields.reset(t);try{let n=this.base64UrlEncoder.decode(e);this.bitStringEncoder.decode(n,this.getFieldNames(),t)}catch{throw new N("Unable to decode UsNeCoreSegment '"+e+"'")}}}class Bt extends F{base64UrlEncoder=C.getInstance();bitStringEncoder=m.getInstance();constructor(e){super(),e&&this.decode(e)}getFieldNames(){return zt}initializeFields(){let e=new L;return e.put(xt.GPC_SEGMENT_TYPE.toString(),new M(2,1)),e.put(xt.GPC_SEGMENT_INCLUDED.toString(),new Q(!0)),e.put(xt.GPC.toString(),new Q(!1)),e}encodeSegment(e){let t=this.bitStringEncoder.encode(e,this.getFieldNames());return this.base64UrlEncoder.encode(t)}decodeSegment(e,t){(null==e||0===e.length)&&this.fields.reset(t);try{let n=this.base64UrlEncoder.decode(e);this.bitStringEncoder.decode(n,this.getFieldNames(),t)}catch{throw new N("Unable to decode UsNeGpcSegment '"+e+"'")}}}class Kt extends O{static ID=19;static VERSION=1;static NAME="usne";constructor(e){super(),e&&e.length>0&&this.decode(e)}getId(){return Kt.ID}getName(){return Kt.NAME}getVersion(){return Kt.VERSION}initializeSegments(){let e=[];return e.push(new Ht),e.push(new Bt),e}decodeSection(e){let t=this.initializeSegments();if(null!=e&&0!==e.length){let n=e.split(".");n.length>0&&t[0].decode(n[0]),n.length>1?(t[1].setFieldValue(xt.GPC_SEGMENT_INCLUDED,!0),t[1].decode(n[1])):t[1].setFieldValue(xt.GPC_SEGMENT_INCLUDED,!1)}return t}encodeSection(e){let t=[];return e.length>=1&&(t.push(e[0].encode()),e.length>=2&&!0===e[1].getFieldValue(xt.GPC_SEGMENT_INCLUDED)&&t.push(e[1].encode())),t.join(".")}}var Yt;!function(e){e.VERSION="Version",e.PROCESSING_NOTICE="ProcessingNotice",e.SALE_OPT_OUT_NOTICE="SaleOptOutNotice",e.TARGETED_ADVERTISING_OPT_OUT_NOTICE="TargetedAdvertisingOptOutNotice",e.SALE_OPT_OUT="SaleOptOut",e.TARGETED_ADVERTISING_OPT_OUT="TargetedAdvertisingOptOut",e.SENSITIVE_DATA_PROCESSING="SensitiveDataProcessing",e.KNOWN_CHILD_SENSITIVE_DATA_CONSENTS="KnownChildSensitiveDataConsents",e.ADDITIONAL_DATA_PROCESSING_CONSENT="AdditionalDataProcessingConsent",e.MSPA_COVERED_TRANSACTION="MspaCoveredTransaction",e.MSPA_OPT_OUT_OPTION_MODE="MspaOptOutOptionMode",e.MSPA_SERVICE_PROVIDER_MODE="MspaServiceProviderMode",e.GPC_SEGMENT_TYPE="GpcSegmentType",e.GPC_SEGMENT_INCLUDED="GpcSegmentIncluded",e.GPC="Gpc"}(Yt||(Yt={}));const $t=[Yt.VERSION,Yt.PROCESSING_NOTICE,Yt.SALE_OPT_OUT_NOTICE,Yt.TARGETED_ADVERTISING_OPT_OUT_NOTICE,Yt.SALE_OPT_OUT,Yt.TARGETED_ADVERTISING_OPT_OUT,Yt.SENSITIVE_DATA_PROCESSING,Yt.KNOWN_CHILD_SENSITIVE_DATA_CONSENTS,Yt.ADDITIONAL_DATA_PROCESSING_CONSENT,Yt.MSPA_COVERED_TRANSACTION,Yt.MSPA_OPT_OUT_OPTION_MODE,Yt.MSPA_SERVICE_PROVIDER_MODE],Wt=[Yt.GPC_SEGMENT_TYPE,Yt.GPC];class qt extends F{base64UrlEncoder=C.getInstance();bitStringEncoder=m.getInstance();constructor(e){super(),e&&this.decode(e)}getFieldNames(){return $t}initializeFields(){const e=new class{test(e){return e>=0&&e<=2}},t=new class{test(e){return e>=1&&e<=2}},n=new class{test(e){for(let t=0;t<e.length;t++){let n=e[t];if(n<0||n>2)return!1}return!0}};let i=new L;return i.put(Yt.VERSION.toString(),new M(6,Qt.VERSION)),i.put(Yt.PROCESSING_NOTICE.toString(),new M(2,0).withValidator(e)),i.put(Yt.SALE_OPT_OUT_NOTICE.toString(),new M(2,0).withValidator(e)),i.put(Yt.TARGETED_ADVERTISING_OPT_OUT_NOTICE.toString(),new M(2,0).withValidator(e)),i.put(Yt.SALE_OPT_OUT.toString(),new M(2,0).withValidator(e)),i.put(Yt.TARGETED_ADVERTISING_OPT_OUT.toString(),new M(2,0).withValidator(e)),i.put(Yt.SENSITIVE_DATA_PROCESSING.toString(),new be(2,[0,0,0,0,0,0,0,0]).withValidator(n)),i.put(Yt.KNOWN_CHILD_SENSITIVE_DATA_CONSENTS.toString(),new be(2,[0,0,0]).withValidator(n)),i.put(Yt.ADDITIONAL_DATA_PROCESSING_CONSENT.toString(),new M(2,0).withValidator(e)),i.put(Yt.MSPA_COVERED_TRANSACTION.toString(),new M(2,1).withValidator(t)),i.put(Yt.MSPA_OPT_OUT_OPTION_MODE.toString(),new M(2,0).withValidator(e)),i.put(Yt.MSPA_SERVICE_PROVIDER_MODE.toString(),new M(2,0).withValidator(e)),i}encodeSegment(e){let t=this.bitStringEncoder.encode(e,this.getFieldNames());return this.base64UrlEncoder.encode(t)}decodeSegment(e,t){(null==e||0===e.length)&&this.fields.reset(t);try{let n=this.base64UrlEncoder.decode(e);this.bitStringEncoder.decode(n,this.getFieldNames(),t)}catch{throw new N("Unable to decode UsNhCoreSegment '"+e+"'")}}}class Jt extends F{base64UrlEncoder=C.getInstance();bitStringEncoder=m.getInstance();constructor(e){super(),e&&this.decode(e)}getFieldNames(){return Wt}initializeFields(){let e=new L;return e.put(Yt.GPC_SEGMENT_TYPE.toString(),new M(2,1)),e.put(Yt.GPC_SEGMENT_INCLUDED.toString(),new Q(!0)),e.put(Yt.GPC.toString(),new Q(!1)),e}encodeSegment(e){let t=this.bitStringEncoder.encode(e,this.getFieldNames());return this.base64UrlEncoder.encode(t)}decodeSegment(e,t){(null==e||0===e.length)&&this.fields.reset(t);try{let n=this.base64UrlEncoder.decode(e);this.bitStringEncoder.decode(n,this.getFieldNames(),t)}catch{throw new N("Unable to decode UsNhGpcSegment '"+e+"'")}}}class Qt extends O{static ID=20;static VERSION=1;static NAME="usnh";constructor(e){super(),e&&e.length>0&&this.decode(e)}getId(){return Qt.ID}getName(){return Qt.NAME}getVersion(){return Qt.VERSION}initializeSegments(){let e=[];return e.push(new qt),e.push(new Jt),e}decodeSection(e){let t=this.initializeSegments();if(null!=e&&0!==e.length){let n=e.split(".");n.length>0&&t[0].decode(n[0]),n.length>1?(t[1].setFieldValue(Yt.GPC_SEGMENT_INCLUDED,!0),t[1].decode(n[1])):t[1].setFieldValue(Yt.GPC_SEGMENT_INCLUDED,!1)}return t}encodeSection(e){let t=[];return e.length>=1&&(t.push(e[0].encode()),e.length>=2&&!0===e[1].getFieldValue(Yt.GPC_SEGMENT_INCLUDED)&&t.push(e[1].encode())),t.join(".")}}var Xt;!function(e){e.VERSION="Version",e.PROCESSING_NOTICE="ProcessingNotice",e.SALE_OPT_OUT_NOTICE="SaleOptOutNotice",e.TARGETED_ADVERTISING_OPT_OUT_NOTICE="TargetedAdvertisingOptOutNotice",e.SALE_OPT_OUT="SaleOptOut",e.TARGETED_ADVERTISING_OPT_OUT="TargetedAdvertisingOptOut",e.SENSITIVE_DATA_PROCESSING="SensitiveDataProcessing",e.KNOWN_CHILD_SENSITIVE_DATA_CONSENTS="KnownChildSensitiveDataConsents",e.ADDITIONAL_DATA_PROCESSING_CONSENT="AdditionalDataProcessingConsent",e.MSPA_COVERED_TRANSACTION="MspaCoveredTransaction",e.MSPA_OPT_OUT_OPTION_MODE="MspaOptOutOptionMode",e.MSPA_SERVICE_PROVIDER_MODE="MspaServiceProviderMode",e.GPC_SEGMENT_TYPE="GpcSegmentType",e.GPC_SEGMENT_INCLUDED="GpcSegmentIncluded",e.GPC="Gpc"}(Xt||(Xt={}));const Zt=[Xt.VERSION,Xt.PROCESSING_NOTICE,Xt.SALE_OPT_OUT_NOTICE,Xt.TARGETED_ADVERTISING_OPT_OUT_NOTICE,Xt.SALE_OPT_OUT,Xt.TARGETED_ADVERTISING_OPT_OUT,Xt.SENSITIVE_DATA_PROCESSING,Xt.KNOWN_CHILD_SENSITIVE_DATA_CONSENTS,Xt.ADDITIONAL_DATA_PROCESSING_CONSENT,Xt.MSPA_COVERED_TRANSACTION,Xt.MSPA_OPT_OUT_OPTION_MODE,Xt.MSPA_SERVICE_PROVIDER_MODE],en=[Xt.GPC_SEGMENT_TYPE,Xt.GPC];class tn extends F{base64UrlEncoder=C.getInstance();bitStringEncoder=m.getInstance();constructor(e){super(),e&&this.decode(e)}getFieldNames(){return Zt}initializeFields(){const e=new class{test(e){return e>=0&&e<=2}},t=new class{test(e){return e>=1&&e<=2}},n=new class{test(e){for(let t=0;t<e.length;t++){let n=e[t];if(n<0||n>2)return!1}return!0}};let i=new L;return i.put(Xt.VERSION.toString(),new M(6,sn.VERSION)),i.put(Xt.PROCESSING_NOTICE.toString(),new M(2,0).withValidator(e)),i.put(Xt.SALE_OPT_OUT_NOTICE.toString(),new M(2,0).withValidator(e)),i.put(Xt.TARGETED_ADVERTISING_OPT_OUT_NOTICE.toString(),new M(2,0).withValidator(e)),i.put(Xt.SALE_OPT_OUT.toString(),new M(2,0).withValidator(e)),i.put(Xt.TARGETED_ADVERTISING_OPT_OUT.toString(),new M(2,0).withValidator(e)),i.put(Xt.SENSITIVE_DATA_PROCESSING.toString(),new be(2,[0,0,0,0,0,0,0,0,0,0]).withValidator(n)),i.put(Xt.KNOWN_CHILD_SENSITIVE_DATA_CONSENTS.toString(),new be(2,[0,0,0,0,0]).withValidator(n)),i.put(Xt.ADDITIONAL_DATA_PROCESSING_CONSENT.toString(),new M(2,0).withValidator(e)),i.put(Xt.MSPA_COVERED_TRANSACTION.toString(),new M(2,1).withValidator(t)),i.put(Xt.MSPA_OPT_OUT_OPTION_MODE.toString(),new M(2,0).withValidator(e)),i.put(Xt.MSPA_SERVICE_PROVIDER_MODE.toString(),new M(2,0).withValidator(e)),i}encodeSegment(e){let t=this.bitStringEncoder.encode(e,this.getFieldNames());return this.base64UrlEncoder.encode(t)}decodeSegment(e,t){(null==e||0===e.length)&&this.fields.reset(t);try{let n=this.base64UrlEncoder.decode(e);this.bitStringEncoder.decode(n,this.getFieldNames(),t)}catch{throw new N("Unable to decode UsNjCoreSegment '"+e+"'")}}}class nn extends F{base64UrlEncoder=C.getInstance();bitStringEncoder=m.getInstance();constructor(e){super(),e&&this.decode(e)}getFieldNames(){return en}initializeFields(){let e=new L;return e.put(Xt.GPC_SEGMENT_TYPE.toString(),new M(2,1)),e.put(Xt.GPC_SEGMENT_INCLUDED.toString(),new Q(!0)),e.put(Xt.GPC.toString(),new Q(!1)),e}encodeSegment(e){let t=this.bitStringEncoder.encode(e,this.getFieldNames());return this.base64UrlEncoder.encode(t)}decodeSegment(e,t){(null==e||0===e.length)&&this.fields.reset(t);try{let n=this.base64UrlEncoder.decode(e);this.bitStringEncoder.decode(n,this.getFieldNames(),t)}catch{throw new N("Unable to decode UsNjGpcSegment '"+e+"'")}}}class sn extends O{static ID=21;static VERSION=1;static NAME="usnj";constructor(e){super(),e&&e.length>0&&this.decode(e)}getId(){return sn.ID}getName(){return sn.NAME}getVersion(){return sn.VERSION}initializeSegments(){let e=[];return e.push(new tn),e.push(new nn),e}decodeSection(e){let t=this.initializeSegments();if(null!=e&&0!==e.length){let n=e.split(".");n.length>0&&t[0].decode(n[0]),n.length>1?(t[1].setFieldValue(Xt.GPC_SEGMENT_INCLUDED,!0),t[1].decode(n[1])):t[1].setFieldValue(Xt.GPC_SEGMENT_INCLUDED,!1)}return t}encodeSection(e){let t=[];return e.length>=1&&(t.push(e[0].encode()),e.length>=2&&!0===e[1].getFieldValue(Xt.GPC_SEGMENT_INCLUDED)&&t.push(e[1].encode())),t.join(".")}}var on;!function(e){e.VERSION="Version",e.PROCESSING_NOTICE="ProcessingNotice",e.SALE_OPT_OUT_NOTICE="SaleOptOutNotice",e.TARGETED_ADVERTISING_OPT_OUT_NOTICE="TargetedAdvertisingOptOutNotice",e.SALE_OPT_OUT="SaleOptOut",e.TARGETED_ADVERTISING_OPT_OUT="TargetedAdvertisingOptOut",e.SENSITIVE_DATA_PROCESSING="SensitiveDataProcessing",e.KNOWN_CHILD_SENSITIVE_DATA_CONSENTS="KnownChildSensitiveDataConsents",e.ADDITIONAL_DATA_PROCESSING_CONSENT="AdditionalDataProcessingConsent",e.MSPA_COVERED_TRANSACTION="MspaCoveredTransaction",e.MSPA_OPT_OUT_OPTION_MODE="MspaOptOutOptionMode",e.MSPA_SERVICE_PROVIDER_MODE="MspaServiceProviderMode",e.GPC_SEGMENT_TYPE="GpcSegmentType",e.GPC_SEGMENT_INCLUDED="GpcSegmentIncluded",e.GPC="Gpc"}(on||(on={}));const rn=[on.VERSION,on.PROCESSING_NOTICE,on.SALE_OPT_OUT_NOTICE,on.TARGETED_ADVERTISING_OPT_OUT_NOTICE,on.SALE_OPT_OUT,on.TARGETED_ADVERTISING_OPT_OUT,on.SENSITIVE_DATA_PROCESSING,on.KNOWN_CHILD_SENSITIVE_DATA_CONSENTS,on.ADDITIONAL_DATA_PROCESSING_CONSENT,on.MSPA_COVERED_TRANSACTION,on.MSPA_OPT_OUT_OPTION_MODE,on.MSPA_SERVICE_PROVIDER_MODE],an=[on.GPC_SEGMENT_TYPE,on.GPC];class cn extends F{base64UrlEncoder=C.getInstance();bitStringEncoder=m.getInstance();constructor(e){super(),e&&this.decode(e)}getFieldNames(){return rn}initializeFields(){const e=new class{test(e){return e>=0&&e<=2}},t=new class{test(e){return e>=1&&e<=2}},n=new class{test(e){for(let t=0;t<e.length;t++){let n=e[t];if(n<0||n>2)return!1}return!0}};let i=new L;return i.put(on.VERSION.toString(),new M(6,dn.VERSION)),i.put(on.PROCESSING_NOTICE.toString(),new M(2,0).withValidator(e)),i.put(on.SALE_OPT_OUT_NOTICE.toString(),new M(2,0).withValidator(e)),i.put(on.TARGETED_ADVERTISING_OPT_OUT_NOTICE.toString(),new M(2,0).withValidator(e)),i.put(on.SALE_OPT_OUT.toString(),new M(2,0).withValidator(e)),i.put(on.TARGETED_ADVERTISING_OPT_OUT.toString(),new M(2,0).withValidator(e)),i.put(on.SENSITIVE_DATA_PROCESSING.toString(),new be(2,[0,0,0,0,0,0,0,0]).withValidator(n)),i.put(on.KNOWN_CHILD_SENSITIVE_DATA_CONSENTS.toString(),new M(2,0).withValidator(e)),i.put(on.ADDITIONAL_DATA_PROCESSING_CONSENT.toString(),new M(2,0).withValidator(e)),i.put(on.MSPA_COVERED_TRANSACTION.toString(),new M(2,1).withValidator(t)),i.put(on.MSPA_OPT_OUT_OPTION_MODE.toString(),new M(2,0).withValidator(e)),i.put(on.MSPA_SERVICE_PROVIDER_MODE.toString(),new M(2,0).withValidator(e)),i}encodeSegment(e){let t=this.bitStringEncoder.encode(e,this.getFieldNames());return this.base64UrlEncoder.encode(t)}decodeSegment(e,t){(null==e||0===e.length)&&this.fields.reset(t);try{let n=this.base64UrlEncoder.decode(e);this.bitStringEncoder.decode(n,this.getFieldNames(),t)}catch{throw new N("Unable to decode UsTnCoreSegment '"+e+"'")}}}class ln extends F{base64UrlEncoder=C.getInstance();bitStringEncoder=m.getInstance();constructor(e){super(),e&&this.decode(e)}getFieldNames(){return an}initializeFields(){let e=new L;return e.put(on.GPC_SEGMENT_TYPE.toString(),new M(2,1)),e.put(on.GPC_SEGMENT_INCLUDED.toString(),new Q(!0)),e.put(on.GPC.toString(),new Q(!1)),e}encodeSegment(e){let t=this.bitStringEncoder.encode(e,this.getFieldNames());return this.base64UrlEncoder.encode(t)}decodeSegment(e,t){(null==e||0===e.length)&&this.fields.reset(t);try{let n=this.base64UrlEncoder.decode(e);this.bitStringEncoder.decode(n,this.getFieldNames(),t)}catch{throw new N("Unable to decode UsTnGpcSegment '"+e+"'")}}}class dn extends O{static ID=22;static VERSION=1;static NAME="ustn";constructor(e){super(),e&&e.length>0&&this.decode(e)}getId(){return dn.ID}getName(){return dn.NAME}getVersion(){return dn.VERSION}initializeSegments(){let e=[];return e.push(new cn),e.push(new ln),e}decodeSection(e){let t=this.initializeSegments();if(null!=e&&0!==e.length){let n=e.split(".");n.length>0&&t[0].decode(n[0]),n.length>1?(t[1].setFieldValue(on.GPC_SEGMENT_INCLUDED,!0),t[1].decode(n[1])):t[1].setFieldValue(on.GPC_SEGMENT_INCLUDED,!1)}return t}encodeSection(e){let t=[];return e.length>=1&&(t.push(e[0].encode()),e.length>=2&&!0===e[1].getFieldValue(on.GPC_SEGMENT_INCLUDED)&&t.push(e[1].encode())),t.join(".")}}class pn{static SECTION_ID_NAME_MAP=new Map([[de.ID,de.NAME],[Te.ID,Te.NAME],[me.ID,me.NAME],[Ve.ID,Ve.NAME],[ke.ID,ke.NAME],[He.ID,He.NAME],[qe.ID,qe.NAME],[Ze.ID,Ze.NAME],[ot.ID,ot.NAME],[lt.ID,lt.NAME],[ht.ID,ht.NAME],[It.ID,It.NAME],[vt.ID,vt.NAME],[Vt.ID,Vt.NAME],[kt.ID,kt.NAME],[Kt.ID,Kt.NAME],[Qt.ID,Qt.NAME],[sn.ID,sn.NAME],[dn.ID,dn.NAME]]);static SECTION_ORDER=[de.NAME,Te.NAME,me.NAME,Ve.NAME,ke.NAME,He.NAME,qe.NAME,Ze.NAME,ot.NAME,lt.NAME,ht.NAME,It.NAME,vt.NAME,Vt.NAME,kt.NAME,Kt.NAME,Qt.NAME,sn.NAME,dn.NAME]}class un{sections=new Map;encodedString=null;decoded=!0;dirty=!1;constructor(e){e&&this.decode(e)}setFieldValue(e,t,n){this.decoded||(this.sections=this.decodeModel(this.encodedString),this.dirty=!1,this.decoded=!0);let i=null;if(this.sections.has(e)?i=this.sections.get(e):e===Te.NAME?(i=new Te,this.sections.set(Te.NAME,i)):e===de.NAME?(i=new de,this.sections.set(de.NAME,i)):e===me.NAME?(i=new me,this.sections.set(me.NAME,i)):e===Ve.NAME?(i=new Ve,this.sections.set(Ve.NAME,i)):e===ke.NAME?(i=new ke,this.sections.set(ke.NAME,i)):e===He.NAME?(i=new He,this.sections.set(He.NAME,i)):e===qe.NAME?(i=new qe,this.sections.set(qe.NAME,i)):e===Ze.NAME?(i=new Ze,this.sections.set(Ze.NAME,i)):e===ot.NAME?(i=new ot,this.sections.set(ot.NAME,i)):e===lt.NAME?(i=new lt,this.sections.set(lt.NAME,i)):e===ht.NAME?(i=new ht,this.sections.set(ht.NAME,i)):e===It.NAME?(i=new It,this.sections.set(It.NAME,i)):e===vt.NAME?(i=new vt,this.sections.set(vt.NAME,i)):e===Vt.NAME?(i=new Vt,this.sections.set(Vt.NAME,i)):e===kt.NAME?(i=new kt,this.sections.set(kt.NAME,i)):e===Kt.NAME?(i=new Kt,this.sections.set(Kt.NAME,i)):e===Qt.NAME?(i=new Qt,this.sections.set(Qt.NAME,i)):e===sn.NAME?(i=new sn,this.sections.set(sn.NAME,i)):e===dn.NAME&&(i=new dn,this.sections.set(dn.NAME,i)),!i)throw new T(e+"."+t+" not found");i.setFieldValue(t,n),this.dirty=!0,i.setIsDirty(!0)}setFieldValueBySectionId(e,t,n){this.setFieldValue(pn.SECTION_ID_NAME_MAP.get(e),t,n)}getFieldValue(e,t){return this.decoded||(this.sections=this.decodeModel(this.encodedString),this.dirty=!1,this.decoded=!0),this.sections.has(e)?this.sections.get(e).getFieldValue(t):null}getFieldValueBySectionId(e,t){return this.getFieldValue(pn.SECTION_ID_NAME_MAP.get(e),t)}hasField(e,t){return this.decoded||(this.sections=this.decodeModel(this.encodedString),this.dirty=!1,this.decoded=!0),!!this.sections.has(e)&&this.sections.get(e).hasField(t)}hasFieldBySectionId(e,t){return this.hasField(pn.SECTION_ID_NAME_MAP.get(e),t)}hasSection(e){return this.decoded||(this.sections=this.decodeModel(this.encodedString),this.dirty=!1,this.decoded=!0),this.sections.has(e)}hasSectionId(e){return this.hasSection(pn.SECTION_ID_NAME_MAP.get(e))}deleteSection(e){!this.decoded&&null!=this.encodedString&&this.encodedString.length>0&&this.decode(this.encodedString),this.sections.delete(e),this.dirty=!0}deleteSectionById(e){this.deleteSection(pn.SECTION_ID_NAME_MAP.get(e))}clear(){this.sections.clear(),this.encodedString="DBAA",this.decoded=!1,this.dirty=!1}getHeader(){this.decoded||(this.sections=this.decodeModel(this.encodedString),this.dirty=!1,this.decoded=!0);let e=new x;return e.setFieldValue("SectionIds",this.getSectionIds()),e.toObj()}getSection(e){return this.decoded||(this.sections=this.decodeModel(this.encodedString),this.dirty=!1,this.decoded=!0),this.sections.has(e)?this.sections.get(e).toObj():null}getSectionIds(){this.decoded||(this.sections=this.decodeModel(this.encodedString),this.dirty=!1,this.decoded=!0);let e=[];for(let t=0;t<pn.SECTION_ORDER.length;t++){let n=pn.SECTION_ORDER[t];if(this.sections.has(n)){let t=this.sections.get(n);e.push(t.getId())}}return e}encodeModel(e){let t=[],n=[];for(let i=0;i<pn.SECTION_ORDER.length;i++){let s=pn.SECTION_ORDER[i];if(e.has(s)){let i=e.get(s);i.setIsDirty(!0),t.push(i.encode()),n.push(i.getId())}}let i=new x;return i.setFieldValue("SectionIds",n),t.unshift(i.encode()),t.join("~")}decodeModel(e){if(!e||0==e.length||e.startsWith("DB")){let t=e.split("~"),n=new Map;if(t[0].startsWith("D")){let i=new x(t[0]).getFieldValue("SectionIds");if(i.length!==t.length-1)throw new N("Unable to decode '"+e+"'. The number of sections does not match the number of sections defined in the header.");for(let s=0;s<i.length;s++){if(""===t[s+1].trim())throw new N("Unable to decode '"+e+"'. Section "+(s+1)+" is blank.");if(i[s]===Te.ID){let e=new Te(t[s+1]);n.set(Te.NAME,e)}else if(i[s]===de.ID){let e=new de(t[s+1]);n.set(de.NAME,e)}else if(i[s]===me.ID){let e=new me(t[s+1]);n.set(me.NAME,e)}else if(i[s]===Ve.ID){let e=new Ve(t[s+1]);n.set(Ve.NAME,e)}else if(i[s]===ke.ID){let e=new ke(t[s+1]);n.set(ke.NAME,e)}else if(i[s]===He.ID){let e=new He(t[s+1]);n.set(He.NAME,e)}else if(i[s]===qe.ID){let e=new qe(t[s+1]);n.set(qe.NAME,e)}else if(i[s]===Ze.ID){let e=new Ze(t[s+1]);n.set(Ze.NAME,e)}else if(i[s]===ot.ID){let e=new ot(t[s+1]);n.set(ot.NAME,e)}else if(i[s]===lt.ID){let e=new lt(t[s+1]);n.set(lt.NAME,e)}else if(i[s]===ht.ID){let e=new ht(t[s+1]);n.set(ht.NAME,e)}else if(i[s]===It.ID){let e=new It(t[s+1]);n.set(It.NAME,e)}else if(i[s]===vt.ID){let e=new vt(t[s+1]);n.set(vt.NAME,e)}else if(i[s]===Vt.ID){let e=new Vt(t[s+1]);n.set(Vt.NAME,e)}else if(i[s]===kt.ID){let e=new kt(t[s+1]);n.set(kt.NAME,e)}else if(i[s]===Kt.ID){let e=new Kt(t[s+1]);n.set(Kt.NAME,e)}else if(i[s]===Qt.ID){let e=new Qt(t[s+1]);n.set(Qt.NAME,e)}else if(i[s]===sn.ID){let e=new sn(t[s+1]);n.set(sn.NAME,e)}else if(i[s]===dn.ID){let e=new dn(t[s+1]);n.set(dn.NAME,e)}}}return n}if(e.startsWith("C")){let t=new Map,n=new de(e);return t.set(de.NAME,n),(new x).setFieldValue(U.SECTION_IDS,[2]),t.set(x.NAME,n),t}throw new N("Unable to decode '"+e+"'")}encodeSection(e){return this.decoded||(this.sections=this.decodeModel(this.encodedString),this.dirty=!1,this.decoded=!0),this.sections.has(e)?this.sections.get(e).encode():null}encodeSectionById(e){return this.encodeSection(pn.SECTION_ID_NAME_MAP.get(e))}decodeSection(e,t){this.decoded||(this.sections=this.decodeModel(this.encodedString),this.dirty=!1,this.decoded=!0);let n=null;this.sections.has(e)?n=this.sections.get(e):e===Te.NAME?(n=new Te,this.sections.set(Te.NAME,n)):e===de.NAME?(n=new de,this.sections.set(de.NAME,n)):e===me.NAME?(n=new me,this.sections.set(me.NAME,n)):e===Ve.NAME?(n=new Ve,this.sections.set(Ve.NAME,n)):e===ke.NAME?(n=new ke,this.sections.set(ke.NAME,n)):e===He.NAME?(n=new He,this.sections.set(He.NAME,n)):e===qe.NAME?(n=new qe,this.sections.set(qe.NAME,n)):e===Ze.NAME?(n=new Ze,this.sections.set(Ze.NAME,n)):e===ot.NAME?(n=new ot,this.sections.set(ot.NAME,n)):e===lt.NAME?(n=new lt,this.sections.set(lt.NAME,n)):e===ht.NAME?(n=new ht,this.sections.set(ht.NAME,n)):e===It.NAME?(n=new It,this.sections.set(It.NAME,n)):e===vt.NAME?(n=new vt,this.sections.set(vt.NAME,n)):e===Vt.NAME?(n=new Vt,this.sections.set(Vt.NAME,n)):e===kt.NAME?(n=new kt,this.sections.set(kt.NAME,n)):e===Kt.NAME?(n=new Kt,this.sections.set(Kt.NAME,n)):e===Qt.NAME?(n=new Qt,this.sections.set(Qt.NAME,n)):e===sn.NAME?(n=new sn,this.sections.set(sn.NAME,n)):e===dn.NAME&&(n=new dn,this.sections.set(dn.NAME,n)),n&&(n.decode(t),this.dirty=!0)}decodeSectionById(e,t){this.decodeSection(pn.SECTION_ID_NAME_MAP.get(e),t)}toObject(){this.decoded||(this.sections=this.decodeModel(this.encodedString),this.dirty=!1,this.decoded=!0);let e={};for(let t=0;t<pn.SECTION_ORDER.length;t++){let n=pn.SECTION_ORDER[t];this.sections.has(n)&&(e[n]=this.sections.get(n).toObj())}return e}encode(){return(null==this.encodedString||0===this.encodedString.length||this.dirty)&&(this.encodedString=this.encodeModel(this.sections),this.dirty=!1,this.decoded=!0),this.encodedString}decode(e){this.encodedString=e,this.dirty=!1,this.decoded=!1}}class En{gppVersion="1.1";supportedAPIs=[];eventQueue=new S(this);cmpStatus=u.LOADING;cmpDisplayStatus=E.HIDDEN;signalStatus=h.NOT_READY;applicableSections=[];gppModel=new un;cmpId;cmpVersion;eventStatus;reset(){this.eventQueue.clear(),this.cmpStatus=u.LOADING,this.cmpDisplayStatus=E.HIDDEN,this.signalStatus=h.NOT_READY,this.applicableSections=[],this.supportedAPIs=[],this.gppModel=new un,delete this.cmpId,delete this.cmpVersion,delete this.eventStatus}}class gn{static absCall(e,t,n,i){return new Promise(((s,o)=>{const r=new XMLHttpRequest;r.withCredentials=n,r.addEventListener("load",(()=>{if(r.readyState==XMLHttpRequest.DONE)if(r.status>=200&&r.status<300){let e=r.response;if("string"==typeof e)try{e=JSON.parse(e)}catch{}s(e)}else o(new Error(`HTTP Status: ${r.status} response type: ${r.responseType}`))})),r.addEventListener("error",(()=>{o(new Error("error"))})),r.addEventListener("abort",(()=>{o(new Error("aborted"))})),null===t?r.open("GET",e,!0):r.open("POST",e,!0),r.responseType="json",r.timeout=i,r.ontimeout=()=>{o(new Error("Timeout "+i+"ms "+e))},r.send(t)}))}static post(e,t,n=!1,i=0){return this.absCall(e,JSON.stringify(t),n,i)}static fetch(e,t=!1,n=0){return this.absCall(e,null,t,n)}}let hn=class extends Error{constructor(e){super(e),this.name="GVLError"}},_n=class e{static langSet=new Set(["AR","BG","BS","CA","CS","CY","DA","DE","EL","EN","ES","ET","EU","FI","FR","GL","HE","HR","HU","ID","IT","JA","KA","KO","LT","LV","MK","MS","MT","NL","NO","PL","PT-BR","PT-PT","RO","RU","SK","SL","SQ","SR-LATN","SR-CYRL","SV","SW","TH","TL","TR","UK","VI","ZH"]);has(t){return e.langSet.has(t)}forEach(t){e.langSet.forEach(t)}get size(){return e.langSet.size}},Sn=class e{vendors;static DEFAULT_LANGUAGE="EN";consentLanguages=new _n;gvlSpecificationVersion;vendorListVersion;tcfPolicyVersion;lastUpdated;purposes;specialPurposes;features;specialFeatures;stacks;dataCategories;language=e.DEFAULT_LANGUAGE;vendorIds;ready=!1;fullVendorList;byPurposeVendorMap;bySpecialPurposeVendorMap;byFeatureVendorMap;bySpecialFeatureVendorMap;baseUrl;languageFilename="purposes-[LANG].json";static fromVendorList(t){let n=new e;return n.populate(t),n}static async fromUrl(t){let n=t.baseUrl;if(!n||0===n.length)throw new hn("Invalid baseUrl: '"+n+"'");if(/^https?:\/\/vendorlist\.consensu\.org\//.test(n))throw new hn("Invalid baseUrl!  You may not pull directly from vendorlist.consensu.org and must provide your own cache");n.length>0&&"/"!==n[n.length-1]&&(n+="/");let i=new e;if(i.baseUrl=n,t.languageFilename?i.languageFilename=t.languageFilename:i.languageFilename="purposes-[LANG].json",t.version>0){let e=t.versionedFilename;e||(e="archives/vendor-list-v[VERSION].json");let s=n+e.replace("[VERSION]",String(t.version));i.populate(await gn.fetch(s))}else{let e=t.latestFilename;e||(e="vendor-list.json");let s=n+e;i.populate(await gn.fetch(s))}return i}async changeLanguage(e){const t=e.toUpperCase();if(!this.consentLanguages.has(t))throw new hn(`unsupported language ${e}`);if(t!==this.language){this.language=t;const n=this.baseUrl+this.languageFilename.replace("[LANG]",e);try{this.populate(await gn.fetch(n))}catch(e){throw new hn("unable to load language: "+e.message)}}}getJson(){return JSON.parse(JSON.stringify({gvlSpecificationVersion:this.gvlSpecificationVersion,vendorListVersion:this.vendorListVersion,tcfPolicyVersion:this.tcfPolicyVersion,lastUpdated:this.lastUpdated,purposes:this.purposes,specialPurposes:this.specialPurposes,features:this.features,specialFeatures:this.specialFeatures,stacks:this.stacks,dataCategories:this.dataCategories,vendors:this.fullVendorList}))}isVendorList(e){return void 0!==e&&void 0!==e.vendors}populate(e){this.purposes=e.purposes,this.specialPurposes=e.specialPurposes,this.features=e.features,this.specialFeatures=e.specialFeatures,this.stacks=e.stacks,this.dataCategories=e.dataCategories,this.isVendorList(e)&&(this.gvlSpecificationVersion=e.gvlSpecificationVersion,this.tcfPolicyVersion=e.tcfPolicyVersion,this.vendorListVersion=e.vendorListVersion,this.lastUpdated=e.lastUpdated,"string"==typeof this.lastUpdated&&(this.lastUpdated=new Date(this.lastUpdated)),this.vendors=e.vendors,this.fullVendorList=e.vendors,this.mapVendors(),this.ready=!0)}mapVendors(e){this.byPurposeVendorMap={},this.bySpecialPurposeVendorMap={},this.byFeatureVendorMap={},this.bySpecialFeatureVendorMap={},Object.keys(this.purposes).forEach((e=>{this.byPurposeVendorMap[e]={legInt:new Set,impCons:new Set,consent:new Set,flexible:new Set}})),Object.keys(this.specialPurposes).forEach((e=>{this.bySpecialPurposeVendorMap[e]=new Set})),Object.keys(this.features).forEach((e=>{this.byFeatureVendorMap[e]=new Set})),Object.keys(this.specialFeatures).forEach((e=>{this.bySpecialFeatureVendorMap[e]=new Set})),Array.isArray(e)||(e=Object.keys(this.fullVendorList).map((e=>+e))),this.vendorIds=new Set(e),this.vendors=e.reduce(((e,t)=>{const n=this.vendors[String(t)];return n&&void 0===n.deletedDate&&(n.purposes.forEach((e=>{this.byPurposeVendorMap[String(e)].consent.add(t)})),n.specialPurposes.forEach((e=>{this.bySpecialPurposeVendorMap[String(e)].add(t)})),n.legIntPurposes&&n.legIntPurposes.forEach((e=>{this.byPurposeVendorMap[String(e)].legInt.add(t)})),n.impConsPurposes&&n.impConsPurposes.forEach((e=>{this.byPurposeVendorMap[String(e)].impCons.add(t)})),n.flexiblePurposes&&n.flexiblePurposes.forEach((e=>{this.byPurposeVendorMap[String(e)].flexible.add(t)})),n.features.forEach((e=>{this.byFeatureVendorMap[String(e)].add(t)})),n.specialFeatures.forEach((e=>{this.bySpecialFeatureVendorMap[String(e)].add(t)})),e[t]=n),e}),{})}getFilteredVendors(e,t,n,i){const s=e.charAt(0).toUpperCase()+e.slice(1);let o;const r={};return o="purpose"===e&&n?this["by"+s+"VendorMap"][String(t)][n]:this["by"+(i?"Special":"")+s+"VendorMap"][String(t)],o.forEach((e=>{r[String(e)]=this.vendors[String(e)]})),r}getVendorsWithConsentPurpose(e){return this.getFilteredVendors("purpose",e,"consent")}getVendorsWithLegIntPurpose(e){return this.getFilteredVendors("purpose",e,"legInt")}getVendorsWithFlexiblePurpose(e){return this.getFilteredVendors("purpose",e,"flexible")}getVendorsWithSpecialPurpose(e){return this.getFilteredVendors("purpose",e,void 0,!0)}getVendorsWithFeature(e){return this.getFilteredVendors("feature",e)}getVendorsWithSpecialFeature(e){return this.getFilteredVendors("feature",e,void 0,!0)}narrowVendorsTo(e){this.mapVendors(e)}get isReady(){return this.ready}static isInstanceOf(e){return"object"==typeof e&&"function"==typeof e.narrowVendorsTo}};class Tn{callResponder;cmpApiContext;constructor(e,t,n){this.cmpApiContext=new En,this.cmpApiContext.cmpId=e,this.cmpApiContext.cmpVersion=t,this.callResponder=new _(this.cmpApiContext,n)}fireEvent(e,t){this.cmpApiContext.eventQueue.exec(e,t)}fireErrorEvent(e){this.cmpApiContext.eventQueue.exec("error",e)}fireSectionChange(e){this.cmpApiContext.eventQueue.exec("sectionChange",e)}getEventStatus(){return this.cmpApiContext.eventStatus}setEventStatus(e){this.cmpApiContext.eventStatus=e}getCmpStatus(){return this.cmpApiContext.cmpStatus}setCmpStatus(e){this.cmpApiContext.cmpStatus=e,this.cmpApiContext.eventQueue.exec("cmpStatus",e)}getCmpDisplayStatus(){return this.cmpApiContext.cmpDisplayStatus}setCmpDisplayStatus(e){this.cmpApiContext.cmpDisplayStatus=e,this.cmpApiContext.eventQueue.exec("cmpDisplayStatus",e)}getSignalStatus(){return this.cmpApiContext.signalStatus}setSignalStatus(e){this.cmpApiContext.signalStatus=e,this.cmpApiContext.eventQueue.exec("signalStatus",e)}getApplicableSections(){return this.cmpApiContext.applicableSections}setApplicableSections(e){this.cmpApiContext.applicableSections=e}getSupportedAPIs(){return this.cmpApiContext.supportedAPIs}setSupportedAPIs(e){this.cmpApiContext.supportedAPIs=e}setGppString(e){this.cmpApiContext.gppModel.decode(e)}getGppString(){return this.cmpApiContext.gppModel.encode()}setSectionString(e,t){this.cmpApiContext.gppModel.decodeSection(e,t)}setSectionStringById(e,t){this.setSectionString(pn.SECTION_ID_NAME_MAP.get(e),t)}getSectionString(e){return this.cmpApiContext.gppModel.encodeSection(e)}getSectionStringById(e){return this.getSectionString(pn.SECTION_ID_NAME_MAP.get(e))}setFieldValue(e,t,n){this.cmpApiContext.gppModel.setFieldValue(e,t,n)}setFieldValueBySectionId(e,t,n){this.setFieldValue(pn.SECTION_ID_NAME_MAP.get(e),t,n)}getFieldValue(e,t){return this.cmpApiContext.gppModel.getFieldValue(e,t)}getFieldValueBySectionId(e,t){return this.getFieldValue(pn.SECTION_ID_NAME_MAP.get(e),t)}getSection(e){return this.cmpApiContext.gppModel.getSection(e)}getSectionById(e){return this.getSection(pn.SECTION_ID_NAME_MAP.get(e))}hasSection(e){return this.cmpApiContext.gppModel.hasSection(e)}hasSectionId(e){return this.hasSection(pn.SECTION_ID_NAME_MAP.get(e))}deleteSection(e){this.cmpApiContext.gppModel.deleteSection(e)}deleteSectionById(e){this.deleteSection(pn.SECTION_ID_NAME_MAP.get(e))}clear(){this.cmpApiContext.gppModel.clear()}getObject(){return this.cmpApiContext.gppModel.toObject()}getGvlFromVendorList(e){return Sn.fromVendorList(e)}async getGvlFromUrl(e){return Sn.fromUrl(e)}}class On{constructor(e,t,n){this.notice=e,this.consentPreference=t,this.noticeHistoryId=n}}var Nn;(e=>{var t;(t=e.IABTCFgdprApplies||(e.IABTCFgdprApplies={}))[t._0=0]="_0",t[t._1=1]="_1",(e=>{e[e._0=0]="_0",e[e._1=1]="_1"})(e.IABTCFPurposeOneTreatment||(e.IABTCFPurposeOneTreatment={})),(e=>{e[e._0=0]="_0",e[e._1=1]="_1"})(e.IABTCFUseNonStandardTexts||(e.IABTCFUseNonStandardTexts={}))})(Nn||(Nn={}));var In=(e=>(e.OPT_IN="opt_in",e.OPT_OUT="opt_out",e.NOTICE_ONLY="notice_only",e))(In||{}),fn=(e=>(e.OPT_IN="opt_in",e.OPT_OUT="opt_out",e.ACKNOWLEDGE="acknowledge",e.NOT_APPLICABLE="not_applicable",e.TCF="tcf",e))(fn||{}),An=(e=>(e.OMIT="omit",e.INCLUDE="include",e))(An||{}),Cn=(e=>(e.BOOLEAN="boolean",e.CONSENT_MECHANISM="consent_mechanism",e))(Cn||{}),mn=(e=>(e.THROW="throw",e.WARN="warn",e.IGNORE="ignore",e))(mn||{}),wn=(e=>(e.OVERLAY="overlay",e.BANNER_AND_MODAL="banner_and_modal",e.MODAL="modal",e.PRIVACY_CENTER="privacy_center",e.TCF_OVERLAY="tcf_overlay",e.HEADLESS="headless",e))(wn||{}),vn=(e=>(e.BUTTON="button",e.REJECT="reject",e.ACCEPT="accept",e.SCRIPT="script",e.SAVE="save",e.DISMISS="dismiss",e.GPC="gpc",e.INDIVIDUAL_NOTICE="individual_notice",e.ACKNOWLEDGE="acknowledge",e.EXTERNAL_PROVIDER="external_provider",e))(vn||{}),Pn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Dn={exports:{}};/*! https://mths.be/base64 v1.0.0 by @mathias | MIT license */!function(e,t){!function(n){var i=t,s=e&&e.exports==i&&e,o="object"==typeof Pn&&Pn;(o.global===o||o.window===o)&&(n=o);var r=function(e){this.message=e};(r.prototype=new Error).name="InvalidCharacterError";var a=function(e){throw new r(e)},c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",l=/[\t\n\f\r ]/g,d={encode:function(e){e=String(e),/[^\0-\xFF]/.test(e)&&a("The string to be encoded contains characters outside of the Latin1 range.");for(var t,n,i,s,o=e.length%3,r="",l=-1,d=e.length-o;++l<d;)t=e.charCodeAt(l)<<16,n=e.charCodeAt(++l)<<8,i=e.charCodeAt(++l),r+=c.charAt((s=t+n+i)>>18&63)+c.charAt(s>>12&63)+c.charAt(s>>6&63)+c.charAt(63&s);return 2==o?(t=e.charCodeAt(l)<<8,n=e.charCodeAt(++l),r+=c.charAt((s=t+n)>>10)+c.charAt(s>>4&63)+c.charAt(s<<2&63)+"="):1==o&&(s=e.charCodeAt(l),r+=c.charAt(s>>2)+c.charAt(s<<4&63)+"=="),r},decode:function(e){var t=(e=String(e).replace(l,"")).length;t%4==0&&(t=(e=e.replace(/==?$/,"")).length),(t%4==1||/[^+a-zA-Z0-9/]/.test(e))&&a("Invalid character: the string to be decoded is not correctly encoded.");for(var n,i,s=0,o="",r=-1;++r<t;)i=c.indexOf(e.charAt(r)),n=s%4?64*n+i:i,s++%4&&(o+=String.fromCharCode(255&n>>(-2*s&6)));return o},version:"1.0.0"};if(i&&!i.nodeType)if(s)s.exports=d;else for(var p in d)d.hasOwnProperty(p)&&(i[p]=d[p]);else n.base64=d}(Pn)}(Dn,Dn.exports);var bn=Dn.exports;/*! js-cookie v3.0.5 | MIT */function Rn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)e[i]=n[i]}return e}var yn={read:function(e){return'"'===e[0]&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}};var Vn=function e(t,n){function i(e,i,s){if(!(typeof document>"u")){"number"==typeof(s=Rn({},n,s)).expires&&(s.expires=new Date(Date.now()+864e5*s.expires)),s.expires&&(s.expires=s.expires.toUTCString()),e=encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var o="";for(var r in s)s[r]&&(o+="; "+r,!0!==s[r]&&(o+="="+s[r].split(";")[0]));return document.cookie=e+"="+t.write(i,e)+o}}return Object.create({set:i,get:function(e){if(!(typeof document>"u"||arguments.length&&!e)){for(var n=document.cookie?document.cookie.split("; "):[],i={},s=0;s<n.length;s++){var o=n[s].split("="),r=o.slice(1).join("=");try{var a=decodeURIComponent(o[0]);if(i[a]=t.read(r,a),e===a)break}catch{}}return e?i[e]:i}},remove:function(e,t){i(e,"",Rn({},t,{expires:-1}))},withAttributes:function(t){return e(this.converter,Rn({},this.attributes,t))},withConverter:function(t){return e(Rn({},this.converter,t),this.attributes)}},{attributes:{value:Object.freeze(n)},converter:{value:Object.freeze(t)}})}(yn,{path:"/"});let Mn;const Ln=new Uint8Array(16);function Un(){if(!Mn&&(Mn=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Mn))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Mn(Ln)}const Gn=[];for(let e=0;e<256;++e)Gn.push((e+256).toString(16).slice(1));var Fn={randomUUID:typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};function kn(e,t,n){if(Fn.randomUUID&&!e)return Fn.randomUUID();const i=(e=e||{}).random||(e.rng||Un)();return i[6]=15&i[6]|64,i[8]=63&i[8]|128,function(e,t=0){return Gn[e[t+0]]+Gn[e[t+1]]+Gn[e[t+2]]+Gn[e[t+3]]+"-"+Gn[e[t+4]]+Gn[e[t+5]]+"-"+Gn[e[t+6]]+Gn[e[t+7]]+"-"+Gn[e[t+8]]+Gn[e[t+9]]+"-"+Gn[e[t+10]]+Gn[e[t+11]]+Gn[e[t+12]]+Gn[e[t+13]]+Gn[e[t+14]]+Gn[e[t+15]]}(i)}function xn(e,t){return e.toLowerCase().replaceAll("_","-")===t.toLowerCase().replaceAll("_","-")}const jn=e=>!(!e||e===fn.OPT_OUT)&&(e===fn.OPT_IN||e===fn.ACKNOWLEDGE),zn=(e,t)=>e?t===In.NOTICE_ONLY?fn.ACKNOWLEDGE:fn.OPT_IN:fn.OPT_OUT,Hn=(e,t,n,i,s)=>{const o=[];return t.forEach((t=>{const s=e[t.notice_key];if(void 0!==s){const e=function(e,t,n){if(!n||!n.translations)return null;if(e){const t=n.translations.find((t=>xn(t.language,e)));if(t)return t}return n.translations.find((e=>xn(e.language,t)))||n.translations[0]||null}(n,i,t)?.privacy_notice_history_id;if(e){let n;if("boolean"==typeof s)n=zn(s,t.consent_mechanism);else{const e=jn(s);n=zn(e,t.consent_mechanism)}o.push(new On(t,n,e))}}})),o},Bn=e=>"string"==typeof e?jn(e):e,Kn=/^(?:([a-z]{2})(-[a-z0-9]{1,3})?|(eea))$/i,Yn=e=>!(!e||"object"!=typeof e)&&(0===Object.keys(e).length||"id"in e),$n=e=>!(!e||!e.every((e=>e.default_preference===fn.OPT_IN))),Wn=e=>e.fidesConsentOverride===vn.ACCEPT||e.fidesConsentOverride===vn.REJECT,qn=(e,t,n,i)=>!(i?.fidesDisableBanner||!Yn(e)||"immediate"===i.fidesModalDisplay||e.experience_config?.component===wn.TCF_OVERLAY&&0===e.vendor_count)&&(e.experience_config?.component===wn.TCF_OVERLAY&&t?(!i||!Wn(i))&&(!e.meta?.version_hash||e.meta.version_hash!==t.tcf_version_hash):!(e.experience_config?.component===wn.MODAL||e.experience_config?.component===wn.HEADLESS||!e?.privacy_notices?.length)&&(!n||(!i||!Wn(i))&&(t?.fides_meta.consentMethod===vn.GPC||!e.privacy_notices?.every((e=>((e,t)=>!!Object.keys(t).includes(e.notice_key))(e,n)))))),Jn=(e,t,n=[],i,s,o)=>{const r={...e},a=window.Fides?.options,c=a?.fidesConsentNonApplicableFlagMode??An.OMIT,l=a?.fidesConsentFlagType??Cn.BOOLEAN,d={};Object.assign(d,(({consent:e,nonApplicableNotices:t,flagType:n,mode:i=An.OMIT})=>{if(!t?.length)return e;const s={...e};return i===An.INCLUDE?t.forEach((e=>{s[e]=n!==Cn.CONSENT_MECHANISM||fn.NOT_APPLICABLE})):t.forEach((e=>{delete s[e]})),s})({consent:{},nonApplicableNotices:t??[],flagType:l,mode:c}));const p=n.reduce(((e,t)=>({...e,[t.notice_key]:t.consent_mechanism})),{}),u={};return Object.entries(r).forEach((([e,n])=>{o?.includes(e)&&!t?.includes(e)||(u[e]=n)})),Object.assign(d,(({consent:e,flagType:t=Cn.BOOLEAN,consentMechanisms:n})=>{const i={};if(t!==Cn.CONSENT_MECHANISM)return Object.fromEntries(Object.entries(e).map((([e,t])=>[e,Bn(t)])));const s=Object.values(e).some((e=>"boolean"==typeof e));if(s&&!n)throw new Error("Cannot transform boolean consent values to consent mechanisms without consent mechanisms map");return s?(Object.keys(e).forEach((t=>{const s=e[t];if("string"==typeof s)i[t]=s;else{const e=n[t];i[t]=zn(s,e)}})),i):{...e}})({consent:u,consentMechanisms:p,flagType:l})),d};var Qn=(e=>(e.CONSENT="Consent",e.LEGITIMATE_INTERESTS="Legitimate interests",e))(Qn||{});const Xn=[{cookieKey:"system_consent_preferences",experienceKey:"tcf_system_consents"},{cookieKey:"system_legitimate_interests_preferences",experienceKey:"tcf_system_legitimate_interests"}];[{experienceKey:"tcf_purpose_consents",tcfModelKey:"purposeConsents",enabledIdsKey:"purposesConsent"},{experienceKey:"tcf_purpose_legitimate_interests",tcfModelKey:"purposeLegitimateInterests",enabledIdsKey:"purposesLegint"},{experienceKey:"tcf_special_features",tcfModelKey:"specialFeatureOptins",enabledIdsKey:"specialFeatures"},{experienceKey:"tcf_vendor_consents",tcfModelKey:"vendorConsents",enabledIdsKey:"vendorsConsent"},{experienceKey:"tcf_vendor_legitimate_interests",tcfModelKey:"vendorLegitimateInterests",enabledIdsKey:"vendorsLegint"}].filter((({experienceKey:e})=>"tcf_features"!==e&&"tcf_special_purposes"!==e)).map((e=>e.experienceKey)),Qn.CONSENT.toString(),Qn.LEGITIMATE_INTERESTS.toString();const Zn={purposesConsent:[],customPurposesConsent:[],purposesLegint:[],specialPurposes:[],features:[],specialFeatures:[],vendorsConsent:[],vendorsLegint:[]},ei=e=>{const t=e.split(".");return 1===t.length?{source:void 0,id:t[0]}:{source:t[0],id:t[1]}},ti=(e,t)=>{if(!t?.vendors)return;const{source:n,id:i}=ei(e);return"gvl"===n||void 0===n?t.vendors[i]:void 0},ni=e=>"gacp"===ei(e).source,ii=e=>{if(!e)return{tc:"",ac:"",gpp:"",nc:""};const[t="",n="",i="",s=""]=e.split(",");return t?{tc:t,ac:n,gpp:i,nc:s}:{tc:"",ac:"",gpp:i,nc:s}},si=e=>{const t=e.getGppString();if(!t)return window.Fides.fides_string;const n=new Array(4).fill(""),i=(window.Fides.fides_string?.split(",")||[]).concat(n);return n.map(((e,n)=>n<2?`${i[n]},`:2===n?t:3===n&&i[3]?`,${i[3]}`:e)).join("")},oi="fides_consent",ri=e=>{const t=(e??"").trim();return t.length>0?`${oi}_${t}`:oi},ai=Vn.withConverter({read:e=>decodeURIComponent(e),write:e=>encodeURIComponent(e)});kn();const ci="gzip:",li=()=>!(typeof window>"u")&&(typeof CompressionStream<"u"&&typeof DecompressionStream<"u"),di=async e=>{if(!li())return e;try{const t=(new TextEncoder).encode(e),n=new Blob([t]).stream().pipeThrough(new CompressionStream("gzip")),i=await new Response(n).arrayBuffer();return ci+(e=>btoa(String.fromCharCode(...e)).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,""))(new Uint8Array(i))}catch{return e}},pi=async e=>{if(!li())throw new Error("DecompressionStream API not supported, cannot read compressed cookie");try{const t=(e=>{const t=e.replace(/-/g,"+").replace(/_/g,"/"),n=t+"===".slice(0,(4-t.length%4)%4),i=atob(n);return new Uint8Array([...i].map((e=>e.charCodeAt(0))))})(e.slice(5)),n=new Blob([t.buffer]).stream().pipeThrough(new DecompressionStream("gzip"));return await new Response(n).text()}catch(e){throw new Error(`Failed to decompress cookie: ${e}`)}},ui=async e=>{const t=(e=>ai.get(e))(ri(e));if(t)try{if((e=>e.startsWith(ci))(t))try{const e=await pi(t);return JSON.parse(e)}catch{return}return JSON.parse(t)}catch{try{return JSON.parse(bn.decode(t))}catch{return}}},Ei=async(e,{base64Cookie:t=!1,fidesCookieCompression:n="none",fidesCookieSuffix:i}={})=>{if(typeof document>"u")return;const s=(new Date).toISOString();e.fides_meta.updatedAt=s;let o="none";("gzip"===n||"none"===n)&&(o=n);let r=JSON.stringify(e);"gzip"===o?r=await di(r):t&&(r=bn.encode(r));const a=window.location.hostname.split(".");let c="";for(let t=1;t<=a.length;t+=1)if(c=a.slice(-t).join("."),ai.set(ri(i),r,{path:"/",domain:c,expires:365})){const t=await ui(i);if(t&&t.fides_meta.updatedAt===e.fides_meta.updatedAt)break}},gi=e=>{const t={};return Xn.forEach((({cookieKey:n})=>{const i=e[n]??[];t[n]=Object.fromEntries(i.map((e=>[e.id,jn(e.preference)])))})),t},hi=e=>{const t=new Map(e.map((({notice:e,consentPreference:t})=>[e.notice_key,jn(t)])));return Object.fromEntries(t)},_i=()=>{if(!0===window.navigator?.globalPrivacyControl)return window.navigator.globalPrivacyControl;const e=new URL(window.location.href).searchParams.get("globalPrivacyControl");return"true"===e||"false"!==e&&window.navigator?.globalPrivacyControl},Si=()=>typeof window>"u"?{}:{globalPrivacyControl:_i()},Ti={us:{name:Ve.NAME,id:Ve.ID},us_ca:{name:ke.NAME,id:ke.ID},us_co:{name:qe.NAME,id:qe.ID},us_ct:{name:ot.NAME,id:ot.ID},us_ut:{name:Ze.NAME,id:Ze.ID},us_va:{name:He.NAME,id:He.ID},us_de:{name:Vt.NAME,id:Vt.ID},us_fl:{name:lt.NAME,id:lt.ID},us_ia:{name:kt.NAME,id:kt.ID},us_mt:{name:ht.NAME,id:ht.ID},us_ne:{name:Kt.NAME,id:Kt.ID},us_nh:{name:Qt.NAME,id:Qt.ID},us_nj:{name:sn.NAME,id:sn.ID},us_or:{name:It.NAME,id:It.ID},us_tn:{name:dn.NAME,id:dn.ID},us_tx:{name:vt.NAME,id:vt.ID}},Oi=[Ve.NAME,ke.NAME,qe.NAME,ot.NAME,Vt.NAME,kt.NAME,ht.NAME,Kt.NAME,Qt.NAME,sn.NAME,It.NAME,dn.NAME,vt.NAME];var Ni=(e=>(e.NATIONAL="national",e.STATE="state",e.ALL="all",e))(Ni||{});const Ii={method:"PATCH",mode:"cors",headers:{"Content-Type":"application/json"}};var fi=(e=>(e.FIDES="fides",e.EXTERNAL="external",e))(fi||{});const Ai=(e,t,n)=>{const i=t?{...t}:void 0;if(typeof window<"u"&&typeof CustomEvent<"u"){const t={consentMethod:i?.fides_meta.consentMethod,...n};n?.trigger?.origin||(t.trigger={...t.trigger,origin:"fides"});const s=performance?.mark?.(e)?.startTime,o=i;o&&i?.consent&&(o.consent=Jn(i.consent,window.Fides?.experience?.non_applicable_privacy_notices,window.Fides?.experience?.privacy_notices,0,0,i.non_applicable_notice_keys));const r=new CustomEvent(e,{detail:{...o,debug:!!window.Fides?.options?.debug,extraDetails:t,timestamp:s},bubbles:!0});window.dispatchEvent(r)}};const Ci=new class{constructor(){this.servedNoticeHistoryId=null}getServedNoticeHistoryId(){return this.servedNoticeHistoryId||(this.servedNoticeHistoryId=kn()),this.servedNoticeHistoryId}reset(){this.servedNoticeHistoryId=null}hasLifecycleId(){return null!==this.servedNoticeHistoryId}},mi=[vn.SCRIPT,vn.GPC,vn.EXTERNAL_PROVIDER];async function wi(e,t,n,i,s,o,r,a,c){const l=(o||[]).map((e=>({preference:e.consentPreference,privacy_notice_history_id:e.noticeHistoryId||""}))),d={browser_identity:t.identity,preferences:l,privacy_experience_config_history_id:s,user_geography:a,method:i,served_notice_history_id:c,property_id:n.property_id,...r??[]};await(async(e,t,n,i,s)=>{if(n.apiOptions?.savePreferencesFn){try{await n.apiOptions.savePreferencesFn(e,i.consent,i.fides_string,s)}catch(e){return Promise.reject(e)}return Promise.resolve()}const o={...Ii,body:JSON.stringify({...t,source:"Fides.js"})};return(await fetch(`${n.fidesApiUrl}/privacy-preferences`,o)).ok,Promise.resolve()})(i,d,e,t,n)}const vi=async({consentPreferencesToSave:e,privacyExperienceConfigHistoryId:t,experience:n,consentMethod:i,options:s,userLocationString:o,cookie:r,eventExtraDetails:a,servedNoticeHistoryId:c,tcf:l,updateCookie:d})=>{if(!d&&e&&(d=t=>(async(e,t)=>{const n=window.Fides?.experience?.non_applicable_privacy_notices||[];return{...e,consent:hi(t),non_applicable_notice_keys:n}})(t,e)),!d&&!e)throw new Error("updateCookie is required");const p={...a?.trigger,origin:a?.trigger?.origin||(mi.includes(i)?fi.EXTERNAL:fi.FIDES)},u=await d(r);Object.assign(r,u),Object.assign(r.fides_meta,{consentMethod:i}),Ai("FidesUpdating",r,{...a,trigger:p});const E=Jn(r.consent,window.Fides?.experience?.non_applicable_privacy_notices,window.Fides?.experience?.privacy_notices,0,0,r.non_applicable_notice_keys),g=!!window.Fides?.experience?.non_applicable_privacy_notices||!!window.Fides?.experience?.privacy_notices;if(window.Fides.consent=((e,t,n)=>new Proxy(e,{get(e,i){if(void 0===e[i.toString()]){const e=t.fidesConsentFlagType===Cn.CONSENT_MECHANISM;return n||"essential"!==i.toString()?!!e&&In.OPT_OUT:!e||In.NOTICE_ONLY}return e[i.toString()]}}))(E,s,g),window.Fides.fides_string=r.fides_string,window.Fides.tcf_consent=r.tcf_consent,await Ei({...r,consent:E},s),window.Fides.saved_consent=r.consent,!s.fidesDisableSaveApi)try{await wi(s,r,n,i,t,e,l,o,c)}catch{}e&&e.filter((e=>e.consentPreference===fn.OPT_OUT)).forEach((e=>{e.notice?.cookies&&((e,t=!0,n=!0)=>{const{hostname:i}=window.location,s=[],o=e=>{const s=t?i:e.domain;ai.remove(e.name,{path:e.path??"/",domain:s}),n&&ai.remove(e.name,{domain:`.${i}`})};if(e.forEach((e=>{(e=>e.name.includes("[id]"))(e)?s.push(e):o(e)})),s.length>0){const e=ai.get();s.forEach((t=>{const n=t.name.replace(/[.*+?^${}()|[\]\\]/g,"\\$&").replace(/\\\[id\\\]/g,".+?"),i=new RegExp(`^(${n})$`);Object.keys(e).forEach((e=>{i.test(e)&&o({name:e,domain:t.domain,path:t.path})}))}))}})(e.notice.cookies,n.experience_config?.cookie_deletion_based_on_host_domain,n.experience_config?.auto_subdomain_cookie_deletion)})),Ai("FidesUpdated",r,{...a,trigger:p})},Pi=(e,t,n,i)=>Object.entries(n).reduce(((n,[s,o])=>{if(n)return n;const r=t.find((e=>e===s));if(r&&!o&&i!==vn.EXTERNAL_PROVIDER)return new Error(`Provided notice key '${s}' is not applicable to the current experience.`);const a=e.find((e=>e.notice_key===s));if(!r&&!a)return new Error(`'${s}' is not a valid notice key`);const c=a?.consent_mechanism===In.NOTICE_ONLY;return c&&!0!==o&&o!==fn.ACKNOWLEDGE&&!window?.FidesPreview?new Error(`Invalid consent value for notice-only notice key: '${s}'. Must be \`true\` or "acknowledge"`):c||"boolean"==typeof o||o===fn.OPT_IN||o===fn.OPT_OUT?null:new Error(`Invalid consent value for notice key: '${s}'. Must be a boolean or "opt_in" or "opt_out"`)}),null),Di=async(e,t)=>{const{experience:n,cookie:i,config:s,locale:o}=e;if(!n)throw new Error("Experience must be initialized before updating consent");if(!s)throw new Error("Config is not initialized");if(!i)throw new Error("Cookie is not initialized");if(!t?.noticeConsent&&!t?.fidesString&&!t?.tcf)throw new Error("Either consent object or fidesString must be provided");if(t?.validation&&!Object.values(mn).includes(t.validation))throw new Error(`Validation must be one of: ${Object.values(mn).join(", ")} (default is ${mn.THROW})`);const{noticeConsent:r,fidesString:a,validation:c=mn.THROW,consentMethod:l=vn.SCRIPT,eventExtraDetails:d={trigger:{origin:fi.EXTERNAL}},tcf:p,updateCookie:u}=t,{experience_config:E,privacy_notices:g,non_applicable_privacy_notices:h}=n,_=function(e){if(e?.experience_config?.translations){const{translations:t}=e.experience_config;return t.find((e=>e.is_default))?.language}}(n)||"en",S=e=>{if(c===mn.THROW)throw new Error(e);c===mn.WARN&&console.warn(e)};let T=i.consent||{};if(a)try{const e=ii(a);if(e.nc){const t=(e=>{if(!e)return{};try{const t=atob(e),n=JSON.parse(t);return Object.fromEntries(Object.entries(n).map((([e,t])=>[e,!!t])))}catch(e){throw new Error("Failed to decode Notice Consent string:",{cause:e})}})(e.nc);T={...i.consent,...t};const n=Pi(g||[],h||[],T,l);n&&S(n.message)}}catch(e){S(`Invalid fidesString provided: ${e instanceof Error?e.message:String(e)}`)}else if(r){const e=Pi(g||[],h||[],r,l);e&&S(e.message),T={...i.consent,...r}}const O=Hn(T,g||[],o,_);let N;E?.translations?.length&&(N=function(e,t,n){if(!n||!n.translations)return null;if(e){const t=n.translations.find((t=>xn(t.language,e)));if(t)return t}return n.translations.find((e=>xn(e.language,t)))||n.translations[0]||null}(o,_,E)?.privacy_experience_config_history_id);const I=(e=>{if(e){if(e.location&&Kn.test(e.location))return e.location.replace("-","_").toLowerCase();if(e.country&&e.region)return`${e.country.toLowerCase()}_${e.region.toLowerCase()}`}})(s.geolocation),f=Ci.getServedNoticeHistoryId();return vi({consentPreferencesToSave:O,privacyExperienceConfigHistoryId:N,experience:n,consentMethod:l,options:s.options,userLocationString:I,cookie:i,eventExtraDetails:d,servedNoticeHistoryId:f,tcf:p,updateCookie:u})};class bi extends Error{constructor(e){super(e),this.name="DecodingError"}}class Ri extends Error{constructor(e){super(e),this.name="EncodingError"}}class yi extends Error{constructor(e){super(e),this.name="GVLError"}}class Vi extends Error{constructor(e,t,n=""){super(`invalid value ${t} passed for ${e} ${n}`),this.name="TCModelError"}}class Mi{static DICT="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_";static REVERSE_DICT=new Map([["A",0],["B",1],["C",2],["D",3],["E",4],["F",5],["G",6],["H",7],["I",8],["J",9],["K",10],["L",11],["M",12],["N",13],["O",14],["P",15],["Q",16],["R",17],["S",18],["T",19],["U",20],["V",21],["W",22],["X",23],["Y",24],["Z",25],["a",26],["b",27],["c",28],["d",29],["e",30],["f",31],["g",32],["h",33],["i",34],["j",35],["k",36],["l",37],["m",38],["n",39],["o",40],["p",41],["q",42],["r",43],["s",44],["t",45],["u",46],["v",47],["w",48],["x",49],["y",50],["z",51],["0",52],["1",53],["2",54],["3",55],["4",56],["5",57],["6",58],["7",59],["8",60],["9",61],["-",62],["_",63]]);static BASIS=6;static LCM=24;static encode(e){if(!/^[0-1]+$/.test(e))throw new Ri("Invalid bitField");const t=e.length%this.LCM;e+=t?"0".repeat(this.LCM-t):"";let n="";for(let t=0;t<e.length;t+=this.BASIS)n+=this.DICT[parseInt(e.substr(t,this.BASIS),2)];return n}static decode(e){if(!/^[A-Za-z0-9\-_]+$/.test(e))throw new bi("Invalidly encoded Base64URL string");let t="";for(let n=0;n<e.length;n++){const i=this.REVERSE_DICT.get(e[n]).toString(2);t+="0".repeat(this.BASIS-i.length)+i}return t}}class Li{static langSet=new Set(["AR","BG","BS","CA","CS","CY","DA","DE","EL","EN","ES","ET","EU","FI","FR","GL","HE","HI","HR","HU","ID","IS","IT","JA","KA","KO","LT","LV","MK","MS","MT","NL","NO","PL","PT-BR","PT-PT","RO","RU","SK","SL","SQ","SR-LATN","SR-CYRL","SV","SW","TH","TL","TR","UK","VI","ZH","ZH-HANT"]);has(e){return Li.langSet.has(e)}parseLanguage(e){const t=(e=e.toUpperCase()).split("-")[0];if(e.length>=2&&2==t.length){if(Li.langSet.has(e))return e;if(Li.langSet.has(t))return t;const n=t+"-"+t;if(Li.langSet.has(n))return n;for(const n of Li.langSet)if(-1!==n.indexOf(e)||-1!==n.indexOf(t))return n}throw new Error(`unsupported language ${e}`)}forEach(e){Li.langSet.forEach(e)}get size(){return Li.langSet.size}}class Ui{static cmpId="cmpId";static cmpVersion="cmpVersion";static consentLanguage="consentLanguage";static consentScreen="consentScreen";static created="created";static supportOOB="supportOOB";static isServiceSpecific="isServiceSpecific";static lastUpdated="lastUpdated";static numCustomPurposes="numCustomPurposes";static policyVersion="policyVersion";static publisherCountryCode="publisherCountryCode";static publisherCustomConsents="publisherCustomConsents";static publisherCustomLegitimateInterests="publisherCustomLegitimateInterests";static publisherLegitimateInterests="publisherLegitimateInterests";static publisherConsents="publisherConsents";static publisherRestrictions="publisherRestrictions";static purposeConsents="purposeConsents";static purposeLegitimateInterests="purposeLegitimateInterests";static purposeOneTreatment="purposeOneTreatment";static specialFeatureOptins="specialFeatureOptins";static useNonStandardTexts="useNonStandardTexts";static vendorConsents="vendorConsents";static vendorLegitimateInterests="vendorLegitimateInterests";static vendorListVersion="vendorListVersion";static vendorsAllowed="vendorsAllowed";static vendorsDisclosed="vendorsDisclosed";static version="version"}class Gi{clone(){const e=new this.constructor;return Object.keys(this).forEach((t=>{const n=this.deepClone(this[t]);void 0!==n&&(e[t]=n)})),e}deepClone(e){const t=typeof e;if("number"===t||"string"===t||"boolean"===t)return e;if(null!==e&&"object"===t){if("function"==typeof e.clone)return e.clone();if(e instanceof Date)return new Date(e.getTime());if(void 0!==e[Symbol.iterator]){const t=[];for(const n of e)t.push(this.deepClone(n));return e instanceof Array?t:new e.constructor(t)}{const t={};for(const n in e)e.hasOwnProperty(n)&&(t[n]=this.deepClone(e[n]));return t}}}}var Fi,ki,xi,ji,zi,Hi,Bi,Ki;!function(e){e[e.NOT_ALLOWED=0]="NOT_ALLOWED",e[e.REQUIRE_CONSENT=1]="REQUIRE_CONSENT",e[e.REQUIRE_LI=2]="REQUIRE_LI"}(Fi||(Fi={}));class Yi extends Gi{static hashSeparator="-";purposeId_;restrictionType;constructor(e,t){super(),void 0!==e&&(this.purposeId=e),void 0!==t&&(this.restrictionType=t)}static unHash(e){const t=e.split(this.hashSeparator),n=new Yi;if(2!==t.length)throw new Vi("hash",e);return n.purposeId=parseInt(t[0],10),n.restrictionType=parseInt(t[1],10),n}get hash(){if(!this.isValid())throw new Error("cannot hash invalid PurposeRestriction");return`${this.purposeId}${Yi.hashSeparator}${this.restrictionType}`}get purposeId(){return this.purposeId_}set purposeId(e){this.purposeId_=e}isValid(){return Number.isInteger(this.purposeId)&&this.purposeId>0&&(this.restrictionType===Fi.NOT_ALLOWED||this.restrictionType===Fi.REQUIRE_CONSENT||this.restrictionType===Fi.REQUIRE_LI)}isSameAs(e){return this.purposeId===e.purposeId&&this.restrictionType===e.restrictionType}}class $i extends Gi{bitLength=0;map=new Map;gvl_;has(e){return this.map.has(e)}isOkToHave(e,t,n){let i=!0;if(this.gvl?.vendors){const s=this.gvl.vendors[n];if(s)if(e===Fi.NOT_ALLOWED)i=s.legIntPurposes.includes(t)||s.purposes.includes(t);else if(s.flexiblePurposes.length)switch(e){case Fi.REQUIRE_CONSENT:i=s.flexiblePurposes.includes(t)&&s.legIntPurposes.includes(t);break;case Fi.REQUIRE_LI:i=s.flexiblePurposes.includes(t)&&s.purposes.includes(t)}else i=!1;else i=!1}return i}add(e,t){if(this.isOkToHave(t.restrictionType,t.purposeId,e)){const n=t.hash;this.has(n)||(this.map.set(n,new Set),this.bitLength=0),this.map.get(n).add(e)}}restrictPurposeToLegalBasis(e){const t=Array.from(this.gvl.vendorIds),n=e.hash,i=t[t.length-1],s=[...Array(i).keys()].map((e=>e+1));if(this.has(n))for(let e=1;e<=i;e++)this.map.get(n).add(e);else this.map.set(n,new Set(s)),this.bitLength=0}getVendors(e){let t=[];if(e){const n=e.hash;this.has(n)&&(t=Array.from(this.map.get(n)))}else{const e=new Set;this.map.forEach((t=>{t.forEach((t=>{e.add(t)}))})),t=Array.from(e)}return t.sort(((e,t)=>e-t))}getRestrictionType(e,t){let n;return this.getRestrictions(e).forEach((e=>{e.purposeId===t&&(void 0===n||n>e.restrictionType)&&(n=e.restrictionType)})),n}vendorHasRestriction(e,t){let n=!1;const i=this.getRestrictions(e);for(let e=0;e<i.length&&!n;e++)n=t.isSameAs(i[e]);return n}getMaxVendorId(){let e=0;return this.map.forEach((t=>{e=Math.max(Array.from(t)[t.size-1],e)})),e}getRestrictions(e){const t=[];return this.map.forEach(((n,i)=>{e?n.has(e)&&t.push(Yi.unHash(i)):t.push(Yi.unHash(i))})),t}getPurposes(){const e=new Set;return this.map.forEach(((t,n)=>{e.add(Yi.unHash(n).purposeId)})),Array.from(e)}remove(e,t){const n=t.hash,i=this.map.get(n);i&&(i.delete(e),0==i.size&&(this.map.delete(n),this.bitLength=0))}set gvl(e){this.gvl_||(this.gvl_=e,this.map.forEach(((e,t)=>{const n=Yi.unHash(t);Array.from(e).forEach((t=>{this.isOkToHave(n.restrictionType,n.purposeId,t)||e.delete(t)}))})))}get gvl(){return this.gvl_}isEmpty(){return 0===this.map.size}get numRestrictions(){return this.map.size}}!function(e){e.COOKIE="cookie",e.WEB="web",e.APP="app"}(ki||(ki={})),function(e){e.CORE="core",e.VENDORS_DISCLOSED="vendorsDisclosed",e.VENDORS_ALLOWED="vendorsAllowed",e.PUBLISHER_TC="publisherTC"}(xi||(xi={}));class Wi{static ID_TO_KEY=[xi.CORE,xi.VENDORS_DISCLOSED,xi.VENDORS_ALLOWED,xi.PUBLISHER_TC];static KEY_TO_ID={[xi.CORE]:0,[xi.VENDORS_DISCLOSED]:1,[xi.VENDORS_ALLOWED]:2,[xi.PUBLISHER_TC]:3}}class qi extends Gi{bitLength=0;maxId_=0;set_=new Set;*[Symbol.iterator](){for(let e=1;e<=this.maxId;e++)yield[e,this.has(e)]}values(){return this.set_.values()}get maxId(){return this.maxId_}has(e){return this.set_.has(e)}unset(e){Array.isArray(e)?e.forEach((e=>this.unset(e))):"object"==typeof e?this.unset(Object.keys(e).map((e=>Number(e)))):(this.set_.delete(Number(e)),this.bitLength=0,e===this.maxId&&(this.maxId_=0,this.set_.forEach((e=>{this.maxId_=Math.max(this.maxId,e)}))))}isIntMap(e){let t="object"==typeof e;return t=t&&Object.keys(e).every((t=>{let n=Number.isInteger(parseInt(t,10));return n=n&&this.isValidNumber(e[t].id),n=n&&void 0!==e[t].name,n})),t}isValidNumber(e){return parseInt(e,10)>0}isSet(e){let t=!1;return e instanceof Set&&(t=Array.from(e).every(this.isValidNumber)),t}set(e){if(Array.isArray(e))e.forEach((e=>this.set(e)));else if(this.isSet(e))this.set(Array.from(e));else if(this.isIntMap(e))this.set(Object.keys(e).map((e=>Number(e))));else{if(!this.isValidNumber(e))throw new Vi("set()",e,"must be positive integer array, positive integer, Set<number>, or IntMap");this.set_.add(e),this.maxId_=Math.max(this.maxId,e),this.bitLength=0}}empty(){this.set_=new Set,this.maxId_=0}forEach(e){for(let t=1;t<=this.maxId;t++)e(this.has(t),t)}get size(){return this.set_.size}setAll(e){this.set(e)}}class Ji{static[Ui.cmpId]=12;static[Ui.cmpVersion]=12;static[Ui.consentLanguage]=12;static[Ui.consentScreen]=6;static[Ui.created]=36;static[Ui.isServiceSpecific]=1;static[Ui.lastUpdated]=36;static[Ui.policyVersion]=6;static[Ui.publisherCountryCode]=12;static[Ui.publisherLegitimateInterests]=24;static[Ui.publisherConsents]=24;static[Ui.purposeConsents]=24;static[Ui.purposeLegitimateInterests]=24;static[Ui.purposeOneTreatment]=1;static[Ui.specialFeatureOptins]=12;static[Ui.useNonStandardTexts]=1;static[Ui.vendorListVersion]=12;static[Ui.version]=6;static anyBoolean=1;static encodingType=1;static maxId=16;static numCustomPurposes=6;static numEntries=12;static numRestrictions=12;static purposeId=6;static restrictionType=2;static segmentType=3;static singleOrRange=1;static vendorId=16}class Qi{static encode(e){return String(Number(e))}static decode(e){return"1"===e}}class Xi{static encode(e,t){let n;if("string"==typeof e&&(e=parseInt(e,10)),n=e.toString(2),n.length>t||e<0)throw new Ri(`${e} too large to encode into ${t}`);return n.length<t&&(n="0".repeat(t-n.length)+n),n}static decode(e,t){if(t!==e.length)throw new bi("invalid bit length");return parseInt(e,2)}}class Zi{static encode(e,t){return Xi.encode(Math.round(e.getTime()/100),t)}static decode(e,t){if(t!==e.length)throw new bi("invalid bit length");const n=new Date;return n.setTime(100*Xi.decode(e,t)),n}}class es{static encode(e,t){let n="";for(let i=1;i<=t;i++)n+=Qi.encode(e.has(i));return n}static decode(e,t){if(e.length!==t)throw new bi("bitfield encoding length mismatch");const n=new qi;for(let i=1;i<=t;i++)Qi.decode(e[i-1])&&n.set(i);return n.bitLength=e.length,n}}class ts{static encode(e,t){const n=(e=e.toUpperCase()).charCodeAt(0)-65,i=e.charCodeAt(1)-65;if(n<0||n>25||i<0||i>25)throw new Ri(`invalid language code: ${e}`);if(t%2==1)throw new Ri(`numBits must be even, ${t} is not valid`);t/=2;return Xi.encode(n,t)+Xi.encode(i,t)}static decode(e,t){let n;if(t!==e.length||e.length%2)throw new bi("invalid bit length for language");{const t=e.length/2,i=Xi.decode(e.slice(0,t),t)+65,s=Xi.decode(e.slice(t),t)+65;n=String.fromCharCode(i)+String.fromCharCode(s)}return n}}class ns{static encode(e){let t=Xi.encode(e.numRestrictions,Ji.numRestrictions);if(!e.isEmpty()){const n=(t,n)=>{for(let i=t+1;i<=n;i++)if(e.gvl.vendorIds.has(i))return i;return t};e.getRestrictions().forEach((i=>{t+=Xi.encode(i.purposeId,Ji.purposeId),t+=Xi.encode(i.restrictionType,Ji.restrictionType);const s=e.getVendors(i),o=s.length;let r=0,a=0,c="";for(let e=0;e<o;e++){const t=s[e];if(0===a&&(r++,a=t),e===o-1||s[e+1]>n(t,s[o-1])){const e=t!==a;c+=Qi.encode(e),c+=Xi.encode(a,Ji.vendorId),e&&(c+=Xi.encode(t,Ji.vendorId)),a=0}}t+=Xi.encode(r,Ji.numEntries),t+=c}))}return t}static decode(e){let t=0;const n=new $i,i=Xi.decode(e.substr(t,Ji.numRestrictions),Ji.numRestrictions);t+=Ji.numRestrictions;for(let s=0;s<i;s++){const i=Xi.decode(e.substr(t,Ji.purposeId),Ji.purposeId);t+=Ji.purposeId;const s=Xi.decode(e.substr(t,Ji.restrictionType),Ji.restrictionType);t+=Ji.restrictionType;const o=new Yi(i,s),r=Xi.decode(e.substr(t,Ji.numEntries),Ji.numEntries);t+=Ji.numEntries;for(let i=0;i<r;i++){const i=Qi.decode(e.substr(t,Ji.anyBoolean));t+=Ji.anyBoolean;const s=Xi.decode(e.substr(t,Ji.vendorId),Ji.vendorId);if(t+=Ji.vendorId,i){const i=Xi.decode(e.substr(t,Ji.vendorId),Ji.vendorId);if(t+=Ji.vendorId,i<s)throw new bi(`Invalid RangeEntry: endVendorId ${i} is less than ${s}`);for(let e=s;e<=i;e++)n.add(e,o)}else n.add(s,o)}}return n.bitLength=t,n}}!function(e){e[e.FIELD=0]="FIELD",e[e.RANGE=1]="RANGE"}(ji||(ji={}));class is{static encode(e){const t=[];let n,i=[],s=Xi.encode(e.maxId,Ji.maxId),o="";const r=Ji.maxId+Ji.encodingType,a=r+e.maxId,c=2*Ji.vendorId+Ji.singleOrRange+Ji.numEntries;let l=r+Ji.numEntries;return e.forEach(((s,r)=>{o+=Qi.encode(s),n=e.maxId>c&&l<a,n&&s&&(e.has(r+1)?0===i.length&&(i.push(r),l+=Ji.singleOrRange,l+=Ji.vendorId):(i.push(r),l+=Ji.vendorId,t.push(i),i=[]))})),n?(s+=String(ji.RANGE),s+=this.buildRangeEncoding(t)):(s+=String(ji.FIELD),s+=o),s}static decode(e,t){let n,i=0;const s=Xi.decode(e.substr(i,Ji.maxId),Ji.maxId);i+=Ji.maxId;const o=Xi.decode(e.charAt(i),Ji.encodingType);if(i+=Ji.encodingType,o===ji.RANGE){if(n=new qi,1===t){if("1"===e.substr(i,1))throw new bi("Unable to decode default consent=1");i++}const s=Xi.decode(e.substr(i,Ji.numEntries),Ji.numEntries);i+=Ji.numEntries;for(let t=0;t<s;t++){const t=Qi.decode(e.charAt(i));i+=Ji.singleOrRange;const s=Xi.decode(e.substr(i,Ji.vendorId),Ji.vendorId);if(i+=Ji.vendorId,t){const t=Xi.decode(e.substr(i,Ji.vendorId),Ji.vendorId);i+=Ji.vendorId;for(let e=s;e<=t;e++)n.set(e)}else n.set(s)}}else{const t=e.substr(i,s);i+=s,n=es.decode(t,s)}return n.bitLength=i,n}static buildRangeEncoding(e){const t=e.length;let n=Xi.encode(t,Ji.numEntries);return e.forEach((e=>{const t=1===e.length;n+=Qi.encode(!t),n+=Xi.encode(e[0],Ji.vendorId),t||(n+=Xi.encode(e[1],Ji.vendorId))})),n}}function ss(){return{[Ui.version]:Xi,[Ui.created]:Zi,[Ui.lastUpdated]:Zi,[Ui.cmpId]:Xi,[Ui.cmpVersion]:Xi,[Ui.consentScreen]:Xi,[Ui.consentLanguage]:ts,[Ui.vendorListVersion]:Xi,[Ui.policyVersion]:Xi,[Ui.isServiceSpecific]:Qi,[Ui.useNonStandardTexts]:Qi,[Ui.specialFeatureOptins]:es,[Ui.purposeConsents]:es,[Ui.purposeLegitimateInterests]:es,[Ui.purposeOneTreatment]:Qi,[Ui.publisherCountryCode]:ts,[Ui.vendorConsents]:is,[Ui.vendorLegitimateInterests]:is,[Ui.publisherRestrictions]:ns,segmentType:Xi,[Ui.vendorsDisclosed]:is,[Ui.vendorsAllowed]:is,[Ui.publisherConsents]:es,[Ui.publisherLegitimateInterests]:es,[Ui.numCustomPurposes]:Xi,[Ui.publisherCustomConsents]:es,[Ui.publisherCustomLegitimateInterests]:es}}class os{1={[xi.CORE]:[Ui.version,Ui.created,Ui.lastUpdated,Ui.cmpId,Ui.cmpVersion,Ui.consentScreen,Ui.consentLanguage,Ui.vendorListVersion,Ui.purposeConsents,Ui.vendorConsents]};2={[xi.CORE]:[Ui.version,Ui.created,Ui.lastUpdated,Ui.cmpId,Ui.cmpVersion,Ui.consentScreen,Ui.consentLanguage,Ui.vendorListVersion,Ui.policyVersion,Ui.isServiceSpecific,Ui.useNonStandardTexts,Ui.specialFeatureOptins,Ui.purposeConsents,Ui.purposeLegitimateInterests,Ui.purposeOneTreatment,Ui.publisherCountryCode,Ui.vendorConsents,Ui.vendorLegitimateInterests,Ui.publisherRestrictions],[xi.VENDORS_DISCLOSED]:[Ui.vendorsDisclosed],[xi.PUBLISHER_TC]:[Ui.publisherConsents,Ui.publisherLegitimateInterests,Ui.numCustomPurposes,Ui.publisherCustomConsents,Ui.publisherCustomLegitimateInterests],[xi.VENDORS_ALLOWED]:[Ui.vendorsAllowed]}}class rs{1=[xi.CORE];2=[xi.CORE];constructor(e,t){if(2===e.version)if(e.isServiceSpecific)this[2].push(xi.VENDORS_DISCLOSED),this[2].push(xi.PUBLISHER_TC);else{const n=!(!t||!t.isForVendors);(!n||!0===e[Ui.supportOOB])&&this[2].push(xi.VENDORS_DISCLOSED),n&&(e[Ui.supportOOB]&&e[Ui.vendorsAllowed].size>0&&this[2].push(xi.VENDORS_ALLOWED),this[2].push(xi.PUBLISHER_TC))}}}class as{static fieldSequence=new os;static encode(e,t){let n;try{n=this.fieldSequence[String(e.version)][t]}catch{throw new Ri(`Unable to encode version: ${e.version}, segment: ${t}`)}let i="";t!==xi.CORE&&(i=Xi.encode(Wi.KEY_TO_ID[t],Ji.segmentType));const s=ss();return n.forEach((n=>{const o=e[n],r=s[n];let a=Ji[n];void 0===a&&this.isPublisherCustom(n)&&(a=Number(e[Ui.numCustomPurposes]));try{i+=r.encode(o,a)}catch(e){throw new Ri(`Error encoding ${t}->${n}: ${e.message}`)}})),Mi.encode(i)}static decode(e,t,n){const i=Mi.decode(e);let s=0;n===xi.CORE&&(t.version=Xi.decode(i.substr(s,Ji[Ui.version]),Ji[Ui.version])),n!==xi.CORE&&(s+=Ji.segmentType);const o=this.fieldSequence[String(t.version)][n],r=ss();return o.forEach((e=>{const n=r[e];let o=Ji[e];if(void 0===o&&this.isPublisherCustom(e)&&(o=Number(t[Ui.numCustomPurposes])),0!==o){const r=i.substr(s,o);if(t[e]=n===is?n.decode(r,t.version):n.decode(r,o),Number.isInteger(o))s+=o;else{if(!Number.isInteger(t[e].bitLength))throw new bi(e);s+=t[e].bitLength}}})),t}static isPublisherCustom(e){return 0===e.indexOf("publisherCustom")}}class cs{static processor=[e=>e,(e,t)=>{e.publisherRestrictions.gvl=t,e.purposeLegitimateInterests.unset([1,3,4,5,6]);const n=new Map;return n.set("legIntPurposes",e.vendorLegitimateInterests),n.set("purposes",e.vendorConsents),n.forEach(((n,i)=>{n.forEach(((s,o)=>{if(s){const s=t.vendors[o];if(!s||s.deletedDate)n.unset(o);else if(0===s[i].length)if("legIntPurposes"===i&&0===s.purposes.length&&0===s.legIntPurposes.length&&s.specialPurposes.length>0)n.set(o);else if("legIntPurposes"===i&&s.purposes.length>0&&0===s.legIntPurposes.length&&s.specialPurposes.length>0)n.set(o);else if(e.isServiceSpecific)if(0===s.flexiblePurposes.length)n.unset(o);else{const t=e.publisherRestrictions.getRestrictions(o);let s=!1;for(let e=0,n=t.length;e<n&&!s;e++)s=t[e].restrictionType===Fi.REQUIRE_CONSENT&&"purposes"===i||t[e].restrictionType===Fi.REQUIRE_LI&&"legIntPurposes"===i;s||n.unset(o)}else n.unset(o)}}))})),e}];static process(e,t){const n=e.gvl;if(!n)throw new Ri("Unable to encode TCModel without a GVL");if(!n.isReady)throw new Ri("Unable to encode TCModel tcModel.gvl.readyPromise is not resolved");(e=e.clone()).consentLanguage=n.language.slice(0,2).toUpperCase(),t?.version>0&&t?.version<=this.processor.length?e.version=t.version:e.version=this.processor.length;const i=e.version-1;if(!this.processor[i])throw new Ri(`Invalid version: ${e.version}`);return this.processor[i](e,n)}}class ls{static absCall(e,t,n,i){return new Promise(((s,o)=>{const r=new XMLHttpRequest;r.withCredentials=n,r.addEventListener("load",(()=>{if(r.readyState==XMLHttpRequest.DONE)if(r.status>=200&&r.status<300){let e=r.response;if("string"==typeof e)try{e=JSON.parse(e)}catch{}s(e)}else o(new Error(`HTTP Status: ${r.status} response type: ${r.responseType}`))})),r.addEventListener("error",(()=>{o(new Error("error"))})),r.addEventListener("abort",(()=>{o(new Error("aborted"))})),null===t?r.open("GET",e,!0):r.open("POST",e,!0),r.responseType="json",r.timeout=i,r.ontimeout=()=>{o(new Error("Timeout "+i+"ms "+e))},r.send(t)}))}static post(e,t,n=!1,i=0){return this.absCall(e,JSON.stringify(t),n,i)}static fetch(e,t=!1,n=0){return this.absCall(e,null,t,n)}}class ds extends Gi{static LANGUAGE_CACHE=new Map;static CACHE=new Map;static LATEST_CACHE_KEY=0;static DEFAULT_LANGUAGE="EN";static consentLanguages=new Li;static baseUrl_;static set baseUrl(e){if(/^https?:\/\/vendorlist\.consensu\.org\//.test(e))throw new yi("Invalid baseUrl!  You may not pull directly from vendorlist.consensu.org and must provide your own cache");e.length>0&&"/"!==e[e.length-1]&&(e+="/"),this.baseUrl_=e}static get baseUrl(){return this.baseUrl_}static latestFilename="vendor-list.json";static versionedFilename="archives/vendor-list-v[VERSION].json";static languageFilename="purposes-[LANG].json";readyPromise;gvlSpecificationVersion;vendorListVersion;tcfPolicyVersion;lastUpdated;purposes;specialPurposes;features;specialFeatures;isReady_=!1;vendors_;vendorIds;fullVendorList;byPurposeVendorMap;bySpecialPurposeVendorMap;byFeatureVendorMap;bySpecialFeatureVendorMap;stacks;dataCategories;lang_;cacheLang_;isLatest=!1;constructor(e,t){super();let n=ds.baseUrl,i=t?.language;if(i)try{i=ds.consentLanguages.parseLanguage(i)}catch(e){throw new yi("Error during parsing the language: "+e.message)}if(this.lang_=i||ds.DEFAULT_LANGUAGE,this.cacheLang_=i||ds.DEFAULT_LANGUAGE,this.isVendorList(e))this.populate(e),this.readyPromise=Promise.resolve();else{if(!n)throw new yi("must specify GVL.baseUrl before loading GVL json");if(e>0){const t=e;ds.CACHE.has(t)?(this.populate(ds.CACHE.get(t)),this.readyPromise=Promise.resolve()):(n+=ds.versionedFilename.replace("[VERSION]",String(t)),this.readyPromise=this.fetchJson(n))}else ds.CACHE.has(ds.LATEST_CACHE_KEY)?(this.populate(ds.CACHE.get(ds.LATEST_CACHE_KEY)),this.readyPromise=Promise.resolve()):(this.isLatest=!0,this.readyPromise=this.fetchJson(n+ds.latestFilename))}}static emptyLanguageCache(e){let t=!1;return null==e&&ds.LANGUAGE_CACHE.size>0?(ds.LANGUAGE_CACHE=new Map,t=!0):"string"==typeof e&&this.consentLanguages.has(e.toUpperCase())&&(ds.LANGUAGE_CACHE.delete(e.toUpperCase()),t=!0),t}static emptyCache(e){let t=!1;return Number.isInteger(e)&&e>=0?(ds.CACHE.delete(e),t=!0):void 0===e&&(ds.CACHE=new Map,t=!0),t}cacheLanguage(){ds.LANGUAGE_CACHE.has(this.cacheLang_)||ds.LANGUAGE_CACHE.set(this.cacheLang_,{purposes:this.purposes,specialPurposes:this.specialPurposes,features:this.features,specialFeatures:this.specialFeatures,stacks:this.stacks,dataCategories:this.dataCategories})}async fetchJson(e){try{this.populate(await ls.fetch(e))}catch(e){throw new yi(e.message)}}getJson(){return{gvlSpecificationVersion:this.gvlSpecificationVersion,vendorListVersion:this.vendorListVersion,tcfPolicyVersion:this.tcfPolicyVersion,lastUpdated:this.lastUpdated,purposes:this.clonePurposes(),specialPurposes:this.cloneSpecialPurposes(),features:this.cloneFeatures(),specialFeatures:this.cloneSpecialFeatures(),stacks:this.cloneStacks(),...this.dataCategories?{dataCategories:this.cloneDataCategories()}:{},vendors:this.cloneVendors()}}cloneSpecialFeatures(){const e={};for(const t of Object.keys(this.specialFeatures))e[t]=ds.cloneFeature(this.specialFeatures[t]);return e}cloneFeatures(){const e={};for(const t of Object.keys(this.features))e[t]=ds.cloneFeature(this.features[t]);return e}cloneStacks(){const e={};for(const t of Object.keys(this.stacks))e[t]=ds.cloneStack(this.stacks[t]);return e}cloneDataCategories(){const e={};for(const t of Object.keys(this.dataCategories))e[t]=ds.cloneDataCategory(this.dataCategories[t]);return e}cloneSpecialPurposes(){const e={};for(const t of Object.keys(this.specialPurposes))e[t]=ds.clonePurpose(this.specialPurposes[t]);return e}clonePurposes(){const e={};for(const t of Object.keys(this.purposes))e[t]=ds.clonePurpose(this.purposes[t]);return e}static clonePurpose(e){return{id:e.id,name:e.name,description:e.description,...e.descriptionLegal?{descriptionLegal:e.descriptionLegal}:{},...e.illustrations?{illustrations:Array.from(e.illustrations)}:{}}}static cloneFeature(e){return{id:e.id,name:e.name,description:e.description,...e.descriptionLegal?{descriptionLegal:e.descriptionLegal}:{},...e.illustrations?{illustrations:Array.from(e.illustrations)}:{}}}static cloneDataCategory(e){return{id:e.id,name:e.name,description:e.description}}static cloneStack(e){return{id:e.id,name:e.name,description:e.description,purposes:Array.from(e.purposes),specialFeatures:Array.from(e.specialFeatures)}}static cloneDataRetention(e){return{..."number"==typeof e.stdRetention?{stdRetention:e.stdRetention}:{},purposes:{...e.purposes},specialPurposes:{...e.specialPurposes}}}static cloneVendorUrls(e){return e.map((e=>({langId:e.langId,privacy:e.privacy,...e.legIntClaim?{legIntClaim:e.legIntClaim}:{}})))}static cloneVendor(e){return{id:e.id,name:e.name,purposes:Array.from(e.purposes),legIntPurposes:Array.from(e.legIntPurposes),flexiblePurposes:Array.from(e.flexiblePurposes),specialPurposes:Array.from(e.specialPurposes),features:Array.from(e.features),specialFeatures:Array.from(e.specialFeatures),...e.overflow?{overflow:{httpGetLimit:e.overflow.httpGetLimit}}:{},..."number"==typeof e.cookieMaxAgeSeconds||null===e.cookieMaxAgeSeconds?{cookieMaxAgeSeconds:e.cookieMaxAgeSeconds}:{},...void 0!==e.usesCookies?{usesCookies:e.usesCookies}:{},...e.policyUrl?{policyUrl:e.policyUrl}:{},...void 0!==e.cookieRefresh?{cookieRefresh:e.cookieRefresh}:{},...void 0!==e.usesNonCookieAccess?{usesNonCookieAccess:e.usesNonCookieAccess}:{},...e.dataRetention?{dataRetention:this.cloneDataRetention(e.dataRetention)}:{},...e.urls?{urls:this.cloneVendorUrls(e.urls)}:{},...e.dataDeclaration?{dataDeclaration:Array.from(e.dataDeclaration)}:{},...e.deviceStorageDisclosureUrl?{deviceStorageDisclosureUrl:e.deviceStorageDisclosureUrl}:{},...e.deletedDate?{deletedDate:e.deletedDate}:{}}}cloneVendors(){const e={};for(const t of Object.keys(this.fullVendorList))e[t]=ds.cloneVendor(this.fullVendorList[t]);return e}async changeLanguage(e){let t=e;try{t=ds.consentLanguages.parseLanguage(e)}catch(e){throw new yi("Error during parsing the language: "+e.message)}const n=e.toUpperCase();if((t.toLowerCase()!==ds.DEFAULT_LANGUAGE.toLowerCase()||ds.LANGUAGE_CACHE.has(n))&&t!==this.lang_)if(this.lang_=t,ds.LANGUAGE_CACHE.has(n)){const e=ds.LANGUAGE_CACHE.get(n);for(const t in e)e.hasOwnProperty(t)&&(this[t]=e[t])}else{const e=ds.baseUrl+ds.languageFilename.replace("[LANG]",this.lang_.toLowerCase());try{await this.fetchJson(e),this.cacheLang_=n,this.cacheLanguage()}catch(e){throw new yi("unable to load language: "+e.message)}}}get language(){return this.lang_}isVendorList(e){return void 0!==e&&void 0!==e.vendors}populate(e){this.purposes=e.purposes,this.specialPurposes=e.specialPurposes,this.features=e.features,this.specialFeatures=e.specialFeatures,this.stacks=e.stacks,this.dataCategories=e.dataCategories,this.isVendorList(e)&&(this.gvlSpecificationVersion=e.gvlSpecificationVersion,this.tcfPolicyVersion=e.tcfPolicyVersion,this.vendorListVersion=e.vendorListVersion,this.lastUpdated=e.lastUpdated,"string"==typeof this.lastUpdated&&(this.lastUpdated=new Date(this.lastUpdated)),this.vendors_=e.vendors,this.fullVendorList=e.vendors,this.mapVendors(),this.isReady_=!0,this.isLatest&&ds.CACHE.set(ds.LATEST_CACHE_KEY,this.getJson()),ds.CACHE.has(this.vendorListVersion)||ds.CACHE.set(this.vendorListVersion,this.getJson())),this.cacheLanguage()}mapVendors(e){this.byPurposeVendorMap={},this.bySpecialPurposeVendorMap={},this.byFeatureVendorMap={},this.bySpecialFeatureVendorMap={},Object.keys(this.purposes).forEach((e=>{this.byPurposeVendorMap[e]={legInt:new Set,consent:new Set,flexible:new Set}})),Object.keys(this.specialPurposes).forEach((e=>{this.bySpecialPurposeVendorMap[e]=new Set})),Object.keys(this.features).forEach((e=>{this.byFeatureVendorMap[e]=new Set})),Object.keys(this.specialFeatures).forEach((e=>{this.bySpecialFeatureVendorMap[e]=new Set})),Array.isArray(e)||(e=Object.keys(this.fullVendorList).map((e=>+e))),this.vendorIds=new Set(e),this.vendors_=e.reduce(((e,t)=>{const n=this.vendors_[String(t)];return n&&void 0===n.deletedDate&&(n.purposes.forEach((e=>{this.byPurposeVendorMap[String(e)].consent.add(t)})),n.specialPurposes.forEach((e=>{this.bySpecialPurposeVendorMap[String(e)].add(t)})),n.legIntPurposes.forEach((e=>{this.byPurposeVendorMap[String(e)].legInt.add(t)})),n.flexiblePurposes&&n.flexiblePurposes.forEach((e=>{this.byPurposeVendorMap[String(e)].flexible.add(t)})),n.features.forEach((e=>{this.byFeatureVendorMap[String(e)].add(t)})),n.specialFeatures.forEach((e=>{this.bySpecialFeatureVendorMap[String(e)].add(t)})),e[t]=n),e}),{})}getFilteredVendors(e,t,n,i){const s=e.charAt(0).toUpperCase()+e.slice(1);let o;const r={};return o="purpose"===e&&n?this["by"+s+"VendorMap"][String(t)][n]:this["by"+(i?"Special":"")+s+"VendorMap"][String(t)],o.forEach((e=>{r[String(e)]=this.vendors[String(e)]})),r}getVendorsWithConsentPurpose(e){return this.getFilteredVendors("purpose",e,"consent")}getVendorsWithLegIntPurpose(e){return this.getFilteredVendors("purpose",e,"legInt")}getVendorsWithFlexiblePurpose(e){return this.getFilteredVendors("purpose",e,"flexible")}getVendorsWithSpecialPurpose(e){return this.getFilteredVendors("purpose",e,void 0,!0)}getVendorsWithFeature(e){return this.getFilteredVendors("feature",e)}getVendorsWithSpecialFeature(e){return this.getFilteredVendors("feature",e,void 0,!0)}get vendors(){return this.vendors_}narrowVendorsTo(e){this.mapVendors(e)}get isReady(){return this.isReady_}clone(){const e=new ds(this.getJson());return this.lang_!==ds.DEFAULT_LANGUAGE&&e.changeLanguage(this.lang_),e}static isInstanceOf(e){return"object"==typeof e&&"function"==typeof e.narrowVendorsTo}}class ps extends Gi{static consentLanguages=ds.consentLanguages;isServiceSpecific_=!0;supportOOB_=!1;useNonStandardTexts_=!1;purposeOneTreatment_=!1;publisherCountryCode_="AA";version_=2;consentScreen_=0;policyVersion_=5;consentLanguage_="EN";cmpId_=0;cmpVersion_=0;vendorListVersion_=0;numCustomPurposes_=0;gvl_;created;lastUpdated;specialFeatureOptins=new qi;purposeConsents=new qi;purposeLegitimateInterests=new qi;publisherConsents=new qi;publisherLegitimateInterests=new qi;publisherCustomConsents=new qi;publisherCustomLegitimateInterests=new qi;customPurposes;vendorConsents=new qi;vendorLegitimateInterests=new qi;vendorsDisclosed=new qi;vendorsAllowed=new qi;publisherRestrictions=new $i;constructor(e){super(),e&&(this.gvl=e),this.updated()}set gvl(e){ds.isInstanceOf(e)||(e=new ds(e)),this.gvl_=e,this.publisherRestrictions.gvl=e}get gvl(){return this.gvl_}set cmpId(e){if(e=Number(e),!(Number.isInteger(e)&&e>1))throw new Vi("cmpId",e);this.cmpId_=e}get cmpId(){return this.cmpId_}set cmpVersion(e){if(e=Number(e),!(Number.isInteger(e)&&e>-1))throw new Vi("cmpVersion",e);this.cmpVersion_=e}get cmpVersion(){return this.cmpVersion_}set consentScreen(e){if(e=Number(e),!(Number.isInteger(e)&&e>-1))throw new Vi("consentScreen",e);this.consentScreen_=e}get consentScreen(){return this.consentScreen_}set consentLanguage(e){this.consentLanguage_=e}get consentLanguage(){return this.consentLanguage_}set publisherCountryCode(e){if(!/^([A-z]){2}$/.test(e))throw new Vi("publisherCountryCode",e);this.publisherCountryCode_=e.toUpperCase()}get publisherCountryCode(){return this.publisherCountryCode_}set vendorListVersion(e){if((e=Number(e)>>0)<0)throw new Vi("vendorListVersion",e);this.vendorListVersion_=e}get vendorListVersion(){return this.gvl?this.gvl.vendorListVersion:this.vendorListVersion_}set policyVersion(e){if(this.policyVersion_=parseInt(e,10),this.policyVersion_<0)throw new Vi("policyVersion",e)}get policyVersion(){return this.gvl?this.gvl.tcfPolicyVersion:this.policyVersion_}set version(e){this.version_=parseInt(e,10)}get version(){return this.version_}set isServiceSpecific(e){this.isServiceSpecific_=e}get isServiceSpecific(){return this.isServiceSpecific_}set useNonStandardTexts(e){this.useNonStandardTexts_=e}get useNonStandardTexts(){return this.useNonStandardTexts_}set supportOOB(e){this.supportOOB_=e}get supportOOB(){return this.supportOOB_}set purposeOneTreatment(e){this.purposeOneTreatment_=e}get purposeOneTreatment(){return this.purposeOneTreatment_}setAllVendorConsents(){this.vendorConsents.set(this.gvl.vendors)}unsetAllVendorConsents(){this.vendorConsents.empty()}setAllVendorsDisclosed(){this.vendorsDisclosed.set(this.gvl.vendors)}unsetAllVendorsDisclosed(){this.vendorsDisclosed.empty()}setAllVendorsAllowed(){this.vendorsAllowed.set(this.gvl.vendors)}unsetAllVendorsAllowed(){this.vendorsAllowed.empty()}setAllVendorLegitimateInterests(){this.vendorLegitimateInterests.set(this.gvl.vendors)}unsetAllVendorLegitimateInterests(){this.vendorLegitimateInterests.empty()}setAllPurposeConsents(){this.purposeConsents.set(this.gvl.purposes)}unsetAllPurposeConsents(){this.purposeConsents.empty()}setAllPurposeLegitimateInterests(){this.purposeLegitimateInterests.set(this.gvl.purposes)}unsetAllPurposeLegitimateInterests(){this.purposeLegitimateInterests.empty()}setAllSpecialFeatureOptins(){this.specialFeatureOptins.set(this.gvl.specialFeatures)}unsetAllSpecialFeatureOptins(){this.specialFeatureOptins.empty()}setAll(){this.setAllVendorConsents(),this.setAllPurposeLegitimateInterests(),this.setAllSpecialFeatureOptins(),this.setAllPurposeConsents(),this.setAllVendorLegitimateInterests()}unsetAll(){this.unsetAllVendorConsents(),this.unsetAllPurposeLegitimateInterests(),this.unsetAllSpecialFeatureOptins(),this.unsetAllPurposeConsents(),this.unsetAllVendorLegitimateInterests()}get numCustomPurposes(){let e=this.numCustomPurposes_;if("object"==typeof this.customPurposes){const t=Object.keys(this.customPurposes).sort(((e,t)=>Number(e)-Number(t)));e=parseInt(t.pop(),10)}return e}set numCustomPurposes(e){if(this.numCustomPurposes_=parseInt(e,10),this.numCustomPurposes_<0)throw new Vi("numCustomPurposes",e)}updated(){const e=new Date,t=new Date(Date.UTC(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()));this.created=t,this.lastUpdated=t}}class us{static encode(e,t){let n,i="";return e=cs.process(e,t),n=Array.isArray(t?.segments)?t.segments:new rs(e,t)[""+e.version],n.forEach(((t,s)=>{let o="";s<n.length-1&&(o="."),i+=as.encode(e,t)+o})),i}static decode(e,t){const n=e.split("."),i=n.length;t||(t=new ps);for(let e=0;e<i;e++){const i=n[e],s=Mi.decode(i.charAt(0)).substr(0,Ji.segmentType),o=Wi.ID_TO_KEY[Xi.decode(s,Ji.segmentType).toString()];as.decode(i,t,o)}return t}}!function(e){e.PING="ping",e.GET_TC_DATA="getTCData",e.GET_IN_APP_TC_DATA="getInAppTCData",e.GET_VENDOR_LIST="getVendorList",e.ADD_EVENT_LISTENER="addEventListener",e.REMOVE_EVENT_LISTENER="removeEventListener"}(zi||(zi={})),function(e){e.STUB="stub",e.LOADING="loading",e.LOADED="loaded",e.ERROR="error"}(Hi||(Hi={})),function(e){e.VISIBLE="visible",e.HIDDEN="hidden",e.DISABLED="disabled"}(Bi||(Bi={})),function(e){e.TC_LOADED="tcloaded",e.CMP_UI_SHOWN="cmpuishown",e.USER_ACTION_COMPLETE="useractioncomplete"}(Ki||(Ki={}));class Es{listenerId;callback;next;param;success=!0;constructor(e,t,n,i){Object.assign(this,{callback:e,listenerId:n,param:t,next:i});try{this.respond()}catch{this.invokeCallback(null)}}invokeCallback(e){const t=null!==e;"function"==typeof this.next?this.callback(this.next,e,t):this.callback(e,t)}}class gs extends Es{respond(){this.throwIfParamInvalid(),this.invokeCallback(new Ts(this.param,this.listenerId))}throwIfParamInvalid(){if(!(void 0===this.param||Array.isArray(this.param)&&this.param.every(Number.isInteger)))throw new Error("Invalid Parameter")}}class hs{eventQueue=new Map;queueNumber=0;add(e){return this.eventQueue.set(this.queueNumber,e),this.queueNumber++}remove(e){return this.eventQueue.delete(e)}exec(){this.eventQueue.forEach(((e,t)=>{new gs(e.callback,e.param,t,e.next)}))}clear(){this.queueNumber=0,this.eventQueue.clear()}get size(){return this.eventQueue.size}}class _s{static apiVersion="2";static tcfPolicyVersion;static eventQueue=new hs;static cmpStatus=Hi.LOADING;static disabled=!1;static displayStatus=Bi.HIDDEN;static cmpId;static cmpVersion;static eventStatus;static gdprApplies;static tcModel;static tcString;static reset(){delete this.cmpId,delete this.cmpVersion,delete this.eventStatus,delete this.gdprApplies,delete this.tcModel,delete this.tcString,delete this.tcfPolicyVersion,this.cmpStatus=Hi.LOADING,this.disabled=!1,this.displayStatus=Bi.HIDDEN,this.eventQueue.clear()}}let Ss=class{cmpId=_s.cmpId;cmpVersion=_s.cmpVersion;gdprApplies=_s.gdprApplies;tcfPolicyVersion=_s.tcfPolicyVersion};class Ts extends Ss{tcString;listenerId;eventStatus;cmpStatus;isServiceSpecific;useNonStandardTexts;publisherCC;purposeOneTreatment;outOfBand;purpose;vendor;specialFeatureOptins;publisher;constructor(e,t){if(super(),this.eventStatus=_s.eventStatus,this.cmpStatus=_s.cmpStatus,this.listenerId=t,_s.gdprApplies){const t=_s.tcModel;this.tcString=_s.tcString,this.isServiceSpecific=t.isServiceSpecific,this.useNonStandardTexts=t.useNonStandardTexts,this.purposeOneTreatment=t.purposeOneTreatment,this.publisherCC=t.publisherCountryCode,!1===this.isServiceSpecific&&(this.outOfBand={allowedVendors:this.createVectorField(t.vendorsAllowed,e),disclosedVendors:this.createVectorField(t.vendorsDisclosed,e)}),this.purpose={consents:this.createVectorField(t.purposeConsents),legitimateInterests:this.createVectorField(t.purposeLegitimateInterests)},this.vendor={consents:this.createVectorField(t.vendorConsents,e),legitimateInterests:this.createVectorField(t.vendorLegitimateInterests,e),disclosedVendors:this.createVectorField(t.vendorsDisclosed,e)},this.specialFeatureOptins=this.createVectorField(t.specialFeatureOptins),this.publisher={consents:this.createVectorField(t.publisherConsents),legitimateInterests:this.createVectorField(t.publisherLegitimateInterests),customPurpose:{consents:this.createVectorField(t.publisherCustomConsents),legitimateInterests:this.createVectorField(t.publisherCustomLegitimateInterests)},restrictions:this.createRestrictions(t.publisherRestrictions)}}}createRestrictions(e){const t={};if(e.numRestrictions>0){const n=e.getMaxVendorId();for(let i=1;i<=n;i++){const n=i.toString();e.getRestrictions(i).forEach((e=>{const i=e.purposeId.toString();t[i]||(t[i]={}),t[i][n]=e.restrictionType}))}}return t}createVectorField(e,t){return t?t.reduce(((t,n)=>(t[String(n)]=e.has(Number(n)),t)),{}):[...e].reduce(((e,t)=>(e[t[0].toString(10)]=t[1],e)),{})}}class Os extends Ts{constructor(e){super(e),delete this.outOfBand}createVectorField(e){return[...e].reduce(((e,t)=>e+=t[1]?"1":"0"),"")}createRestrictions(e){const t={};if(e.numRestrictions>0){const n=e.getMaxVendorId();e.getRestrictions().forEach((e=>{t[e.purposeId.toString()]="_".repeat(n)}));for(let i=0;i<n;i++){const n=i+1;e.getRestrictions(n).forEach((e=>{const n=e.restrictionType.toString(),s=e.purposeId.toString(),o=t[s].substr(0,i),r=t[s].substr(i+1);t[s]=o+n+r}))}}return t}}class Ns extends Ss{cmpLoaded=!0;cmpStatus=_s.cmpStatus;displayStatus=_s.displayStatus;apiVersion=String(_s.apiVersion);gvlVersion;constructor(){super(),_s.tcModel&&_s.tcModel.vendorListVersion&&(this.gvlVersion=+_s.tcModel.vendorListVersion)}}class Is extends Es{respond(){this.invokeCallback(new Ns)}}class fs extends gs{respond(){this.throwIfParamInvalid(),this.invokeCallback(new Os(this.param))}}class As extends Es{respond(){const e=_s.tcModel,t=e.vendorListVersion;let n;void 0===this.param&&(this.param=t),n=this.param===t&&e.gvl?e.gvl:new ds(this.param),n.readyPromise.then((()=>{this.invokeCallback(n.getJson())}))}}class Cs extends gs{respond(){this.listenerId=_s.eventQueue.add({callback:this.callback,param:this.param,next:this.next}),super.respond()}}class ms extends Es{respond(){this.invokeCallback(_s.eventQueue.remove(this.param))}}zi.PING,zi.GET_TC_DATA,zi.GET_IN_APP_TC_DATA,zi.GET_VENDOR_LIST,zi.ADD_EVENT_LISTENER,zi.REMOVE_EVENT_LISTENER;const ws=[1,3,4,5,6],vs=async({experience:e,tcStringPreferences:t})=>{let n="";try{const i=new ps(new ds(e.gvl));await i.gvl.readyPromise,i.cmpId=407,i.cmpVersion=1,i.consentScreen=1,i.isServiceSpecific=!0,i.supportOOB=!1,e.tcf_publisher_country_code&&(i.publisherCountryCode=e.tcf_publisher_country_code);const s=e.minimal_tcf?(e=>{const t=[...e.tcf_vendor_consent_ids||[],...e.tcf_vendor_legitimate_interest_ids||[]];return[...new Set(t)].filter((t=>ti(t,e.gvl))).map((e=>+ei(e).id))})(e):(e=>{const{tcf_vendor_relationships:t=[]}=e;return t.map((e=>e.id)).filter((t=>ti(t,e.gvl))).map((e=>+ei(e).id))})(e);if(i.gvl.narrowVendorsTo(s),s.forEach((e=>{i.vendorsDisclosed.set(e)})),t){t.vendorsConsent.forEach((t=>{if(ti(t,e.gvl)){const{id:n}=ei(t);if(i.vendorConsents.set(+n),!e.tcf_publisher_restrictions?.length){const t=e.gvl?.vendors[n];t&&!t?.purposes?.length&&t.flexiblePurposes.forEach((e=>{const t=new Yi;t.purposeId=e,t.restrictionType=Fi.REQUIRE_CONSENT,i.publisherRestrictions.add(+n,t)}))}}})),t.vendorsLegint.forEach((t=>{if(e.minimal_tcf)e.tcf_vendor_legitimate_interest_ids?.forEach((e=>{const{id:t}=ei(e);i.vendorLegitimateInterests.set(+t)}));else if(ti(t,e.gvl)){const n=e.tcf_vendor_legitimate_interests?.filter((e=>e.id===t))[0]?.purpose_legitimate_interests;let s=!1;if(n&&(n.map((e=>e.id)).filter((e=>ws.includes(e))).length&&(s=!0),!s)){const{id:e}=ei(t);i.vendorLegitimateInterests.set(+e)}}})),Object.values(e.gvl?.vendors??{}).forEach((e=>{e.specialPurposes?.length&&!e.legIntPurposes?.length&&i.vendorLegitimateInterests.set(e.id)})),t.purposesConsent.forEach((e=>{i.purposeConsents.set(+e)})),t.purposesLegint.forEach((e=>{const t=+e;ws.includes(t)||i.purposeLegitimateInterests.set(t)})),t.specialFeatures.forEach((e=>{i.specialFeatureOptins.set(+e)})),e.tcf_publisher_restrictions&&e.tcf_publisher_restrictions.length>0&&e.tcf_publisher_restrictions.forEach((e=>{3!==e.restriction_type?e.vendors.forEach((t=>{const n=new Yi;n.purposeId=e.purpose_id,n.restrictionType=e.restriction_type,i.publisherRestrictions.add(t,n)})):console.warn("Skipping TCF publisher restriction with type 3 (undefined/not used)",e)})),n=us.encode(i,{segments:[xi.CORE,xi.VENDORS_DISCLOSED]});const s=e.minimal_tcf?e.tcf_vendor_consent_ids:e.tcf_vendor_consents?.map((e=>e.id)),o=(({userConsentedVendorIds:e,disclosedVendorIds:t})=>{const n=e=>e.filter(ni).map((e=>ei(e).id)).sort(((e,t)=>Number(e)-Number(t))).join(".");return`2~${n(e)}~dv.${n(t.filter((t=>!e.includes(t))))}`})({userConsentedVendorIds:t?.vendorsConsent??[],disclosedVendorIds:s??[]});n=`${n},${o}`}}catch(e){return console.error("Unable to instantiate GVL: ",e),Promise.resolve("")}return Promise.resolve(n)},Ps=({modelList:e,enabledIds:t})=>e?e.map((e=>{const n=zn(t.includes(`${e.id}`));return{id:e.id,preference:n}})):[],Ds=e=>e?.length?e.map((e=>{const t=zn(!0);let n=e;return Number.isNaN(parseInt(e,10))||(n=parseInt(e,10)),{id:n,preference:t}})):[],bs="us",Rs=e=>{const{region:t,gpp_settings:n,privacy_notices:i}=e;let s=(({experienceRegion:e,usApproach:t})=>(e=>e?.toLowerCase().startsWith("us"))(e)&&t===Ni.NATIONAL?bs:e)({experienceRegion:t,usApproach:n?.us_approach}),o=Ti[s];return!o&&n?.us_approach===Ni.ALL&&(s=bs,o=Ti[s]),o&&n?.us_approach===Ni.ALL&&(i?.some((e=>e.gpp_field_mapping?.find((e=>e.region===t))))||(s=bs,o=Ti[s])),!o||s===bs&&n?.us_approach===Ni.STATE?{}:{gppRegion:s,gppSection:o}},ys=({gppApi:e,gppRegion:t,gppSection:n,privacyNotices:i,noticeConsent:s})=>{s&&i.forEach((i=>{const{notice_key:o,gpp_field_mapping:r}=i,a=s[o],c=r?.find((e=>e.region===t))?.mechanism;c&&c.forEach((t=>{let i=t.not_available;!1===a?i=t.opt_out:a&&(i=t.not_opt_out);let s=+i;i.length>1&&(s=i.split("").map((e=>+e))),e.setFieldValue(n.name,t.field,s)}))}))},Vs=({gppApi:e,gppRegion:t,gppSection:n,privacyNotices:i})=>{i.forEach((i=>{const{gpp_field_mapping:s}=i,o=s?.find((e=>e.region===t))?.notice;o&&o.forEach((t=>{e.setFieldValue(n.name,t,1)}))}))},Ms=({gppApi:e,gppSection:t,context:n})=>{if((e=>"string"==typeof e?.name&&Oi.includes(e.name))(t)){const i=n?.globalPrivacyControl??!1;e.setFieldValue(t.name,we.GPC,i),e.setFieldValue(t.name,we.GPC_SEGMENT_INCLUDED,!0)}},Ls=[1,3,4,5,6],Us=({fidesString:e,cmpApi:t})=>{const{gpp:n}=ii(e);if(!(e&&n&&t&&(e=>!(!e||"string"!=typeof e)&&/^DB[A-Za-z0-9~.]+$/.test(e))(n)))return;const{locale:i}=window.Fides,s=window.Fides.experience;if(!s||!s.experience_config||!s.privacy_notices)return;const o=s.experience_config.component===wn.TCF_OVERLAY;if(!s.experience_config.translations.find((e=>xn(e.language,i))))return;t.setGppString(n),t.setSignalStatus(h.READY);const r=s.privacy_notices.map((e=>({notice:e,bestTranslation:e.translations.find((e=>xn(e.language,i)))||null})));let a,c;if(o){const e=(({cmpApi:e,experience:t})=>{const n=Zn,i=e.getSection(de.NAME);if(!i)return n;const s=i.PurposeConsents.map(((e,t)=>e?(t+1).toString():null)).filter((e=>null!==e)),o=i.PurposeLegitimateInterests.map(((e,t)=>e?(t+1).toString():null)).filter((e=>null!==e)),r=i.VendorConsents.map((e=>`gvl.${e}`)),a=i.VendorLegitimateInterests.map((e=>`gvl.${e}`));return n.purposesConsent=s,n.purposesLegint=o.filter((e=>!Ls.includes(parseInt(e,10)))),n.vendorsConsent=r,n.vendorsLegint=a,n.specialFeatures=i.SpecialFeatureOptins.map(((e,t)=>e?(t+1).toString():null)).filter((e=>null!==e)),"tcf_special_purposes"in t?(n.specialPurposes=t.tcf_special_purposes?.map((e=>e.id.toString()))||[],n.features=t.tcf_features?.map((e=>e.id.toString()))||[]):"tcf_special_purpose_ids"in t&&(n.specialPurposes=t.tcf_special_purpose_ids?.map((e=>e.toString()))||[],n.features=t.tcf_feature_ids?.map((e=>e.toString()))||[]),n.customPurposesConsent=[],n})({cmpApi:t,experience:s});c=s.minimal_tcf?(({experience:e,enabledIds:t})=>{const n=[],i=[],s=[],o=[];return t.vendorsConsent.forEach((t=>{e.tcf_system_consent_ids?.includes(t)?n.push(t):i.push(t)})),t.vendorsLegint.forEach((t=>{e.tcf_system_legitimate_interest_ids?.includes(t)?s.push(t):o.push(t)})),{purpose_consent_preferences:Ds(t.purposesConsent),purpose_legitimate_interests_preferences:Ds(t.purposesLegint),special_feature_preferences:Ds(t.specialFeatures),vendor_consent_preferences:Ds(i),vendor_legitimate_interests_preferences:Ds(o),system_consent_preferences:Ds(n),system_legitimate_interests_preferences:Ds(s)}})({experience:s,enabledIds:e}):(({experience:e,enabledIds:t})=>{const n=[],i=[],s=[],o=[];return t.vendorsConsent.forEach((t=>{e.tcf_system_consents?.map((e=>e.id)).includes(t)?n.push(t):i.push(t)})),t.vendorsLegint.forEach((t=>{e.tcf_system_legitimate_interests?.map((e=>e.id)).includes(t)?s.push(t):o.push(t)})),{purpose_consent_preferences:Ps({modelList:e.tcf_purpose_consents,enabledIds:t.purposesConsent}),purpose_legitimate_interests_preferences:Ps({modelList:e.tcf_purpose_legitimate_interests,enabledIds:t.purposesLegint}),special_feature_preferences:Ps({modelList:e.tcf_special_features,enabledIds:t.specialFeatures}),vendor_consent_preferences:Ps({modelList:e.tcf_vendor_consents,enabledIds:i}),vendor_legitimate_interests_preferences:Ps({modelList:e.tcf_vendor_legitimate_interests,enabledIds:o}),system_consent_preferences:Ps({modelList:e.tcf_system_consents,enabledIds:n}),system_legitimate_interests_preferences:Ps({modelList:e.tcf_system_legitimate_interests,enabledIds:s})}})({experience:s,enabledIds:e}),a=t=>(async(e,t,n,i,s,o)=>({...e,fides_string:await vs({tcStringPreferences:n,experience:i}),tcf_consent:gi(t),tcf_version_hash:i.meta?.version_hash}))(t,c,e,s);const n={};r.forEach((t=>{t.notice.consent_mechanism!==In.NOTICE_ONLY?n[t.notice.notice_key]=e.purposesConsent.includes(t.notice.id):n[t.notice.notice_key]=!0})),Di(window.Fides,{noticeConsent:n,tcf:c,updateCookie:a})}else{const e=(({cmpApi:e,experience:t})=>{const n={},{privacy_notices:i=[]}=t,{gppRegion:s,gppSection:o}=Rs(t);return!s||!o||i.forEach((t=>{const{notice_key:i,gpp_field_mapping:r}=t,a=r?.find((e=>e.region===s))?.mechanism;if(a){const t=a.some((t=>{const n=e.getFieldValue(o.name,t.field);return(Array.isArray(n)?n.join(""):String(n))===t.opt_out||(t.not_opt_out,!1)}));void 0!==t&&(n[i]=!t)}})),n})({cmpApi:t,experience:s});Di(window.Fides,{noticeConsent:e})}},Gs="__gppLocator",Fs=e=>{if(!window.frames[e])if(window.document.body){const t=window.document.createElement("iframe");t.style.cssText="display:none",t.name=e,window.document.body.appendChild(t)}else setTimeout((()=>Fs(e)),5)},ks=()=>{const e=[],t=[];let n;(e=>{let t,n=window;for(;n;){try{if(n.frames[e]){t=n;break}}catch{}if(n===window.top)break;n=n.parent}return t})(Gs)||(Fs(Gs),window.__gpp=(i,s,o,r)=>{if("queue"===i)return e;if("events"===i)return t;const a={gppVersion:"1.1",cmpStatus:u.STUB,cmpDisplayStatus:E.HIDDEN,signalStatus:h.NOT_READY,supportedAPIs:[],cmpId:0,sectionList:[],applicableSections:[0],gppString:"",parsedSections:{}};if("ping"===i)s(a,!0);else if("addEventListener"===i){n||(n=0),n+=1;const e=n;t.push({id:e,callback:s,parameter:o}),s({eventName:"listenerRegistered",listenerId:e,data:!0,pingData:a},!0)}else if("removeEventListener"===i){let e=!1;for(let n=0;n<t.length;n++)if(t[n].id===o){t.splice(n,1),e=!0;break}s({eventName:"listenerRemoved",listenerId:o,data:e,pingData:a},!0)}else"hasSection"===i?s(!1,!0):"getSection"===i||"getField"===i?s(null,!0):e.push([].slice.apply([i,s,o,r]));return null},window.addEventListener("message",(e=>{const t="string"==typeof e.data;let n={};if(t)try{n=JSON.parse(e.data)}catch{n={}}else n=e.data;if(!(e=>"object"==typeof e&&null!=e&&"__gppCall"in e)(n))return null;if(n.__gppCall&&window.__gpp){const i=n.__gppCall;window.__gpp(i.command,((n,s)=>{const o={__gppReturn:{returnValue:n,success:s,callId:i.callId}};e&&e.source&&e.source.postMessage&&e.source.postMessage(t?JSON.stringify(o):o,"*")}),"parameter"in i?i.parameter:void 0,"version"in i?i.version:"1.1")}return null}),!1))},xs=(e,{cmpApi:t,experience:n,context:i,cookie:s})=>{const{gppRegion:o,gppSection:r}=Rs(n);if(!o||!r)return[];const a=new Set;a.add(r),e({gppApi:t,gppRegion:o,gppSection:r,privacyNotices:n.privacy_notices||[],noticeConsent:s?.consent});const{gpp_settings:c}=n;return(({gppApi:e,sectionName:t,gppSettings:n})=>{n&&[{gppSettingField:n.mspa_covered_transactions,cmpApiField:we.MSPA_COVERED_TRANSACTION},{gppSettingField:n.mspa_covered_transactions&&n.mspa_opt_out_option_mode,cmpApiField:we.MSPA_OPT_OUT_OPTION_MODE},{gppSettingField:n.mspa_covered_transactions&&n.mspa_service_provider_mode,cmpApiField:we.MSPA_SERVICE_PROVIDER_MODE}].forEach((({gppSettingField:i,cmpApiField:s})=>{const o=s===we.MSPA_COVERED_TRANSACTION;let r=2;n.mspa_covered_transactions||o?i&&(r=1):r=0,e.setFieldValue(t,s,r)}))})({gppApi:t,sectionName:r.name,gppSettings:c}),Ms({gppApi:t,gppSection:r,context:i}),Array.from(a)},js=({cmpApi:e,experience:t,context:n})=>xs(Vs,{cmpApi:e,experience:t,context:n}),zs=({cmpApi:e,cookie:t,experience:n,context:i})=>xs(ys,{cmpApi:e,cookie:t,experience:n,context:i}),Hs=(e,t,n)=>!!e&&(!!t||!(!n||!Object.entries(e).some((([e,t])=>e in n.map((e=>e.notice_key))&&void 0!==t)))),Bs=(e,t)=>{if(!Yn(window.Fides.experience))return!1;const{gpp_settings:n}=window.Fides.experience;if(!window.Fides.options.tcfEnabled||!n?.enable_tcfeu_string)return!1;const i=(e=>{if(!1===window.Fides?.options?.fidesTcfGdprApplies)return null;const{fides_string:t}=e.detail;if(!t)return"";const{tc:n}=ii(t);return n??""})(e);return!!i&&(t.setFieldValueBySectionId(de.ID,"CmpId",407),t.setSectionStringById(de.ID,i),!0)},Ks=()=>{ks();const e=new Tn(407,1);e.setCmpStatus(u.LOADED),window.addEventListener("FidesReady",(t=>{const{experience:n,saved_consent:i,options:s}=window.Fides,o=(()=>{const e=[];if(Yn(window.Fides.experience)){const{gpp_settings:t}=window.Fides.experience;t&&t.enabled&&(window.Fides.options.tcfEnabled&&t.enable_tcfeu_string&&e.push(`${de.ID}:${de.NAME}`),(t.us_approach===Ni.NATIONAL||t.us_approach===Ni.ALL)&&e.push(`${Ve.ID}:${Ve.NAME}`),(t.us_approach===Ni.STATE||t.us_approach===Ni.ALL)&&Object.values(Ti).forEach((t=>{t.id!==Ve.ID&&e.push(`${t.id}:${t.name}`)})))}return e})();if(e.setSupportedAPIs(o),!Yn(n))return;const{fidesString:r}=s;if(r&&Us({fidesString:r,cmpApi:e}),!r&&(!qn(n,t.detail,i,s)||!s.tcfEnabled&&$n(n.privacy_notices)&&!Hs(i,t.detail.fides_string,n.privacy_notices))){const i=Si(),s=Bs(t,e);s&&e.setApplicableSections([de.ID]);const o=js({cmpApi:e,experience:n,context:i}),r=zs({cmpApi:e,cookie:t.detail,experience:n,context:i});r.length&&e.setApplicableSections(r.map((e=>e.id))),!s&&!o.length&&!r.length&&e.setApplicableSections([-1]),e.setSignalStatus(h.READY);const a=si(e);window.Fides.fides_string=a}window.Fides.options.debug&&"function"==typeof window?.__gpp&&window?.__gpp?.("ping",(e=>{}))})),window.addEventListener("FidesUIShown",(t=>{const{experience:n,saved_consent:i,options:s}=window.Fides;if(Yn(n)){s.tcfEnabled||!$n(n.privacy_notices)||Hs(i,t.detail.fides_string,n.privacy_notices)?e.setSignalStatus(h.NOT_READY):e.setSignalStatus(h.READY),e.setCmpDisplayStatus(E.VISIBLE);const o=js({cmpApi:e,experience:n,context:Si()});o.length&&(e.setApplicableSections(o.map((e=>e.id))),o.forEach((t=>{e.fireSectionChange(t.name)})))}})),window.addEventListener("FidesModalClosed",(t=>{t.detail.extraDetails&&!1===t.detail.extraDetails.saved&&(e.setCmpDisplayStatus(E.HIDDEN),e.setSignalStatus(h.READY))})),window.addEventListener("FidesUpdated",(async t=>{if(e.setCmpDisplayStatus(E.HIDDEN),Bs(t,e)&&(e.setApplicableSections([de.ID]),e.fireSectionChange("tcfeuv2")),Yn(window.Fides.experience)){const n=zs({cmpApi:e,cookie:t.detail,experience:window.Fides.experience,context:Si()});n.length&&(e.setApplicableSections(n.map((e=>e.id))),n.forEach((t=>{e.fireSectionChange(t.name)})));const i=si(e);window.Fides.cookie&&(window.Fides.fides_string=i,window.Fides.cookie.fides_string=i,await Ei(window.Fides.cookie,window.Fides.options))}e.setSignalStatus(h.READY)}))};window.addEventListener("FidesInitializing",(e=>{e.detail.extraDetails?.gppEnabled&&typeof window<"u"&&!window.Fides?.initialized&&Ks()}));let Ys="https://www.nytimes.com/fides/api/v1";(function(){if(window&&window.location&&window.location.search&&"URLSearchParams"in window){const e=new URLSearchParams(window.location.search);if(e&&"dev"===e.get("fides_env"))return!0;if(e&&"prd"===e.get("fides_env"))return!1}return!!(window&&window.location&&window.location.hostname)&&/(dev|sbx|stg)(\.nytimes\.com|\.nyt\.net|\.dvsp\.nyt\.net)$/.test(window.location.hostname)})()&&(Ys="https://www.dev.nytimes.com/fides/api/v1"),window.gtag_enable_tcf_support=!1;var $s={options:{debug:!1,isGeolocationEnabled:!1,isOverlayEnabled:!0,tcfEnabled:!1,gppEnabled:!0,privacyCenterUrl:"https://privacy.fides-dev.nyt.net/api/v1",fidesApiUrl:Ys,fidesEmbed:window.fides_embed,fidesDisableBanner:window.fides_embed,fidesTcfGdprApplies:!1,apiOptions:{getPrivacyExperienceFn:function(e,t){let n={show_disabled:"false",region:e,component:"overlay",has_notices:"true",has_config:"true",systems_applicable:"true",include_gvl:"false",include_meta:"true"};return n=new URLSearchParams(n),fetch(`${Ys}/privacy-experience?${n}`,{method:"GET",mode:"cors",headers:{"Content-Type":"application/json","Unescape-Safestr":"true"}}).then((e=>{if(!e.ok)throw new Error(`fides.js cannot fetch experience JSON, server error! Response code: ${e.status}`);return e.json()})).then((e=>(e.items&&e.items[0])??{})).catch((e=>{throw console.error("fides.js error:",e),e}))}},preventDismissal:!0,allowHTMLDescription:!0,fidesDisableSaveApi:!0,fidesDisableNoticesServedApi:!0},geolocation:{location:"US",country:"US"}};window.Fides.init($s)}();
