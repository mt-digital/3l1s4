/*! For license information please see load.js.LICENSE.txt */
(()=>{var e,t,i,n={561:function(e,t){var i,n,r;n="undefined"!=typeof window?window:this,r=function(n,r){var s=[],o=s.slice,a=s.concat,c=s.push,l=s.indexOf,u={},d=u.toString,h=u.hasOwnProperty,p={},f=n.document,m="2.1.1 -ajax,-ajax/jsonp,-ajax/load,-ajax/parseJSON,-ajax/parseXML,-ajax/script,-ajax/var/nonce,-ajax/var/rquery,-ajax/xhr,-manipulation/_evalUrl,-deprecated,-effects,-effects/Tween,-effects/animatedSelector,-event-alias,-wrap",v=function(e,t){return new v.fn.init(e,t)},g=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,y=/^-ms-/,b=/-([\da-z])/gi,E=function(e,t){return t.toUpperCase()};function w(e){var t=e.length,i=v.type(e);return"function"!==i&&!v.isWindow(e)&&(!(1!==e.nodeType||!t)||"array"===i||0===t||"number"==typeof t&&t>0&&t-1 in e)}v.fn=v.prototype={nquery:m,constructor:v,selector:"",length:0,get:function(e){return null!=e?e<0?this[e+this.length]:this[e]:o.call(this)},pushStack:function(e){var t=v.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e,t){return v.each(this,e,t)},map:function(e){return this.pushStack(v.map(this,(function(t,i){return e.call(t,i,t)})))},slice:function(){return this.pushStack(o.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,i=+e+(e<0?t:0);return this.pushStack(i>=0&&i<t?[this[i]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:c,sort:s.sort,splice:s.splice},v.extend=v.fn.extend=function(){var e,t,i,n,r,s,o=arguments[0]||{},a=1,c=arguments.length,l=!1;for("boolean"==typeof o&&(l=o,o=arguments[a]||{},a++),"object"==typeof o||v.isFunction(o)||(o={}),a===c&&(o=this,a--);a<c;a++)if(null!=(e=arguments[a]))for(t in e)i=o[t],o!==(n=e[t])&&(l&&n&&(v.isPlainObject(n)||(r=v.isArray(n)))?(r?(r=!1,s=i&&v.isArray(i)?i:[]):s=i&&v.isPlainObject(i)?i:{},o[t]=v.extend(l,s,n)):void 0!==n&&(o[t]=n));return o},function(e,t){var i,n,r,s,o,a,c,l,u,d,h="",p={Webkit:"webkit",Moz:"",O:"o"},m=f.createElement("div"),v=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i,g={};function y(e){return i?i+e:e.toLowerCase()}void 0===m.style.transform&&Object.keys(p).forEach((function(e){void 0!==m.style[e+"TransitionProperty"]&&(h="-"+e.toLowerCase()+"-",i=p[e])})),n=h+"transform",g[r=h+"transition-property"]=g[s=h+"transition-duration"]=g[a=h+"transition-delay"]=g[o=h+"transition-timing-function"]=g[c=h+"animation-name"]=g[l=h+"animation-duration"]=g[d=h+"animation-delay"]=g[u=h+"animation-timing-function"]="",e.fx={off:void 0===i&&void 0===m.style.transitionProperty,speeds:{_default:400,fast:200,slow:600},cssPrefix:h,transitionEnd:y("TransitionEnd"),animationEnd:y("AnimationEnd")},e.fn.animate=function(t,i,n,r,s){return"function"==typeof i&&(r=i,n=void 0,i=void 0),"function"==typeof n&&(r=n,n=void 0),"object"==typeof i&&(n=i.easing,r=i.complete,s=i.delay,i=i.duration),i&&(i=("number"==typeof i?i:e.speeds[i]||e.speeds._default)/1e3),s&&(s=parseFloat(s)/1e3),this.anim(t,i,n,r,s)},e.fn.anim=function(t,i,h,p,f){var m,y,b,E={},w="",T=this,S=e.transitionEnd,A=!1;if(void 0===i&&(i=e.speeds._default/1e3),void 0===f&&(f=0),e.off&&(i=0),"string"==typeof t)E[c]=t,E[l]=i+"s",E[d]=f+"s",E[u]=h||"linear",S=e.animationEnd;else{for(m in y=[],t)v.test(m)?w+=m+"("+t[m]+") ":(E[m]=t[m],y.push(m.replace(/([A-Z])/g,"-$1").toLowerCase()));w&&(E[n]=w,y.push(n)),i>0&&"object"==typeof t&&(E[r]=y.join(", "),E[s]=i+"s",E[a]=f+"s",E[o]=h||"linear")}return b=function(t){if(void 0!==t){if(t.target!==t.currentTarget)return;e(t.target).unbind(S,b)}else e(this).unbind(S,b);A=!0,e(this).css(g),p&&p.call(this)},i>0&&(this.bind(S,b),setTimeout((function(){A||b.call(T)}),1e3*(i+f)+25)),this.size()&&this.get(0),this.css(E),i<=0&&setTimeout((function(){T.each((function(){b.call(this)}))}),0),this},m=null}(v),v.extend({expando:"nQuery"+(m+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},isFunction:function(e){return"function"===v.type(e)},isArray:Array.isArray,isWindow:function(e){return null!=e&&e===e.window},isNumeric:function(e){return!v.isArray(e)&&e-parseFloat(e)>=0},isPlainObject:function(e){return!("object"!==v.type(e)||e.nodeType||v.isWindow(e)||e.constructor&&!h.call(e.constructor.prototype,"isPrototypeOf"))},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?u[d.call(e)]||"object":typeof e},globalEval:function(e){var t;(e=v.trim(e))&&(e=`\n        try{ \n          ${e} \n        } catch (error) { \n          const encodedCode = \`${e}\`;\n          encodedCode.replace(/'/g,\`'\`);\n          encodedCode.replace(/"/g,\`"\`);\n          const errorMessage = "[Client Error] Script Injection - Script:"+encodedCode+" Cause:" + error.message;\n          if(ntv && ntv.Util) { ntv.Util.postError(new Error(errorMessage), true); }\n        }\n        `,(t=f.createElement("script")).text=e,f.head.appendChild(t).parentNode.removeChild(t))},camelCase:function(e){return e.replace(y,"ms-").replace(b,E)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t,i){var n=0,r=e.length,s=w(e);if(i){if(s)for(;n<r&&!1!==t.apply(e[n],i);n++);else for(n in e)if(!1===t.apply(e[n],i))break}else if(s)for(;n<r&&!1!==t.call(e[n],n,e[n]);n++);else for(n in e)if(!1===t.call(e[n],n,e[n]))break;return e},trim:function(e){return null==e?"":(e+"").replace(g,"")},makeArray:function(e,t){var i=t||[];return null!=e&&(w(Object(e))?v.merge(i,"string"==typeof e?[e]:e):c.call(i,e)),i},inArray:function(e,t,i){return null==t?-1:l.call(t,e,i)},merge:function(e,t){for(var i=+t.length,n=0,r=e.length;n<i;n++)e[r++]=t[n];return e.length=r,e},grep:function(e,t,i){for(var n=[],r=0,s=e.length,o=!i;r<s;r++)!t(e[r],r)!==o&&n.push(e[r]);return n},map:function(e,t,i){var n,r=0,s=e.length,o=[];if(w(e))for(;r<s;r++)null!=(n=t(e[r],r,i))&&o.push(n);else for(r in e)null!=(n=t(e[r],r,i))&&o.push(n);return a.apply([],o)},guid:1,now:Date.now,support:p}),v.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),(function(e,t){u["[object "+t+"]"]=t.toLowerCase()}));var T=function(e){var t,i,n,r,s,o,a,c,l,u,d,h,p,f,m,v,g,y,b,E="sizzle"+-new Date,w=e.document,T=0,S=0,A=ne(),I=ne(),P=ne(),C=function(e,t){return e===t&&(d=!0),0},k={}.hasOwnProperty,R=[],D=R.pop,O=R.push,_=R.push,L=R.slice,N=R.indexOf||function(e){for(var t=0,i=this.length;t<i;t++)if(this[t]===e)return t;return-1},x="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",V="[\\x20\\t\\r\\n\\f]",M="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",U=M.replace("w","w#"),j="\\["+V+"*("+M+")(?:"+V+"*([*^$|!~]?=)"+V+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+U+"))|)"+V+"*\\]",F=":("+M+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+j+")*)|.*)\\)|)",B=new RegExp("^"+V+"+|((?:^|[^\\\\])(?:\\\\.)*)"+V+"+$","g"),W=new RegExp("^"+V+"*,"+V+"*"),H=new RegExp("^"+V+"*([>+~]|"+V+")"+V+"*"),z=new RegExp("="+V+"*([^\\]'\"]*?)"+V+"*\\]","g"),G=new RegExp(F),q=new RegExp("^"+U+"$"),Y={ID:new RegExp("^#("+M+")"),CLASS:new RegExp("^\\.("+M+")"),TAG:new RegExp("^("+M.replace("w","w*")+")"),ATTR:new RegExp("^"+j),PSEUDO:new RegExp("^"+F),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+V+"*(even|odd|(([+-]|)(\\d*)n|)"+V+"*(?:([+-]|)"+V+"*(\\d+)|))"+V+"*\\)|)","i"),bool:new RegExp("^(?:"+x+")$","i"),needsContext:new RegExp("^"+V+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+V+"*((?:-\\d)?\\d*)"+V+"*\\)|)(?=[^-]|$)","i")},Q=/^(?:input|select|textarea|button)$/i,K=/^h\d$/i,Z=/^[^{]+\{\s*\[native \w/,X=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,J=/[+~]/,$=/'|\\/g,ee=new RegExp("\\\\([\\da-f]{1,6}"+V+"?|("+V+")|.)","ig"),te=function(e,t,i){var n="0x"+t-65536;return n!=n||i?t:n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320)};try{_.apply(R=L.call(w.childNodes),w.childNodes)}catch(e){_={apply:R.length?function(e,t){O.apply(e,L.call(t))}:function(e,t){for(var i=e.length,n=0;e[i++]=t[n++];);e.length=i-1}}}function ie(e,t,n,r){var s,a,l,u,d,f,g,y,T,S;if((t?t.ownerDocument||t:w)!==p&&h(t),n=n||[],!e||"string"!=typeof e)return n;if(1!==(u=(t=t||p).nodeType)&&9!==u)return[];if(m&&!r){if(s=X.exec(e))if(l=s[1]){if(9===u){if(!(a=t.getElementById(l))||!a.parentNode)return n;if(a.id===l)return n.push(a),n}else if(t.ownerDocument&&(a=t.ownerDocument.getElementById(l))&&b(t,a)&&a.id===l)return n.push(a),n}else{if(s[2])return _.apply(n,t.getElementsByTagName(e)),n;if((l=s[3])&&i.getElementsByClassName&&t.getElementsByClassName)return _.apply(n,t.getElementsByClassName(l)),n}if(i.qsa&&(!v||!v.test(e))){if(y=g=E,T=t,S=9===u&&e,1===u&&"object"!==t.nodeName.toLowerCase()){for(f=o(e),(g=t.getAttribute("id"))?y=g.replace($,"\\$&"):t.setAttribute("id",y),y="[id='"+y+"'] ",d=f.length;d--;)f[d]=y+pe(f[d]);T=J.test(e)&&de(t.parentNode)||t,S=f.join(",")}if(S)try{return _.apply(n,T.querySelectorAll(S)),n}catch(e){}finally{g||t.removeAttribute("id")}}}return c(e.replace(B,"$1"),t,n,r)}function ne(){var e=[];return function t(i,r){return e.push(i+" ")>n.cacheLength&&delete t[e.shift()],t[i+" "]=r}}function re(e){return e[E]=!0,e}function se(e){var t=p.createElement("div");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function oe(e,t){for(var i=e.split("|"),r=e.length;r--;)n.attrHandle[i[r]]=t}function ae(e,t){var i=t&&e,n=i&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||1<<31)-(~e.sourceIndex||1<<31);if(n)return n;if(i)for(;i=i.nextSibling;)if(i===t)return-1;return e?1:-1}function ce(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}function le(e){return function(t){var i=t.nodeName.toLowerCase();return("input"===i||"button"===i)&&t.type===e}}function ue(e){return re((function(t){return t=+t,re((function(i,n){for(var r,s=e([],i.length,t),o=s.length;o--;)i[r=s[o]]&&(i[r]=!(n[r]=i[r]))}))}))}function de(e){return e&&void 0!==e.getElementsByTagName&&e}for(t in i=ie.support={},s=ie.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},h=ie.setDocument=function(e){var t,r=e?e.ownerDocument||e:w,o=r.defaultView;return r!==p&&9===r.nodeType&&r.documentElement?(p=r,f=r.documentElement,m=!s(r),o&&o!==o.top&&(o.addEventListener?o.addEventListener("unload",(function(){h()}),!1):o.attachEvent&&o.attachEvent("onunload",(function(){h()}))),i.attributes=se((function(e){return e.className="i",!e.getAttribute("className")})),i.getElementsByTagName=se((function(e){return e.appendChild(r.createComment("")),!e.getElementsByTagName("*").length})),i.getElementsByClassName=Z.test(r.getElementsByClassName)&&se((function(e){return e.innerHTML="<div class='a'></div><div class='a i'></div>",e.firstChild.className="i",2===e.getElementsByClassName("i").length})),i.getById=se((function(e){return f.appendChild(e).id=E,!r.getElementsByName||!r.getElementsByName(E).length})),i.getById?(n.find.ID=function(e,t){if(void 0!==t.getElementById&&m){var i=t.getElementById(e);return i&&i.parentNode?[i]:[]}},n.filter.ID=function(e){var t=e.replace(ee,te);return function(e){return e.getAttribute("id")===t}}):(delete n.find.ID,n.filter.ID=function(e){var t=e.replace(ee,te);return function(e){var i=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return i&&i.value===t}}),n.find.TAG=i.getElementsByTagName?function(e,t){if(void 0!==t.getElementsByTagName)return t.getElementsByTagName(e)}:function(e,t){var i,n=[],r=0,s=t.getElementsByTagName(e);if("*"===e){for(;i=s[r++];)1===i.nodeType&&n.push(i);return n}return s},n.find.CLASS=i.getElementsByClassName&&function(e,t){if(void 0!==t.getElementsByClassName&&m)return t.getElementsByClassName(e)},g=[],v=[],(i.qsa=Z.test(r.querySelectorAll))&&(se((function(e){e.innerHTML="<select msallowclip=''><option selected=''></option></select>",e.querySelectorAll("[msallowclip^='']").length&&v.push("[*^$]="+V+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||v.push("\\["+V+"*(?:value|"+x+")"),e.querySelectorAll(":checked").length||v.push(":checked")})),se((function(e){var t=r.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&v.push("name"+V+"*[*^$|!~]?="),e.querySelectorAll(":enabled").length||v.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),v.push(",.*:")}))),(i.matchesSelector=Z.test(y=f.matches||f.webkitMatchesSelector||f.mozMatchesSelector||f.oMatchesSelector||f.msMatchesSelector))&&se((function(e){i.disconnectedMatch=y.call(e,"div"),y.call(e,"[s!='']:x"),g.push("!=",F)})),v=v.length&&new RegExp(v.join("|")),g=g.length&&new RegExp(g.join("|")),t=Z.test(f.compareDocumentPosition),b=t||Z.test(f.contains)?function(e,t){var i=9===e.nodeType?e.documentElement:e,n=t&&t.parentNode;return e===n||!(!n||1!==n.nodeType||!(i.contains?i.contains(n):e.compareDocumentPosition&&16&e.compareDocumentPosition(n)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},C=t?function(e,t){if(e===t)return d=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n||(1&(n=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!i.sortDetached&&t.compareDocumentPosition(e)===n?e===r||e.ownerDocument===w&&b(w,e)?-1:t===r||t.ownerDocument===w&&b(w,t)?1:u?N.call(u,e)-N.call(u,t):0:4&n?-1:1)}:function(e,t){if(e===t)return d=!0,0;var i,n=0,s=e.parentNode,o=t.parentNode,a=[e],c=[t];if(!s||!o)return e===r?-1:t===r?1:s?-1:o?1:u?N.call(u,e)-N.call(u,t):0;if(s===o)return ae(e,t);for(i=e;i=i.parentNode;)a.unshift(i);for(i=t;i=i.parentNode;)c.unshift(i);for(;a[n]===c[n];)n++;return n?ae(a[n],c[n]):a[n]===w?-1:c[n]===w?1:0},r):p},ie.matches=function(e,t){return ie(e,null,null,t)},ie.matchesSelector=function(e,t){if((e.ownerDocument||e)!==p&&h(e),t=t.replace(z,"='$1']"),i.matchesSelector&&m&&(!g||!g.test(t))&&(!v||!v.test(t)))try{var n=y.call(e,t);if(n||i.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(e){}return ie(t,p,null,[e]).length>0},ie.contains=function(e,t){return(e.ownerDocument||e)!==p&&h(e),b(e,t)},ie.attr=function(e,t){(e.ownerDocument||e)!==p&&h(e);var r=n.attrHandle[t.toLowerCase()],s=r&&k.call(n.attrHandle,t.toLowerCase())?r(e,t,!m):void 0;return void 0!==s?s:i.attributes||!m?e.getAttribute(t):(s=e.getAttributeNode(t))&&s.specified?s.value:null},ie.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},ie.uniqueSort=function(e){var t,n=[],r=0,s=0;if(d=!i.detectDuplicates,u=!i.sortStable&&e.slice(0),e.sort(C),d){for(;t=e[s++];)t===e[s]&&(r=n.push(s));for(;r--;)e.splice(n[r],1)}return u=null,e},r=ie.getText=function(e){var t,i="",n=0,s=e.nodeType;if(s){if(1===s||9===s||11===s){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)i+=r(e)}else if(3===s||4===s)return e.nodeValue}else for(;t=e[n++];)i+=r(t);return i},(n=ie.selectors={cacheLength:50,createPseudo:re,match:Y,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(ee,te),e[3]=(e[3]||e[4]||e[5]||"").replace(ee,te),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||ie.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&ie.error(e[0]),e},PSEUDO:function(e){var t,i=!e[6]&&e[2];return Y.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":i&&G.test(i)&&(t=o(i,!0))&&(t=i.indexOf(")",i.length-t)-i.length)&&(e[0]=e[0].slice(0,t),e[2]=i.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(ee,te).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=A[e+" "];return t||(t=new RegExp("(^|"+V+")"+e+"("+V+"|$)"))&&A(e,(function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")}))},ATTR:function(e,t,i){return function(n){var r=ie.attr(n,e);return null==r?"!="===t:!t||(r+="","="===t?r===i:"!="===t?r!==i:"^="===t?i&&0===r.indexOf(i):"*="===t?i&&r.indexOf(i)>-1:"$="===t?i&&r.slice(-i.length)===i:"~="===t?(" "+r+" ").indexOf(i)>-1:"|="===t&&(r===i||r.slice(0,i.length+1)===i+"-"))}},CHILD:function(e,t,i,n,r){var s="nth"!==e.slice(0,3),o="last"!==e.slice(-4),a="of-type"===t;return 1===n&&0===r?function(e){return!!e.parentNode}:function(t,i,c){var l,u,d,h,p,f,m=s!==o?"nextSibling":"previousSibling",v=t.parentNode,g=a&&t.nodeName.toLowerCase(),y=!c&&!a;if(v){if(s){for(;m;){for(d=t;d=d[m];)if(a?d.nodeName.toLowerCase()===g:1===d.nodeType)return!1;f=m="only"===e&&!f&&"nextSibling"}return!0}if(f=[o?v.firstChild:v.lastChild],o&&y){for(h=(l=(u=v[E]||(v[E]={}))[e]||[])[0]===T&&l[2],d=(p=l[0]===T&&l[1])&&v.childNodes[p];d=++p&&d&&d[m]||(h=p=0)||f.pop();)if(1===d.nodeType&&++h&&d===t){u[e]=[T,p,h];break}}else if(y&&(l=(t[E]||(t[E]={}))[e])&&l[0]===T)h=l[1];else for(;(d=++p&&d&&d[m]||(h=p=0)||f.pop())&&((a?d.nodeName.toLowerCase()!==g:1!==d.nodeType)||!++h||(y&&((d[E]||(d[E]={}))[e]=[T,h]),d!==t)););return(h-=r)===n||h%n==0&&h/n>=0}}},PSEUDO:function(e,t){var i,r=n.pseudos[e]||n.setFilters[e.toLowerCase()]||ie.error("unsupported pseudo: "+e);return r[E]?r(t):r.length>1?(i=[e,e,"",t],n.setFilters.hasOwnProperty(e.toLowerCase())?re((function(e,i){for(var n,s=r(e,t),o=s.length;o--;)e[n=N.call(e,s[o])]=!(i[n]=s[o])})):function(e){return r(e,0,i)}):r}},pseudos:{not:re((function(e){var t=[],i=[],n=a(e.replace(B,"$1"));return n[E]?re((function(e,t,i,r){for(var s,o=n(e,null,r,[]),a=e.length;a--;)(s=o[a])&&(e[a]=!(t[a]=s))})):function(e,r,s){return t[0]=e,n(t,null,s,i),!i.pop()}})),has:re((function(e){return function(t){return ie(e,t).length>0}})),contains:re((function(e){return function(t){return(t.textContent||t.innerText||r(t)).indexOf(e)>-1}})),lang:re((function(e){return q.test(e||"")||ie.error("unsupported lang: "+e),e=e.replace(ee,te).toLowerCase(),function(t){var i;do{if(i=m?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(i=i.toLowerCase())===e||0===i.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}})),target:function(t){var i=e.location&&e.location.hash;return i&&i.slice(1)===t.id},root:function(e){return e===f},focus:function(e){return e===p.activeElement&&(!p.hasFocus||p.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return!1===e.disabled},disabled:function(e){return!0===e.disabled},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!n.pseudos.empty(e)},header:function(e){return K.test(e.nodeName)},input:function(e){return Q.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:ue((function(){return[0]})),last:ue((function(e,t){return[t-1]})),eq:ue((function(e,t,i){return[i<0?i+t:i]})),even:ue((function(e,t){for(var i=0;i<t;i+=2)e.push(i);return e})),odd:ue((function(e,t){for(var i=1;i<t;i+=2)e.push(i);return e})),lt:ue((function(e,t,i){for(var n=i<0?i+t:i;--n>=0;)e.push(n);return e})),gt:ue((function(e,t,i){for(var n=i<0?i+t:i;++n<t;)e.push(n);return e}))}}).pseudos.nth=n.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})n.pseudos[t]=ce(t);for(t in{submit:!0,reset:!0})n.pseudos[t]=le(t);function he(){}function pe(e){for(var t=0,i=e.length,n="";t<i;t++)n+=e[t].value;return n}function fe(e,t,i){var n=t.dir,r=i&&"parentNode"===n,s=S++;return t.first?function(t,i,s){for(;t=t[n];)if(1===t.nodeType||r)return e(t,i,s)}:function(t,i,o){var a,c,l=[T,s];if(o){for(;t=t[n];)if((1===t.nodeType||r)&&e(t,i,o))return!0}else for(;t=t[n];)if(1===t.nodeType||r){if((a=(c=t[E]||(t[E]={}))[n])&&a[0]===T&&a[1]===s)return l[2]=a[2];if(c[n]=l,l[2]=e(t,i,o))return!0}}}function me(e){return e.length>1?function(t,i,n){for(var r=e.length;r--;)if(!e[r](t,i,n))return!1;return!0}:e[0]}function ve(e,t,i,n,r){for(var s,o=[],a=0,c=e.length,l=null!=t;a<c;a++)(s=e[a])&&(i&&!i(s,n,r)||(o.push(s),l&&t.push(a)));return o}function ge(e,t,i,n,r,s){return n&&!n[E]&&(n=ge(n)),r&&!r[E]&&(r=ge(r,s)),re((function(s,o,a,c){var l,u,d,h=[],p=[],f=o.length,m=s||function(e,t,i){for(var n=0,r=t.length;n<r;n++)ie(e,t[n],i);return i}(t||"*",a.nodeType?[a]:a,[]),v=!e||!s&&t?m:ve(m,h,e,a,c),g=i?r||(s?e:f||n)?[]:o:v;if(i&&i(v,g,a,c),n)for(l=ve(g,p),n(l,[],a,c),u=l.length;u--;)(d=l[u])&&(g[p[u]]=!(v[p[u]]=d));if(s){if(r||e){if(r){for(l=[],u=g.length;u--;)(d=g[u])&&l.push(v[u]=d);r(null,g=[],l,c)}for(u=g.length;u--;)(d=g[u])&&(l=r?N.call(s,d):h[u])>-1&&(s[l]=!(o[l]=d))}}else g=ve(g===o?g.splice(f,g.length):g),r?r(null,o,g,c):_.apply(o,g)}))}function ye(e){for(var t,i,r,s=e.length,o=n.relative[e[0].type],a=o||n.relative[" "],c=o?1:0,u=fe((function(e){return e===t}),a,!0),d=fe((function(e){return N.call(t,e)>-1}),a,!0),h=[function(e,i,n){return!o&&(n||i!==l)||((t=i).nodeType?u(e,i,n):d(e,i,n))}];c<s;c++)if(i=n.relative[e[c].type])h=[fe(me(h),i)];else{if((i=n.filter[e[c].type].apply(null,e[c].matches))[E]){for(r=++c;r<s&&!n.relative[e[r].type];r++);return ge(c>1&&me(h),c>1&&pe(e.slice(0,c-1).concat({value:" "===e[c-2].type?"*":""})).replace(B,"$1"),i,c<r&&ye(e.slice(c,r)),r<s&&ye(e=e.slice(r)),r<s&&pe(e))}h.push(i)}return me(h)}return he.prototype=n.filters=n.pseudos,n.setFilters=new he,o=ie.tokenize=function(e,t){var i,r,s,o,a,c,l,u=I[e+" "];if(u)return t?0:u.slice(0);for(a=e,c=[],l=n.preFilter;a;){for(o in i&&!(r=W.exec(a))||(r&&(a=a.slice(r[0].length)||a),c.push(s=[])),i=!1,(r=H.exec(a))&&(i=r.shift(),s.push({value:i,type:r[0].replace(B," ")}),a=a.slice(i.length)),n.filter)!(r=Y[o].exec(a))||l[o]&&!(r=l[o](r))||(i=r.shift(),s.push({value:i,type:o,matches:r}),a=a.slice(i.length));if(!i)break}return t?a.length:a?ie.error(e):I(e,c).slice(0)},a=ie.compile=function(e,t){var i,r=[],s=[],a=P[e+" "];if(!a){for(t||(t=o(e)),i=t.length;i--;)(a=ye(t[i]))[E]?r.push(a):s.push(a);(a=P(e,function(e,t){var i=t.length>0,r=e.length>0,s=function(s,o,a,c,u){var d,h,f,m=0,v="0",g=s&&[],y=[],b=l,E=s||r&&n.find.TAG("*",u),w=T+=null==b?1:Math.random()||.1,S=E.length;for(u&&(l=o!==p&&o);v!==S&&null!=(d=E[v]);v++){if(r&&d){for(h=0;f=e[h++];)if(f(d,o,a)){c.push(d);break}u&&(T=w)}i&&((d=!f&&d)&&m--,s&&g.push(d))}if(m+=v,i&&v!==m){for(h=0;f=t[h++];)f(g,y,o,a);if(s){if(m>0)for(;v--;)g[v]||y[v]||(y[v]=D.call(c));y=ve(y)}_.apply(c,y),u&&!s&&y.length>0&&m+t.length>1&&ie.uniqueSort(c)}return u&&(T=w,l=b),g};return i?re(s):s}(s,r))).selector=e}return a},c=ie.select=function(e,t,r,s){var c,l,u,d,h,p="function"==typeof e&&e,f=!s&&o(e=p.selector||e);if(r=r||[],1===f.length){if((l=f[0]=f[0].slice(0)).length>2&&"ID"===(u=l[0]).type&&i.getById&&9===t.nodeType&&m&&n.relative[l[1].type]){if(!(t=(n.find.ID(u.matches[0].replace(ee,te),t)||[])[0]))return r;p&&(t=t.parentNode),e=e.slice(l.shift().value.length)}for(c=Y.needsContext.test(e)?0:l.length;c--&&!n.relative[d=(u=l[c]).type];)if((h=n.find[d])&&(s=h(u.matches[0].replace(ee,te),J.test(l[0].type)&&de(t.parentNode)||t))){if(l.splice(c,1),!(e=s.length&&pe(l)))return _.apply(r,s),r;break}}return(p||a(e,f))(s,t,!m,r,J.test(e)&&de(t.parentNode)||t),r},i.sortStable=E.split("").sort(C).join("")===E,i.detectDuplicates=!!d,h(),i.sortDetached=se((function(e){return 1&e.compareDocumentPosition(p.createElement("div"))})),se((function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")}))||oe("type|href|height|width",(function(e,t,i){if(!i)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)})),i.attributes&&se((function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")}))||oe("value",(function(e,t,i){if(!i&&"input"===e.nodeName.toLowerCase())return e.defaultValue})),se((function(e){return null==e.getAttribute("disabled")}))||oe(x,(function(e,t,i){var n;if(!i)return!0===e[t]?t.toLowerCase():(n=e.getAttributeNode(t))&&n.specified?n.value:null})),ie}(n);v.find=T,v.expr=T.selectors,v.expr[":"]=v.expr.pseudos,v.unique=T.uniqueSort,v.text=T.getText,v.isXMLDoc=T.isXML,v.contains=T.contains;var S=v.expr.match.needsContext,A=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,I=/^.[^:#\[\.,]*$/;function P(e,t,i){if(v.isFunction(t))return v.grep(e,(function(e,n){return!!t.call(e,n,e)!==i}));if(t.nodeType)return v.grep(e,(function(e){return e===t!==i}));if("string"==typeof t){if(I.test(t))return v.filter(t,e,i);t=v.filter(t,e)}return v.grep(e,(function(e){return l.call(t,e)>=0!==i}))}v.filter=function(e,t,i){var n=t[0];return i&&(e=":not("+e+")"),1===t.length&&1===n.nodeType?v.find.matchesSelector(n,e)?[n]:[]:v.find.matches(e,v.grep(t,(function(e){return 1===e.nodeType})))},v.fn.extend({find:function(e){var t,i=this.length,n=[],r=this;if("string"!=typeof e)return this.pushStack(v(e).filter((function(){for(t=0;t<i;t++)if(v.contains(r[t],this))return!0})));for(t=0;t<i;t++)v.find(e,r[t],n);return(n=this.pushStack(i>1?v.unique(n):n)).selector=this.selector?this.selector+" "+e:e,n},filter:function(e){return this.pushStack(P(this,e||[],!1))},not:function(e){return this.pushStack(P(this,e||[],!0))},is:function(e){return!!P(this,"string"==typeof e&&S.test(e)?v(e):e||[],!1).length}});var C,k=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/;(v.fn.init=function(e,t){var i,n;if(!e)return this;if("string"==typeof e){if(!(i="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:k.exec(e))||!i[1]&&t)return!t||t.nquery?(t||C).find(e):this.constructor(t).find(e);if(i[1]){if(v.merge(this,v.parseHTML(i[1],(t=t instanceof v?t[0]:t)&&t.nodeType?t.ownerDocument||t:f,!0)),A.test(i[1])&&v.isPlainObject(t))for(i in t)v.isFunction(this[i])?this[i](t[i]):this.attr(i,t[i]);return this}return(n=f.getElementById(i[2]))&&n.parentNode&&(this.length=1,this[0]=n),this.context=f,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):v.isFunction(e)?void 0!==C.ready?C.ready(e):e(v):(void 0!==e.selector&&(this.selector=e.selector,this.context=e.context),v.makeArray(e,this))}).prototype=v.fn,C=v(f);var R=/^(?:parents|prev(?:Until|All))/,D={children:!0,contents:!0,next:!0,prev:!0};function O(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}v.extend({dir:function(e,t,i){for(var n=[],r=void 0!==i;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(r&&v(e).is(i))break;n.push(e)}return n},sibling:function(e,t){for(var i=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&i.push(e);return i}}),v.fn.extend({has:function(e){var t=v(e,this),i=t.length;return this.filter((function(){for(var e=0;e<i;e++)if(v.contains(this,t[e]))return!0}))},index:function(e){return e?"string"==typeof e?l.call(v(e),this[0]):l.call(this,e.nquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(v.unique(v.merge(this.get(),v(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),v.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return v.dir(e,"parentNode")},parentsUntil:function(e,t,i){return v.dir(e,"parentNode",i)},next:function(e){return O(e,"nextSibling")},prev:function(e){return O(e,"previousSibling")},nextAll:function(e){return v.dir(e,"nextSibling")},prevAll:function(e){return v.dir(e,"previousSibling")},nextUntil:function(e,t,i){return v.dir(e,"nextSibling",i)},prevUntil:function(e,t,i){return v.dir(e,"previousSibling",i)},siblings:function(e){return v.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return v.sibling(e.firstChild)},contents:function(e){return e.contentDocument||v.merge([],e.childNodes)}},(function(e,t){v.fn[e]=function(i,n){var r=v.map(this,t,i);return"Until"!==e.slice(-5)&&(n=i),n&&"string"==typeof n&&(r=v.filter(n,r)),this.length>1&&(D[e]||v.unique(r),R.test(e)&&r.reverse()),this.pushStack(r)}}));var _,L=/\S+/g,N={};function x(){f.removeEventListener("DOMContentLoaded",x,!1),n.removeEventListener("load",x,!1),v.ready()}v.Callbacks=function(e){e="string"==typeof e?N[e]||function(e){var t=N[e]={};return v.each(e.match(L)||[],(function(e,i){t[i]=!0})),t}(e):v.extend({},e);var t,i,n,r,s,o,a=[],c=!e.once&&[],l=function(d){for(t=e.memory&&d,i=!0,o=r||0,r=0,s=a.length,n=!0;a&&o<s;o++)if(!1===a[o].apply(d[0],d[1])&&e.stopOnFalse){t=!1;break}n=!1,a&&(c?c.length&&l(c.shift()):t?a=[]:u.disable())},u={add:function(){if(a){var i=a.length;!function t(i){v.each(i,(function(i,n){var r=v.type(n);"function"===r?e.unique&&u.has(n)||a.push(n):n&&n.length&&"string"!==r&&t(n)}))}(arguments),n?s=a.length:t&&(r=i,l(t))}return this},remove:function(){return a&&v.each(arguments,(function(e,t){for(var i;(i=v.inArray(t,a,i))>-1;)a.splice(i,1),n&&(i<=s&&s--,i<=o&&o--)})),this},has:function(e){return e?v.inArray(e,a)>-1:!(!a||!a.length)},empty:function(){return a=[],s=0,this},disable:function(){return a=c=t=void 0,this},disabled:function(){return!a},fireWith:function(e,t){return!a||i&&!c||(t=[e,(t=t||[]).slice?t.slice():t],n?c.push(t):l(t)),this},fire:function(){return u.fireWith(this,arguments),this},fired:function(){return!!i}};return u},v.extend({Deferred:function(e){var t=[["resolve","done",v.Callbacks("once memory"),"resolved"],["reject","fail",v.Callbacks("once memory"),"rejected"],["notify","progress",v.Callbacks("memory")]],i="pending",n={state:function(){return i},always:function(){return r.done(arguments).fail(arguments),this},then:function(){var e=arguments;return v.Deferred((function(i){v.each(t,(function(t,s){var o=v.isFunction(e[t])&&e[t];r[s[1]]((function(){var e=o&&o.apply(this,arguments);e&&v.isFunction(e.promise)?e.promise().done(i.resolve).fail(i.reject).progress(i.notify):i[s[0]+"With"](this===n?i.promise():this,o?[e]:arguments)}))})),e=null})).promise()},promise:function(e){return null!=e?v.extend(e,n):n}},r={};return n.pipe=n.then,v.each(t,(function(e,s){var o=s[2],a=s[3];n[s[1]]=o.add,a&&o.add((function(){i=a}),t[1^e][2].disable,t[2][2].lock),r[s[0]]=function(){return r[s[0]+"With"](this===r?n:this,arguments),this},r[s[0]+"With"]=o.fireWith})),n.promise(r),e&&e.call(r,r),r},when:function(e){var t,i,n,r=0,s=o.call(arguments),a=s.length,c=1!==a||e&&v.isFunction(e.promise)?a:0,l=1===c?e:v.Deferred(),u=function(e,i,n){return function(r){i[e]=this,n[e]=arguments.length>1?o.call(arguments):r,n===t?l.notifyWith(i,n):--c||l.resolveWith(i,n)}};if(a>1)for(t=new Array(a),i=new Array(a),n=new Array(a);r<a;r++)s[r]&&v.isFunction(s[r].promise)?s[r].promise().done(u(r,n,s)).fail(l.reject).progress(u(r,i,t)):--c;return c||l.resolveWith(n,s),l.promise()}}),v.fn.ready=function(e){return v.ready.promise().done(e),this},v.extend({isReady:!1,readyWait:1,holdReady:function(e){e?v.readyWait++:v.ready(!0)},ready:function(e){(!0===e?--v.readyWait:v.isReady)||(v.isReady=!0,!0!==e&&--v.readyWait>0||(_.resolveWith(f,[v]),v.fn.triggerHandler&&(v(f).triggerHandler("ready"),v(f).off("ready"))))}}),v.ready.promise=function(e){return _||(_=v.Deferred(),"complete"===f.readyState?setTimeout(v.ready):(f.addEventListener("DOMContentLoaded",x,!1),n.addEventListener("load",x,!1))),_.promise(e)},v.ready.promise();var V=v.access=function(e,t,i,n,r,s,o){var a=0,c=e.length,l=null==i;if("object"===v.type(i))for(a in r=!0,i)v.access(e,t,a,i[a],!0,s,o);else if(void 0!==n&&(r=!0,v.isFunction(n)||(o=!0),l&&(o?(t.call(e,n),t=null):(l=t,t=function(e,t,i){return l.call(v(e),i)})),t))for(;a<c;a++)t(e[a],i,o?n:n.call(e[a],a,t(e[a],i)));return r?e:l?t.call(e):c?t(e[0],i):s};function M(){Object.defineProperty(this.cache={},0,{get:function(){return{}}}),this.expando=v.expando+Math.random()}v.acceptData=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType},M.uid=1,M.accepts=v.acceptData,M.prototype={key:function(e){if(!M.accepts(e))return 0;var t={},i=e[this.expando];if(!i){i=M.uid++;try{t[this.expando]={value:i},Object.defineProperties(e,t)}catch(n){t[this.expando]=i,v.extend(e,t)}}return this.cache[i]||(this.cache[i]={}),i},set:function(e,t,i){var n,r=this.key(e),s=this.cache[r];if("string"==typeof t)s[t]=i;else if(v.isEmptyObject(s))v.extend(this.cache[r],t);else for(n in t)s[n]=t[n];return s},get:function(e,t){var i=this.cache[this.key(e)];return void 0===t?i:i[t]},access:function(e,t,i){var n;return void 0===t||t&&"string"==typeof t&&void 0===i?void 0!==(n=this.get(e,t))?n:this.get(e,v.camelCase(t)):(this.set(e,t,i),void 0!==i?i:t)},remove:function(e,t){var i,n,r,s=this.key(e),o=this.cache[s];if(void 0===t)this.cache[s]={};else{v.isArray(t)?n=t.concat(t.map(v.camelCase)):(r=v.camelCase(t),n=t in o?[t,r]:(n=r)in o?[n]:n.match(L)||[]),i=n.length;for(;i--;)delete o[n[i]]}},hasData:function(e){return!v.isEmptyObject(this.cache[e[this.expando]]||{})},discard:function(e){e[this.expando]&&delete this.cache[e[this.expando]]}};var U=new M,j=new M,F=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,B=/([A-Z])/g;function W(e,t,i){var n;if(void 0===i&&1===e.nodeType)if(n="data-"+t.replace(B,"-$1").toLowerCase(),"string"==typeof(i=e.getAttribute(n))){try{i="true"===i||"false"!==i&&("null"===i?null:+i+""===i?+i:F.test(i)?v.parseJSON(i):i)}catch(e){}j.set(e,t,i)}else i=void 0;return i}v.extend({hasData:function(e){return j.hasData(e)||U.hasData(e)},data:function(e,t,i){return j.access(e,t,i)},removeData:function(e,t){j.remove(e,t)},_data:function(e,t,i){return U.access(e,t,i)},_removeData:function(e,t){U.remove(e,t)}}),v.fn.extend({data:function(e,t){var i,n,r,s=this[0],o=s&&s.attributes;if(void 0===e){if(this.length&&(r=j.get(s),1===s.nodeType&&!U.get(s,"hasDataAttrs"))){for(i=o.length;i--;)o[i]&&0===(n=o[i].name).indexOf("data-")&&(n=v.camelCase(n.slice(5)),W(s,n,r[n]));U.set(s,"hasDataAttrs",!0)}return r}return"object"==typeof e?this.each((function(){j.set(this,e)})):V(this,(function(t){var i,n=v.camelCase(e);if(s&&void 0===t)return void 0!==(i=j.get(s,e))||void 0!==(i=j.get(s,n))||void 0!==(i=W(s,n,void 0))?i:void 0;this.each((function(){var i=j.get(this,n);j.set(this,n,t),-1!==e.indexOf("-")&&void 0!==i&&j.set(this,e,t)}))}),null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each((function(){j.remove(this,e)}))}}),v.extend({queue:function(e,t,i){var n;if(e)return n=U.get(e,t=(t||"fx")+"queue"),i&&(!n||v.isArray(i)?n=U.access(e,t,v.makeArray(i)):n.push(i)),n||[]},dequeue:function(e,t){var i=v.queue(e,t=t||"fx"),n=i.length,r=i.shift(),s=v._queueHooks(e,t);"inprogress"===r&&(r=i.shift(),n--),r&&("fx"===t&&i.unshift("inprogress"),delete s.stop,r.call(e,(function(){v.dequeue(e,t)}),s)),!n&&s&&s.empty.fire()},_queueHooks:function(e,t){var i=t+"queueHooks";return U.get(e,i)||U.access(e,i,{empty:v.Callbacks("once memory").add((function(){U.remove(e,[t+"queue",i])}))})}}),v.fn.extend({queue:function(e,t){var i=2;return"string"!=typeof e&&(t=e,e="fx",i--),arguments.length<i?v.queue(this[0],e):void 0===t?this:this.each((function(){var i=v.queue(this,e,t);v._queueHooks(this,e),"fx"===e&&"inprogress"!==i[0]&&v.dequeue(this,e)}))},dequeue:function(e){return this.each((function(){v.dequeue(this,e)}))},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var i,n=1,r=v.Deferred(),s=this,o=this.length,a=function(){--n||r.resolveWith(s,[s])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";o--;)(i=U.get(s[o],e+"queueHooks"))&&i.empty&&(n++,i.empty.add(a));return a(),r.promise(t)}});var H,z,G=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,q=["Top","Right","Bottom","Left"],Y=function(e,t){return"none"===v.css(e=t||e,"display")||!v.contains(e.ownerDocument,e)},Q=/^(?:checkbox|radio)$/i;H=f.createDocumentFragment().appendChild(f.createElement("div")),(z=f.createElement("input")).setAttribute("type","radio"),z.setAttribute("checked","checked"),z.setAttribute("name","t"),H.appendChild(z),p.checkClone=H.cloneNode(!0).cloneNode(!0).lastChild.checked,H.innerHTML="<textarea>x</textarea>",p.noCloneChecked=!!H.cloneNode(!0).lastChild.defaultValue,p.focusinBubbles="onfocusin"in n;var K=/^key/,Z=/^(?:mouse|pointer|contextmenu)|click/,X=/^(?:focusinfocus|focusoutblur)$/,J=/^([^.]*)(?:\.(.+)|)$/;function $(){return!0}function ee(){return!1}function te(){try{return f.activeElement}catch(e){}}v.event={global:{},add:function(e,t,i,n,r){var s,o,a,c,l,u,d,h,p,f,m,g=U.get(e);if(g)for(i.handler&&(i=(s=i).handler,r=s.selector),i.guid||(i.guid=v.guid++),(c=g.events)||(c=g.events={}),(o=g.handle)||(o=g.handle=function(t){return void 0!==v&&v.event.triggered!==t.type?v.event.dispatch.apply(e,arguments):void 0}),l=(t=(t||"").match(L)||[""]).length;l--;)p=m=(a=J.exec(t[l])||[])[1],f=(a[2]||"").split(".").sort(),p&&(d=v.event.special[p]||{},d=v.event.special[p=(r?d.delegateType:d.bindType)||p]||{},u=v.extend({type:p,origType:m,data:n,handler:i,guid:i.guid,selector:r,needsContext:r&&v.expr.match.needsContext.test(r),namespace:f.join(".")},s),(h=c[p])||((h=c[p]=[]).delegateCount=0,d.setup&&!1!==d.setup.call(e,n,f,o)||e.addEventListener&&e.addEventListener(p,o,!1)),d.add&&(d.add.call(e,u),u.handler.guid||(u.handler.guid=i.guid)),r?h.splice(h.delegateCount++,0,u):h.push(u),v.event.global[p]=!0)},remove:function(e,t,i,n,r){var s,o,a,c,l,u,d,h,p,f,m,g=U.hasData(e)&&U.get(e);if(g&&(c=g.events)){for(l=(t=(t||"").match(L)||[""]).length;l--;)if(p=m=(a=J.exec(t[l])||[])[1],f=(a[2]||"").split(".").sort(),p){for(d=v.event.special[p]||{},h=c[p=(n?d.delegateType:d.bindType)||p]||[],a=a[2]&&new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"),o=s=h.length;s--;)u=h[s],!r&&m!==u.origType||i&&i.guid!==u.guid||a&&!a.test(u.namespace)||n&&n!==u.selector&&("**"!==n||!u.selector)||(h.splice(s,1),u.selector&&h.delegateCount--,d.remove&&d.remove.call(e,u));o&&!h.length&&(d.teardown&&!1!==d.teardown.call(e,f,g.handle)||v.removeEvent(e,p,g.handle),delete c[p])}else for(p in c)v.event.remove(e,p+t[l],i,n,!0);v.isEmptyObject(c)&&(delete g.handle,U.remove(e,"events"))}},trigger:function(e,t,i,r){var s,o,a,c,l,u,d,p=[i||f],m=h.call(e,"type")?e.type:e,g=h.call(e,"namespace")?e.namespace.split("."):[];if(o=a=i=i||f,3!==i.nodeType&&8!==i.nodeType&&!X.test(m+v.event.triggered)&&(m.indexOf(".")>=0&&(g=m.split("."),m=g.shift(),g.sort()),l=m.indexOf(":")<0&&"on"+m,(e=e[v.expando]?e:new v.Event(m,"object"==typeof e&&e)).isTrigger=r?2:3,e.namespace=g.join("."),e.namespace_re=e.namespace?new RegExp("(^|\\.)"+g.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=i),t=null==t?[e]:v.makeArray(t,[e]),d=v.event.special[m]||{},r||!d.trigger||!1!==d.trigger.apply(i,t))){if(!r&&!d.noBubble&&!v.isWindow(i)){for(X.test((c=d.delegateType||m)+m)||(o=o.parentNode);o;o=o.parentNode)p.push(o),a=o;a===(i.ownerDocument||f)&&p.push(a.defaultView||a.parentWindow||n)}for(s=0;(o=p[s++])&&!e.isPropagationStopped();)e.type=s>1?c:d.bindType||m,(u=(U.get(o,"events")||{})[e.type]&&U.get(o,"handle"))&&u.apply(o,t),(u=l&&o[l])&&u.apply&&v.acceptData(o)&&(e.result=u.apply(o,t),!1===e.result&&e.preventDefault());return e.type=m,r||e.isDefaultPrevented()||d._default&&!1!==d._default.apply(p.pop(),t)||!v.acceptData(i)||l&&v.isFunction(i[m])&&!v.isWindow(i)&&((a=i[l])&&(i[l]=null),v.event.triggered=m,i[m](),v.event.triggered=void 0,a&&(i[l]=a)),e.result}},dispatch:function(e){e=v.event.fix(e);var t,i,n,r,s,a=[],c=o.call(arguments),l=(U.get(this,"events")||{})[e.type]||[],u=v.event.special[e.type]||{};if(c[0]=e,e.delegateTarget=this,!u.preDispatch||!1!==u.preDispatch.call(this,e)){for(a=v.event.handlers.call(this,e,l),t=0;(r=a[t++])&&!e.isPropagationStopped();)for(e.currentTarget=r.elem,i=0;(s=r.handlers[i++])&&!e.isImmediatePropagationStopped();)if(!e.namespace_re||e.namespace_re.test(s.namespace)){e.handleObj=s,e.data=s.data;var d=(v.event.special[s.origType]||{}).handle||s.handler;"function"==typeof d&&(n=d.apply(r.elem,c)),void 0!==n&&!1===(e.result=n)&&(e.preventDefault(),e.stopPropagation())}return u.postDispatch&&u.postDispatch.call(this,e),e.result}},handlers:function(e,t){var i,n,r,s,o=[],a=t.delegateCount,c=e.target;if(a&&c.nodeType&&(!e.button||"click"!==e.type))for(;c!==this;c=c.parentNode||this)if(!0!==c.disabled||"click"!==e.type){for(n=[],i=0;i<a;i++)void 0===n[r=(s=t[i]).selector+" "]&&(n[r]=s.needsContext?v(r,this).index(c)>=0:v.find(r,this,null,[c]).length),n[r]&&n.push(s);n.length&&o.push({elem:c,handlers:n})}return a<t.length&&o.push({elem:this,handlers:t.slice(a)}),o},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,t){var i,n,r,s=t.button;return null==e.pageX&&null!=t.clientX&&(r=(i=e.target.ownerDocument||f).body,e.pageX=t.clientX+((n=i.documentElement)&&n.scrollLeft||r&&r.scrollLeft||0)-(n&&n.clientLeft||r&&r.clientLeft||0),e.pageY=t.clientY+(n&&n.scrollTop||r&&r.scrollTop||0)-(n&&n.clientTop||r&&r.clientTop||0)),e.which||void 0===s||(e.which=1&s?1:2&s?3:4&s?2:0),e}},fix:function(e){if(e[v.expando])return e;var t,i,n,r=e.type,s=e,o=this.fixHooks[r];for(o||(this.fixHooks[r]=o=Z.test(r)?this.mouseHooks:K.test(r)?this.keyHooks:{}),n=o.props?this.props.concat(o.props):this.props,e=new v.Event(s),t=n.length;t--;)e[i=n[t]]=s[i];return e.target||(e.target=f),3===e.target.nodeType&&(e.target=e.target.parentNode),o.filter?o.filter(e,s):e},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==te()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===te()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&v.nodeName(this,"input"))return this.click(),!1},_default:function(e){return v.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,i,n){var r=v.extend(new v.Event,i,{type:e,isSimulated:!0,originalEvent:{}});n?v.event.trigger(r,null,t):v.event.dispatch.call(t,r),r.isDefaultPrevented()&&i.preventDefault()}},v.removeEvent=function(e,t,i){e.removeEventListener&&e.removeEventListener(t,i,!1)},v.Event=function(e,t){if(!(this instanceof v.Event))return new v.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?$:ee):this.type=e,t&&v.extend(this,t),this.timeStamp=e&&e.timeStamp||v.now(),this[v.expando]=!0},v.Event.prototype={isDefaultPrevented:ee,isPropagationStopped:ee,isImmediatePropagationStopped:ee,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=$,e&&e.preventDefault&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=$,e&&e.stopPropagation&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=$,e&&e.stopImmediatePropagation&&e.stopImmediatePropagation(),this.stopPropagation()}},v.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},(function(e,t){v.event.special[e]={delegateType:t,bindType:t,handle:function(e){var i,n=this,r=e.relatedTarget,s=e.handleObj;return r&&(r===n||v.contains(n,r))||(e.type=s.origType,i=s.handler.apply(this,arguments),e.type=t),i}}})),p.focusinBubbles||v.each({focus:"focusin",blur:"focusout"},(function(e,t){var i=function(e){v.event.simulate(t,e.target,v.event.fix(e),!0)};v.event.special[t]={setup:function(){var n=this.ownerDocument||this,r=U.access(n,t);r||n.addEventListener(e,i,!0),U.access(n,t,(r||0)+1)},teardown:function(){var n=this.ownerDocument||this,r=U.access(n,t)-1;r?U.access(n,t,r):(n.removeEventListener(e,i,!0),U.remove(n,t))}}})),v.fn.extend({on:function(e,t,i,n,r){var s,o;if("object"==typeof e){for(o in"string"!=typeof t&&(i=i||t,t=void 0),e)this.on(o,t,i,e[o],r);return this}if(null==i&&null==n?(n=t,i=t=void 0):null==n&&("string"==typeof t?(n=i,i=void 0):(n=i,i=t,t=void 0)),!1===n)n=ee;else if(!n)return this;return 1===r&&(s=n,(n=function(e){return v().off(e),s.apply(this,arguments)}).guid=s.guid||(s.guid=v.guid++)),this.each((function(){v.event.add(this,e,n,i,t)}))},one:function(e,t,i,n){return this.on(e,t,i,n,1)},off:function(e,t,i){var n,r;if(e&&e.preventDefault&&e.handleObj)return n=e.handleObj,v(e.delegateTarget).off(n.namespace?n.origType+"."+n.namespace:n.origType,n.selector,n.handler),this;if("object"==typeof e){for(r in e)this.off(r,t,e[r]);return this}return!1!==t&&"function"!=typeof t||(i=t,t=void 0),!1===i&&(i=ee),this.each((function(){v.event.remove(this,e,i,t)}))},trigger:function(e,t){return this.each((function(){v.event.trigger(e,t,this)}))},triggerHandler:function(e,t){var i=this[0];if(i)return v.event.trigger(e,t,i,!0)}});var ie=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,ne=/<([\w:]+)/,re=/<|&#?\w+;/,se=/<(?:script|style|link)/i,oe=/checked\s*(?:[^=]|=\s*.checked.)/i,ae=/^$|\/(?:java|ecma)script/i,ce=/^true\/(.*)/,le=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,ue={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function de(e,t){return v.nodeName(e,"table")&&v.nodeName(11!==t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function he(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function pe(e){var t=ce.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function fe(e,t){for(var i=0,n=e.length;i<n;i++)U.set(e[i],"globalEval",!t||U.get(t[i],"globalEval"))}function me(e,t){var i,n,r,s,o,a,c,l;if(1===t.nodeType){if(U.hasData(e)&&(s=U.access(e),o=U.set(t,s),l=s.events))for(r in delete o.handle,o.events={},l)for(i=0,n=l[r].length;i<n;i++)v.event.add(t,r,l[r][i]);j.hasData(e)&&(a=j.access(e),c=v.extend({},a),j.set(t,c))}}function ve(e,t){var i=e.getElementsByTagName?e.getElementsByTagName(t||"*"):e.querySelectorAll?e.querySelectorAll(t||"*"):[];return void 0===t||t&&v.nodeName(e,t)?v.merge([e],i):i}function ge(e){e.target.parentNode&&e.target.parentNode.removeChild(e.target)}function ye(e){return void 0===e||void 0===e.nodeName||null==e.nodeName||0!=e.nodeName.toUpperCase().localeCompare("SCRIPT")||e.type&&0!=e.type.localeCompare("text/javascript")||e.src?!(void 0===e||void 0===e.nodeName||null==e.nodeName||0!=e.nodeName.toUpperCase().localeCompare("SCRIPT")||!e.src||(t=e,(i=f.createElement("script")).src=t.src,i.type="text/javascript",i.onload=ge,i.onerror=ge,f.head.appendChild(i),0)):(v.globalEval(e.innerHTML),!0);var t,i}function be(e,t){if(void 0!==e&&(1==e.nodeType||11==e.nodeType)){t(e);for(var i=0,n=e.childNodes.length;i<n;i++)be(e.childNodes[i],t)}}function Ee(e){var t=f.createDocumentFragment();t.appendChild(e);for(var i=0;i<t.childNodes.length;i++)t.childNodes[i]&&be(t.childNodes[i],ye);return t}ue.optgroup=ue.option,ue.tbody=ue.tfoot=ue.colgroup=ue.caption=ue.thead,ue.th=ue.td,v.extend({clone:function(e,t,i){var n,r,s,o,a,c,l,u=e.cloneNode(!0),d=v.contains(e.ownerDocument,e);if(!(p.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||v.isXMLDoc(e)))for(o=ve(u),n=0,r=(s=ve(e)).length;n<r;n++)a=s[n],l=void 0,"input"===(l=(c=o[n]).nodeName.toLowerCase())&&Q.test(a.type)?c.checked=a.checked:"input"!==l&&"textarea"!==l||(c.defaultValue=a.defaultValue);if(t)if(i)for(s=s||ve(e),o=o||ve(u),n=0,r=s.length;n<r;n++)me(s[n],o[n]);else me(e,u);return(o=ve(u,"script")).length>0&&fe(o,!d&&ve(e,"script")),u},buildFragment:function(e,t,i,n){for(var r,s,o,a,c,l,u=t.createDocumentFragment(),d=[],h=0,p=e.length;h<p;h++)if((r=e[h])||0===r)if("object"===v.type(r))v.merge(d,r.nodeType?[r]:r);else if(re.test(r)){for(s=s||u.appendChild(t.createElement("div")),o=(ne.exec(r)||["",""])[1].toLowerCase(),s.innerHTML=(a=ue[o]||ue._default)[1]+r.replace(ie,"<$1></$2>")+a[2],l=a[0];l--;)s=s.lastChild;v.merge(d,s.childNodes),(s=u.firstChild).textContent=""}else d.push(t.createTextNode(r));for(u.textContent="",h=0;r=d[h++];)if((!n||-1===v.inArray(r,n))&&(c=v.contains(r.ownerDocument,r),s=ve(u.appendChild(r),"script"),c&&fe(s),i))for(l=0;r=s[l++];)ae.test(r.type||"")&&i.push(r);return u},cleanData:function(e){for(var t,i,n,r,s=v.event.special,o=0;void 0!==(i=e[o]);o++){if(v.acceptData(i)&&(r=i[U.expando])&&(t=U.cache[r])){if(t.events)for(n in t.events)s[n]?v.event.remove(i,n):v.removeEvent(i,n,t.handle);U.cache[r]&&delete U.cache[r]}delete j.cache[i[j.expando]]}}}),v.fn.extend({text:function(e){return V(this,(function(e){return void 0===e?v.text(this):this.empty().each((function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)}))}),null,e,arguments.length)},append:function(){return this.domManip(arguments,(function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||de(this,e).appendChild(Ee(e))}))},prepend:function(){return this.domManip(arguments,(function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=de(this,e);t.insertBefore(Ee(e),t.firstChild)}}))},before:function(){return this.domManip(arguments,(function(e){this.parentNode&&this.parentNode.insertBefore(Ee(e),this)}))},after:function(){return this.domManip(arguments,(function(e){this.parentNode&&this.parentNode.insertBefore(Ee(e),this.nextSibling)}))},remove:function(e,t){for(var i,n=e?v.filter(e,this):this,r=0;null!=(i=n[r]);r++)t||1!==i.nodeType||v.cleanData(ve(i)),i.parentNode&&(t&&v.contains(i.ownerDocument,i)&&fe(ve(i,"script")),i.parentNode.removeChild(i));return this},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(v.cleanData(ve(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map((function(){return v.clone(this,e,t)}))},html:function(e){return V(this,(function(e){var t=this[0]||{},i=0,n=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!se.test(e)&&!ue[(ne.exec(e)||["",""])[1].toLowerCase()]){e=e.replace(ie,"<$1></$2>");try{for(;i<n;i++)1===(t=this[i]||{}).nodeType&&(v.cleanData(ve(t,!1)),t.innerHTML=e,Ee(t.cloneNode(!0)));t=0}catch(e){}}t&&this.empty().append(e)}),null,e,arguments.length)},replaceWith:function(){var e=arguments[0];return this.domManip(arguments,(function(t){if(e=this.parentNode,v.cleanData(ve(this)),e){if(11==t.nodeType&&t.childElementCount>=1)var i=t.cloneNode(!0);e.replaceChild(t,this),setTimeout(Ee,0,i||t.cloneNode(!0))}})),e&&(e.length||e.nodeType)?this:this.remove()},detach:function(e){return this.remove(e,!0)},domManip:function(e,t){e=a.apply([],e);var i,n,r,s,o,c,l=0,u=this.length,d=this,h=u-1,f=e[0],m=v.isFunction(f);if(m||u>1&&"string"==typeof f&&!p.checkClone&&oe.test(f))return this.each((function(i){var n=d.eq(i);m&&(e[0]=f.call(this,i,n.html())),n.domManip(e,t)}));if(u&&(n=(i=v.buildFragment(e,this[0].ownerDocument,!1,this)).firstChild,1===i.childNodes.length&&(i=n),n)){for(s=(r=v.map(ve(i,"script"),he)).length;l<u;l++)o=i,l!==h&&(o=v.clone(o,!0,!0),s&&v.merge(r,ve(o,"script"))),t.call(this[l],o,l);if(s)for(c=r[r.length-1].ownerDocument,v.map(r,pe),l=0;l<s;l++)ae.test((o=r[l]).type||"")&&!U.access(o,"globalEval")&&v.contains(c,o)&&(o.src?v._evalUrl&&v._evalUrl(o.src):v.globalEval(o.textContent.replace(le,"")))}return this}}),v.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},(function(e,t){v.fn[e]=function(e){for(var i,n=[],r=v(e),s=r.length-1,o=0;o<=s;o++)i=o===s?this:this.clone(!0),v(r[o])[t](i),c.apply(n,i.get());return this.pushStack(n)}}));var we,Te={};function Se(e,t){var i,r=v(t.createElement(e)).appendTo(t.body),s=n.getDefaultComputedStyle&&(i=n.getDefaultComputedStyle(r[0]))?i.display:v.css(r[0],"display");return r.detach(),s}function Ae(e){var t=f,i=Te[e];return i||("none"!==(i=Se(e,t))&&i||((t=(we=(we||v("<iframe frameborder='0' width='0' height='0'/>")).appendTo(t.documentElement))[0].contentDocument).write(),t.close(),i=Se(e,t),we.detach()),Te[e]=i),i}var Ie=/^margin/,Pe=new RegExp("^("+G+")(?!px)[a-z%]+$","i"),Ce=function(e){return e.ownerDocument.defaultView.getComputedStyle(e,null)};function ke(e,t,i){var n,r,s,o,a=e.style;return(i=i||Ce(e))&&(o=i.getPropertyValue(t)||i[t]),i&&(""!==o||v.contains(e.ownerDocument,e)||(o=v.style(e,t)),Pe.test(o)&&Ie.test(t)&&(n=a.width,r=a.minWidth,s=a.maxWidth,a.minWidth=a.maxWidth=a.width=o,o=i.width,a.width=n,a.minWidth=r,a.maxWidth=s)),void 0!==o?o+"":o}function Re(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}!function(){var e,t,i=f.documentElement,r=f.createElement("div"),s=f.createElement("div");function o(){s.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",s.innerHTML="",i.appendChild(r);var o=n.getComputedStyle(s,null);e="1%"!==o.top,t="4px"===o.width,i.removeChild(r)}s.style&&(s.style.backgroundClip="content-box",s.cloneNode(!0).style.backgroundClip="",p.clearCloneStyle="content-box"===s.style.backgroundClip,r.style.cssText="border:0;width:0;height:0;top:0;left:-9999px;margin-top:1px;position:absolute",r.appendChild(s),n.getComputedStyle&&v.extend(p,{pixelPosition:function(){return o(),e},boxSizingReliable:function(){return null==t&&o(),t},reliableMarginRight:function(){var e,t=s.appendChild(f.createElement("div"));return t.style.cssText=s.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",t.style.marginRight=t.style.width="0",s.style.width="1px",i.appendChild(r),e=!parseFloat(n.getComputedStyle(t,null).marginRight),i.removeChild(r),e}}))}(),v.swap=function(e,t,i,n){var r,s,o={};for(s in t)o[s]=e.style[s],e.style[s]=t[s];for(s in r=i.apply(e,n||[]),t)e.style[s]=o[s];return r};var De=/^(none|table(?!-c[ea]).+)/,Oe=new RegExp("^("+G+")(.*)$","i"),_e=new RegExp("^([+-])=("+G+")","i"),Le={position:"absolute",visibility:"hidden",display:"block"},Ne={letterSpacing:"0",fontWeight:"400"},xe=["Webkit","O","Moz","ms"];function Ve(e,t){if(t in e)return t;for(var i=t[0].toUpperCase()+t.slice(1),n=t,r=xe.length;r--;)if((t=xe[r]+i)in e)return t;return n}function Me(e,t,i){var n=Oe.exec(t);return n?Math.max(0,n[1]-(i||0))+(n[2]||"px"):t}function Ue(e,t,i,n,r){for(var s=i===(n?"border":"content")?4:"width"===t?1:0,o=0;s<4;s+=2)"margin"===i&&(o+=v.css(e,i+q[s],!0,r)),n?("content"===i&&(o-=v.css(e,"padding"+q[s],!0,r)),"margin"!==i&&(o-=v.css(e,"border"+q[s]+"Width",!0,r))):(o+=v.css(e,"padding"+q[s],!0,r),"padding"!==i&&(o+=v.css(e,"border"+q[s]+"Width",!0,r)));return o}function je(e,t,i){var n=!0,r="width"===t?e.offsetWidth:e.offsetHeight,s=Ce(e),o="border-box"===v.css(e,"boxSizing",!1,s);if(r<=0||null==r){if(((r=ke(e,t,s))<0||null==r)&&(r=e.style[t]),Pe.test(r))return r;n=o&&(p.boxSizingReliable()||r===e.style[t]),r=parseFloat(r)||0}return r+Ue(e,t,i||(o?"border":"content"),n,s)+"px"}function Fe(e,t){for(var i,n,r,s=[],o=0,a=e.length;o<a;o++)(n=e[o]).style&&(s[o]=U.get(n,"olddisplay"),i=n.style.display,t?(s[o]||"none"!==i||(n.style.display=""),""===n.style.display&&Y(n)&&(s[o]=U.access(n,"olddisplay",Ae(n.nodeName)))):(r=Y(n),"none"===i&&r||U.set(n,"olddisplay",r?i:v.css(n,"display"))));for(o=0;o<a;o++)(n=e[o]).style&&(t&&"none"!==n.style.display&&""!==n.style.display||(n.style.display=t?s[o]||"":"none"));return e}v.extend({cssHooks:{opacity:{get:function(e,t){if(t){var i=ke(e,"opacity");return""===i?"1":i}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:"cssFloat"},style:function(e,t,i,n){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var r,s,o,a=v.camelCase(t),c=e.style;if(t=v.cssProps[a]||(v.cssProps[a]=Ve(c,a)),o=v.cssHooks[t]||v.cssHooks[a],void 0===i)return o&&"get"in o&&void 0!==(r=o.get(e,!1,n))?r:c[t];"string"==(s=typeof i)&&(r=_e.exec(i))&&(i=(r[1]+1)*r[2]+parseFloat(v.css(e,t)),s="number"),null!=i&&i==i&&("number"!==s||v.cssNumber[a]||(i+="px"),p.clearCloneStyle||""!==i||0!==t.indexOf("background")||(c[t]="inherit"),o&&"set"in o&&void 0===(i=o.set(e,i,n))||(c[t]=i))}},css:function(e,t,i,n){var r,s,o,a=v.camelCase(t);return t=v.cssProps[a]||(v.cssProps[a]=Ve(e.style,a)),(o=v.cssHooks[t]||v.cssHooks[a])&&"get"in o&&(r=o.get(e,!0,i)),void 0===r&&(r=ke(e,t,n)),"normal"===r&&t in Ne&&(r=Ne[t]),""===i||i?(s=parseFloat(r),!0===i||v.isNumeric(s)?s||0:r):r}}),v.each(["height","width"],(function(e,t){v.cssHooks[t]={get:function(e,i,n){if(i)return De.test(v.css(e,"display"))&&0===e.offsetWidth?v.swap(e,Le,(function(){return je(e,t,n)})):je(e,t,n)},set:function(e,i,n){var r=n&&Ce(e);return Me(0,i,n?Ue(e,t,n,"border-box"===v.css(e,"boxSizing",!1,r),r):0)}}})),v.cssHooks.marginRight=Re(p.reliableMarginRight,(function(e,t){if(t)return v.swap(e,{display:"inline-block"},ke,[e,"marginRight"])})),v.each({margin:"",padding:"",border:"Width"},(function(e,t){v.cssHooks[e+t]={expand:function(i){for(var n=0,r={},s="string"==typeof i?i.split(" "):[i];n<4;n++)r[e+q[n]+t]=s[n]||s[n-2]||s[0];return r}},Ie.test(e)||(v.cssHooks[e+t].set=Me)})),v.fn.extend({css:function(e,t){return V(this,(function(e,t,i){var n,r,s={},o=0;if(v.isArray(t)){for(n=Ce(e),r=t.length;o<r;o++)s[t[o]]=v.css(e,t[o],!1,n);return s}return void 0!==i?v.style(e,t,i):v.css(e,t)}),e,t,arguments.length>1)},show:function(){return Fe(this,!0)},hide:function(){return Fe(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each((function(){Y(this)?v(this).show():v(this).hide()}))}}),v.fn.delay=function(e,t){return e=v.fx&&v.fx.speeds[e]||e,this.queue(t=t||"fx",(function(t,i){var n=setTimeout(t,e);i.stop=function(){clearTimeout(n)}}))},v.fn.size=function(){return this.length},function(){var e=f.createElement("input"),t=f.createElement("select"),i=t.appendChild(f.createElement("option"));e.type="checkbox",p.checkOn=""!==e.value,p.optSelected=i.selected,t.disabled=!0,p.optDisabled=!i.disabled,(e=f.createElement("input")).value="t",e.type="radio",p.radioValue="t"===e.value}();var Be,We=v.expr.attrHandle;v.fn.extend({attr:function(e,t){return V(this,v.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each((function(){v.removeAttr(this,e)}))}}),v.extend({attr:function(e,t,i){var n,r,s=e.nodeType;if(e&&3!==s&&8!==s&&2!==s)return void 0===e.getAttribute?v.prop(e,t,i):(1===s&&v.isXMLDoc(e)||(t=t.toLowerCase(),n=v.attrHooks[t]||(v.expr.match.bool.test(t)?Be:void 0)),void 0===i?n&&"get"in n&&null!==(r=n.get(e,t))?r:null==(r=v.find.attr(e,t))?void 0:r:null!==i?n&&"set"in n&&void 0!==(r=n.set(e,i,t))?r:(e.setAttribute(t,i+""),i):void v.removeAttr(e,t))},removeAttr:function(e,t){var i,n,r=0,s=t&&t.match(L);if(s&&1===e.nodeType)for(;i=s[r++];)n=v.propFix[i]||i,v.expr.match.bool.test(i)&&(e[n]=!1),e.removeAttribute(i)},attrHooks:{type:{set:function(e,t){if(!p.radioValue&&"radio"===t&&v.nodeName(e,"input")){var i=e.value;return e.setAttribute("type",t),i&&(e.value=i),t}}}}}),Be={set:function(e,t,i){return!1===t?v.removeAttr(e,i):e.setAttribute(i,i),i}},v.each(v.expr.match.bool.source.match(/\w+/g),(function(e,t){var i=We[t]||v.find.attr;We[t]=function(e,t,n){var r,s;return n||(s=We[t],We[t]=r,r=null!=i(e,t,n)?t.toLowerCase():null,We[t]=s),r}}));var He=/^(?:input|select|textarea|button)$/i;v.fn.extend({prop:function(e,t){return V(this,v.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each((function(){delete this[v.propFix[e]||e]}))}}),v.extend({propFix:{for:"htmlFor",class:"className"},prop:function(e,t,i){var n,r,s=e.nodeType;if(e&&3!==s&&8!==s&&2!==s)return(1!==s||!v.isXMLDoc(e))&&(r=v.propHooks[t=v.propFix[t]||t]),void 0!==i?r&&"set"in r&&void 0!==(n=r.set(e,i,t))?n:e[t]=i:r&&"get"in r&&null!==(n=r.get(e,t))?n:e[t]},propHooks:{tabIndex:{get:function(e){return e.hasAttribute("tabindex")||He.test(e.nodeName)||e.href?e.tabIndex:-1}}}}),p.optSelected||(v.propHooks.selected={get:function(e){return null}}),v.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],(function(){v.propFix[this.toLowerCase()]=this}));var ze=/[\t\r\n\f]/g;v.fn.extend({addClass:function(e){var t,i,n,r,s,o,a="string"==typeof e&&e,c=0,l=this.length;if(v.isFunction(e))return this.each((function(t){v(this).addClass(e.call(this,t,this.className))}));if(a)for(t=(e||"").match(L)||[];c<l;c++)if(n=1===(i=this[c]).nodeType&&(i.className?(" "+i.className+" ").replace(ze," "):" ")){for(s=0;r=t[s++];)n.indexOf(" "+r+" ")<0&&(n+=r+" ");o=v.trim(n),i.className!==o&&(i.className=o)}return this},removeClass:function(e){var t,i,n,r,s,o,a=0===arguments.length||"string"==typeof e&&e,c=0,l=this.length;if(v.isFunction(e))return this.each((function(t){v(this).removeClass(e.call(this,t,this.className))}));if(a)for(t=(e||"").match(L)||[];c<l;c++)if(n=1===(i=this[c]).nodeType&&(i.className?(" "+i.className+" ").replace(ze," "):"")){for(s=0;r=t[s++];)for(;n.indexOf(" "+r+" ")>=0;)n=n.replace(" "+r+" "," ");o=e?v.trim(n):"",i.className!==o&&(i.className=o)}return this},toggleClass:function(e,t){var i=typeof e;return"boolean"==typeof t&&"string"===i?t?this.addClass(e):this.removeClass(e):v.isFunction(e)?this.each((function(i){v(this).toggleClass(e.call(this,i,this.className,t),t)})):this.each((function(){if("string"===i)for(var t,n=0,r=v(this),s=e.match(L)||[];t=s[n++];)r.hasClass(t)?r.removeClass(t):r.addClass(t);else"undefined"!==i&&"boolean"!==i||(this.className&&U.set(this,"__className__",this.className),this.className=this.className||!1===e?"":U.get(this,"__className__")||"")}))},hasClass:function(e){for(var t=" "+e+" ",i=0,n=this.length;i<n;i++)if(1===this[i].nodeType&&(" "+this[i].className+" ").replace(ze," ").indexOf(t)>=0)return!0;return!1}});var Ge=/\r/g;v.fn.extend({val:function(e){var t,i,n,r=this[0];return arguments.length?(n=v.isFunction(e),this.each((function(i){var r;1===this.nodeType&&(null==(r=n?e.call(this,i,v(this).val()):e)?r="":"number"==typeof r?r+="":v.isArray(r)&&(r=v.map(r,(function(e){return null==e?"":e+""}))),(t=v.valHooks[this.type]||v.valHooks[this.nodeName.toLowerCase()])&&"set"in t&&void 0!==t.set(this,r,"value")||(this.value=r))}))):r?(t=v.valHooks[r.type]||v.valHooks[r.nodeName.toLowerCase()])&&"get"in t&&void 0!==(i=t.get(r,"value"))?i:"string"==typeof(i=r.value)?i.replace(Ge,""):null==i?"":i:void 0}}),v.extend({valHooks:{option:{get:function(e){var t=v.find.attr(e,"value");return null!=t?t:v.trim(v.text(e))}},select:{get:function(e){for(var t,i,n=e.options,r=e.selectedIndex,s="select-one"===e.type||r<0,o=s?null:[],a=s?r+1:n.length,c=r<0?a:s?r:0;c<a;c++)if(((i=n[c]).selected||c===r)&&(p.optDisabled?!i.disabled:null===i.getAttribute("disabled"))&&(!i.parentNode.disabled||!v.nodeName(i.parentNode,"optgroup"))){if(t=v(i).val(),s)return t;o.push(t)}return o},set:function(e,t){for(var i,n,r=e.options,s=v.makeArray(t),o=r.length;o--;)((n=r[o]).selected=v.inArray(n.value,s)>=0)&&(i=!0);return i||(e.selectedIndex=-1),s}}}}),v.each(["radio","checkbox"],(function(){v.valHooks[this]={set:function(e,t){if(v.isArray(t))return e.checked=v.inArray(v(e).val(),t)>=0}},p.checkOn||(v.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})})),v.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),(function(e,t){v.fn[t]=function(e,i){return arguments.length>0?this.on(t,null,e,i):this.trigger(t)}})),v.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)},bind:function(e,t,i){return this.on(e,null,t,i)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,i,n){return this.on(t,e,i,n)},undelegate:function(e,t,i){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",i)}}),v.fn.extend({size:function(){return this.length}}),v.fn.andSelf=v.fn.addBack,v.each({margin:"",padding:"",border:"Width"},(function(e,t){v.cssHooks[e+t]={expand:function(i){for(var n=0,r={},s="string"==typeof i?i.split(" "):[i];n<4;n++)r[e+q[n]+t]=s[n]||s[n-2]||s[0];return r}},Ie.test(e)||(v.cssHooks[e+t].set=Me)})),v.expr.filters.hidden=function(e){return e.offsetWidth<=0&&e.offsetHeight<=0},v.expr.filters.visible=function(e){return!v.expr.filters.hidden(e)};var qe=/%20/g,Ye=/\[\]$/;function Qe(e,t,i,n){var r;if(v.isArray(t))v.each(t,(function(t,r){i||Ye.test(e)?n(e,r):Qe(e+"["+("object"==typeof r?t:"")+"]",r,i,n)}));else if(i||"object"!==v.type(t))n(e,t);else for(r in t)Qe(e+"["+r+"]",t[r],i,n)}v.param=function(e,t){var i,n=[],r=function(e,t){t=v.isFunction(t)?t():null==t?"":t,n[n.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(void 0===t&&(t=v.ajaxSettings&&v.ajaxSettings.traditional),v.isArray(e)||e.nquery&&!v.isPlainObject(e))v.each(e,(function(){r(this.name,this.value)}));else for(i in e)Qe(i,e[i],t,r);return n.join("&").replace(qe,"+")},v.parseHTML=function(e,t,i){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(i=t,t=!1),t=t||f;var n=A.exec(e),r=!i&&[];return n?[t.createElement(n[1])]:(n=v.buildFragment([e],t,r),r&&r.length&&v(r).remove(),v.merge([],n.childNodes))};var Ke=n.document.documentElement;function Ze(e){return v.isWindow(e)?e:9===e.nodeType&&e.defaultView}v.offset={setOffset:function(e,t,i){var n,r,s,o,a,c,l=v.css(e,"position"),u=v(e),d={};"static"===l&&(e.style.position="relative"),a=u.offset(),s=v.css(e,"top"),c=v.css(e,"left"),("absolute"===l||"fixed"===l)&&(s+c).indexOf("auto")>-1?(o=(n=u.position()).top,r=n.left):(o=parseFloat(s)||0,r=parseFloat(c)||0),v.isFunction(t)&&(t=t.call(e,i,a)),null!=t.top&&(d.top=t.top-a.top+o),null!=t.left&&(d.left=t.left-a.left+r),"using"in t?t.using.call(e,d):u.css(d)}},v.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each((function(t){v.offset.setOffset(this,e,t)}));var t,i,n=this[0],r={top:0,left:0},s=n&&n.ownerDocument;return s?v.contains(t=s.documentElement,n)?(void 0!==n.getBoundingClientRect&&(r=n.getBoundingClientRect()),i=Ze(s),{top:r.top+i.pageYOffset-t.clientTop,left:r.left+i.pageXOffset-t.clientLeft}):r:void 0},position:function(){if(this[0]){var e,t,i=this[0],n={top:0,left:0};return"fixed"===v.css(i,"position")?t=i.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),v.nodeName(e[0],"html")||(n=e.offset()),n.top+=v.css(e[0],"borderTopWidth",!0),n.left+=v.css(e[0],"borderLeftWidth",!0)),{top:t.top-n.top-v.css(i,"marginTop",!0),left:t.left-n.left-v.css(i,"marginLeft",!0)}}},offsetParent:function(){return this.map((function(){for(var e=this.offsetParent||Ke;e&&!v.nodeName(e,"html")&&"static"===v.css(e,"position");)e=e.offsetParent;return e||Ke}))}}),v.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},(function(e,t){var i="pageYOffset"===t;v.fn[e]=function(r){return V(this,(function(e,r,s){var o=Ze(e);if(void 0===s)return o?o[t]:e[r];o?o.scrollTo(i?n.pageXOffset:s,i?s:n.pageYOffset):e[r]=s}),e,r,arguments.length,null)}})),v.each(["top","left"],(function(e,t){v.cssHooks[t]=Re(p.pixelPosition,(function(e,i){if(i)return i=ke(e,t),Pe.test(i)?v(e).position()[t]+"px":i}))})),v.each({Height:"height",Width:"width"},(function(e,t){v.each({padding:"inner"+e,content:t,"":"outer"+e},(function(i,n){v.fn[n]=function(n,r){var s=arguments.length&&(i||"boolean"!=typeof n),o=i||(!0===n||!0===r?"margin":"border");return V(this,(function(t,i,n){var r;return v.isWindow(t)?t.document.documentElement["client"+e]:9===t.nodeType?(r=t.documentElement,Math.max(t.body["scroll"+e],r["scroll"+e],t.body["offset"+e],r["offset"+e],r["client"+e])):void 0===n?v.css(t,i,o):v.style(t,i,n,o)}),t,s?n:void 0,s,null)}}))})),void 0===(i=function(){return v}.apply(t,[]))||(e.exports=i);var Xe=n.nQuery,Je=n.$;return v.noConflict=function(e){return n.$===v&&(n.$=Je),e&&n.nQuery===v&&(n.nQuery=Xe),v},void 0===r&&(n.nQuery=n.$=v),n.nQuery=v,v},"object"==typeof e.exports?e.exports=n.document?r(n,!0):function(e){if(!e.document)throw new Error("nQuery requires a window with a document");return r(e)}:r(n)},9803:(e,t,i)=>{"use strict";i.d(t,{d:()=>r});var n=i(1611);const r={getAd:function(e){if(window.ntvToutAds&&window.ntvToutAds[e])return window.ntvToutAds[e];const t=n.util.getTopWindow();return t.ntvToutAds&&t.ntvToutAds[e]?t.ntvToutAds[e]:void 0}}},6937:(e,t,i)=>{"use strict";i.d(t,{UN:()=>n,WN:()=>r,Z9:()=>s});let n=function(e){return e[e.TOUT=0]="TOUT",e[e.ARTICLE=1]="ARTICLE",e[e.CONTENT_PREVIEW=2]="CONTENT_PREVIEW",e[e.MOBILE_SDK=3]="MOBILE_SDK",e[e.DFP=4]="DFP",e[e.CONTENT_HUB=5]="CONTENT_HUB",e[e.API=6]="API",e[e.VISITOR_OPT=7]="VISITOR_OPT",e[e.RTB_SERVLET=8]="RTB_SERVLET",e[e.NAI_OPTOUT=9]="NAI_OPTOUT",e[e.GENERIC_PREVIEW=10]="GENERIC_PREVIEW",e[e.PRIVACY_CONSENT=11]="PRIVACY_CONSENT",e[e.SDK_CONFIG=12]="SDK_CONFIG",e[e.CLIENT_ERROR_LOG=13]="CLIENT_ERROR_LOG",e[e.TRACKING=14]="TRACKING",e[e.CONVERSION_TRACKING=15]="CONVERSION_TRACKING",e[e.CONTENT_Q_TRACKING=16]="CONTENT_Q_TRACKING",e[e.RETARGETING=17]="RETARGETING",e[e.CONTENT_REQUEST_TOUT_PREVIEW=18]="CONTENT_REQUEST_TOUT_PREVIEW",e[e.CONTENT_REQUEST_ARTICLE_PREVIEW=19]="CONTENT_REQUEST_ARTICLE_PREVIEW",e[e.EXCHANGE_INTEGRATION=20]="EXCHANGE_INTEGRATION",e[e.PREBID_ADAPTER=21]="PREBID_ADAPTER",e[e.ADSERVINGAPI=22]="ADSERVINGAPI",e[e.VISITOR_DATA_DELETE=23]="VISITOR_DATA_DELETE",e}({}),r=function(e){return e[e.NATIVO=0]="NATIVO",e[e.THIRD_PARTY_ADSERVER=1]="THIRD_PARTY_ADSERVER",e[e.MRAID=3]="MRAID",e[e.EXCHANGE=4]="EXCHANGE",e[e.HEADER=5]="HEADER",e[e.SERVERSIDE_HEADER=6]="SERVERSIDE_HEADER",e[e.AMAZON_CXM=7]="AMAZON_CXM",e[e.PREBID_SERVER=8]="PREBID_SERVER",e[e.APPLE_NEWS=9]="APPLE_NEWS",e}({}),s=function(e){return e[e.ARTICLE=0]="ARTICLE",e[e.DISPLAY=2]="DISPLAY",e[e.CLICK_TO_PLAY_VIDEO=3]="CLICK_TO_PLAY_VIDEO",e[e.CAROUSEL=4]="CAROUSEL",e[e.SCROLL_TO_PLAY_VIDEO=5]="SCROLL_TO_PLAY_VIDEO",e[e.STANDARD_DISPLAY=6]="STANDARD_DISPLAY",e[e.STORY=7]="STORY",e}({})},2603:(e,t,i)=>{"use strict";i.d(t,{e:()=>n});const n={IMAGE:1,JAVASCRIPT:2,HTML:600}},255:(e,t,i)=>{"use strict";i.d(t,{UT:()=>n,bB:()=>r});i(278),i(6265);const n={impression:1,"viewable-mrc50":2,"viewable-mrc100":3,"viewable-video50":4},r={...n,"video-start":600,"timed-video-event":601,"video-complete":602,"video-error":603,"px-in-view":604,"user-interaction":605,"timed-video-halted":606,"time-on-content-trigger-event":607,"time-on-content-halted-event":608,"survey-slide-in-view":628};Object.entries(r).reduce((e,t)=>{let[i,n]=t;return e[n]=i,e},{})},3980:(e,t,i)=>{"use strict";i.d(t,{r:()=>g});i(560),i(6265),i(1057);function n(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function r(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function s(e,t,i){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:i;throw new TypeError("Private element is not present on this object")}var o=new WeakMap,a=new WeakSet;class c{constructor(){var e,t;r(e=this,t=a),t.add(e),function(e,t,i){r(e,t),t.set(e,i)}(this,o,new Map),n(this,"eventMap",new Map),n(this,"groupMap",new Map)}addEventTracker(e){s(a,this,l).call(this,e),s(a,this,u).call(this,e)}}function l(e){var t;const{event:i}=e.data;this.eventMap.has(i)||this.eventMap.set(i,[]),null===(t=this.eventMap.get(i))||void 0===t||t.push(e)}function u(e){const{eventgroup:t}=e.data.ext;if(null==t||""==t.trim())return;this.groupMap.has(t)||this.groupMap.set(t,[]);const i=this.groupMap.get(t);i.push(e),e.registerEventGroup(i)}var d=i(6664),h=i(4402),p=i(5481);function f(e){const t=[],i=[];for(const n of e)m(n)?t.push(n):i.push(n);if(i.length>0){const e=new h.X("Invalid ORTB event trackers found");e.data={invalidEventTrackers:i},p.Z.postError(e)}return[t,i]}function m(e){return!!(e&&"number"==typeof e.event&&"number"==typeof e.method&&v(e.url,"string")&&v(e.customdata,"object")&&v(e.ext,"object"))}const v=(e,t)=>null==e||typeof e===t;function g(e){return e?function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new d.V;const i=new c,[n]=f(e);for(const e of n){const n=Object.assign({},e);try{const e=t.createTracker(n);i.addEventTracker(e)}catch(e){const t=new h.X(e.message);t.data={eventTrackerData:n},p.Z.postError(t)}}return i}(e):new c}},7002:(e,t,i)=>{"use strict";i.d(t,{x:()=>r});i(1057),i(6265);function n(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class r{static store(e){try{const t=this.generateCacheKey(e);return this.cache.size>=this.MAX_CACHE_SIZE&&this.evictOldest(),this.cache.set(t,e),t}catch(e){throw console.error("Failed to cache enhanced ad data:",e),e}}static retrieve(e){return this.cache.get(e)||null}static has(e){return this.cache.has(e)}static clear(){this.cache.clear()}static delete(e){return this.cache.delete(e)}static generateCacheKey(e){if(!e.adVersionPlacement){const t="Enhanced Ad Cache Error: AdVersionPlacement missing - cannot generate cache key";throw console.error(t,e),new Error(t)}return e.adVersionPlacement}static evictOldest(){const e=this.cache.keys().next().value;e&&this.cache.delete(e)}}n(r,"cache",new Map),n(r,"MAX_CACHE_SIZE",50)},9483:(e,t,i)=>{"use strict";i.d(t,{U:()=>n});const n={SURVEY:"survey",IMAGE:"image",VIDEO:"video",HTML:"html"}},7625:(e,t,i)=>{"use strict";i.d(t,{r:()=>c});i(1057);var n=i(7002),r=i(726),s=i(5481),o=i(4402),a=i(1611);class c{static create(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const i=n.x.retrieve(e);if(!i)throw s.Z.postError(new o.X("Enhanced ad failed to initialize. Data not found",{avpId:e})),new Error("Enhanced ad data not found for avpId: ".concat(e));if(!r.oT[i.type])return void console.warn("Unknown enhanced ad type: ".concat(i.type));i.trackingConfig=a.util.mergeDefined(i.trackingConfig,t.tracking);const c={...i,targetElement:t.targetElement,uid:t.uid||i.uid,...t.customConfig};return new r.oT[i.type](c)}static createDirect(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!r.oT[e.type])throw new Error("Unknown enhanced ad type: ".concat(e.type));const i={...e,targetElement:t.targetElement,uid:t.uid||e.uid,...t.customConfig};return new r.oT[e.type](i)}static canCreate(e){return n.x.has(e)}static getCachedType(e){const t=n.x.retrieve(e);return t?t.type:null}}},7200:(e,t,i)=>{"use strict";i.d(t,{X:()=>l});i(1057),i(278),i(6265);var n=i(85),r=i(2784),s=i(3980),o=i(5798),a=i(7002),c=i(3798);class l{static async processDynamicAssets(e){try{const t=await(0,o.fC)(e,{}),i=(0,s.r)(e.eventtrackers);return{adType:e.adType,config:e.config||{},slideConfig:e.slideConfig,slideshowConfig:e.slideshowConfig,eventtrackers:e.eventtrackers||[],eventTrackerMaps:i,content:t,...e}}catch(t){throw console.error("Enhanced Ad Pipeline Error: Failed to process dynamic assets",t,e),new Error("Failed to process dynamic assets: ".concat(t.message))}}static cacheDynamicAssets(e){try{const t=this.transform(e);return{key:a.x.store(t),data:t}}catch(t){throw console.error("Enhanced Ad Pipeline Error: Failed to cache dynamic assets",t,e),new Error("Failed to cache dynamic assets: ".concat(t.message))}}static transform(e){return this.pipe(e,this.extractRequiredFields,this.useStoriesConfig,this.addTrackingConfiguration,this.validate)}static pipe(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];return i.reduce((e,t)=>t(e),e)}static extractRequiredFields(e){var t,i,n;const r=(null===(t=e.slideConfig)||void 0===t?void 0:t.adVersionPlacement)||(null===(i=e.config)||void 0===i?void 0:i.AdVersionPlacementId);if(!r){const t="Enhanced Ad Error: AdVersionPlacement missing from server data - cannot create cache key";throw console.error(t,e),new Error(t)}const s=null===(n=e.config)||void 0===n?void 0:n.adWrapperClass;if(!s){const t="Enhanced Ad Error: adWrapperClass missing from server data - cannot create DOM identifier";throw console.error(t,e),new Error(t)}let o;if(!s.startsWith("ntv")){const t='Enhanced Ad Error: adWrapperClass "'.concat(s,'" has invalid format - cannot extract uid');throw console.error(t,e),new Error(t)}return o=s.slice(3),{...e,adVersionPlacement:r,uid:o,eventTrackerMaps:e.eventTrackerMaps||{}}}static useStoriesConfig(e){try{var t;const i=(0,n.wb)(e);return e.content&&Array.isArray(e.content)&&i.slideAssetsFromParsedDynamicAssets(e.content),{type:e.adType,adType:e.adType,uid:e.uid,adVersionPlacement:e.adVersionPlacement,eventTrackerMaps:e.eventTrackerMaps,adParams:i.adParams,trackingConfig:i.trackingConfig,storyConfig:i.storyConfig,assetDefaults:i.assetDefaults,slideshowConfig:i.slideshowConfig,slideAssets:i.slideAssets,templates:(null===(t=i.storyConfig)||void 0===t?void 0:t.templates)||{}}}catch(t){throw console.error("Enhanced Ad Error: Failed to process with StoriesConfig",t,e),t}}static addTrackingConfiguration(e){try{let t=new Map;const i=e.eventTrackerMaps&&e.eventTrackerMaps.eventMap&&"function"==typeof e.eventTrackerMaps.eventMap.entries;return"VERTICAL_VIDEO"===e.type&&i&&(t=(0,r.R)(e.eventTrackerMaps)),e.trackingConfig.tracker=e.trackingConfig.tracker||new c.f(e.trackingConfig),e.trackingConfig={...e.trackingConfig,adEventMap:t,eventTrackerMaps:e.eventTrackerMaps||{}},e}catch(t){return console.error("Enhanced Ad Error: Failed to add tracking configuration",t,e),e.trackingConfig={...e.trackingConfig,adEventMap:new Map,eventTrackerMaps:{}},e}}static validate(e){if(!e.type)throw new Error("Enhanced Ad Error: type missing from processed data");if(!e.adParams)throw new Error("Enhanced Ad Error: adParams missing from processed data");if(!e.trackingConfig)throw new Error("Enhanced Ad Error: trackingConfig missing from processed data");if(!e.uid)throw new Error("Enhanced Ad Error: uid missing from processed data");if(!e.adVersionPlacement)throw new Error("Enhanced Ad Error: adVersionPlacement missing from processed data");return e}}},29:(e,t,i)=>{"use strict";i.d(t,{NM:()=>h,ZP:()=>d});i(1057),i(6265);var n=i(2189);function r(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function s(e,t){return e.get(o(e,t))}function o(e,t,i){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:i;throw new TypeError("Private element is not present on this object")}var a=new WeakMap,c=new WeakSet;class l extends n.R{constructor(e,t){var i,n;super(t),r(i=this,n=c),n.add(i),function(e,t,i){r(e,t),t.set(e,i)}(this,a,void 0),function(e,t,i){e.set(o(e,t),i)}(a,this,e);for(let e of this.trackableEvents)o(c,this,u).call(this,e)}addTrackableEvent(e){super.addTrackableEvent(e),o(c,this,u).call(this,e)}}function u(e){e.fireOnce?s(a,this).subscribeOnce(e.eventName,this.fire.bind(this,e.eventName)):s(a,this).subscribe(e.eventName,this.fire.bind(this,e.eventName))}class d extends l{constructor(e,t){void 0!==e.pubSub?super(e.pubSub,t):console.error("ComponentEventTracker: component does not have pubSub")}}class h extends n.R{constructor(e,t){super(t),e.inlineTracker=this}}},4075:(e,t,i)=>{"use strict";i.d(t,{FK:()=>b,LP:()=>g,ZP:()=>v,x$:()=>y});i(1057),i(560),i(6265);var n=i(3798),r=i(29),s=i(3444),o=i(6101),a=i(9483),c=i(9492);function l(e,t,i){(function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")})(e,t),t.set(e,i)}function u(e,t){return e.get(h(e,t))}function d(e,t,i){return e.set(h(e,t),i),i}function h(e,t,i){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:i;throw new TypeError("Private element is not present on this object")}var p=new WeakMap,f=new WeakMap,m=new WeakMap;class v{constructor(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:s.p.ACTIVE;l(this,p,void 0),l(this,f,void 0),l(this,m,[]),d(p,this,i),d(f,this,[...e.slideComponents]);const o=new n.f(t);for(const e of u(f,this)){const t=new r.ZP(e,{tracker:o});u(m,this).push(t)}}addTrackableEventConfig(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;u(f,this).forEach((i,n)=>{if(t&&i.type!==t)return;const r=Object.assign({},e,{eventName:u(p,this)});u(m,this)[n].addTrackableEvent(r)})}}class g extends v{constructor(e,t){super(e,t,s.p.ACTIVE),this.addTrackableEventConfig(b.StoriesSlideView),this.addTrackableEventConfig(b.SurveySlideView,a.U.SURVEY)}}class y extends v{constructor(e,t){super(e,t,s.p.ACTIVE_IN_VIEW),this.addTrackableEventConfig(b.StoriesSlideView),this.addTrackableEventConfig(b.SurveySlideView,a.U.SURVEY)}}const b={StoriesSlideView:{actionTypes:[c.a.gallery],queryStringDataMap:{slideId:o.z1.SLIDE_ID},fireOnce:!0},SurveySlideView:{actionTypes:[c.a.surveyView],queryStringDataMap:{slideId:o.xc.SURVEY_ID},fireOnce:!0}}},3297:(e,t,i)=>{"use strict";i.d(t,{_:()=>Lt,Z:()=>Bt});i(1057),i(6265);var n,r,s,o=i(1611),a=(i(560),i(6260)),c=(i(6801),i(4043),i(7267),i(3289));function l(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class u{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50;l(this,"timers",new Set),l(this,"intervalId",null),l(this,"lastTickTime",0),l(this,"tickRate",void 0),l(this,"paused",!1),this.tickRate=e}addTimer(e){this.timers.add(e),this.intervalId||this.paused||this.start()}removeTimer(e){this.timers.delete(e),0===this.timers.size&&this.stop()}pause(){this.paused||(this.paused=!0,this.stop())}resume(){this.paused&&(this.paused=!1,this.timers.size>0&&this.start())}reset(){this.stop(),this.timers.clear(),this.paused=!1,this.lastTickTime=0}start(){this.lastTickTime=performance.now(),this.intervalId=setInterval(this.update.bind(this),this.tickRate)}stop(){this.intervalId&&clearInterval(this.intervalId),this.intervalId=null}update(){if(this.paused)return;const e=performance.now();this.lastTickTime=e;for(const t of this.timers)t.shouldTrigger(e)&&t.trigger()}}class d{static getInstance(){return d.instance||(d.instance=new u(arguments.length>0&&void 0!==arguments[0]?arguments[0]:50),window.addEventListener("focus",()=>d.instance.start()),window.addEventListener("blur",()=>d.instance.stop())),d.instance}}function h(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}n=d,s=void 0,(r=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(r="instance"))in n?Object.defineProperty(n,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):n[r]=s;class p extends c.B7{constructor(e,t,i){super(e,i),h(this,"clock",void 0),this.clock=t||d.getInstance()}start(){super.start(),this.clock.addTimer(this)}pause(){this.running&&(super.pause(),this.clock.removeTimer(this))}resume(){super.resume(),this.clock.addTimer(this)}reset(){super.reset(),this.clock.removeTimer(this)}stop(){this.pause(),this.reset()}}var f=i(8913);function m(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class v{constructor(e,t,i){m(this,"timer",void 0),m(this,"intervals",void 0),m(this,"currentIndex",0),m(this,"totalElapsed",0),m(this,"clock",void 0),m(this,"pubSub",new f.ZP),m(this,"triggerEventKey",void 0),m(this,"haltEventKey",void 0),this.intervals=e,this.clock=t,this.triggerEventKey=(null==i?void 0:i.triggerEvent)||c.vo.TIME_TRIGGER_EVENT,this.haltEventKey=(null==i?void 0:i.haltEvent)||c.vo.TIME_PAUSE_EVENT,this.timer=new c.B7(this.intervals[0],i),this.timer.addEventListener(this.triggerEventKey,e=>this.handleInterval(e)),this.timer.addEventListener(this.haltEventKey,e=>this.handleHalt(e))}handleHalt(e){this.pubSub.publish(this.haltEventKey,{...e,index:this.currentIndex,totalElapsed:this.totalElapsed})}handleInterval(e){const t=this.intervals[this.currentIndex];if(this.totalElapsed+=t,this.currentIndex++,this.currentIndex<this.intervals.length){this.clock.removeTimer(this.timer);this.timer.setInterval(this.intervals[this.currentIndex]),this.pubSub.publish(this.triggerEventKey,{...e,duration:t,index:this.currentIndex,totalElapsed:this.totalElapsed}),this.clock.addTimer(this.timer),this.timer.start()}}start(){this.clock.addTimer(this.timer),this.timer.start()}resume(){this.clock.addTimer(this.timer),this.timer.resume()}pause(){this.clock.removeTimer(this.timer),this.timer.pause()}reset(){this.clock.removeTimer(this.timer),this.timer.reset(),this.currentIndex=0,this.totalElapsed=0,this.timer.setInterval(this.intervals[0])}shouldTrigger(e){return this.timer.shouldTrigger(e)}trigger(){this.timer.trigger()}addEventListener(e,t){this.pubSub.subscribe(e,t)}addEventListenerOnce(e,t){this.pubSub.subscribeOnce(e,t)}removeEventListener(e,t){this.pubSub.unsubscribe(e,t)}emit(e,t){this.pubSub.emit(e,t)}}function g(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class y{constructor(){g(this,"timers",new Set)}addTimer(e){this.timers.add(e)}removeTimer(e){this.timers.delete(e)}start(){for(const e of this.timers)e.start()}pause(){for(const e of this.timers)e.pause()}resume(){for(const e of this.timers)e.resume()}reset(){for(const e of this.timers)e.reset()}}i(278);let b=function(e){return e.LOWERCASE="lowercase",e.UPPERCASE="uppercase",e.CAMEL_CASE="camelCase",e.PASCAL_CASE="pascalCase",e.SNAKE_CASE="snakeCase",e.KEBAB_CASE="kebabCase",e.TITLE_CASE="titleCase",e.SENTENCE_CASE="sentenceCase",e.TRIM="trim",e.TRIM_LOWERCASE="trimLowercase",e.TRIM_UPPERCASE="trimUppercase",e}({});const E={[b.LOWERCASE]:e=>e.toLowerCase(),[b.UPPERCASE]:e=>e.toUpperCase(),[b.CAMEL_CASE]:e=>e.replace(/(?:^\w|[A-Z]|\b\w)/g,(e,t)=>0===t?e.toLowerCase():e.toUpperCase()).replace(/\s+/g,""),[b.PASCAL_CASE]:e=>e.replace(/(?:^\w|[A-Z]|\b\w)/g,e=>e.toUpperCase()).replace(/\s+/g,""),[b.SNAKE_CASE]:e=>e.replace(/\W+/g," ").split(/ |\B(?=[A-Z])/).map(e=>e.toLowerCase()).join("_"),[b.KEBAB_CASE]:e=>e.replace(/\W+/g," ").split(/ |\B(?=[A-Z])/).map(e=>e.toLowerCase()).join("-"),[b.TITLE_CASE]:e=>e.replace(/\w\S*/g,e=>e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()),[b.SENTENCE_CASE]:e=>e.charAt(0).toUpperCase()+e.slice(1).toLowerCase(),[b.TRIM]:e=>e.trim(),[b.TRIM_LOWERCASE]:e=>e.trim().toLowerCase(),[b.TRIM_UPPERCASE]:e=>e.trim().toUpperCase()};function w(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";if(null==e)return i;if("string"!=typeof e)return i;const n=E[t];if(!n)return console.warn("Unsupported string format: ".concat(t)),e;try{return n(e)}catch(n){return console.warn("String normalization failed for format ".concat(t,":"),n),e||i}}function T(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class S{constructor(e){T(this,"clock",void 0),T(this,"timeTrackerEventMap",void 0),T(this,"timerGroups",void 0),T(this,"timersByEventKey",new Map),T(this,"pubSub",void 0),this.clock=d.getInstance(),this.timeTrackerEventMap=e,this.timerGroups=new Map([[a.D.Position,new y],[a.D.Sustained,new y]]),this.pubSub=new f.ZP,this.initializeTimers()}initializeTimers(){for(const[e,t]of this.timeTrackerEventMap.entries())this.timersByEventKey.has(e)||this.timersByEventKey.set(e,[]),t.forEach(t=>{const i=w(t.data.ext.timingType,b.LOWERCASE,a.D.Position),n=t.data.ext.times||[],r=e.includes("time-on-content")?e.replace("trigger","halted"):c.vo.TIME_PAUSE_EVENT,s={triggerEvent:e,haltEvent:r},o=this.initializeTimersByType(t,n,i,s);o&&(this.timersByEventKey.get(e).push(o),o.addEventListener(s.triggerEvent,e=>{t.trackTimerEvent(e)}),o.addEventListener(s.haltEvent,e=>{this.dispatchEvent(r,{...e})}))})}initializeTimersByType(e,t,i,n){const r=this.timerGroups.get(i);if(r)return 1===t.length?this.initializeSingleTimer(e,t[0],r,n):t.length>1?this.initializeSequentialTimer(e,t,r,n):void 0}initializeSingleTimer(e,t,i,n){const r=new p(t,this.clock,n);return i.addTimer(r),r}initializeSequentialTimer(e,t,i,n){const r=new v(t,this.clock,n);return i.addTimer(r),r}addEventListener(e,t){this.pubSub.subscribe(e,t)}removeEventListener(e,t){this.pubSub.unsubscribe(e,t)}dispatchEvent(e,t){this.pubSub.publish(e,t)}dispose(){this.timerGroups.forEach(e=>e.pause()),this.timeTrackerEventMap.clear(),this.pubSub.clear()}}var A=i(9866);function I(e,t,i){e.has(t)?e.get(t).push(i):e.set(t,[i])}function P(e,t){return Object.values(e).includes(t)}var C=i(7730);const k={ERROR:"ad-event-error",RENDER:"ad-event-render",REMOVED:"ad-event-removed",IN_VIEW:"ad-event-in-view",OUT_OF_VIEW:"ad-event-out-of-view",IN_VIEW_50:"ad-event-in-view-50",OUT_OF_VIEW_50:"ad-event-out-of-view-50",IN_VIEW_100:"ad-event-in-view-100",OUT_OF_VIEW_100:"ad-event-out-of-view-100",VIEWABILITY_CHANGE:"ad-event-viewability-change",CLICK:"ad-event-click"};const R=k;i(8324);function D(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class O{constructor(e,t,i){D(this,"element",void 0),D(this,"observer",void 0),D(this,"pubSub",void 0),D(this,"lastViewPercentage",0),D(this,"config",void 0),this.element=e,this.pubSub=t,this.config={thresholds:(null==i?void 0:i.thresholds)||O.DEFAULT_CONFIG.thresholds,thresholdEvents:(null==i?void 0:i.thresholdEvents)||O.DEFAULT_CONFIG.thresholdEvents},this.observer=new IntersectionObserver(this.handleIntersection.bind(this),{threshold:this.config.thresholds}),this.observer.observe(e)}handleIntersection(e){const t=e[0];if(!t)return;const i=t.intersectionRatio;this.pubSub.publish(R.VIEWABILITY_CHANGE,{viewPercentage:i,element:this.element}),this.config.thresholdEvents&&this.config.thresholdEvents.forEach((e,t)=>{this.lastViewPercentage<t&&i>=t?this.pubSub.publish(e.above,{element:this.element}):this.lastViewPercentage>=t&&i<t&&this.pubSub.publish(e.below,{element:this.element})}),this.lastViewPercentage=i}updateConfig(e){const t=this.config;this.config={thresholds:e.thresholds||this.config.thresholds,thresholdEvents:e.thresholdEvents||this.config.thresholdEvents},JSON.stringify(t.thresholds)!==JSON.stringify(this.config.thresholds)&&(this.observer.disconnect(),this.observer=new IntersectionObserver(this.handleIntersection.bind(this),{threshold:this.config.thresholds}),this.observer.observe(this.element))}destroy(){this.observer&&this.observer.disconnect()}}function _(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}D(O,"DEFAULT_CONFIG",{thresholds:[.01,.5,1],thresholdEvents:new Map([[.01,{above:R.IN_VIEW,below:R.OUT_OF_VIEW}],[.5,{above:R.IN_VIEW_50,below:R.OUT_OF_VIEW_50}],[1,{above:R.IN_VIEW_100,below:R.OUT_OF_VIEW_100}]])});class L{constructor(e,t){_(this,"element",void 0),_(this,"observer",void 0),_(this,"pubSub",void 0),_(this,"isRendered",!1),this.element=e,this.pubSub=t,this.element.isConnected&&this.handleRender(),this.observer=new MutationObserver(this.checkDomStatus.bind(this)),this.observer.observe(document.body,{childList:!0,subtree:!0})}checkDomStatus(){const e=this.element.isConnected;!this.isRendered&&e?this.handleRender():this.isRendered&&!e&&this.handleRemoval()}handleRender(){this.isRendered=!0,this.pubSub.publish(R.RENDER,{element:this.element})}handleRemoval(){this.isRendered=!1,this.pubSub.publish(R.REMOVED,{element:this.element})}destroy(){this.observer&&this.observer.disconnect()}}function N(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class x{constructor(e,t){N(this,"element",void 0),N(this,"pubSub",void 0),N(this,"clickHandler",void 0),this.element=e,this.pubSub=t,this.clickHandler=this.handleClick.bind(this),this.element.addEventListener("click",this.clickHandler)}handleClick(e){this.pubSub.publish(R.CLICK,{element:this.element,event:e})}destroy(){this.element.removeEventListener("click",this.clickHandler)}}function V(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class M{constructor(e,t){V(this,"element",void 0),V(this,"pubSub",void 0),this.element=e,this.pubSub=t}handleError(e){this.pubSub.publish(R.ERROR,{element:this.element,error:e})}destroy(){}}function U(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class j{constructor(e,t){if(U(this,"adData",void 0),U(this,"pubSub",void 0),U(this,"viewabilityTracker",void 0),U(this,"renderTracker",void 0),U(this,"clickTracker",void 0),U(this,"errorHandler",void 0),U(this,"element",void 0),U(this,"config",void 0),U(this,"domDispatchInitialized",!1),this.adData=e,this.element=this.adData.element,this.config=t,!this.element)throw new Error("AdLifecycle requires an HTMLElement");this.pubSub=new f.bc("ad-lifecycle-".concat(e.id))}init(){var e;this.viewabilityTracker=new O(this.element,this.pubSub,null!==(e=this.config)&&void 0!==e&&e.viewability?{thresholds:this.config.viewability.thresholds,thresholdEvents:this.config.viewability.customThresholdEvents}:void 0),this.renderTracker=new L(this.element,this.pubSub),this.clickTracker=new x(this.element,this.pubSub),this.errorHandler=new M(this.element,this.pubSub),this.domDispatchInitialized||(this.setupDomEventDispatching(),this.domDispatchInitialized=!0)}setupDomEventDispatching(){Object.values(R).forEach(e=>{this.pubSub.subscribe(e,t=>{const i=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:t});this.element.dispatchEvent(i)})})}reportError(e){this.errorHandler.handleError(e)}destroy(){this.viewabilityTracker.destroy(),this.renderTracker.destroy(),this.clickTracker.destroy(),this.errorHandler.destroy(),this.pubSub.clear(),this.domDispatchInitialized=!1}updateViewabilityConfig(e){this.viewabilityTracker.updateConfig({thresholds:e.thresholds,thresholdEvents:e.customThresholdEvents})}addEventListener(e,t){this.pubSub.subscribeWithCache(e,t,arguments.length>2&&void 0!==arguments[2]&&arguments[2])}addEventListenerOnce(e,t){this.pubSub.subscribeOnceWithCache(e,t,arguments.length>2&&void 0!==arguments[2]&&arguments[2])}removeEventListener(e,t){this.pubSub.unsubscribe(e,t)}emit(e,t){this.pubSub.emit(e,t)}}var F=i(255);const B={[F.UT["viewable-mrc50"]]:{type:"timer",triggerEventTimerConfig:{startEvent:R.IN_VIEW_50,stopEvent:R.OUT_OF_VIEW_50},times:[1e3],timingType:a.D.Continuous},[F.UT["viewable-mrc100"]]:{type:"timer",triggerEventTimerConfig:{startEvent:R.IN_VIEW_100,stopEvent:R.OUT_OF_VIEW_100},times:[1e3],timingType:a.D.Continuous},[F.UT["viewable-video50"]]:{type:"timer",triggerEventTimerConfig:{startEvent:R.IN_VIEW_50,stopEvent:R.OUT_OF_VIEW_50},times:[1e3],timingType:a.D.Continuous},[F.UT.impression]:{type:"direct",adEvent:R.RENDER}};function W(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class H extends p{constructor(e,t,i){super(e),W(this,"eventSystem",void 0),W(this,"config",void 0),this.eventSystem=t,this.config=i,this.eventSystem.addEventListener(this.config.startEvent,this.start.bind(this)),this.eventSystem.addEventListener(this.config.stopEvent,this.stop.bind(this))}start(){super.start()}stop(){this.pause(),this.reset()}}function z(e,t,i){new H(i.times[0],t,i.triggerEventTimerConfig).addEventListener(c.vo.TIME_TRIGGER_EVENT,t=>{for(const i of e)i.trackTimerEvent(t)})}function G(e,t,i){t.addEventListener(i.adEvent,t=>{for(const i of e)i.track(t)},!0)}var q=i(2492),Y=i(9492),Q=i(6101);let K=function(e){return e.STATE_CHANGE="video:state:change",e.ENTER_IDLE="video:state:enter:idle",e.ENTER_SLIDE_PAUSED="video:state:enter:slidePaused",e.ENTER_OUT_OF_FOCUS="video:state:enter:outOfFocus",e.RETURN_FROM_OUT_OF_FOCUS="video:state:returnFromOutOfFocus",e.SLIDE_TYPE_CHANGE="video:state:slideTypeChange",e}({});function Z(e){return"video:slide:active:".concat(e)}function X(e){return"video:slide:inactive:".concat(e)}function J(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}let $=function(e){return e.IDLE="idle",e.SLIDE_PAUSED="slidePaused",e.OUT_OF_FOCUS="outOfFocus",e}({});class ee{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$.IDLE;J(this,"currentState",void 0),J(this,"stateStack",[]),J(this,"currentSlideType",null),J(this,"pubSub",void 0),this.currentState=e,this.pubSub=new f.ZP("VerticalVideoStateManager")}getCurrentState(){return this.currentState}getCurrentSlideType(){return this.currentSlideType}setCurrentSlide(e){const t=this.currentSlideType;this.currentSlideType=e,t&&this.pubSub.publish(X(t),{slideType:t}),this.pubSub.publish(Z(e),{slideType:e}),this.pubSub.publish(K.SLIDE_TYPE_CHANGE,{previousSlideType:t,currentSlideType:e})}toIdleState(){if(this.currentState===$.IDLE)return;const e=this.currentState;this.currentState=$.IDLE,this.publishStateChange(e,this.currentState),this.pubSub.publish(K.ENTER_IDLE,{state:this.currentState})}toSlidePausedState(){if(this.currentState===$.SLIDE_PAUSED)return;const e=this.currentState;this.currentState=$.SLIDE_PAUSED,this.publishStateChange(e,this.currentState),this.pubSub.publish(K.ENTER_SLIDE_PAUSED,{state:this.currentState})}toOutOfFocusState(){if(this.currentState===$.OUT_OF_FOCUS)return;this.stateStack.push(this.currentState);const e=this.currentState;this.currentState=$.OUT_OF_FOCUS,this.publishStateChange(e,this.currentState),this.pubSub.publish(K.ENTER_OUT_OF_FOCUS,{state:this.currentState})}returnFromOutOfFocus(){if(this.currentState!==$.OUT_OF_FOCUS)return;const e=$.OUT_OF_FOCUS,t=this.stateStack.pop()||$.IDLE;this.pubSub.publish(K.RETURN_FROM_OUT_OF_FOCUS,{returnToState:t}),this.currentState=t,this.publishStateChange(e,this.currentState),t===$.IDLE?this.pubSub.publish(K.ENTER_IDLE,{state:this.currentState}):t===$.SLIDE_PAUSED&&this.pubSub.publish(K.ENTER_SLIDE_PAUSED,{state:this.currentState})}publishStateChange(e,t){this.pubSub.publish(K.STATE_CHANGE,{previousState:e,currentState:t})}}function te(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class ie{constructor(e,t,i){te(this,"timer",void 0),te(this,"pauseOnSlideTypes",void 0),te(this,"isPausedByOutOfFocus",!1),te(this,"subscriptions",[]),this.timer=e,this.pauseOnSlideTypes=new Set(t);const n=i.pubSub;t.forEach(e=>{const t=Z(e),i=n.subscribe(t,()=>{this.isPausedByOutOfFocus||this.timer.pause()});this.subscriptions.push({event:t,key:i})}),t.forEach(e=>{const t=X(e),i=n.subscribe(t,()=>{this.isPausedByOutOfFocus||this.timer.resume()});this.subscriptions.push({event:t,key:i})});const r=n.subscribe(K.ENTER_OUT_OF_FOCUS,()=>{this.isPausedByOutOfFocus=!0,this.timer.pause()});this.subscriptions.push({event:K.ENTER_OUT_OF_FOCUS,key:r});const s=n.subscribe(K.RETURN_FROM_OUT_OF_FOCUS,()=>{this.isPausedByOutOfFocus=!1;const e=i.getCurrentSlideType();e&&this.pauseOnSlideTypes.has(e)||this.timer.resume()});this.subscriptions.push({event:K.RETURN_FROM_OUT_OF_FOCUS,key:s}),this.handleInitialState(i)}handleInitialState(e){const t=e.getCurrentSlideType();if(e.getCurrentState()===$.OUT_OF_FOCUS)return this.isPausedByOutOfFocus=!0,void this.timer.pause();t&&this.pauseOnSlideTypes.has(t)&&this.timer.pause()}dispose(e){this.subscriptions.forEach(t=>{let{event:i,key:n}=t;e.unsubscribeByKey(i,n)}),this.subscriptions=[]}}function ne(e,t,i){re(e,t),t.set(e,i)}function re(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function se(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function oe(e,t){return e.get(ce(e,t))}function ae(e,t,i){return e.set(ce(e,t),i),i}function ce(e,t,i){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:i;throw new TypeError("Private element is not present on this object")}const le={607:{pauseOnSlideTypes:["survey"]}};var ue=new WeakMap,de=new WeakMap,he=new WeakMap,pe=new WeakMap,fe=new WeakSet;class me{constructor(e,t){if(function(e,t){re(e,t),t.add(e)}(this,fe),se(this,"verticalVideo",void 0),ne(this,ue,void 0),ne(this,de,void 0),ne(this,he,[]),ne(this,pe,void 0),this.verticalVideo=e,!this.verticalVideo.element)throw new Error("Vertical video element is not defined");const i=t.eventTrackerMaps.eventMap,n=t.adEventMap,[r,s]=(0,C.Y)(()=>new j({id:this.verticalVideo.uid,element:this.verticalVideo.element}));null==r&&(s.init(),function(e,t){for(const i of Object.values(F.UT)){if(!e.has(i))continue;const n=e.get(i);if(null==n||0===n.length)continue;const r=B[i];r&&("timer"===r.type?z(n,t,r):"direct"===r.type&&G(n,t,r))}}(i,s));const o=new Map,c=new Map;for(const[e,t]of n.entries())for(const i of t)i.type===A.Z.TimeEventTracker&&ge(e)?I(o,e,i):I(c,e,i);if(c.has(q.C.IN_VIEW)||this.verticalVideo.pubSub.subscribe(q.C.IN_VIEW,e=>{const i="&".concat(Q.xc.SURVEY_ID,"=").concat(e.slideId);t.tracker.fireTracking([Y.a.surveyView],i)}),o.size>0){ae(pe,this,new S(o));const e=oe(pe,this).timerGroups;ae(ue,this,e.get(a.D.Position)),ae(de,this,e.get(a.D.Sustained));for(const[e]of c.entries())oe(pe,this).addEventListener(e,t=>{const i=c.get(e);if(i&&i.length>0)for(const e of i)e.track(t)});ce(fe,this,ve).call(this,o)}c.forEach((e,t)=>{this.verticalVideo.pubSub.subscribe(t,t=>{for(const i of e)i.track(t)})})}startAllTimers(){var e,t;null===(e=oe(ue,this))||void 0===e||e.start(),null===(t=oe(de,this))||void 0===t||t.start()}pauseAllTimers(){var e,t;null===(e=oe(ue,this))||void 0===e||e.pause(),null===(t=oe(de,this))||void 0===t||t.pause()}resumeAllTimers(){var e,t;null===(e=oe(ue,this))||void 0===e||e.resume(),null===(t=oe(de,this))||void 0===t||t.resume()}stopAllTimers(){var e,t;null===(e=oe(ue,this))||void 0===e||e.reset(),null===(t=oe(de,this))||void 0===t||t.reset()}resumeSustainedTimers(){var e;null===(e=oe(de,this))||void 0===e||e.resume()}pausePositionalTimers(){var e;null===(e=oe(ue,this))||void 0===e||e.pause()}resumePositionalTimers(){var e;null===(e=oe(ue,this))||void 0===e||e.resume()}dispose(){oe(he,this).forEach(e=>{e.dispose(this.verticalVideo.getStateManager().pubSub)}),ae(he,this,[]),ae(ue,this,void 0),ae(de,this,void 0),ae(pe,this,void 0)}}function ve(e){if(oe(pe,this))for(const[t,i]of e.entries())for(const e of i){let i=e.data.ext.pauseOnSlideTypes;if(!i&&e.data.event){const t=le[e.data.event];null!=t&&t.pauseOnSlideTypes&&(i=t.pauseOnSlideTypes)}if(i&&i.length>0){const e=oe(pe,this).timersByEventKey.get(t);if(e&&e.length>0){const t=new y;e.forEach(e=>t.addTimer(e));const n=new ie(t,i,this.verticalVideo.getStateManager());oe(he,this).push(n)}}}}function ge(e){return P(c.vo,e)||P(c.U6,e)}var ye=i(6117),be=i(3444);function Ee(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class we{constructor(){Ee(this,"type","AutoAdvanceStrategy"),Ee(this,"command",void 0)}start(e){this.command=e}stop(){this.command=null}}function Te(e,t,i){(function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")})(e,t),t.set(e,i)}function Se(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function Ae(e,t){return e.get(Pe(e,t))}function Ie(e,t,i){return e.set(Pe(e,t),i),i}function Pe(e,t,i){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:i;throw new TypeError("Private element is not present on this object")}var Ce=new WeakMap;class ke extends we{constructor(e){super(),Se(this,"type","TimerAutoAdvanceStrategy"),Te(this,Ce,void 0),Ie(Ce,this,new p(e,d.getInstance())),Ae(Ce,this).addEventListener(c.vo.TIME_TRIGGER_EVENT,()=>{this.command&&this.command()})}start(e){super.start(e),Ae(Ce,this).start()}pause(){Ae(Ce,this).pause()}resume(){Ae(Ce,this).resume()}stop(){super.stop(),Ae(Ce,this).pause(),Ae(Ce,this).reset()}updateDuration(e){Ae(Ce,this).pause(),Ae(Ce,this).reset(),Ie(Ce,this,new p(e,d.getInstance())),Ae(Ce,this).addEventListener(c.vo.TIME_TRIGGER_EVENT,()=>{this.command&&this.command()}),this.command&&Ae(Ce,this).start()}}function Re(e,t,i){(function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")})(e,t),t.set(e,i)}function De(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function Oe(e,t){return e.get(Le(e,t))}function _e(e,t,i){return e.set(Le(e,t),i),i}function Le(e,t,i){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:i;throw new TypeError("Private element is not present on this object")}var Ne=new WeakMap,xe=new WeakMap;class Ve extends we{constructor(e,t){super(),De(this,"type","EventAutoAdvanceStrategy"),Re(this,Ne,void 0),Re(this,xe,void 0),_e(Ne,this,e),_e(xe,this,t),Oe(Ne,this).subscribeOnce(t,()=>{this.handleEvent()})}handleEvent(){null!=this.command&&this.command()}start(e){super.start(e)}stop(){super.stop()}}var Me=new WeakMap,Ue=new WeakMap;class je extends Ve{constructor(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2e3;super(e,t),Re(this,Me,void 0),Re(this,Ue,null),_e(Me,this,i)}handleEvent(){Oe(Ue,this)&&clearTimeout(Oe(Ue,this)),_e(Ue,this,window.setTimeout(()=>{null!=this.command&&this.command()},Oe(Me,this)))}}var Fe=i(7615),Be=i(1125);function We(e,t,i){(function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")})(e,t),t.set(e,i)}function He(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function ze(e,t){return e.get(qe(e,t))}function Ge(e,t,i){return e.set(qe(e,t),i),i}function qe(e,t,i){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:i;throw new TypeError("Private element is not present on this object")}var Ye=new WeakMap,Qe=new WeakMap,Ke=new WeakMap,Ze=new WeakMap;class Xe extends we{constructor(e){super(),He(this,"type","VideoStateAutoAdvanceStrategy"),We(this,Ye,void 0),We(this,Qe,null),We(this,Ke,null),We(this,Ze,!1),Ge(Ye,this,e)}start(e){super.start(e),Ge(Qe,this,e=>{var t;e.index!==ze(Ye,this).index||ze(Ze,this)||(null===(t=this.command)||void 0===t||t.call(this))}),Ge(Ke,this,e=>{var t;e.index!==ze(Ye,this).index||ze(Ze,this)||(null===(t=this.command)||void 0===t||t.call(this))}),ze(Ye,this).pubSub.subscribe(Fe.c.VIDEO_END,ze(Qe,this)),ze(Ye,this).pubSub.subscribe(Be.c.VIDEO_ERROR,ze(Ke,this))}pause(){Ge(Ze,this,!0),ze(Ye,this).pause&&ze(Ye,this).pause()}resume(){Ge(Ze,this,!1),ze(Ye,this).start&&ze(Ye,this).start()}stop(){super.stop(),ze(Qe,this)&&ze(Ye,this).pubSub.unsubscribe&&(ze(Ye,this).pubSub.unsubscribe(Fe.c.VIDEO_END,ze(Qe,this)),Ge(Qe,this,null)),ze(Ke,this)&&ze(Ye,this).pubSub.unsubscribe&&(ze(Ye,this).pubSub.unsubscribe(Be.c.VIDEO_ERROR,ze(Ke,this)),Ge(Ke,this,null)),Ge(Ze,this,!1)}}var Je=i(9483);function $e(e,t,i){(function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")})(e,t),t.set(e,i)}function et(e,t){return e.get(it(e,t))}function tt(e,t,i){return e.set(it(e,t),i),i}function it(e,t,i){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:i;throw new TypeError("Private element is not present on this object")}var nt=function(e){return e.IDLE="idle",e.RUNNING="running",e.PAUSED="paused",e.COMPLETED="completed",e}(nt||{});const rt={[nt.IDLE]:new Set([nt.RUNNING]),[nt.RUNNING]:new Set([nt.COMPLETED,nt.IDLE,nt.PAUSED]),[nt.PAUSED]:new Set([nt.RUNNING,nt.IDLE]),[nt.COMPLETED]:new Set([nt.IDLE])};var st=new WeakMap,ot=new WeakMap,at=new WeakMap,ct=new WeakMap,lt=new WeakMap,ut=new WeakMap,dt=new WeakMap;class ht{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};$e(this,st,0),$e(this,ot,[]),$e(this,at,null),$e(this,ct,nt.IDLE),$e(this,lt,void 0),$e(this,ut,void 0),$e(this,dt,void 0),this.slideshowComponent=e;const i=this.slideshowComponent.components;if(null!=i&&0!==i.length){tt(lt,this,t.onStrategyStart||(()=>{})),tt(ut,this,t.onStrategyComplete||(()=>{})),tt(dt,this,t.onAutoAdvanceComplete||(()=>{}));for(const e of i)et(ot,this).push(ft(e));i.forEach((e,t)=>{e.pubSub.subscribe(be.p.DURATION_CHANGE,e=>{e.index===t&&this.updateStrategyDuration(t,e.duration)})})}else console.error("[StoriesViewerAutoAdvance] No slide components found")}transitionToState(e){rt[et(ct,this)].has(e)?tt(ct,this,e):console.warn("[StoriesViewerAutoAdvance] Invalid state transition: ".concat(et(ct,this),"  ").concat(e))}advanceSlide(){if(et(ct,this)!==nt.RUNNING)return;const e=et(st,this)+1;if(e>=et(ot,this).length)return this.cleanupCurrentStrategy(),this.transitionToState(nt.COMPLETED),void et(dt,this).call(this);this.slideshowComponent.goToNext(),tt(st,this,e),this.applyStrategy()}cleanupCurrentStrategy(){et(at,this)&&(et(at,this).stop(),tt(at,this,null))}pauseCurrentStrategy(){et(at,this)&&"pause"in et(at,this)&&et(at,this).pause()}resumeCurrentStrategy(){et(at,this)&&"resume"in et(at,this)&&et(at,this).resume()}applyStrategy(){et(ct,this)===nt.RUNNING&&(this.cleanupCurrentStrategy(),tt(at,this,et(ot,this)[et(st,this)]),et(at,this)&&(et(lt,this).call(this,et(at,this)),et(at,this).start(()=>{et(ct,this)===nt.RUNNING&&(et(ut,this).call(this,et(at,this)),this.advanceSlide())})))}start(){et(ct,this)!==nt.IDLE&&et(ct,this)!==nt.PAUSED||(et(ot,this).length?et(ct,this)===nt.PAUSED?(this.transitionToState(nt.RUNNING),this.resumeCurrentStrategy()):(this.transitionToState(nt.RUNNING),this.applyStrategy()):console.warn("[StoriesViewerAutoAdvance] Cannot start: no strategies available"))}pause(){et(ct,this)===nt.RUNNING&&(this.pauseCurrentStrategy(),this.transitionToState(nt.PAUSED))}resume(){et(ct,this)===nt.PAUSED&&this.start()}stop(){et(ct,this)!==nt.IDLE&&(this.cleanupCurrentStrategy(),this.transitionToState(nt.IDLE))}reset(){this.stop(),tt(st,this,0)}updateStrategyDuration(e,t){if(e>=0&&e<et(ot,this).length){const i=et(ot,this)[e];i instanceof ke&&i.updateDuration(t)}}}const pt="interaction";function ft(e){const t=e.params;if(e.type===Je.U.VIDEO)return new Xe(e);if(function(e){return null!=(null==e?void 0:e.slideAdvanceMethod)&&e.slideAdvanceMethod===pt}(t))return function(e){return null!=(null==e?void 0:e.slideAdvanceDelay)&&e.slideAdvanceDelay>0}(t)?new je(e.pubSub,be.p.INTERACTION,t.slideAdvanceDelay):new Ve(e.pubSub,be.p.INTERACTION);const i=(null==t?void 0:t.slideDuration)||(null==t?void 0:t.duration);return i?new ke(i):(console.error("[StoriesViewerAutoAdvance] No slide duration found, setting to 0"),new ke(0))}var mt=i(3783);const vt="fill",gt="aspect",yt="9:16",bt={"16:9":"aspect_16_9","1:1":"aspect_1_1","9:16":"aspect_9_16"},Et=Object.values(bt);function wt(e,t){const i=e.id||e.tagName.toLowerCase();return"ntv-style-".concat(i,"-").concat(t)}class Tt{apply(e,t,i,n){const r=(null==n?void 0:n.styleId)||wt(t,"fill");(0,mt.H6)(r,"\n      :host { display: block; width: 100%; height: 100%; }\n      .ntv-vertical-video { width: 100%; height: 100%; }\n    ",{root:e}),i.classList.remove(...Et)}}class St{constructor(e){this.aspectClass=e}apply(e,t,i,n){const r=(null==n?void 0:n.styleId)||wt(t,"aspect");(0,mt.H6)(r,"\n      :host { all: initial; display: block; }\n    ",{root:e}),i.classList.remove(...Et),i.classList.add(this.aspectClass)}}function At(e,t){return e===vt?new Tt:new St(function(e){var t;if("number"==typeof e){const t=e;return Math.abs(t-16/9)<.05?bt["16:9"]:Math.abs(t-1)<.05?bt["1:1"]:bt["9:16"]}return null!==(t=bt[e])&&void 0!==t?t:bt["9:16"]}(t))}function It(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class Pt{constructor(e,t,i){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};It(this,"applied",void 0),this.shadow=e,this.host=t,this.rootEl=i,this.hints=n}start(){this.apply(this.decide())}updateCreativeAspect(e){const t=this.decide(e);this.applied&&this.applied.mode===t.mode&&this.applied.aspect===t.aspect||this.apply(t)}decide(e){const t=this.hints.configDefault;return null!=t&&t.mode?{mode:t.mode,aspect:t.aspectRatio}:e?{mode:gt,aspect:e}:{mode:vt}}apply(e){At(e.mode,e.aspect).apply(this.shadow,this.host,this.rootEl,{styleId:this.hints.styleIdSuffix}),this.applied=e}}function Ct(e,t,i){kt(e,t),t.set(e,i)}function kt(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Rt(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function Dt(e,t){return e.get(_t(e,t))}function Ot(e,t,i){return e.set(_t(e,t),i),i}function _t(e,t,i){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:i;throw new TypeError("Private element is not present on this object")}const Lt={START:"vertical-video:start",COMPLETE:"vertical-video:complete"};var Nt=new WeakMap,xt=new WeakMap,Vt=new WeakMap,Mt=new WeakMap,Ut=new WeakMap,jt=new WeakMap,Ft=new WeakSet;class Bt{constructor(e){!function(e,t){kt(e,t),t.add(e)}(this,Ft),Rt(this,"element",void 0),Rt(this,"storiesViewer",void 0),Rt(this,"uid",void 0),Rt(this,"pubSub",void 0),Rt(this,"verticalVideoTracker",void 0),Rt(this,"autoAdvanceHandler",void 0),Ct(this,Nt,!1),Ct(this,xt,!1),Ct(this,Vt,new ee),Ct(this,Mt,_t(Ft,this,Wt).bind(this)),Ct(this,Ut,_t(Ft,this,Ht).bind(this)),Ct(this,jt,void 0);const{adParams:t,trackingConfig:i,uid:n}=e;d.getInstance(),this.uid=n,e.slideshowConfig.drag=!1,this.storiesViewer=new ye.ZP(e),this.storiesViewer.expandViewabilityToUseAPIs(),this.pubSub=this.storiesViewer.pubSub;try{var r;const n=document.createElement("ntv-stories"),s=n.attachShadow({mode:"open"}),a=["ntv-vertical-video",...e.classes||[]];this.storiesViewer.element.classList.add(...a),s.append(this.storiesViewer.element);const c=null!==(r=e.sizing)&&void 0!==r?r:{mode:gt,aspectRatio:yt};Ot(jt,this,new Pt(s,n,this.storiesViewer.element,{configDefault:c,styleIdSuffix:"vv-".concat(this.uid||"")})),Dt(jt,this).start(),this.storiesViewer.addEventListener(ye.ml.SLIDE_CHANGE,e=>{this.storiesViewer.resetSlideByIndex(e),this.storiesViewer.startSlideshow()});const l=".".concat(t.adWrapperClass),u=o.util.domQueryUp(l);u&&u.append(n),this.element=n,_t(Ft,this,Yt).call(this),this.autoAdvanceHandler=new ht(this.storiesViewer.slideshowComponent,{onStrategyStart:e=>{"EventAutoAdvanceStrategy"===e.type&&Dt(Vt,this).toSlidePausedState()},onStrategyComplete:e=>{"EventAutoAdvanceStrategy"===e.type&&Dt(Vt,this).toIdleState()},onAutoAdvanceComplete:()=>{_t(Ft,this,Gt).call(this)}});const d=this.storiesViewer.element.querySelector(".ntv-story-body");null==d||d.addEventListener("click",e=>{this.storiesViewer.getActiveSlideType()!==Je.U.SURVEY&&this.storiesViewer.ctaComponent&&this.storiesViewer.ctaComponent.click()}),this.verticalVideoTracker=new me(this,i),Dt(Vt,this).pubSub.subscribe(K.ENTER_IDLE,e=>{Dt(Nt,this)&&this.verticalVideoTracker.resumeAllTimers()}),Dt(Vt,this).pubSub.subscribe(K.ENTER_OUT_OF_FOCUS,e=>{Dt(Nt,this)&&(this.verticalVideoTracker.pauseAllTimers(),this.autoAdvanceHandler.pause())}),Dt(Vt,this).pubSub.subscribe(K.ENTER_SLIDE_PAUSED,e=>{Dt(Nt,this)&&this.verticalVideoTracker.pausePositionalTimers()}),Dt(Vt,this).pubSub.subscribe(K.RETURN_FROM_OUT_OF_FOCUS,e=>{Dt(Nt,this)&&(this.autoAdvanceHandler.resume(),e.returnToState===$.SLIDE_PAUSED&&this.verticalVideoTracker.resumeSustainedTimers())}),this.pubSub.subscribe(ye.ml.IN_VIEW,()=>{_t(Ft,this,qt).call(this)&&_t(Ft,this,zt).call(this)}),this.storiesViewer.addEventListener(ye.ml.READY,()=>{this.storiesViewer.startSlideshow()}),this.pubSub.subscribe(ye.ml.SLIDE_ACTIVE,e=>{e&&e.type&&Dt(Vt,this).setCurrentSlide(e.type)})}catch(e){console.error("VerticalVideo Setup Error",e),this.pubSub.publish(ye.ml.ERROR)}}getStateManager(){return Dt(Vt,this)}}function Wt(){Dt(Vt,this).toOutOfFocusState()}function Ht(){Dt(Vt,this).returnFromOutOfFocus()}function zt(){this.storiesViewer.addEventListener(ye.ml.OUT_OF_FOCUS,Dt(Mt,this)),this.storiesViewer.addEventListener(ye.ml.IN_FOCUS,Dt(Ut,this)),this.storiesViewer.startSlideshow(),this.verticalVideoTracker.startAllTimers(),this.autoAdvanceHandler.start(),Ot(Nt,this,!0),this.pubSub.publish(Lt.START)}function Gt(){this.storiesViewer.removeEventListener(ye.ml.OUT_OF_FOCUS,Dt(Mt,this)),this.storiesViewer.removeEventListener(ye.ml.IN_FOCUS,Dt(Ut,this)),this.verticalVideoTracker.stopAllTimers(),this.verticalVideoTracker.dispose(),this.pubSub.publish(ye.ml.TIMERS_COMPLETE),Ot(xt,this,!0)}function qt(){return!Dt(Nt,this)&&!Dt(xt,this)}function Yt(){const e=this.storiesViewer.slideComponents||[];for(let t=e.length-1;t>=0;t--)if(e[t].type!==Je.U.SURVEY){e[t].pubSub.subscribe(be.p.COMPLETE,()=>{this.pubSub.publish(Lt.COMPLETE)});break}}},2784:(e,t,i)=>{"use strict";i.d(t,{R:()=>u});i(6265);var n=i(255),r=i(2492),s=i(6117),o=i(3289),a=i(3297),c=i(7190);const l=new Map;function u(e){const t=new Map;for(const[i,n]of e.eventMap.entries()){const e=l.get(i);if(e&&!(e.length<=0))for(const i of e)t.set(i,n)}return t}l.set(n.bB["video-start"],[a._.START]),l.set(n.bB["timed-video-event"],[o.vo.TIME_TRIGGER_EVENT]),l.set(n.bB["timed-video-halted"],[o.vo.TIME_PAUSE_EVENT]),l.set(n.bB["video-complete"],[a._.COMPLETE]),l.set(n.bB["video-error"],[s.ml.ERROR]),l.set(n.bB["survey-slide-in-view"],[r.C.IN_VIEW]),l.set(n.bB["time-on-content-trigger-event"],[o.U6.TIME_ON_CONTENT]),l.set(n.bB["time-on-content-halted-event"],[o.U6.TIME_ON_CONTENT_HALT]),l.set(n.bB["user-interaction"],[c.qM.CLICK])},4085:(e,t,i)=>{"use strict";i.d(t,{w:()=>r,Z:()=>m});i(1057),i(560);var n=i(8913);const r={SWIPE:"swipe",SWIPE_LEFT:"swipeLeft",SWIPE_RIGHT:"swipeRight",SWIPE_UP:"swipeUp",SWIPE_DOWN:"swipeDown",HOLD:"hold",LONG_HOLD:"longHold",RELEASE:"holdRelease",LONG_HOLD_RELEASE:"longHoldRelease",CLICK:"click",CLICK_LEFT:"clickLeft",CLICK_RIGHT:"clickRight",CLICK_CENTER:"clickCenter"};i(6265);function s(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class o{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};s(this,"name","click"),s(this,"controller",void 0),s(this,"options",void 0),s(this,"debounceMap",new WeakMap),s(this,"clickHandler",void 0),this.options={debounceMs:0,targetValidation:!1,preventDefault:!1,includeVideoData:!1,...e}}initialize(e){this.controller=e,this.clickHandler=e=>{this.handleClick(e)},e.element.addEventListener("click",this.clickHandler)}cleanup(){var e;this.clickHandler&&null!==(e=this.controller)&&void 0!==e&&e.element&&this.controller.element.removeEventListener("click",this.clickHandler),this.debounceMap=new WeakMap}handleClick(e){if(this.options.targetValidation&&!this.isValidTarget(e))return;if(this.options.debounceMs&&this.options.debounceMs>0&&!this.debounceClick(this.controller.element))return void(this.options.preventDefault&&e.preventDefault());this.options.preventDefault&&e.preventDefault();const t={position:this.getPointerPosition(e),target:e.target};this.options.includeVideoData&&this.controller.getCurrentTime&&(t.currentTime=this.controller.getCurrentTime()),this.controller.publish(r.CLICK,t)}isValidTarget(e){return e.target===this.controller.element}debounceClick(e){const t=Date.now();return!(t-(this.debounceMap.get(e)||0)<(this.options.debounceMs||0))&&(this.debounceMap.set(e,t),!0)}getPointerPosition(e){return{x:e.clientX,y:e.clientY}}}var a=i(9110);function c(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class l{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};c(this,"name","clickRegions"),c(this,"controller",void 0),c(this,"options",void 0),c(this,"clickRegionChecker",void 0),c(this,"clickHandler",void 0),this.options={leftWidth:.2,rightWidth:.2,...e}}initialize(e){this.controller=e,this.clickRegionChecker=function(){let{element:e,left:t=.5,right:i=.5}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(t+i>1){const e=t+i;t/=e,i/=e}let n,r=!1;function s(){n=(0,a.S3)(),r=!1}function o(t){const i=e.getBoundingClientRect();return{x:(t.x-i.x)/i.width,y:(t.y-i.y)/i.height}}function c(e){return{x:e.x/n.width,y:e.y/n.height}}return window.addEventListener("resize",()=>{r=!0}),s(),function(n){r&&s();const{x:a}=e?o(n):c(n);return a<=t?"left":a>=1-i?"right":"center"}}({element:e.element,left:this.options.leftWidth||.2,right:this.options.rightWidth||.2}),this.clickHandler=e=>{this.handleRegionClick(e)},e.element.addEventListener("click",this.clickHandler)}cleanup(){var e;this.clickHandler&&null!==(e=this.controller)&&void 0!==e&&e.element&&this.controller.element.removeEventListener("click",this.clickHandler)}handleRegionClick(e){var t;const i=this.getPointerPosition(e),n=(null===(t=this.clickRegionChecker)||void 0===t?void 0:t.call(this,i))||"center",s={position:i,target:e.target};switch(n){case"left":this.controller.publish(r.CLICK_LEFT,s);break;case"right":this.controller.publish(r.CLICK_RIGHT,s);break;case"center":this.surveySlideIsActive(this.controller.element)||this.controller.publish(r.CLICK_CENTER,s)}}getPointerPosition(e){return{x:e.clientX,y:e.clientY}}surveySlideIsActive(e){return null!==e.querySelector(".ntv-splide-slide.is-active #ntv-survey")}}function u(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class d{constructor(){u(this,"name","gestures"),u(this,"controller",void 0),u(this,"mousemoveHandler",null),u(this,"prevInteractionPosition",null),u(this,"prevInteractionTime",null),u(this,"interactionMovement",null),u(this,"interacting",!1)}initialize(e){this.controller=e,this.addGestureHandlers()}cleanup(){var e;this.mousemoveHandler&&null!==(e=this.controller)&&void 0!==e&&e.element&&(this.controller.element.removeEventListener("mousemove",this.mousemoveHandler),this.mousemoveHandler=null)}addGestureHandlers(){this.controller.element.addEventListener("touchmove",e=>{this.handleInput("interactionMove",{position:this.getPointerPosition(e),target:e.target||void 0})})}handleInput(e,t){switch(e){case"interactionStart":this.handleInteractionStart(t);break;case"interactionMove":this.handleInteractionMove(t);break;case"interactionEnd":this.handleInteractionEnd(t)}}handleInteractionStart(e){this.prevInteractionTime=Date.now(),this.prevInteractionPosition=e.position,this.interacting=!0,e.target&&"clientX"in e.target&&(this.mousemoveHandler=e=>{this.handleInput("interactionMove",{position:this.getPointerPosition(e)})},this.controller.element.addEventListener("mousemove",this.mousemoveHandler))}handleInteractionMove(e){if(!this.interacting||!this.prevInteractionPosition)return;const t=Date.now();if(this.interactionMovement=this.getPositionDifference(this.prevInteractionPosition,e.position),this.prevInteractionTime){const e=t-this.prevInteractionTime;this.interactionMovement.velocity={x:this.interactionMovement.x/e,y:this.interactionMovement.y/e}}this.prevInteractionTime=t,this.prevInteractionPosition=e.position}handleInteractionEnd(e){this.mousemoveHandler&&(this.controller.element.removeEventListener("mousemove",this.mousemoveHandler),this.mousemoveHandler=null);const t=this.interactionMovement;this.interactionMovement=null,this.interacting=!1,t&&this.checkForGesture(t)}checkForGesture(e){var t,i;Math.abs(e.y)>Math.abs(e.x)?this.handleVerticalSwipe(e.y,(null===(i=e.velocity)||void 0===i?void 0:i.y)||0):this.handleHorizontalSwipe(e.x,(null===(t=e.velocity)||void 0===t?void 0:t.x)||0)}handleHorizontalSwipe(e,t){if(!(t&&Math.abs(t)<.15||Math.abs(e)<5)){if(e>0)return this.controller.publish(r.SWIPE,{direction:"left"}),void this.controller.publish(r.SWIPE_LEFT);this.controller.publish(r.SWIPE,{direction:"right"}),this.controller.publish(r.SWIPE_RIGHT)}}handleVerticalSwipe(e,t){if(!(t&&Math.abs(t)<.15||Math.abs(e)<2)){if(e>0)return this.controller.publish(r.SWIPE,{direction:"down"}),void this.controller.publish(r.SWIPE_DOWN);this.controller.publish(r.SWIPE,{direction:"up"}),this.controller.publish(r.SWIPE_UP)}}getPointerPosition(e){if("touches"in e){let t=e.touches[0];return"touchend"===e.type&&(t=e.changedTouches[0]),{x:t.clientX,y:t.clientY}}return{x:e.clientX,y:e.clientY}}getPositionDifference(e,t){return{x:t.x-e.x,y:t.y-e.y}}}function h(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class p{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};h(this,"name","holds"),h(this,"controller",void 0),h(this,"options",void 0),h(this,"holdTimer",void 0),h(this,"longHoldTimer",void 0),this.options={holdDuration:200,longHoldDuration:6e3,...e}}initialize(e){this.controller=e}cleanup(){this.clearHolds()}handleInteractionStart(){this.holdTimer=setTimeout(()=>this.controller.publish(r.HOLD),this.options.holdDuration||200),this.longHoldTimer=setTimeout(()=>this.controller.publish(r.LONG_HOLD),this.options.longHoldDuration||6e3)}handleInteractionMove(){this.controller.publish(r.HOLD)}handleInteractionEnd(){this.clearHolds()}clearHolds(){this.holdTimer&&(clearTimeout(this.holdTimer),this.holdTimer=void 0),this.longHoldTimer&&(clearTimeout(this.longHoldTimer),this.longHoldTimer=void 0),this.controller.publish(r.RELEASE),this.controller.publish(r.LONG_HOLD_RELEASE)}}function f(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class m{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};f(this,"pubSub",new n.ZP),f(this,"element",void 0),f(this,"modules",[]),f(this,"options",void 0),f(this,"clickModule",void 0),f(this,"clickRegionsModule",void 0),f(this,"gesturesModule",void 0),f(this,"holdsModule",void 0),f(this,"inputHandlers",{}),this.element=e,this.options=this.normalizeOptions(t),this.initializeModules(),this.setupCoreHandlers(),this.addInteractionHandlers()}normalizeOptions(e){if(!e.modules){const t=["click"];!1!==e.useGestures&&t.push("gestures"),(e.leftClickWidth||e.rightClickWidth)&&t.push("clickRegions"),(e.holdDuration||e.longHoldDuration)&&t.push("holds"),e.modules=t}return e}initializeModules(){(this.options.modules||[]).forEach(e=>{let t;switch(e){case"click":t=new o(this.options.clickOptions),this.clickModule=t;break;case"clickRegions":t=new l({leftWidth:this.options.leftClickWidth,rightWidth:this.options.rightClickWidth}),this.clickRegionsModule=t;break;case"gestures":t=new d,this.gesturesModule=t;break;case"holds":t=new p({holdDuration:this.options.holdDuration,longHoldDuration:this.options.longHoldDuration}),this.holdsModule=t}t&&(this.modules.push(t),t.initialize(this))})}setupCoreHandlers(){this.inputHandlers={interactionStart:e=>{this.holdsModule&&this.holdsModule.handleInteractionStart(),this.gesturesModule&&e.position&&this.gesturesModule.handleInput("interactionStart",e)},interactionMove:e=>{this.holdsModule&&this.holdsModule.handleInteractionMove(),this.gesturesModule&&e.position&&this.gesturesModule.handleInput("interactionMove",e)},interactionEnd:e=>{this.holdsModule&&this.holdsModule.handleInteractionEnd(),this.gesturesModule&&e.position&&this.gesturesModule.handleInput("interactionEnd",e)},click:e=>{}}}addInteractionHandlers(){this.element.addEventListener("touchstart",e=>{this.handleInput("interactionStart",{position:this.getPointerPosition(e),target:e.target})}),this.element.addEventListener("touchend",e=>{this.handleInput("interactionEnd",{position:this.getPointerPosition(e),target:e.target})}),this.element.addEventListener("mousedown",e=>{this.handleInput("interactionStart",{position:this.getPointerPosition(e),target:e.target})}),this.element.addEventListener("mouseup",e=>{this.handleInput("interactionEnd",{position:this.getPointerPosition(e),target:e.target})})}handleInput(e){const t=this.inputHandlers[e];t&&t(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}clearHolds(){this.holdsModule&&this.holdsModule.clearHolds()}getCurrentTime(){return this.element instanceof HTMLVideoElement&&this.element.currentTime||0}getPointerPosition(e){if("touches"in e){let t=e.touches[0];return"touchend"===e.type&&(t=e.changedTouches[0]),{x:t.clientX,y:t.clientY}}return{x:e.clientX,y:e.clientY}}publish(e,t){this.pubSub.publish(e,t)}on(e,t,i){this.pubSub.subscribe(e,t,i)}off(e,t,i){this.pubSub.unsubscribe(e,t,i)}destroy(){this.modules.forEach(e=>e.cleanup()),this.modules=[],this.clickModule=void 0,this.clickRegionsModule=void 0,this.gesturesModule=void 0,this.holdsModule=void 0}}},276:(e,t,i)=>{"use strict";i.d(t,{T:()=>p});i(1057),i(6265);var n=i(4085);function r(e,t,i){s(e,t),t.set(e,i)}function s(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function o(e,t){return e.get(c(e,t))}function a(e,t,i){return e.set(c(e,t),i),i}function c(e,t,i){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:i;throw new TypeError("Private element is not present on this object")}const l={longHoldDuration:4e3,leftClickWidth:.15,rightClickWidth:.15};var u=new WeakMap,d=new WeakMap,h=new WeakSet;class p{constructor(e){var t,i;s(t=this,i=h),i.add(t),r(this,u,void 0),r(this,d,void 0),a(u,this,e),a(d,this,new n.Z(o(u,this).element,l));const p={[n.w.CLICK_LEFT]:()=>{o(u,this).goToPreviousSlide()},[n.w.CLICK_RIGHT]:()=>{o(u,this).goToNextSlide()},[n.w.CLICK_CENTER]:()=>{c(h,this,f).call(this)},[n.w.HOLD]:()=>{o(u,this).pauseSlideshow()},[n.w.LONG_HOLD]:()=>{o(u,this).hideHeader()},[n.w.RELEASE]:()=>{o(u,this).showHeader(),o(u,this).startSlideshow()}};let m;Object.keys(p).forEach(e=>{m=p[e],o(d,this).on(e,m)})}}function f(){o(u,this).ctaComponent&&o(u,this).ctaComponent.click()}},5798:(e,t,i)=>{"use strict";i.d(t,{fC:()=>re,Ao:()=>ne});i(6801),i(6265);var n=i(1611),r=(i(1057),i(1389)),s=(i(560),i(278),i(1719),function(e,t){throw new Error("Implement!")});function o(){return{parseData:s}}const a={title:"title",url:"url",authorlogo:"authorlogo",image:"image",author:"author",preview:"preview"},c={...a,cta:"ctaLabel",video:"video",clicktrackers:"clicktrackers"};function l(e){this.config=e}l.prototype.setParser=function(e){let t=new e(this.config);if(!(!t instanceof o))return this.parser=t,this.parser},l.prototype.parseData=function(e){if(this.parser)return this.parser.parseData(e)},l.prototype.checkForMissingAssets=function(e){return Object.keys(a).filter(t=>!e.hasOwnProperty(t))};const u={sponsored:1,desc:2,rating:3,likes:4,downloads:5,price:6,saleprice:7,phone:8,address:9,desc2:10,displayUrl:11,ctatext:12},d=(Object.entries(u).reduce((e,t)=>{let[i,n]=t;return e[n]=i,e},{}),{icon:1,icon_legacy:2,main:3}),h=(Object.entries(d).reduce((e,t)=>{let[i,n]=t;return e[n]=i,e},{}),u),p=d;function f(){o.call(this),this.assetMap={title:{name:()=>c.title,value:e=>e.text},link:{name:()=>"merge",value:e=>{const t={};return t[c.url]=e.url,e.clicktrackers&&(t[c.clicktrackers]=e.clicktrackers),t}},img:{name:e=>e===p.icon||e===p.icon_legacy?c.authorlogo:e===p.main?c.image:void 0,value:e=>e.url},data:{name:e=>e===h.sponsored?c.author:e===h.desc?c.preview:e===h.ctatext?c.cta:void 0,value:e=>e.value},video:{name:()=>c.video,value:(e,t)=>(null!=t&&Object.assign(e,t),e)},ext:{name:e=>{if(e.mediaSource)return"videoSources"},value:e=>e.mediaSource?e.mediaSource:e}}}(f.prototype=Object.create(o.prototype)).parseData=function(e){const{assets:t,eventtrackers:i,...n}=e,s=new r.c;return s.params=n,t&&(s.assets=this.parseAssets(t)),i&&(s.trackers=this.parseEventTrackers(i)),function(e){const{assets:t,trackers:i}=e;if(!t.clicktrackers)return;i.clickTrackingData={url:t.url,clicktrackers:t.clicktrackers},delete e.clicktrackers}(s),s},f.prototype.parseAssets=function(e){if(!e)return;let t,i,r,s={};return e.forEach(e=>{null!=e&&Object.keys(e).filter(e=>this.assetMap[e]).forEach(o=>{if(i=e[o],t=this.assetMap[o].name(i.type||i),t){if(r=this.assetMap[o].value(i),"string"==typeof r)try{r=n.util.decodeHtmlEntity(r)}catch(e){}"merge"===t?Object.assign(s,r):s[t]=r}})}),s},f.prototype.parseEventTrackers=function(e){let t=new r.nu;return e.forEach(e=>{const i=e.url;1===e.event?t.addPrimaryTracker(i):2===e.event&&t.addViewableTracker(i)}),t};const m=function(){this.processedData={parsed:null,missing:null}};m.prototype.setFallbackData=function(e){this.fallbackData=e},m.prototype.processData=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:f;if(null==e&&null==this.fallbackData)return this;this.assetProcessor=new l(this.config),this.assetProcessor.setParser(t),this.processedData.config=this.assetProcessor.config,this.assetArrayProcessOrder=[];let i=this.getAssetArray(this.fallbackData);if(i&&i.length>0){this.assetArrayProcessOrder.push(i);i[0].eventtrackers=(i[0].eventtrackers||[]).concat(...this.fallbackData.eventtrackers)}let n,r=this.getAssetArray(e);for(b(r)&&(g(r,i),this.assetArrayProcessOrder.unshift(r));!this.processedData.parsed&&this.assetArrayProcessOrder.length;)n=this.getNextProcessedDataSet(),n&&(this.processedData.parsed=n.parsed,this.processedData.missing=n.missing);return this.tryToFillMissingAssets(this.processedData),this},m.prototype.hasBeenProcessed=function(){return this.processedData.parsed&&this.processedData.parsed.length>0},m.prototype.getAssetArray=function(e){if(e)return e.ads?e.ads:[{assets:e.assets,eventtrackers:e.eventtrackers}]},m.prototype.getNextProcessedDataSet=function(){let e=this.assetArrayProcessOrder[0];return this.assetArrayProcessOrder.shift(),this.processAssetArrays(e)},m.prototype.processAssetArrays=function(e){if(!e)return;let t,i=[],n=[];return e.forEach(e=>{t=this.assetProcessor.parseData(e),i.push(t),n.push(this.assetProcessor.checkForMissingAssets(t.assets))}),{parsed:i,missing:n}},m.prototype.tryToFillMissingAssets=function(e){const t=e.missing.reduce((e,t)=>e||Boolean(t.length),!1);if(!t||!this.assetArrayProcessOrder.length)return;let i=this.getNextProcessedDataSet().parsed[0].assets;e.missing.forEach((t,n)=>{t.forEach(t=>{i[t]&&(e.parsed[n].assets[t]=i[t])})}),t&&this.assetArrayProcessOrder.length&&tryToFillMissingAssets(e)};const v=m;function g(e,t){if(e&&e.length&&t&&t.length)for(let i=0;i<e.length;i++){if(i>=t.length)return;let n=e[i];n.eventtrackers=y(n,t[i])}}function y(e,t){if(e.eventtrackers||t.eventtrackers)return e.eventtrackers=e.eventtrackers||[],t.eventtrackers=t.eventtrackers||[],e.eventtrackers.concat(t.eventtrackers)}function b(e){return!(null==e||!Array.isArray(e))&&e.some(e=>{var t;return null===(t=e.assets)||void 0===t?void 0:t.some(e=>null==e.link)})}function E(e,t){(function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")})(e,t),t.add(e)}var w=new WeakSet;class T extends r.Rn{constructor(e){super(e),E(this,w),this.type="DCO"}async getAssets(e){return function(e,t,i){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:i;throw new TypeError("Private element is not present on this object")}(w,this,S).call(this,e).then(e=>this.parseResponse(e)).catch(e=>this.parseResponse())}parseResponse(e){const t=new v;t.setFallbackData(this.config.fallbackAssets),t.processData(e);const{parsed:i}=t.processedData;return i}}function S(e){return new Promise((t,i)=>{e?n.util.ajax({method:"get",url:e,credentials:!0,success:s=>{s&&Object.keys(s).length>0&&t(s),n.util.postError(new Error("\n                        DCO request failed for ".concat(e,", \n                        Error code: ").concat(s.code,",\n                        Error: ").concat(s.error,"\n                    "))),i(r.Q4.FALLBACK)},error:()=>{n.util.postError(new Error("DCO request failed for ".concat(e))),i(r.Q4.FALLBACK)}}):i(r.Q4.FALLBACK)})}const A={content:{name:()=>c.title,value:e=>e},desc:{name:()=>c.preview,value:e=>e},url:{name:()=>c.url,value:e=>e},source_display_name:{name:()=>c.author,value:e=>e},thumbnail:{name:()=>c.image,value:e=>n.util.hasWebProtocol(e.url)?e.url:n.util.getProtocol()+e.url}},I={"on-viewed":{type:()=>"viewable",value:e=>e},pixels:{type:()=>"pixels",value:e=>e},jsTrackers:{type:()=>"jsTrackers",value:e=>e}};function P(){o.call(this),this.dynamicAssetData=[]}(P.prototype=Object.create(o.prototype)).parseData=function(e){if(null==e)return;const{doc:t}=e;return t&&this.parseAssets(t),this.dynamicAssetData},P.prototype.parseAssets=function(e){e.forEach(e=>{const t=new r.c;t.assets=this.parseAssetData(e),t.trackers=this.parseTrackerData(e),this.dynamicAssetData.push(t)})},P.prototype.parseAssetData=function(e){if(!e)return;let t,i,n,r,s={};return Object.keys(A).forEach(o=>{t=e[o],t&&(i=A[o],n=i.name(t),r=i.value(t),s[n]=r)}),s},P.prototype.parseTrackerData=function(e){if(!e)return;let t,i,n,s,o=new r.nu;return Object.keys(I).forEach(r=>{t=e[r],i=I[r],n=i.type(t),s=i.value(t),o.addTrackerByType(n,s)}),o};class C extends r.Rn{constructor(e){super(e),this.type="OUTBRAIN"}async getAssets(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e?C.injectOutbrainJS(e).then(e=>C.callOutbrainRequest(t)).then(e=>this.verifyResponse(e)).then(e=>this.parseResponse(e)):Promise.reject(new Error("No Outbrain JS URL supplied"))}verifyResponse(e){return new Promise((t,i)=>{0===(null==e?void 0:e.doc.length)&&i(r.Q4.NO_RENDER),t(e)})}parseResponse(e){const t=new P;return this.assets=t.parseData(e),this.assets}static injectOutbrainJS(e){return new Promise((t,i)=>{try{n.util.appendScript(e,()=>{t()},"NTV_OutbrainJS")}catch(e){i(e)}})}static callOutbrainRequest(e){return new Promise((t,i)=>{if(void 0!==window.OBR)try{OBR.extern.callRecs(e,e=>{t(e)})}catch(e){i(e)}else i("OBR doesn't exist on the window context")})}}i(4043),i(7267);function k(e,t,i){return i.replace(e,t)}function R(e,t,i){if(!e)return i;const n=function(e,t){return Object.keys(e).filter(i=>t[i]&&e[i]).map(i=>t[i](e[i])).reduce((e,t)=>e.concat(t),[])}(e,t);return n?function(e,t){return e.reduce((e,t)=>k(t.pattern,t.value,e),t)}(n,i):i}var D=i(1498);const O={title:e=>[{pattern:/"@Title"/gi,value:'"'.concat(e,'"')},{pattern:/@Title/gi,value:"<ntv-title>".concat(e,"</ntv-title>")}],url:e=>[{pattern:/@Url/gi,value:e}],authorlogo:e=>[{pattern:/@authorlogo/gi,value:e}],image:e=>[{pattern:/@Image/gi,value:e}],author:e=>[{pattern:/(@Author)(?!Logo)/gi,value:e}],preview:e=>[{pattern:/@Preview/gi,value:"<ntv-preview>".concat(e,"</ntv-preview>")}],viewableImpTrackers:e=>[{pattern:/@dco_viewable_imp_tracker/gi,value:(0,D.v$)(e)}],viewable:e=>[{pattern:/@dco_viewable_imp_tracker/gi,value:(0,D.v$)(e)}]};class _{constructor(e){this.rawHtml=e,this.html=e}reset(){this.html=this.rawHtml}fillTokensFromData(e){this.html=R(e,O,this.html)}cleanTokens(){this.html=k(/(@dco_primary_imp_tracker|@dco_viewable_imp_tracker|@Author|@FullTitle|@Url|@Title|@Image|@Sponsored|@Preview|@authorlogo)/gi,"",this.html)}}function L(e,t){(function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")})(e,t),t.add(e)}function N(e,t,i){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:i;throw new TypeError("Private element is not present on this object")}var x=new WeakSet;class V{constructor(e){L(this,x),this.tokenizedHtml=new _(e)}get html(){return this.tokenizedHtml.html}applyDynamicAsset(e){this.applyDynamicAssetData(e.assets),this.applyDynamicAssetTrackers(e.trackers),this.cleanUpUnusedTokens()}applyDynamicAssetData(e){void 0!==e&&this.tokenizedHtml.fillTokensFromData(e)}applyDynamicAssetTrackers(e){void 0!==e&&Object.keys(e).forEach(t=>{const i=e[t];switch(t){case r.nu.TRACKER_TYPES.VIEWABLE:N(x,this,M).call(this,i);break;case r.nu.TRACKER_TYPES.PRIMARY:N(x,this,U).call(this,i);break;default:N(x,this,j).call(this,i)}})}cleanUpUnusedTokens(){this.tokenizedHtml.cleanTokens()}}function M(e){this.tokenizedHtml.fillTokensFromData({viewable:e.join("")})}function U(e){e.forEach(e=>n.util.appendThirdPartyTracking(e))}function j(e){e&&e.length&&n.util.handleThirdPartyTracking(e)}function F(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function B(e,t){return e.get(W(e,t))}function W(e,t,i){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:i;throw new TypeError("Private element is not present on this object")}var H=new WeakMap,z=new WeakSet;class G{constructor(e){var t,i;F(t=this,i=z),i.add(t),function(e,t,i){F(e,t),t.set(e,i)}(this,H,void 0),Object.assign(this,n.util.pick(e,"clickTrackerRedirect","previewImageResizer","authorImageResizer","allowHeadLineTrimming","maxHeadLineLength","maxPreviewLength","usePreviewResizerForAssets")),function(e,t,i){e.set(W(e,t),i)}(H,this,{image:e=>(e=n.util.hasWebProtocol(e)?e:n.util.getProtocol()+e,this.usePreviewResizerForAssets?W(z,this,q).call(this,e,this.previewImageResizer):e),authorlogo:e=>W(z,this,q).call(this,e,this.authorImageResizer),title:e=>this.allowHeadLineTrimming?W(z,this,Y).call(this,e,this.maxHeadLineLength):e,preview:e=>W(z,this,Y).call(this,e,this.maxPreviewLength),url:e=>(e=n.util.hasWebProtocol(e)?e:n.util.getProtocol()+e,null==this.clickTrackerRedirect?e:this.clickTrackerRedirect+encodeURIComponent(e))})}conform(e,t){return B(H,this).hasOwnProperty(e)&&void 0!==t?B(H,this)[e](t):t}}function q(e,t){if(!t||!e)return e;if(!t)return e;return t+encodeURIComponent(n.util.applyProtocolToUrl(e))}function Y(e,t){return e&&t?e.length<t?e:e.substring(0,t):e}function Q(e,t){if(!e)return;const i=new G(t);for(let t of Object.keys(e))e[t]=i.conform(t,e[t])}var K=i(3506),Z=i(3980);const X="OUTBRAIN",J="DCO",$="CAROUSEL",ee=[J,X,$],te=[J,X],ie=[J,$,X];const ne=e=>{var t;const i=se(e);if(!i)return Promise.reject("No flashtalk/dco data in ad");const r=i.adType,s=e.toutClickTracker,o=null===(t=i.config)||void 0===t?void 0:t.ctaLink;i.config||(i.config={}),i.config.clickTrackerRedirect=function(e,t,i){let r=ee.includes(e)||!i?t:i;return n.util.generateClickRedirect(r)}(r,s,o);const{eventtrackers:a,...c}=i;return new Promise((t,n)=>{try{const n=(0,Z.r)(a);re(i,e).then(s=>{if(r&&ie.includes(r)){const t=new V(e.html);t.applyDynamicAsset(s[0]),e.html=t.html}t({type:r||"DCO",adType:r||"DCO",config:i.config||{},slideConfig:i.slideConfig,slideshowConfig:i.slideshowConfig,eventtrackers:i.eventtrackers||[],eventTrackerMaps:n,content:s})})}catch(e){n(e)}})},re=(e,t)=>{const i={ads:e.ads,eventtrackers:e.eventtrackers},r=e.adType;return new Promise((t,s)=>{try{const{assetUrl:n,requestConfig:o,config:a}=e,c=((e,t)=>e===X?new C(t):new T(t))(r||"DCO",{fallbackAssets:i});e.config||(e.config={}),e.config.usePreviewResizerForAssets=te.includes(r||"DCO"),c.getAssets(n,o).then(i=>{try{!function(e){if(!Array.isArray(e))throw"Dynamic Asset Data is not an Array";if(0===e.length)throw"No Dynamic Asset Data"}(i);for(let t of i)(0,K.ru)(t,a,{"assets.authorlogo":"advertiserLogo"}),Q(t.assets,e.config);t(i)}catch(e){return void s(e)}}).catch(e=>{s(e)})}catch(e){n.util.postError(e),s(e)}})};const se=function(e){if(e)return e.dynamicAssets?{...e.dynamicAssets}:e.dcoResponse?oe(e.dcoResponse):void 0},oe=e=>{const{dcoEndpointUrl:t="",assets:i=[],eventtrackers:n={},...r}=e;return{adType:"DCO",assetUrl:t,ads:[{assets:i}],eventtrackers:n,config:r}}},9549:(e,t,i)=>{"use strict";i.d(t,{_:()=>l,j:()=>h});i(560),i(278),i(8324),i(4043),i(3429);var n=i(1611);var r=i(6101),s=i(4957),o=i(5150),a=i(5481);const c={criteoId:"criteo.com",id5id:"id5-sync.com",lotamePanoramaId:"lotame.com",pubcid:"pubcid.org",tdid:"adserver.org",identityLink:"liveramp.com"};function l(){if(window.IHPWT)return;const e=window.location.href;let t="";if(e.indexOf("pwtv=")>0){const i=/pwtv=(.*?)(&|$)/g.exec(e)||[];i.length>=2&&i[1].length>0&&(t="/"+i[1])}const i=document.createElement("script");i.async=!0,i.type="text/javascript",i.onload=u,i.src="//ads.pubmatic.com/AdServer/js/pwt/156500/13793"+t+"/pwt.js";const n=document.getElementsByTagName("script")[0];n&&n.parentNode&&n.parentNode.insertBefore(i,n)}function u(){(0,n.DK)("IHPWT",window,100,2e3).then(d).catch(()=>{})}function d(){try{const e=window.IHPWT.getUserIds(),t=Object.keys(e).filter(e=>c[e]).reduce((t,i)=>(t[i]=e[i],t),{}),i=Object.keys(t).map(e=>{const i=t[e];let n,r;i?"object"==typeof i?(n=i.uid,r=i.ext):n=i:n="";const s={id:n,atype:1};r&&(s.ext=r);return{source:c[e],uids:[s]}});!function(e){if(!o.core.setting||!o.core.setting.liveRamp)return;const t=function(){try{let e=decodeURIComponent(document.cookie.match("(^|;) *_lr_env=([^;]*)")[2]);return e=JSON.parse(atob(e)).envelope||window.localStorage.getItem("_lr_env"),e?{source:"liveramp.com",uids:[{id:e,atype:1}]}:null}catch(e){n.util.postError(e)}}();if(!t)return;e.push(t)}(i),i.length&&s.K.saveData(r.z1.EIDS_STORAGE_KEY,i)}catch(e){a.Z.postErrorMsg("Error processing EIDs:",e)}}function h(){const e=s.K.getData(r.z1.EIDS_STORAGE_KEY);return e&&e.length?function(e){return btoa(JSON.stringify(e))}(e):""}},1251:(e,t,i)=>{"use strict";i.d(t,{Z:()=>u});i(1057);var n=i(2151);function r(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}const s={pauseOnHover:!0,pauseOnTouch:!0,resumeDelay:1e3};class o{constructor(e,t,i){r(this,"scroller",void 0),r(this,"container",void 0),r(this,"config",void 0),r(this,"boundMouseEnterHandler",void 0),r(this,"boundMouseLeaveHandler",void 0),r(this,"boundTouchStartHandler",void 0),r(this,"boundTouchEndHandler",void 0),r(this,"boundInteractionStartHandler",void 0),r(this,"boundInteractionEndHandler",void 0),r(this,"resumeTimeout",null),this.scroller=e,this.container=t,this.config={...s,...i},this.boundMouseEnterHandler=this.handleMouseEnter.bind(this),this.boundMouseLeaveHandler=this.handleMouseLeave.bind(this),this.boundTouchStartHandler=this.handleInteractionStart.bind(this),this.boundTouchEndHandler=this.handleInteractionEnd.bind(this),this.boundInteractionStartHandler=this.handleInteractionStart.bind(this),this.boundInteractionEndHandler=this.handleInteractionEnd.bind(this),this.setupInteractionHandlers()}setupInteractionHandlers(){this.config.pauseOnHover&&(this.container.addEventListener("pointerenter",this.boundMouseEnterHandler),this.container.addEventListener("pointerleave",this.boundMouseLeaveHandler)),this.config.pauseOnTouch&&(this.container.addEventListener("touchstart",this.boundTouchStartHandler,{passive:!0}),this.container.addEventListener("touchend",this.boundTouchEndHandler,{passive:!0}))}removeInteractionHandlers(){this.container.removeEventListener("pointerenter",this.boundMouseEnterHandler),this.container.removeEventListener("pointerleave",this.boundMouseLeaveHandler),this.container.removeEventListener("touchstart",this.boundTouchStartHandler),this.container.removeEventListener("touchend",this.boundTouchEndHandler)}handleMouseEnter(){this.pauseScroll()}handleMouseLeave(){this.scheduleScrollResume()}handleInteractionStart(e){null!==this.resumeTimeout&&(window.clearTimeout(this.resumeTimeout),this.resumeTimeout=null),this.pauseScroll(),this.container.dispatchEvent(new CustomEvent("interactionstart",{detail:{originalEvent:e}}))}handleInteractionEnd(e){e.target&&(this.container===e.target||this.container.contains(e.target))&&(this.scheduleScrollResume(),this.container.dispatchEvent(new CustomEvent("interactionend",{detail:{originalEvent:e}})))}scheduleScrollResume(){null!==this.resumeTimeout&&window.clearTimeout(this.resumeTimeout),this.resumeTimeout=window.setTimeout(()=>{this.scroller.resumeScroll(),this.resumeTimeout=null},this.config.resumeDelay||1e3)}updateConfig(e){const t=this.config,i=void 0!==e.pauseOnHover&&e.pauseOnHover!==t.pauseOnHover||void 0!==e.pauseOnTouch&&e.pauseOnTouch!==t.pauseOnTouch;i&&this.removeInteractionHandlers(),i&&this.setupInteractionHandlers()}pauseScroll(){null!==this.resumeTimeout&&(window.clearTimeout(this.resumeTimeout),this.resumeTimeout=null),this.scroller.pauseScroll()}destroy(){null!==this.resumeTimeout&&(window.clearTimeout(this.resumeTimeout),this.resumeTimeout=null),this.removeInteractionHandlers()}}function a(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class c{constructor(e,t,i){var n;a(this,"observer",null),a(this,"hasStarted",!1),a(this,"autoStartTimeout",null),a(this,"autoStartDelay",void 0),this.scroller=e,this.container=t,this.autoStartDelay=null!==(n=null==i?void 0:i.autoStartDelay)&&void 0!==n?n:2e3,this.scroller.pauseScroll(),this.observer=new IntersectionObserver(e=>{e.forEach(e=>{e.isIntersecting?this.hasStarted?this.scroller.resumeScroll():this.scheduleInitialStart():(this.cancelScheduledStart(),this.scroller.pauseScroll())})}),this.observer.observe(this.container)}scheduleInitialStart(){null===this.autoStartTimeout&&(this.autoStartTimeout=window.setTimeout(()=>{this.hasStarted=!0,this.scroller.startScroll(),this.autoStartTimeout=null},this.autoStartDelay))}cancelScheduledStart(){null!==this.autoStartTimeout&&(window.clearTimeout(this.autoStartTimeout),this.autoStartTimeout=null)}destroy(){this.cancelScheduledStart(),this.observer&&(this.observer.disconnect(),this.observer=null)}}function l(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class u{constructor(e,t){l(this,"isiContainer",void 0),l(this,"scroller",void 0),l(this,"ScrollInteractionBehavior",void 0),l(this,"ScrollIntersectionBehavior",void 0),this.isiContainer=e;const i=this.isiContainer.ownerDocument;i&&i.documentElement&&i.body&&(i.documentElement.style.height="100%",i.documentElement.style.overflow="hidden",i.body.style.height="100%",i.body.style.overflow="hidden",i.body.style.margin="0",i.body.style.padding="0"),this.isiContainer.style.height="100%",this.isiContainer.style.overflow="auto";const r={...t,autoStart:!1};this.scroller=new n.f(this.isiContainer,r),this.ScrollInteractionBehavior=new o(this.scroller,this.isiContainer,t);this.ScrollIntersectionBehavior=new c(this.scroller,this.isiContainer,{autoStartDelay:t.autoStartDelay})}cleanup(){this.scroller.destroy(),this.ScrollInteractionBehavior&&this.ScrollInteractionBehavior.destroy(),this.ScrollIntersectionBehavior&&this.ScrollIntersectionBehavior.destroy()}}},8477:(e,t,i)=>{"use strict";i.d(t,{$r:()=>s,SU:()=>c,eO:()=>l,jo:()=>a});var n=i(2505),r=i(4862);let s="useMraid";(0,r.W)().set(s,!0);const o=a();function a(){return window.MRAID_ENV||(0,n.b3)().MRAID_ENV}function c(){const e=window.mraid||(0,n.b3)().mraid;return null!=(null==e?void 0:e.getVersion)?e:void 0}function l(){return(null!=o||null!=c())&&(0,r.W)().get(s)}},7608:(e,t,i)=>{"use strict";i.d(t,{c:()=>n});let n=function(e){return e.Error="error",e.Ready="ready",e.StateChange="stateChange",e.SizeChange="sizeChange",e.ViewableChange="viewableChange",e.ExposureChange="exposureChange",e.AudioVolumeChange="audioVolumeChange",e.AdAction="adAction",e}({})},1311:(e,t,i)=>{"use strict";i.d(t,{Tm:()=>k,XN:()=>C,gj:()=>v,kp:()=>N,wI:()=>L,yv:()=>R});i(1057),i(4043),i(6265);var n,r=i(8477),s=i(2505),o=i(7608),a=i(9803),c=i(6937),l=i(1498),u=i(2287),d=i(5481),h=i(5797),p=i(6101);function f(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}const m=(0,r.jo)();let v;var g=null===(n=window.frameElement)||void 0===n||null===(n=n.style)||void 0===n?void 0:n.cssText;const y=(e,t)=>{ntv.Events.PubSub.publish(o.c.Error,{message:e,action:t})},b=e=>{const t=window.frameElement;if(t&&"default"===e&&g)t.style.cssText=g;else if("expanded"===e&&t){const e=v.mraid.getExpandProperties();t.style.width=e.width+"px",t.style.height=e.height+"px"}ntv.Events.PubSub.publish(o.c.StateChange,{state:e})},E=e=>{ntv.Events.PubSub.publish(o.c.ViewableChange,{isViewable:e})},w=(e,t,i)=>{ntv.Events.PubSub.publish(o.c.ExposureChange,{exposedPercentage:e,visibleRectangle:t,occlusionRectangles:i})};class T{constructor(){f(this,"mraid",void 0)}readyPromise(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1e3;return new Promise((t,i)=>{if("loading"==this.mraid.getState()){let n=setTimeout(()=>{i(new Error("MRAID ready event timeout"))},e);this.mraid.addEventListener(o.c.Ready,()=>{clearTimeout(n),t()})}else t()})}getState(){return this.mraid.getState()}unload(){this.mraid.close()}open(e){this.mraid.open(e)}expand(e){null!=e?this.mraid.expand(e):this.mraid.expand()}close(){this.mraid.close()}isViewable(){return this.mraid.isViewable()}}class S extends T{constructor(){super(...arguments),f(this,"mraid",(0,r.SU)())}registerEventListeners(){this.mraid.addEventListener(o.c.Error,y),this.mraid.addEventListener(o.c.StateChange,b),this.mraid.addEventListener(o.c.ViewableChange,E)}}class A extends T{constructor(){super(...arguments),f(this,"mraid",(0,r.SU)())}registerEventListeners(){this.mraid.addEventListener(o.c.Error,y),this.mraid.addEventListener(o.c.StateChange,b),this.mraid.addEventListener(o.c.ViewableChange,E)}}class I extends T{constructor(){super(...arguments),f(this,"mraid",(0,r.SU)())}registerEventListeners(){try{this.mraid.addEventListener(o.c.Error,y),this.mraid.addEventListener(o.c.StateChange,b),this.mraid.addEventListener(o.c.ExposureChange,w),this.mraid.addEventListener(o.c.ViewableChange,E)}catch(e){d.Z.postErrorMsg("Failed to register MRAID event listeners. env: "+(0,l.ye)(m),e)}}unload(){super.unload(),this.mraid.unload()}}class P{getMraid(){var e;let t;switch(null===(e=(0,r.SU)())||void 0===e?void 0:e.getVersion()){case"1.0":t=new S;break;case"2.0":t=new A;break;case"3.0":t=new I;break;default:throw new Error("Could not find mraid object on window: "+window.location.href)}return t}}function C(e){try{if(!v&&(0,r.eO)()){v=(new P).getMraid(),v.registerEventListeners(),(0,h._)([{id:"ntv-mraid-modal-css",type:"style",url:p.z1.DEPENDENCIES.MRAID_MODAL_CSS}]);const t=new Promise(e=>{try{const t=(0,s.b3)();"complete"===t.document.readyState?e():t.addEventListener("load",()=>{e()})}catch(e){d.Z.postError(new Error("Mraid onLoad: "+e+" env: "+(0,l.ye)(m)))}});Promise.all([t,v.readyPromise()]).then(()=>{e()}).catch(t=>{console.error(t),e()}),ntv.Events.PubSub.subscribe("noAds",()=>{v.unload()})}else e()}catch(t){d.Z.postError(new Error("Mraid Initialize: "+t+" env: "+(0,l.ye)(m))),e()}}function k(e){try{var t,i;null===(t=window.event)||void 0===t||t.preventDefault(),null===(i=window.event)||void 0===i||i.stopPropagation(),e.element.classList.add("ntv-mraid-modal"),e.on(u.E.OPEN_COMPLETE,()=>{const t=i=>{"default"===i.data.state&&(e.close(),ntv.Events.PubSub.unsubscribe(o.c.StateChange,t))};ntv.Events.PubSub.subscribe(o.c.StateChange,t)}),v.expand()}catch(e){var n,r;if(d.Z.postErrorMsg("Failed to open MRAID modal. env: "+(0,l.ye)(m),e),"expanded"===(null===(n=v)||void 0===n?void 0:n.getState()))null===(r=v)||void 0===r||r.close()}}function R(e,t){let i,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;try{const r=a.d.getAd(t);if(i=(null==r?void 0:r.adType)==c.Z9.ARTICLE?r.articleUrl:n||(null==r?void 0:r.toutClickTracker),!i)throw new Error("No URL for MRAID click");return(null==r?void 0:r.adType)!=c.Z9.ARTICLE||(null==r?void 0:r.integrationType)===c.WN.APPLE_NEWS?(v.open(i),!0):!(e&&"aps-ios-admob"!==(null==m?void 0:m.sdk)&&!O())&&(_()?D(r,i):v.expand(i),!0)}catch(e){const i=a.d.getAd(t);return d.Z.postErrorMsg("Failed to handle MRAID Click. AdID: ".concat(null==i?void 0:i.adId,"  env:  ").concat((0,l.ye)(m)),e),!0}}function D(e,t){let i=document.createElement("iframe");i.id="ntv-clp",i.width="100%",i.height="100%",i.setAttribute("sandbox","allow-same-origin allow-scripts"),i.style.position="fixed",i.style.top=function(){const e=navigator.userAgent;if(/iPhone/.test(e)){if(852===screen.height)return!0;if(932===screen.height)return!0}return!1}()?"55px":"0px",i.height=screen.height-parseInt(i.style.top)+"px",fetch(t).then(e=>{e.text().then(e=>{try{i.contentDocument&&(i.contentWindow.mraid=(0,r.SU)(),i.srcdoc=e)}catch(e){d.Z.postErrorMsg("Mraid failed to inject article: ".concat(t," env: ").concat((0,l.ye)(m)),e)}})}).catch(e=>{d.Z.postErrorMsg("Mraid failed to fetch article: ".concat(t," env:  ").concat((0,l.ye)(m)),e)}),document.body.appendChild(i);const n=e.element.style.display;e.element.style.display="none";const s=t=>{try{var r;var a;if("default"==(null==t||null===(r=t.data)||void 0===r?void 0:r.state))null===(a=i.parentNode)||void 0===a||a.removeChild(i),e.element.style.display=n,ntv.Events.PubSub.unsubscribe(o.c.StateChange,s)}catch(e){d.Z.postErrorMsg("Failed to handle MRAID CLP close. env: "+(0,l.ye)(m),e)}};ntv.Events.PubSub.subscribe(o.c.StateChange,s),v.expand()}function O(){let e=/Android/.test(navigator.userAgent);return"Google Mobile Ads"===(null==m?void 0:m.sdk)&&e}function _(){let e=/iPhone|iPad/.test(navigator.userAgent);return"Google Mobile Ads"===(null==m?void 0:m.sdk)&&e}function L(e){try{v=v||(new P).getMraid(),null==e||e.addEventListener("click",(function(e){var t;const i=e.target.closest("a");i&&(null===(t=i.href)||void 0===t?void 0:t.indexOf("://"))>0?(e.preventDefault(),v.open(i.href)):d.Z.postErrorMsg("Failed to find valid anchor tag with CTA. Article URL: ".concat(window.location,". Env: ").concat((0,l.ye)(m)))}))}catch(e){d.Z.postErrorMsg("Failed to handle Article click. env: "+(0,l.ye)(m),e)}}function N(e){if(O())if(e.isFullscreen()){v.expand();const t=i=>{var n;"default"==(null==i||null===(n=i.data)||void 0===n?void 0:n.state)&&(e.isFullscreen()&&e.exitFullscreen(),ntv.Events.PubSub.unsubscribe(o.c.StateChange,t))};ntv.Events.PubSub.subscribe(o.c.StateChange,t)}else"expanded"===v.getState()&&v.close()}},3804:(e,t,i)=>{"use strict";i.d(t,{Pj:()=>c,wI:()=>a});i(6265);var n=i(1611),r=i(5246),s=i(8011),o=i(4862);function a(){const e=n.util.getTopWindow();if(e.ntvSatellite)return Promise.resolve(e.ntvSatellite);let t,i;const o=new Promise((e,n)=>{t=e,i=n});return e.addEventListener(s.P.LOAD_COMPLETE,()=>{if(e[r.OH].state==r.RW.READY)return t(e[r.OH]);e[r.OH].addEventListener(s.P.READY,()=>{t(e[r.OH])})}),e.addEventListener(s.P.LOAD_ERROR,()=>{i()}),o}function c(){let e,t,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window;if((0,o.W)().get("sateliteLaunched")||null!=i[r.OH])return;(0,o.W)().set("sateliteLaunched",!0),l();const n=new Promise((i,n)=>{e=i,t=n}),a=document.createElement("script");function c(){i.dispatchEvent(new Event(s.P.LOAD_COMPLETE)),e()}function u(){i.dispatchEvent(new Event(s.P.LOAD_ERROR)),e()}return a.id=r.O,a.addEventListener("load",c,{once:!0}),a.addEventListener("error",u,{once:!0}),a.src="https://s.ntv.io/serve/satellite.js",i.document.head.appendChild(a),n}function l(){const e=document.querySelectorAll("script#".concat(r.O));for(const t of e)t.remove()}},4957:(e,t,i)=>{"use strict";i.d(t,{K:()=>o});i(1057),i(8324);var n=i(2505),r=i(1611);function s(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class o{static saveData(e,t){try{"string"!=typeof t&&(t=JSON.stringify(t)),l.setItem(e,t)}catch(i){r.util.postError(new Error("Error saving storage item [".concat(e,":").concat(t,"] - ").concat(i.message,"}")))}}static getData(e){try{const t=l.getItem(e);return null===t?null:function(e){try{return JSON.parse(e)}catch(t){return e}}(t)}catch(t){return r.util.postError(new Error("Error parsing storage item [".concat(e,"] - ").concat(t.message,"}"))),null}}static deleteData(e){try{l.removeItem(e)}catch(t){r.util.postError(new Error("Error deleting storage item [".concat(e,"] - ").concat(t.message,"}")))}}}class a{setItem(e,t){localStorage.setItem(e,t)}getItem(e){return localStorage.getItem(e)}removeItem(e){localStorage.removeItem(e)}}class c{setItem(e,t){(0,n.d8)(e,t)}getItem(e){return(0,n.ej)(e)}removeItem(e){(0,n.kT)(e)}}const l=new class{constructor(){s(this,"localStorage",void 0),s(this,"cookieStorage",void 0),this.localStorage=window.localStorage?new a:null,this.cookieStorage=new c}setItem(e,t){this.localStorage?this.localStorage.setItem(e,t):this.cookieStorage.setItem(e,t)}getItem(e){let t;return this.localStorage&&(t=this.localStorage.getItem(e)),null==t&&(t=this.cookieStorage.getItem(e)),t}removeItem(e){this.localStorage&&this.localStorage.removeItem(e),this.cookieStorage.removeItem(e)}}},9492:(e,t,i)=>{"use strict";i.d(t,{a:()=>n});const n={secondaryImpressionActionType:2,clickActionType:3,cta:4,readAndClickActionTypes:"2,3",videoView:22,videoEndActionType:23,timeOnContent:34,slideTimeOnContent:62,storiesCompletion:63,vastError:64,vastErrorOpenProgrammatic:585,videoProgress25PercentActionType:39,videoProgress50PercentActionType:40,videoProgress75PercentActionType:41,videoHeadlineClick:48,articlePageViewActionType:52,gallery:54,clickToUnMute:55,videoStartActionType:56,videoBillableView:58,companionCta:59,videoPlayed15SecondsType:60,videoPlayed30SecondsType:61,prerollVideoStartType:62,optVideoByClick:65,surveyView:2022,VEV_PAGE_LOAD:2023,VEV_LINK_CLICK:2031,VEV_VIDEO_PLAY:2032,VEV_VIDEO_COMPLETE:2033,VEV_VIDEO_QUARTILE_25:2034,VEV_VIDEO_QUARTILE_50:2035,VEV_VIDEO_QUARTILE_75:2036}},7178:(e,t,i)=>{"use strict";i.d(t,{Z:()=>L});i(1057),i(6265);var n=i(1611);i(560),i(4043);function r(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class s{constructor(e){r(this,"stringArray",void 0),this.stringArray=e||new Array}static fromString(e){return new s([e])}append(e){this.stringArray.push(e)}toString(){return this.stringArray.join("")}get length(){return this.stringArray.length}}function o(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class a extends s{constructor(e){if(super(e),o(this,"tokens",[]),e)for(let t=0;t<e.length;t++)this.checkAndRecordToken(e[t],t)}static fromString(e){return new a([e])}append(e){super.append(e),this.checkAndRecordToken(e,this.length-1)}checkAndRecordToken(e,t){const i=e.match(/^%(.*?)%$/);i&&this.tokens.push({index:t,value:i[1]})}fillTokensFromMap(e){for(let t=this.tokens.length-1;t>=0;t--){const{index:i,value:n}=this.tokens[t],r=e[n];void 0!==r&&(this.stringArray[i]=r.toString())}}}function c(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class l{constructor(){c(this,"tokenDefinitions",new Map)}static getInstance(){return l.instance||(l.instance=new l),l.instance}registerToken(e,t){this.tokenDefinitions.set(e,t)}registerTokens(e){for(const[t,i]of Object.entries(e))this.registerToken(t,i)}processData(e){const t={};if(!e)return t;for(const[i,n]of this.tokenDefinitions.entries())try{let r=n.extract(e);void 0===r&&void 0!==n.defaultValue&&(r=n.defaultValue),void 0!==r&&(t[i]=n.transform(r))}catch(e){console.error("Error processing token ".concat(i,":"),e)}return t}}function u(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}c(l,"instance",void 0),l.getInstance().registerTokens({DURATION_VALUE:{extract:e=>void 0!==e.durationSeconds?e.durationSeconds:void 0!==e.duration?e.duration/1e3:void 0,transform:e=>e},POSITION_VALUE:{extract:e=>void 0!==e.positionSeconds?e.positionSeconds:void 0!==e.elapsed?e.elapsed/1e3:void 0,transform:e=>e},TIME_VALUE:{extract:e=>void 0!==e.position?e.position:void 0!==e.elapsed?e.elapsed:void 0,transform:e=>Math.round(e)},TIME_TOTAL_VALUE:{extract:e=>{if(void 0!==e.totalElapsed)return e.totalElapsed},transform:e=>Math.round(e)},TIMESTAMP:{extract:()=>Date.now(),transform:e=>e},CACHEBUSTER:{extract:()=>Math.random(),transform:e=>Math.floor(1e7*e)}});class d{constructor(e){u(this,"eventTracker",void 0),u(this,"tokenRegistry",void 0),this.eventTracker=e,this.tokenRegistry=l.getInstance()}track(e){const t=e?this.tokenRegistry.processData(e):{};this.executeTracking(t)}}function h(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class p extends d{constructor(e){if(super(e),h(this,"urlBuilder",void 0),e.data.url){this.urlBuilder=a.fromString(e.data.url);for(const[t,i]of Object.entries(e.data.customdata))this.urlBuilder.append("&".concat(t,"=")),this.urlBuilder.append("".concat(i))}}executeTracking(e){this.urlBuilder.fillTokensFromMap(e)}get url(){return this.urlBuilder.toString()}}class f extends p{executeTracking(e){super.executeTracking(e),n.util.appendScript(this.url)}}class m extends p{executeTracking(e){super.executeTracking(e),n.util.appendImage(this.url)}}var v=i(9866),g=i(8258),y=i(4402),b=i(5481);function E(e,t,i){(function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")})(e,t),t.set(e,i)}function w(e,t){return e.get(S(e,t))}function T(e,t,i){return e.set(S(e,t),i),i}function S(e,t,i){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:i;throw new TypeError("Private element is not present on this object")}var A=new WeakMap,I=new WeakMap;class P extends d{constructor(e){if(super(e),E(this,A,void 0),E(this,I,void 0),T(A,this,e.data.ext.html),void 0===w(A,this))throw new Error("[HTMLTrackingMethod] tracking method requires html string")}executeTracking(e){try{T(I,this,(0,g.createScriptEvaluatingFragmentFromHTMLString)(w(A,this)));(document.head||document.body).appendChild(w(I,this))}catch(e){const t=new y.X("[HTMLTrackingMethod] Tracking Failed: Error creating HTML fragment from string");t.data={htmlString:w(A,this)},b.Z.postError(t)}}}var C=i(2603);function k(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function R(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function D(e,t,i){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:i;throw new TypeError("Private element is not present on this object")}var O=new WeakMap,_=new WeakSet;class L{constructor(e){var t,i;R(t=this,i=_),i.add(t),function(e,t,i){R(e,t),t.set(e,i)}(this,O,void 0),k(this,"data",void 0),k(this,"type",v.Z.EventTracker),k(this,"eventGroup",void 0),k(this,"enabled",!0),this.validateData(e),this.data=e,function(e,t,i){e.set(D(e,t),i)}(O,this,D(_,this,N).call(this,this.data.method))}validateData(e){if(!e.event)throw new Error("EventTrackerData must include an event (integer) property");if(!e.method)throw new Error("EventTrackerData must include a method (integer) property")}registerEventGroup(e){this.eventGroup=e}enable(){this.enabled=!1}disable(){this.enabled=!1}track(e){var t,i;if(!(this.enabled&&this.data.ext.fireOnce&&this.data.ext.fired)&&((t=O,i=this,t.get(D(t,i))).track(e),this.data.ext.fired=!0,this.eventGroup))for(const e of this.eventGroup)e!==this&&e.disable()}}function N(e){if(e===C.e.IMAGE)return new m(this);if(e===C.e.JAVASCRIPT)return new f(this);if(e===C.e.HTML)return new P(this);throw new Error("Unsupported tracking method: ".concat(e))}},9866:(e,t,i)=>{"use strict";i.d(t,{Z:()=>n});const n={EventTracker:"EventTracker",TimeEventTracker:"TimeEventTracker"}},6664:(e,t,i)=>{"use strict";i.d(t,{V:()=>c});i(1057),i(6801),i(6265);var n,r=i(255),s=i(7178),o=i(6260);function a(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class c{createTracker(e){var t;return this.isTimedOpenRTBEvent(e.event)?this.createTimeEventTracker(this.mergeTimedEventData(e)):null!=e&&null!==(t=e.ext)&&void 0!==t&&t.times&&e.ext.times.length>0?this.createTimeEventTracker(this.mergeCustomTimedEventData(e)):c.createBaseEventTracker(e)}mergeTimedEventData(e){let t={...c.DEFAULT_TRIGGERED_TIME_EXTENSION,...e.ext};return t.times&&t.times.length>0||(t.times=c.DEFAULT_TIMING_VALUES[e.event]||[]),{...c.DEFAULT_OPTIONAL_PROPERTIES,...e,ext:t}}mergeCustomTimedEventData(e){return{...c.DEFAULT_OPTIONAL_PROPERTIES,...e,ext:{...c.DEFAULT_TIME_EXTENSION,...e.ext}}}isTimedOpenRTBEvent(e){return[r.bB["viewable-mrc50"],r.bB["viewable-mrc100"],r.bB["viewable-video50"]].includes(e)}createTimeEventTracker(e){return new o.e(e)}static createBaseEventTracker(e){return new s.Z({...c.DEFAULT_OPTIONAL_PROPERTIES,...e,ext:{...c.DEFAULT_EXTENSION,...e.ext}})}}n=c,a(c,"DEFAULT_EXTENSION",{fired:!1,fireOnce:!0,eventgroup:""}),a(c,"DEFAULT_TIME_EXTENSION",{...n.DEFAULT_EXTENSION,times:[],timingType:"position"}),a(c,"DEFAULT_OPTIONAL_PROPERTIES",{ext:{},customdata:new Map,url:""}),a(c,"DEFAULT_TIMING_VALUES",{[r.bB["viewable-mrc50"]]:[1e3],[r.bB["viewable-mrc100"]]:[1e3],[r.bB["viewable-video50"]]:[2e3]}),a(c,"DEFAULT_TRIGGERED_TIME_EXTENSION",{...n.DEFAULT_EXTENSION,times:[],timingType:"continuous"})},2189:(e,t,i)=>{"use strict";i.d(t,{R:()=>m,n:()=>y});i(1057),i(560),i(6265);var n=i(5902),r=i(5481);function s(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function o(e,t,i){a(e,t),t.set(e,i)}function a(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function c(e,t){return e.get(u(e,t))}function l(e,t,i){return e.set(u(e,t),i),i}function u(e,t,i){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:i;throw new TypeError("Private element is not present on this object")}const d={additionalQSParamArray:{},queryStringDataMap:{},fired:!1,fireOnce:!1};var h=new WeakMap,p=new WeakMap,f=new WeakSet;class m{constructor(e){let{tracker:t,trackableEvents:i=[]}=e;var n,r;a(n=this,r=f),r.add(n),o(this,h,void 0),o(this,p,void 0),s(this,"trackableEvents",void 0),l(h,this,t),this.trackableEvents=i,l(p,this,new Map);for(let e of this.trackableEvents){var u;e={...d,...e},c(p,this).has(e.eventName)||c(p,this).set(e.eventName,[]),null===(u=c(p,this).get(e.eventName))||void 0===u||u.push(e)}}addTrackableEvent(e){var t;e={...d,...e},c(p,this).has(e.eventName)||c(p,this).set(e.eventName,[]),null===(t=c(p,this).get(e.eventName))||void 0===t||t.push(e)}fire(e,t){const i=c(p,this).get(e);if(i)for(const e of i)g(e)&&u(f,this,v).call(this,e,t)}}function v(e,t){if(e.fireOnce&&e.fired)return;if(e.callback&&e.callback(t),null==e.actionTypes||0==e.actionTypes.length)return;let i="";for(const[t,n]of Object.entries(e.additionalQSParamArray))i+="&".concat(t,"=").concat(n);for(const[n,r]of Object.entries(e.queryStringDataMap))t.hasOwnProperty(n)&&(i+="&".concat(r,"=").concat(t[n]));c(h,this).fireTracking(e.actionTypes,i),e.fired=!0,e.firesAfterActionTypes&&e.firesAfterActionTypes.length>0&&(function(e,t){const i=(0,n.x2)(e).firedActionTypes;return void 0!==i&&t.every(e=>i.has(e))}(c(h,this).adPlacementId,e.firesAfterActionTypes)||r.Z.postError(new Error("EventTracker for adPlacement [".concat(c(h,this).adPlacementId,", integrationType:").concat(c(h,this).integrationType,"] fired [").concat(e.actionTypes,"] before [").concat(e.firesAfterActionTypes,"] on ").concat(window.location.href," from event ").concat(e.eventName,".")))),y(c(h,this).adPlacementId,e.actionTypes)}function g(e){return function(e){return null!=e.eventName}(e)&&function(e){return!e.fired||!e.fireOnce}(e)}function y(e,t){const i=(0,n.x2)(e);i.firedActionTypes=i.firedActionTypes||new Set,t.forEach(e=>i.firedActionTypes.add(e))}},6260:(e,t,i)=>{"use strict";i.d(t,{D:()=>o,e:()=>a});i(1057);var n=i(7178),r=i(9866);function s(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}const o={Position:"position",Sustained:"sustained",Continuous:"continuous"};class a extends n.Z{constructor(e){super(e),s(this,"type",r.Z.TimeEventTracker),this.validateTimeData(e)}validateTimeData(e){if(!e.ext.times||0===e.ext.times.length)throw new Error("TimeEventTrackerData must include times in ext property")}track(e){super.track(e)}trackTimerEvent(e){super.track(e)}}},3798:(e,t,i)=>{"use strict";i.d(t,{f:()=>c});var n=i(5902),r=i(1288),s=i(1611),o=i(1171);const a={baseTrackingUrl:void 0,adId:void 0,placementId:void 0,adVersionPlacement:void 0,thirdPartyTrackers:{},extraQS:""};function c(e){const t=function(e){const t={...e};return(0,o.h3)(t,"trackingBaseUrl","baseTrackingUrl"),t}(e);Object.assign(this,a,t)}c.prototype.fireTracking=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(!Array.isArray(e)||0===e.length)return;let i=(0,n.SQ)(this.baseTrackingUrl,e.join(),this.adId,this.adVersionPlacement);this.extraQS&&s.util.is("s",this.extraQS)&&(i=i.concat(this.extraQS)),t&&s.util.is("s",t)&&(i=i.concat(t));let o="";e.forEach(e=>{this.thirdPartyTrackers[e]&&(o+=this.thirdPartyTrackers[e])}),(0,r.HG)(i,o,1)}},5573:(e,t,i)=>{"use strict";i.d(t,{$:()=>r});i(1057);function n(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class r{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};n(this,"visible",!1),n(this,"totalArea",0),n(this,"ratioInView",0),n(this,"xInView",0),n(this,"yInView",0),Object.assign(this,e)}}},9601:(e,t,i)=>{"use strict";i.d(t,{Ps:()=>s,YM:()=>o,c9:()=>c});var n=i(5150),r=i(6101);function s(){0==n.core.viewableImpressionTrackers.length&&a()}const o=()=>{if(null!=n.core&&n.core.viwabilityEventsCreated)return;const e=n.core.internalPubSub;e.subscribe(r.xu.TOP_WINDOW_READY,c),e.subscribe(r.xu.TOP_WINDOW_SCROLL,c),n.core.viwabilityEventsCreated=!0},a=()=>{const e=n.core.internalPubSub;e.unsubscribe(r.xu.TOP_WINDOW_READY,c),e.unsubscribe(r.xu.TOP_WINDOW_SCROLL,c),n.core.viwabilityEventsCreated=!1},c=e=>{const t=n.core.viewableImpressionTrackers,i=t.length;if(0===i)return;let r,s=0;for(;s<i;s++){var o;r=t[s],null!==(o=r)&&void 0!==o&&o.viewabilityMethod&&r.viewabilityMethod.checkViewability(e)}}},4744:(e,t,i)=>{"use strict";i.d(t,{A:()=>u});i(1057);var n=i(1611),r=i(8913),s=i(3021),o=i(1171),a=i(5573);function c(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}const l={enabled:!0};class u{constructor(e){c(this,"tracker",void 0),c(this,"type",void 0),c(this,"id",void 0),c(this,"element",void 0),c(this,"enabled",void 0),c(this,"checkOnFocus",void 0),c(this,"selector",void 0),c(this,"isInvTracking",void 0),c(this,"minimumAreaViewable",void 0),c(this,"checkMinimumAreaViewable",void 0),c(this,"visible",void 0),c(this,"pubSub",void 0),c(this,"viewabilityData",void 0),(0,o.LP)(e,l),this.tracker=e,this.id=e.id,this.element=e.element,this.enabled=e.enabled,this.checkOnFocus=e.checkOnFocus,this.selector=e.selector,this.isInvTracking=e.isInvTracking,this.minimumAreaViewable=e.minimumAreaViewable,this.checkMinimumAreaViewable=e.checkMinimumAreaViewable,this.visible=!1,this.pubSub=new r.ZP,this.viewabilityData=new a.$}addViewableEventListener(e,t){void 0!==s._[e]&&this.pubSub.subscribe(s._[e],t)}removeViewableEventListener(e,t){void 0!==s._[e]&&this.pubSub.unsubscribe(s._[e],t)}dispose(){this.pubSub.clear()}isInFocus(){return!this.checkOnFocus||n.util.isOnFocus()}publishViewabilityChange(){this.pubSub.publish(s._.VIEWABLE_CHANGE,this.viewabilityData);this.pubSub.publish(this.viewabilityData.ratioInView>=this.minimumAreaViewable?s._.IN_VIEW:s._.OUT_OF_VIEW)}isInView(){return!0}enable(){this.enabled=!0}disable(){this.enabled=!1}checkViewability(e){}}},3221:(e,t,i)=>{"use strict";function n(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e){if(!t){const t=o(e);if(t)return parseFloat(t)}return"VIDEO"===e.tagName?r(e):"IMG"===e.tagName?s(e):c(e)}}function r(e){if(!e)return;const t=e.videoWidth,i=e.videoHeight;if(t&&i){const n=t/i;return a(e,n),n}return c(e)}function s(e){if(!e)return;const t=e.naturalWidth,i=e.naturalHeight;if(t&&i){const n=t/i;return a(e,n),n}return c(e)}function o(e){return e.dataset.ntvAspectRatio}function a(e,t){e.dataset.ntvAspectRatio=t.toString()}function c(e){const t=e.clientWidth,i=e.clientHeight;if(t&&i){const n=t/i;return a(e,n),n}return 0}i.d(t,{Pk:()=>r,Xv:()=>a,n3:()=>n})},3160:(e,t,i)=>{"use strict";i.d(t,{cg:()=>s});i(1057),i(560);var n=i(1746);function r(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class s{constructor(e){r(this,"value",void 0),r(this,"adId",void 0),r(this,"versionId",void 0),r(this,"placementId",void 0),r(this,"adPlacementId",void 0),this.value=e;const{adId:t,versionId:i,placementId:s}=function(e){const t=Number(c(e.slice(0,5))),i=Number(c(e.slice(5,10))),n=Number(c(e.slice(10,15)));return{adId:t,versionId:i,placementId:n}}(e);this.adId=t,this.versionId=i,this.placementId=s,Object.defineProperty(this,"adPlacementId",{get(){return(0,n.l)(this.adId,this.placementId)}})}static fromIdValues(e,t,i){return new s(o(e,t,i))}}function o(e,t,i){return""+l(e)+l(t)+l(i)}const a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=";function c(e){let t=[];for(let i=0;i<5;i++){const n=d(h(a.indexOf(e[i])),6);t.push(n)}return p(u(t.join("")+"00"))}function l(e){let t="";const i=u(h(e,4));for(var n=0;n<5;n++){const e=6*n,r=p(i.slice(e,e+6));t+=a.charAt(Number(r))}return t}function u(e){const t=[];for(let i=0;i<e.length;i+=8)t.push(d(e.substring(i,i+8),8));return t.reverse().join("")}function d(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4;return e.padStart(t,"0")}function h(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return(e>>>0).toString(2).padStart(8*t,"0")}function p(e){return parseInt(e,2).toString(10)}},1422:(e,t,i)=>{"use strict";i.d(t,{s:()=>n});const n={CONTENT_COMPLETE:"content-complete",NOTICE_CONTAINER_OPEN:"notice-container-open",NOTICE_CONTAINER_CLOSE:"notice-container-close"}},1171:(e,t,i)=>{"use strict";i.d(t,{LP:()=>r,QD:()=>l,ei:()=>o,gu:()=>a,h3:()=>c,io:()=>n,sM:()=>s,uO:()=>u});i(6801),i(278),i(9045),i(3627),i(4774),i(4043),i(7267),i(8607),i(5194),i(9943),i(522),i(82),i(1638),i(3356),i(4224),i(1121),i(7133),i(6265),i(3429);function n(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return t.some(e=>void 0===e)}function r(e,t){for(const i of Object.keys(t)){if(e.hasOwnProperty(i))return;e[i]=t[i]}return e}function s(e){for(var t="",i=new Uint8Array(e),n=i.byteLength,r=0;r<n;r++)t+=String.fromCharCode(i[r]);var s=btoa(t);return s=(s=s.replace(/[+]/g,"-")).replace(/[/]/g,"_")}function o(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];return 0===i.length?e:i.reduce((t,i)=>(t[i]=e[i],t),{})}function a(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];return Object.entries(e).reduce((e,t)=>{let[n,r]=t;return i.includes(n)||(e[n]=r),e},{})}function c(e,t,i){return e.hasOwnProperty(t)?(e[i]=e[t],delete e[t],e):e}function l(e,t){for(const i of Object.keys(e))t[i]&&(e[i]=t[i])}function u(e){let t;try{t=JSON.parse(e)}catch(e){console.error("Error parsing JSON",e),t={}}return t}},3081:(e,t,i)=>{"use strict";i.d(t,{Fh:()=>o,TC:()=>s,n$:()=>a,pw:()=>r});i(1057);function n(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class r{constructor(e,t){n(this,"width",void 0),n(this,"height",void 0),n(this,"aspectRatio",void 0),this.width=e,this.height=t,this.aspectRatio=this.width/this.height,Object.freeze(this)}}function s(e){return new r(e.naturalWidth,e.naturalHeight)}function o(e){return new r(e.videoWidth,e.videoHeight)}function a(e){return e+"px"}},2151:(e,t,i)=>{"use strict";i.d(t,{f:()=>u});i(1057);var n=i(2505);class r{updateScroll(e,t,i,n){let r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:e=>{};e.scrollTop+=t,e.scrollTop+i>=n&&r(e)}handleLoop(e){e.scrollTop=0}}class s{updateScroll(e,t,i,n){let r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:e=>{};e.scrollLeft+=t,e.scrollLeft+i>=n&&r(e)}handleLoop(e){e.scrollLeft=0}}function o(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class a{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:60;o(this,"animationFrameId",null),o(this,"lastTimestamp",0),o(this,"isRunning",!1),o(this,"boundFrameCallback",void 0),o(this,"minFrameDuration",void 0),this.frameHandler=e,this.boundFrameCallback=this.onAnimationFrame.bind(this),this.minFrameDuration=1e3/t}start(){this.isRunning||(this.isRunning=!0,this.lastTimestamp=performance.now(),this.animationFrameId=requestAnimationFrame(this.boundFrameCallback))}stop(){this.isRunning=!1,null!==this.animationFrameId&&(cancelAnimationFrame(this.animationFrameId),this.animationFrameId=null)}onAnimationFrame(e){if(!this.isRunning)return;const t=e-this.lastTimestamp;t>=this.minFrameDuration&&(this.lastTimestamp=e,this.frameHandler(t)),this.isRunning&&(this.animationFrameId=requestAnimationFrame(this.boundFrameCallback))}}function c(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}const l={speed:10,autoStart:!0,autoStartDelay:2e3,direction:"vertical",loop:!0};class u{constructor(e,t){c(this,"container",void 0),c(this,"config",void 0),c(this,"isScrolling",!1),c(this,"lastTimestamp",0),c(this,"containerHeight",0),c(this,"containerWidth",0),c(this,"scrollHeight",0),c(this,"scrollWidth",0),c(this,"resizeObserver",null),c(this,"debouncedUpdateDimensions",(0,n.Ds)(()=>this.updateDimensions(),100)),c(this,"remainingScroll",0),c(this,"scrollingStrategy",void 0),c(this,"animator",void 0),this.container=e,this.config={...l,...t},this.scrollingStrategy="vertical"===this.config.direction?new r:new s,this.animator=new a(e=>this.onFrame(e)),this.init()}init(){this.container.style.overflow="auto",this.updateDimensions(),this.resizeObserver=new ResizeObserver(this.debouncedUpdateDimensions),this.resizeObserver.observe(this.container),this.config.autoStart&&setTimeout(()=>{this.startScroll()},this.config.autoStartDelay)}updateDimensions(){this.containerHeight=this.container.clientHeight,this.containerWidth=this.container.clientWidth,this.scrollHeight=this.container.scrollHeight,this.scrollWidth=this.container.scrollWidth}startScroll(){if(this.isScrolling)return;("vertical"===this.config.direction?this.container.scrollHeight>this.container.clientHeight:this.container.scrollWidth>this.container.clientWidth)&&(this.updateDimensions(),this.isScrolling=!0,this.animator.start(),this.container.dispatchEvent(new CustomEvent("scrollstart")))}pauseScroll(){this.isScrolling&&(this.isScrolling=!1,this.animator.stop(),this.container.dispatchEvent(new CustomEvent("scrollpause")))}resumeScroll(){this.isScrolling||this.startScroll()}onFrame(e){if(!this.isScrolling)return;this.lastTimestamp+=e;const t=e/1e3*this.config.speed+this.remainingScroll,i=Math.floor(t);this.remainingScroll=t-i;const n="vertical"===this.config.direction;this.scrollingStrategy.updateScroll(this.container,i,n?this.containerHeight:this.containerWidth,n?this.scrollHeight:this.scrollWidth,e=>{this.pauseScroll(),this.config.loop&&setTimeout(()=>{this.scrollingStrategy.handleLoop(e),this.startScroll()},this.config.autoStartDelay)})}updateConfig(e){const t=this.isScrolling;this.pauseScroll(),e.direction&&e.direction!==this.config.direction&&this.updateDimensions(),this.config={...this.config,...e},t&&this.startScroll()}destroy(){this.pauseScroll(),this.resizeObserver&&(this.resizeObserver.disconnect(),this.resizeObserver=null)}}},8792:(e,t,i)=>{"use strict";i.d(t,{$:()=>b});i(1057),i(6265);var n=i(8913);function r(e,t,i){s(e,t),t.set(e,i)}function s(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function o(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function a(e,t){return e.get(l(e,t))}function c(e,t,i){return e.set(l(e,t),i),i}function l(e,t,i){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:i;throw new TypeError("Private element is not present on this object")}const u="ntv-hide",d="ntv-show",h="ntv-animated",p="hide",f="show",m=()=>{};var v=new WeakMap,g=new WeakMap,y=new WeakSet;class b{constructor(e){var t,i;s(t=this,i=y),i.add(t),o(this,"element",void 0),o(this,"pubsub",void 0),r(this,v,void 0),r(this,g,void 0),this.element=e,this.pubsub=new n.ZP,c(v,this,new AbortController),c(g,this,!1)}hide(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:m;return a(g,this)&&l(y,this,w).call(this),e?l(y,this,E).call(this).then(t).catch(()=>{t()}):t(),this.element.classList.remove(d),this.element.classList.add(u),this.pubsub.publish(p),this}show(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:m;return a(g,this)&&l(y,this,w).call(this),e?l(y,this,E).call(this).then(t).catch(()=>{t()}):t(),this.element.classList.remove(u),this.element.classList.add(d),this.pubsub.publish(f),this}bindShowHideMethods(e){e.show=this.show.bind(this),e.hide=this.hide.bind(this)}}async function E(){return a(v,this).signal.aborted?Promise.reject("Aborted"):(this.element.classList.add(h),new Promise((e,t)=>{a(v,this).signal.addEventListener("abort",()=>{l(y,this,w).call(this),t("ANIMATION ABORTED")}),this.element.addEventListener("animationend",t=>{t.currentTarget===this.element&&(l(y,this,w).call(this),e(this))},{signal:a(v,this).signal}),c(g,this,!0)}))}function w(){a(v,this).abort(),c(g,this,!1),this.element.classList.remove(h)}},4402:(e,t,i)=>{"use strict";i.d(t,{D:()=>c,X:()=>a});i(1057),i(6265);function n(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function r(e,t,i){(function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")})(e,t),t.set(e,i)}function s(e,t){return e.get(function(e,t,i){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:i;throw new TypeError("Private element is not present on this object")}(e,t))}var o=new WeakMap;class a extends Error{constructor(e,t){super(e),r(this,o,void 0),n(this,"data",void 0),this.name="ClientError",this.data=t||{}}toObject(){return{name:this.name,message:this.message,stack:this.stack,cause:this.cause,severityLevel:s(o,this),data:this.data}}static fromError(e){const t=new a(e.message);return"Error"!==e.name&&(t.name=e.name),t.stack=e.stack,t}}class c extends a{constructor(e,t){super(e,t),this.name="DataError"}}},5481:(e,t,i)=>{"use strict";i.d(t,{Z:()=>u});i(6265);var n=i(6101),r=(i(8324),i(4402)),s=i(7730);function o(e){const[t,i]=(0,s.Y)(()=>JSON.stringify(e));if(t)throw new r.D("Failed to stringify JSON: ".concat(t.message));return i}var a=i(4651),c=i(6410);let l=new Set;class u{static postErrorMsg(e,t){let i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];t?t.message="".concat(t.message," - ").concat(e):t=new r.X(e),this.postError(t,i)}static postError(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const i=e instanceof r.X?e:r.X.fromError(e),u=function(e){const t=e.toObject();return{errorType:t.name,errorMessage:t.message,errorStacktrace:t.stack,errorCause:t.cause,severityLevel:t.severityLevel,errorData:t.data}}(i),d={clientVersion:"5.1.1+0",href:encodeURIComponent(window.location.href)},h=Object.assign({},u,d);console.error(i,u);const[p,f]=(0,s.Y)(o.bind(this,h));if(p)return void this.postError(new r.X("Failed to stringify error JSON",{cause:p.message}),!0);const m=Math.floor(20*Math.random());var v,g,y;(t||!l.has(f)&&1===m)&&(l.add(f),v=f,(0,a.h)({method:"post",url:(0,c.Ev)()+"//"+n.z1.JDOMAIN+"/clientErrorLogging",contentType:"application/json",payload:v,success:e=>{g&&g(e)},error:e=>{y&&y(e)}}))}}},1746:(e,t,i)=>{"use strict";function n(e,t){return"".concat(t,"-").concat(e)}i.d(t,{l:()=>n})},6719:(e,t,i)=>{"use strict";i.d(t,{Yd:()=>l,ON:()=>o,pv:()=>a,Tj:()=>c});i(1057),i(6265);class n{constructor(e){this.section=e}trace(){}debug(){}info(){}warn(e){try{const r="function"==typeof e?e():e;for(var t=arguments.length,i=new Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];console.warn("[".concat(this.section,"]"),r,...i)}catch(e){}}error(e){try{const r="function"==typeof e?e():e;for(var t=arguments.length,i=new Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];console.error("[".concat(this.section,"]"),r,...i)}catch(e){try{console.error("[Logger] Failed to log error")}catch{}}}group(){}groupCollapsed(){}groupEnd(){}time(){}timeLog(){}timeEnd(){}measure(){return()=>{}}async timeAsync(e,t){return t()}}i(560);function r(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function s(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}const o={bg:"#1f75fe",text:"#ffffff"},a={core:{bg:"#00bf8f",text:"#ffffff"},video:{bg:"#de6f00ff",text:"#ffffff"},default:{bg:"#6b7280",text:"#ffffff"}};function c(){return Object.keys(a).filter(e=>"default"!==e)}class l{static get(e){const[t,i]=e.toLowerCase().split(":").map(e=>e.trim()),r="".concat(t,":").concat(i),s=i?"".concat(t,":").concat(r):t;let o=this.loggers.get(s);return o||(o=new n(e),this.loggers.set(s,o),o)}constructor(){}}s(l,"loggers",new Map),s(l,"formatter",new class{constructor(){r(this,"formatBuffer",[]),r(this,"styleBuffer",[]),r(this,"argBuffer",[]),r(this,"SPACER","background-color: unset;"),r(this,"RESET","")}NTV_PREFIX(e,t){return"background-color: ".concat(o.bg,"; ")+"color: ".concat(o.text,"; ")+"font-weight: bold; font-size: 10px; padding: 3px 5px 1px 5px; border-radius: 20px; "}LABEL(e,t){return"background-color: ".concat(e,"; ")+"color: ".concat(t,"; ")+"padding: 2px 6px; border-radius: 3px;"}addNtvPrefix(e,t){this.formatBuffer.push("%cN","%c "),this.styleBuffer.push(this.NTV_PREFIX(e,t),this.SPACER)}addLabel(e,t,i){this.formatBuffer.push("%c".concat(e,"%c")),this.styleBuffer.push(this.LABEL(t,i),this.SPACER)}log(e,t,i,n){this.formatBuffer.length=0,this.styleBuffer.length=0,this.argBuffer.length=0,this.addNtvPrefix(i,n),this.addLabel(t,i,n),this.formatBuffer.push("%c"),this.styleBuffer.push(this.RESET);for(var r=arguments.length,s=new Array(r>4?r-4:0),o=4;o<r;o++)s[o-4]=arguments[o];this.argBuffer.push(this.formatBuffer.join(""),...this.styleBuffer,...s),console[e](...this.argBuffer)}})},8913:(e,t,i)=>{"use strict";i.d(t,{bc:()=>m,_n:()=>b,Vn:()=>a,q$:()=>S,Iy:()=>l,nC:()=>d,ZP:()=>l});i(1057);var n=i(1611);i(560),i(6265);function r(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class s{constructor(e){r(this,"eventDispatcher",void 0),r(this,"relayDispatchers",[]),r(this,"hasExtendedEmitSupport",!0),this.eventDispatcher=e}addEventListener(e,t){this.eventDispatcher.addEventListener(e,t)}addEventListenerOnce(e,t){this.eventDispatcher.addEventListenerOnce&&this.eventDispatcher.addEventListenerOnce(e,t)}removeEventListener(e,t){this.eventDispatcher.removeEventListener(e,t)}emit(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;i>s.MAX_RELAY_COUNT?console.warn('MeshDecorator: Maximum relay depth exceeded for event "'.concat(e,'". This could indicate a circular relay chain or an overly deep relay structure. Stopping propagation to prevent infinite loop.')):(this.eventDispatcher.emit(e,t),this.relayDispatchers.forEach((n,r)=>{try{this.supportsExtendedEmit(n)?n.emit(e,t,i+1):n.emit(e,t)}catch(t){console.error("MeshDecorator: Error in relay dispatcher ".concat(r,' for event "').concat(e,'":'),t)}}))}supportsExtendedEmit(e){try{return"hasExtendedEmitSupport"in e&&!0===e.hasExtendedEmitSupport||e instanceof s}catch(e){return!1}}relayTo(e){if(e===this||e===this.eventDispatcher)throw new Error("Cannot relay to self - this would create a circular relay");if(!e)throw new Error("Cannot relay to null or undefined dispatcher");if("function"!=typeof e.emit)throw new Error("Dispatcher must have an emit method");this.relayDispatchers.push(e)}removeRelay(e){const t=this.relayDispatchers.indexOf(e);return t>-1&&(this.relayDispatchers.splice(t,1),!0)}getRelayDispatchers(){return[...this.relayDispatchers]}clearRelays(){this.relayDispatchers=[]}clear(){this.clearRelays(),"clear"in this.eventDispatcher&&"function"==typeof this.eventDispatcher.clear&&this.eventDispatcher.clear()}}function o(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}r(s,"MAX_RELAY_COUNT",10);class a{constructor(e,t){o(this,"decorator",void 0),o(this,"id",void 0),o(this,"trigger",this.publish),o(this,"on",this.subscribe),o(this,"off",this.unsubscribe),o(this,"once",this.subscribeOnce);const i=new l(e);this.decorator=new s(i,t),this.id=e||i.id||""}static compose(e,t){const i=e.id||"composed",n=Object.create(a.prototype);return n.decorator=new s(e,t),n.id="mesh-".concat(i),n}addEventListener(e,t){this.decorator.addEventListener(e,t)}addEventListenerOnce(e,t){var i,n;null===(i=(n=this.decorator).addEventListenerOnce)||void 0===i||i.call(n,e,t)}removeEventListener(e,t){this.decorator.removeEventListener(e,t)}emit(e,t,i){this.decorator.emit(e,t,i)}subscribe(e,t,i){return"subscribe"in this.decorator&&"function"==typeof this.decorator.subscribe?this.decorator.subscribe(e,t,i):(this.addEventListener(e,t),i||"default-key")}subscribeOnce(e,t,i){"subscribeOnce"in this.decorator&&"function"==typeof this.decorator.subscribeOnce?this.decorator.subscribeOnce(e,t,i):this.addEventListenerOnce&&this.addEventListenerOnce(e,t)}unsubscribe(e,t,i){return this.removeEventListener(e,t),!0}unsubscribeByKey(e,t){return!0}publish(e,t){this.emit(e,t)}clear(){this.decorator.clear()}relayTo(e){if(e===this)throw new Error("Cannot relay to self");this.decorator.relayTo(e)}removeRelay(e){return this.decorator.removeRelay(e)}getRelayDispatchers(){return this.decorator.getRelayDispatchers()}clearRelays(){this.decorator.clearRelays()}getActiveEventCount(){return this.decorator.getActiveEventCount()}clearActiveEvents(){this.decorator.clearActiveEvents()}get relayPubSubs(){return this.getRelayDispatchers()}}function c(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class l{constructor(e){c(this,"id",void 0),c(this,"map",void 0),c(this,"trigger",this.publish),c(this,"on",this.subscribe),c(this,"off",this.unsubscribe),c(this,"once",this.subscribeOnce),c(this,"addEventListener",this.subscribe),c(this,"removeEventListener",this.unsubscribe),this.id=e||"",this.map=new u}subscribe(e,t,i){const r=i||n.util.generateUniqueId();return this.map.addPubSubEntry(e,t,r),r}subscribeOnce(e,t,i){const r=i||n.util.generateUniqueId();this.subscribe(e,i=>{t(i),this.unsubscribeByKey(e,r)},r)}unsubscribe(e,t,i){return this.map.removePubSubEntry(e,t,i)}unsubscribeByKey(e,t){return this.map.removePubSubEntryByKey(e,t)}publish(e,t){this.map.getPubSubscribers(e).forEach(e=>{"function"==typeof e&&e(t)})}emit(e,t){this.publish(e,t)}addEventListenerOnce(e,t){this.subscribeOnce(e,t)}clear(){this.map.clear()}}class u{constructor(){c(this,"map",void 0),this.map={}}addPubSubEntry(e,t,i){this.map.hasOwnProperty(e)||(this.map[e]={}),this.map[e][i]=t}removePubSubEntry(e,t,i){if(!this.map.hasOwnProperty(e))return!1;let n=!1;if(i&&this.map[e].hasOwnProperty(i))delete this.map[e][i],n=!0;else for(const i in this.map[e])if(this.map[e][i]===t){delete this.map[e][i],n=!0;break}return n}removePubSubEntryByKey(e,t){if(!this.map.hasOwnProperty(e))return!1;const i=this.map[e].hasOwnProperty(t);return delete this.map[e][t],i}removePub(e){this.map.hasOwnProperty(e)&&delete this.map[e]}getPubSubscribers(e){return this.map.hasOwnProperty(e)?Object.values(this.map[e]):[]}hasSubscribers(e){return this.getPubSubscribers(e).length>0}clear(){this.map={}}}function d(e,t){e.on=t.subscribe.bind(t),e.addEventListener=t.subscribe.bind(t),e.once=t.subscribeOnce.bind(t),e.removeEventLIstener=t.unsubscribe.bind(t),e.off=t.unsubscribe.bind(t)}function h(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class p{constructor(e){h(this,"eventCache",new Map),h(this,"eventDispatcher",void 0),this.eventDispatcher=e}addEventListener(e,t){this.eventDispatcher.addEventListener(e,t)}addEventListenerOnce(e,t){this.eventDispatcher.addEventListenerOnce&&this.eventDispatcher.addEventListenerOnce(e,t)}removeEventListener(e,t){this.eventDispatcher.removeEventListener(e,t)}emit(e,t){this.eventCache.set(e,{data:t,timestamp:Date.now()}),this.eventDispatcher.emit(e,t)}addEventListenerWithCache(e,t){let i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this.addEventListener(e,t),i&&this.handleCachedEvent(e,t)}addEventListenerOnceWithCache(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2]){const i=this.eventCache.get(e);if(i){try{t(i.data)}catch(t){console.error("Error handling cached event ".concat(e,":"),t)}return}}this.addEventListenerOnce&&this.addEventListenerOnce(e,t)}handleCachedEvent(e,t){const i=this.eventCache.get(e);if(i)try{t(i.data)}catch(t){console.error("Error handling cached event ".concat(e,":"),t)}}getCachedEvent(e){return this.eventCache.get(e)||null}getAllCachedEvents(){return new Map(this.eventCache)}clearCachedEvents(e){e?this.eventCache.delete(e):this.eventCache.clear()}hasCachedEvent(e){return this.eventCache.has(e)}clear(){this.eventCache.clear(),"clear"in this.eventDispatcher&&"function"==typeof this.eventDispatcher.clear&&this.eventDispatcher.clear()}}function f(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class m{constructor(e){f(this,"decorator",void 0),f(this,"id",void 0),f(this,"trigger",this.publish),f(this,"on",this.subscribe),f(this,"off",this.unsubscribe),f(this,"once",this.subscribeOnce);const t=new l(e);this.decorator=new p(t),this.id=e||t.id||""}static compose(e){const t=e.id||"composed",i=Object.create(m.prototype);return i.decorator=new p(e),i.id="cached-".concat(t),i}addEventListener(e,t){this.decorator.addEventListener(e,t)}addEventListenerOnce(e,t){var i,n;null===(i=(n=this.decorator).addEventListenerOnce)||void 0===i||i.call(n,e,t)}removeEventListener(e,t){this.decorator.removeEventListener(e,t)}emit(e,t){this.decorator.emit(e,t)}subscribe(e,t,i){return"subscribe"in this.decorator&&"function"==typeof this.decorator.subscribe?this.decorator.subscribe(e,t,i):(this.addEventListener(e,t),i||"default-key")}subscribeOnce(e,t,i){"subscribeOnce"in this.decorator&&"function"==typeof this.decorator.subscribeOnce?this.decorator.subscribeOnce(e,t,i):this.addEventListenerOnce&&this.addEventListenerOnce(e,t)}unsubscribe(e,t,i){return this.removeEventListener(e,t),!0}unsubscribeByKey(e,t){return!0}publish(e,t){this.emit(e,t)}clear(){this.decorator.clear()}subscribeWithCache(e,t){let i=arguments.length>3?arguments[3]:void 0;return this.decorator.addEventListenerWithCache(e,t,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),i||"cache-key"}subscribeOnceWithCache(e,t){this.decorator.addEventListenerOnceWithCache(e,t,arguments.length>2&&void 0!==arguments[2]&&arguments[2])}getCachedEvent(e){return this.decorator.getCachedEvent(e)}getAllCachedEvents(){return this.decorator.getAllCachedEvents()}clearCachedEvents(e){this.decorator.clearCachedEvents(e)}hasCachedEvent(e){return this.decorator.hasCachedEvent(e)}}function v(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class g{constructor(e,t,i){v(this,"eventDispatcher",void 0),v(this,"element",void 0),v(this,"eventMap",void 0),this.element=e,this.eventDispatcher=t,this.eventMap=i instanceof Map?i:void 0}addEventListener(e,t){this.eventDispatcher.addEventListener(e,t)}addEventListenerOnce(e,t){this.eventDispatcher.addEventListenerOnce&&this.eventDispatcher.addEventListenerOnce(e,t)}removeEventListener(e,t){this.eventDispatcher.removeEventListener(e,t)}emit(e,t){this.eventDispatcher.emit(e,t),this.dispatchToDOM(e,t)}dispatchToDOM(e,t){var i;const n=(null===(i=this.eventMap)||void 0===i?void 0:i.get(e))||e,r={relayEvent:e,topic:this.getDispatcherId(),data:t};this.element.dispatchEvent(new CustomEvent(n,{detail:r,bubbles:!0,composed:!0}))}getDispatcherId(){return"id"in this.eventDispatcher&&"string"==typeof this.eventDispatcher.id?this.eventDispatcher.id:"dom-dispatcher"}setEventMap(e){this.eventMap=e instanceof Map?e:void 0}getEventMap(){return this.eventMap}getElement(){return this.element}setElement(e){this.element=e}clear(){"clear"in this.eventDispatcher&&"function"==typeof this.eventDispatcher.clear&&this.eventDispatcher.clear()}}function y(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class b{constructor(e,t,i){y(this,"decorator",void 0),y(this,"id",void 0),y(this,"trigger",this.publish),y(this,"on",this.subscribe),y(this,"off",this.unsubscribe),y(this,"once",this.subscribeOnce);const n=new l(i);this.decorator=new g(e,n,t),this.id=i||n.id||""}static compose(e,t,i){const n=t.id||"composed",r=Object.create(b.prototype);return r.decorator=new g(e,t,i),r.id="dispatch-".concat(n),r}addEventListener(e,t){this.decorator.addEventListener(e,t)}addEventListenerOnce(e,t){var i,n;null===(i=(n=this.decorator).addEventListenerOnce)||void 0===i||i.call(n,e,t)}removeEventListener(e,t){this.decorator.removeEventListener(e,t)}emit(e,t){this.decorator.emit(e,t)}subscribe(e,t,i){return"subscribe"in this.decorator&&"function"==typeof this.decorator.subscribe?this.decorator.subscribe(e,t,i):(this.addEventListener(e,t),i||"default-key")}subscribeOnce(e,t,i){"subscribeOnce"in this.decorator&&"function"==typeof this.decorator.subscribeOnce?this.decorator.subscribeOnce(e,t,i):this.addEventListenerOnce&&this.addEventListenerOnce(e,t)}unsubscribe(e,t,i){return this.removeEventListener(e,t),!0}unsubscribeByKey(e,t){return!0}publish(e,t){this.emit(e,t)}clear(){this.decorator.clear()}setEventMap(e){this.decorator.setEventMap(e)}getEventMap(){return this.decorator.getEventMap()}getElement(){return this.decorator.getElement()}setElement(e){this.decorator.setElement(e)}}function E(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class w{constructor(e){E(this,"eventDispatcher",void 0),E(this,"listenerMap",new WeakMap),this.eventDispatcher=e}addEventListener(e,t){const i=i=>{const n=new Event(e);t(n,i)};this.listenerMap.set(t,i),this.eventDispatcher.addEventListener(e,i)}addEventListenerOnce(e,t){if(this.eventDispatcher.addEventListenerOnce){const i=i=>{const n=new Event(e);t(n,i)};this.listenerMap.set(t,i),this.eventDispatcher.addEventListenerOnce(e,i)}}removeEventListener(e,t){const i=this.listenerMap.get(t);i?(this.eventDispatcher.removeEventListener(e,i),this.listenerMap.delete(t)):this.eventDispatcher.removeEventListener(e,t)}emit(e,t){this.eventDispatcher.emit(e,t)}clear(){"clear"in this.eventDispatcher&&"function"==typeof this.eventDispatcher.clear&&this.eventDispatcher.clear(),this.listenerMap=new WeakMap}}function T(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class S{constructor(e){T(this,"trigger",this.publish),T(this,"on",this.subscribe),T(this,"off",this.unsubscribe),T(this,"once",this.subscribeOnce);const t=new l(e);this.decorator=new w(t),this.id=e||t.id||""}static compose(e){const t=e.id||"composed",i=Object.create(S.prototype);return i.decorator=new w(e),i.id="public-".concat(t),i}addEventListener(e,t){this.decorator.addEventListener(e,t)}addEventListenerOnce(e,t){this.decorator.addEventListenerOnce&&this.decorator.addEventListenerOnce(e,t)}removeEventListener(e,t){this.decorator.removeEventListener(e,t)}emit(e,t){this.decorator.emit(e,t)}subscribe(e,t,i){return"subscribe"in this.decorator&&"function"==typeof this.decorator.subscribe?this.decorator.subscribe(e,t,i):(this.addEventListener(e,t),i||"default-key")}subscribeOnce(e,t,i){"subscribeOnce"in this.decorator&&"function"==typeof this.decorator.subscribeOnce?this.decorator.subscribeOnce(e,t,i):this.addEventListenerOnce&&this.addEventListenerOnce(e,t)}unsubscribe(e,t,i){return this.removeEventListener(e,t),!0}unsubscribeByKey(e,t){return!0}publish(e,t){this.emit(e,t)}clear(){this.decorator.clear()}}},3289:(e,t,i)=>{"use strict";i.d(t,{B7:()=>a,U6:()=>o,vo:()=>s});i(1057);var n=i(8913);function r(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}const s={TIME_TRIGGER_EVENT:"time-trigger-event",TIME_PAUSE_EVENT:"time-halt-event"},o={TIME_ON_CONTENT:"time-on-content-trigger-event",TIME_ON_CONTENT_HALT:"time-on-content-halted-event"};class a{constructor(e,t){r(this,"startTime",0),r(this,"elapsedTime",0),r(this,"running",!1),r(this,"triggered",!1),r(this,"interval",void 0),r(this,"pubSub",new n.ZP),r(this,"triggerEventKey",void 0),r(this,"haltEventKey",void 0),this.interval=e,this.triggerEventKey=(null==t?void 0:t.triggerEvent)||s.TIME_TRIGGER_EVENT,this.haltEventKey=(null==t?void 0:t.haltEvent)||s.TIME_PAUSE_EVENT}start(){this.running||(this.running=!0,this.triggered=!1,this.elapsedTime=0,this.startTime=performance.now())}resume(){this.running||(this.running=!0,this.startTime=performance.now())}pause(){this.running&&(this.running=!1,this.elapsedTime+=performance.now()-this.startTime,this.pubSub.publish(this.haltEventKey,{elapsed:this.elapsedTime,duration:this.interval}))}reset(){this.pause(),this.triggered=!1,this.elapsedTime=0}getElapsedTime(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:performance.now();return this.running?this.elapsedTime+(e-this.startTime):this.elapsedTime}shouldTrigger(e){if(!this.running||this.triggered)return!1;return this.getElapsedTime(e)>=this.interval}trigger(){if(this.triggered||!this.running)return;const e=performance.now(),t=this.getElapsedTime(e);t>=this.interval&&(this.triggered=!0,this.running=!1,this.pubSub.publish(this.triggerEventKey,{elapsed:t,duration:this.interval}))}addEventListener(e,t){this.pubSub.subscribe(e,t)}addEventListenerOnce(e,t){this.pubSub.subscribeOnce(e,t)}removeEventListener(e,t){this.pubSub.unsubscribe(e,t)}emit(e,t){this.pubSub.emit(e,t)}setInterval(e){if(this.running)throw new Error("Cannot change interval while timer is running. Pause the timer first.");this.interval=e}}},7730:(e,t,i)=>{"use strict";i.d(t,{Y:()=>n,Z:()=>r});const n=e=>{try{return[null,e()]}catch(e){return[e,null]}},r=async e=>{try{return[null,await e()]}catch(e){return[e,null]}}},6410:(e,t,i)=>{"use strict";i.d(t,{Ev:()=>l,Me:()=>u,Qb:()=>a,_G:()=>c,bl:()=>d,yt:()=>h});i(1057),i(6801),i(560),i(4043),i(7267),i(3429);var n=i(1171),r=i(4862),s=i(1498);function o(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class a{constructor(e,t){o(this,"key",void 0),o(this,"value",void 0),this.key=e,this.value=t}isValid(){return null!=this.key&&null!=this.value}toString(){return null==this.key||null==this.value?"":"".concat(this.key,"=").concat(this.value)}}function c(e,t){try{if(!e.isValid())return t;const i=t.search(/ntv_r/);return i>=0?(0,s._D)("".concat(e.toString(),"&"),t,i):function(e,t){return function(e){return e.includes("?")}(t)?t+="&".concat(e.toString()):t+="?".concat(e.toString())}(e,t)}catch(e){return t}}function l(){return"https:"}function u(e){let t=!1,i=e,n="";const s=(0,r.W)("settings"),o=s.get("adBlocker"),a=s.get("adBlockerDomain");if(o&&e.indexOf(a)>=0)try{let r=e.split("/");i=h(r[r.length-1]),i.startsWith("proxyTracking/")?i=i.replace("proxyTracking/",""):i.startsWith("https://proxyTracking/")&&(i=i.replace("https://proxyTracking/","")),t=!0,n=r[r.length-2]}catch(e){}return{decodedUrl:i,isDecoded:t,domain:n}}function d(e,t){let i=[72,-124,36];i.push(t?50:Number(new Date)/864e5&255);var r=p(e,i),s=i.concat(r);return(0,n.sM)(s)}function h(e){e=(e=e.replace(/[-]/g,"+")).replace(/[_]/g,"/");let t=atob(e),i=[];for(o=0;o<t.length;o++)i[o]=t.charCodeAt(o);let n=i.slice(0,4),r=p(e=t.substring(4),n),s="";for(var o=0;o<r.length;o++)s+=String.fromCharCode(r[o]);return s}function p(e,t){for(var i=[],n=0;n<e.length;n++)i.push(t[n%t.length]^e.charCodeAt(n));return i}},5998:(e,t,i)=>{"use strict";i.d(t,{R:()=>n,k:()=>r});const n={PAUSE:1,RESTART:2,PLAY:3},r={NONE:0,DEFAULT_TEMPLATE:1,COLLAPSED_VIDEO_TEMPLATE:2,EXPANDED_VIDEO_TEMPLATE:4,PRE_EXPANDED_VIDEO_TEMPLATE:8,JUMPSTART_TEMPLATE:16,BANNER_TEMPLATE:32}},6046:(e,t,i)=>{"use strict";function n(e,t){e.wrapper&&(e.wrapper.style.aspectRatio=t,e.wrapper.dataset.ntvVideoAspectRatio=t)}function r(e){return e.wrapper?e.wrapper.dataset.ntvVideoAspectRatio:null}i.d(t,{c:()=>n,j:()=>r})},25:(e,t,i)=>{"use strict";i.d(t,{v:()=>r});i(1057);function n(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class r{constructor(e){n(this,"items",[]),n(this,"currentIndex",0),this.items=this.buildPrioritizedItems(e)}next(){return this.currentIndex>=this.items.length?null:this.items[this.currentIndex++].item}hasNext(){return this.currentIndex<this.items.length}reset(){this.currentIndex=0}getCount(){return this.items.length}getCurrentIndex(){return this.currentIndex}getAllItems(){return this.items.map(e=>e.item)}sortAndFilter(e,t){return(t?e.filter(e=>t(e.item)):e).sort((e,t)=>e.priority-t.priority)}peek(){return this.currentIndex>=this.items.length?null:this.items[this.currentIndex].item}getRemainingCount(){return Math.max(0,this.items.length-this.currentIndex)}isExhausted(){return this.currentIndex>=this.items.length}}},8e3:(e,t,i)=>{"use strict";i.d(t,{n:()=>r});i(1057),i(6801),i(6265);var n=i(262);class r{isDirect(){return this.getType()===n.V.DIRECT}isMulti(){return this.getType()===n.V.MULTI}isVAST(){return this.getType()===n.V.VAST}inferMimeType(e){var t;switch(null===(t=e.split(".").pop())||void 0===t?void 0:t.toLowerCase()){case"mp4":return"video/mp4";case"webm":return"video/webm";case"ogg":return"video/ogg";case"m3u8":return"application/x-mpegURL";case"mpd":return"application/dash+xml";default:return"video/mp4"}}static isVASTUrl(e){if(!e||"string"!=typeof e)return!1;const t=e.toLowerCase();return!!t.includes(".xml")||(!(!t.includes("vast")&&!t.includes("vmap"))||!(!t.includes("adtag")&&!t.includes("ad_tag")))}static async create(e){if(e.src){if("string"==typeof e.src){const{DirectVideoSource:t}=await Promise.resolve().then(i.bind(i,2829));return new t(e.src)}{const{DirectVideoSource:t}=await Promise.resolve().then(i.bind(i,2829));return new t(e.src)}}if(e.sources&&e.sources.length>0){if(1===e.sources.length){const t=e.sources[0],{DirectVideoSource:n}=await Promise.resolve().then(i.bind(i,2829));return new n(t)}{const{MultiDirectVideoSource:t}=await Promise.resolve().then(i.bind(i,7057));return new t(e.sources)}}throw new Error("No valid video source configuration provided")}}},2829:(e,t,i)=>{"use strict";i.d(t,{DirectVideoSource:()=>o});i(1057);var n=i(8e3),r=i(262);function s(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class o extends n.n{constructor(e){super(),s(this,"videoSource",void 0),s(this,"initialized",!1),this.videoSource="string"==typeof e?{src:e,type:this.inferMimeType(e)}:{src:e.src,type:e.type||this.inferMimeType(e.src)}}async initialize(){this.initialized=!0}getType(){return r.V.DIRECT}getSrc(){return this.videoSource.src}getVideoJSConfig(){return{sources:[this.videoSource]}}getVideoSource(){return{...this.videoSource}}}},7057:(e,t,i)=>{"use strict";i.d(t,{MultiDirectVideoSource:()=>o});i(1057),i(6265);var n=i(8e3),r=i(262);function s(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class o extends n.n{constructor(e){super(),s(this,"videoSources",[]),s(this,"initialized",!1),this.videoSources=this.normalizeSources(e)}async initialize(){this.initialized=!0}getType(){return r.V.MULTI}getVideoJSConfig(){return{sources:this.videoSources}}getAllSources(){return[...this.videoSources]}getSourceCount(){return this.videoSources.length}getPrimarySource(){return this.videoSources[0]||null}normalizeSources(e){return e.map(e=>"string"==typeof e?{src:e,type:this.inferMimeType(e)}:{src:e.src,type:e.type||this.inferMimeType(e.src)})}}},262:(e,t,i)=>{"use strict";i.d(t,{V:()=>n});let n=function(e){return e.DIRECT="direct",e.MULTI="multi",e.VAST="vast",e}({})},3204:e=>{"use strict";const t=(e,t)=>{if("string"!=typeof e&&!Array.isArray(e))throw new TypeError("Expected the input to be `string | string[]`");t=Object.assign({pascalCase:!1},t);if(0===(e=Array.isArray(e)?e.map(e=>e.trim()).filter(e=>e.length).join("-"):e.trim()).length)return"";if(1===e.length)return t.pascalCase?e.toUpperCase():e.toLowerCase();return e!==e.toLowerCase()&&(e=(e=>{let t=!1,i=!1,n=!1;for(let r=0;r<e.length;r++){const s=e[r];t&&/[a-zA-Z]/.test(s)&&s.toUpperCase()===s?(e=e.slice(0,r)+"-"+e.slice(r),t=!1,n=i,i=!0,r++):i&&n&&/[a-zA-Z]/.test(s)&&s.toLowerCase()===s?(e=e.slice(0,r-1)+"-"+e.slice(r-1),n=i,i=!1,t=!0):(t=s.toLowerCase()===s&&s.toUpperCase()!==s,n=i,i=s.toUpperCase()===s&&s.toLowerCase()!==s)}return e})(e)),e=e.replace(/^[_.\- ]+/,"").toLowerCase().replace(/[_.\- ]+(\w|$)/g,(e,t)=>t.toUpperCase()).replace(/\d+(\w|$)/g,e=>e.toUpperCase()),i=e,t.pascalCase?i.charAt(0).toUpperCase()+i.slice(1):i;var i};e.exports=t,e.exports.default=t},7310:(e,t,i)=>{"use strict";e.exports=i(2702).polyfill()},2702:function(e,t,i){e.exports=function(){"use strict";function e(e){return"function"==typeof e}var t=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},n=0,r=void 0,s=void 0,o=function(e,t){p[n]=e,p[n+1]=t,2===(n+=2)&&(s?s(f):b())},a="undefined"!=typeof window?window:void 0,c=a||{},l=c.MutationObserver||c.WebKitMutationObserver,u="undefined"==typeof self&&"undefined"!=typeof process&&"[object process]"==={}.toString.call(process),d="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel;function h(){var e=setTimeout;return function(){return e(f,1)}}var p=new Array(1e3);function f(){for(var e=0;e<n;e+=2)(0,p[e])(p[e+1]),p[e]=void 0,p[e+1]=void 0;n=0}var m,v,g,y,b=void 0;function E(e,t){var i=this,n=new this.constructor(S);void 0===n[T]&&L(n);var r=i._state;if(r){var s=arguments[r-1];o((function(){return O(r,n,s,i._result)}))}else R(i,n,e,t);return n}function w(e){if(e&&"object"==typeof e&&e.constructor===this)return e;var t=new this(S);return I(t,e),t}u?b=function(){return process.nextTick(f)}:l?(v=0,g=new l(f),y=document.createTextNode(""),g.observe(y,{characterData:!0}),b=function(){y.data=v=++v%2}):d?((m=new MessageChannel).port1.onmessage=f,b=function(){return m.port2.postMessage(0)}):b=void 0===a?function(){try{var e=Function("return this")().require("vertx");return void 0!==(r=e.runOnLoop||e.runOnContext)?function(){r(f)}:h()}catch(e){return h()}}():h();var T=Math.random().toString(36).substring(2);function S(){}function A(t,i,n){i.constructor===t.constructor&&n===E&&i.constructor.resolve===w?function(e,t){1===t._state?C(e,t._result):2===t._state?k(e,t._result):R(t,void 0,(function(t){return I(e,t)}),(function(t){return k(e,t)}))}(t,i):void 0===n?C(t,i):e(n)?function(e,t,i){o((function(e){var n=!1,r=function(e,t,i,n){try{e.call(t,i,n)}catch(e){return e}}(i,t,(function(i){n||(n=!0,t!==i?I(e,i):C(e,i))}),(function(t){n||(n=!0,k(e,t))}));!n&&r&&(n=!0,k(e,r))}),e)}(t,i,n):C(t,i)}function I(e,t){if(e===t)k(e,new TypeError("You cannot resolve a promise with itself"));else if(r=typeof(n=t),null===n||"object"!==r&&"function"!==r)C(e,t);else{var i=void 0;try{i=t.then}catch(t){return void k(e,t)}A(e,t,i)}var n,r}function P(e){e._onerror&&e._onerror(e._result),D(e)}function C(e,t){void 0===e._state&&(e._result=t,e._state=1,0!==e._subscribers.length&&o(D,e))}function k(e,t){void 0===e._state&&(e._state=2,e._result=t,o(P,e))}function R(e,t,i,n){var r=e._subscribers,s=r.length;e._onerror=null,r[s]=t,r[s+1]=i,r[s+2]=n,0===s&&e._state&&o(D,e)}function D(e){var t=e._subscribers,i=e._state;if(0!==t.length){for(var n=void 0,r=void 0,s=e._result,o=0;o<t.length;o+=3)r=t[o+i],(n=t[o])?O(i,n,r,s):r(s);e._subscribers.length=0}}function O(t,i,n,r){var s=e(n),o=void 0,a=void 0,c=!0;if(s){try{o=n(r)}catch(e){c=!1,a=e}if(i===o)return void k(i,new TypeError("A promises callback cannot return that same promise."))}else o=r;void 0!==i._state||(s&&c?I(i,o):!1===c?k(i,a):1===t?C(i,o):2===t&&k(i,o))}var _=0;function L(e){e[T]=_++,e._state=void 0,e._result=void 0,e._subscribers=[]}var N=function(){function e(e,i){this._instanceConstructor=e,this.promise=new e(S),this.promise[T]||L(this.promise),t(i)?(this.length=i.length,this._remaining=i.length,this._result=new Array(this.length),0===this.length?C(this.promise,this._result):(this.length=this.length||0,this._enumerate(i),0===this._remaining&&C(this.promise,this._result))):k(this.promise,new Error("Array Methods must be provided an Array"))}return e.prototype._enumerate=function(e){for(var t=0;void 0===this._state&&t<e.length;t++)this._eachEntry(e[t],t)},e.prototype._eachEntry=function(e,t){var i=this._instanceConstructor,n=i.resolve;if(n===w){var r=void 0,s=void 0,o=!1;try{r=e.then}catch(e){o=!0,s=e}if(r===E&&void 0!==e._state)this._settledAt(e._state,t,e._result);else if("function"!=typeof r)this._remaining--,this._result[t]=e;else if(i===x){var a=new i(S);o?k(a,s):A(a,e,r),this._willSettleAt(a,t)}else this._willSettleAt(new i((function(t){return t(e)})),t)}else this._willSettleAt(n(e),t)},e.prototype._settledAt=function(e,t,i){var n=this.promise;void 0===n._state&&(this._remaining--,2===e?k(n,i):this._result[t]=i),0===this._remaining&&C(n,this._result)},e.prototype._willSettleAt=function(e,t){var i=this;R(e,void 0,(function(e){return i._settledAt(1,t,e)}),(function(e){return i._settledAt(2,t,e)}))},e}(),x=function(){function t(e){this[T]=_++,this._result=this._state=void 0,this._subscribers=[],S!==e&&("function"!=typeof e&&function(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}(),this instanceof t?function(e,t){try{t((function(t){I(e,t)}),(function(t){k(e,t)}))}catch(t){k(e,t)}}(this,e):function(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}())}return t.prototype.catch=function(e){return this.then(null,e)},t.prototype.finally=function(t){var i=this.constructor;return e(t)?this.then((function(e){return i.resolve(t()).then((function(){return e}))}),(function(e){return i.resolve(t()).then((function(){throw e}))})):this.then(t,t)},t}();return x.prototype.then=E,x.all=function(e){return new N(this,e).promise},x.race=function(e){var i=this;return t(e)?new i((function(t,n){for(var r=e.length,s=0;s<r;s++)i.resolve(e[s]).then(t,n)})):new i((function(e,t){return t(new TypeError("You must pass an array to race."))}))},x.resolve=w,x.reject=function(e){var t=new this(S);return k(t,e),t},x._setScheduler=function(e){s=e},x._setAsap=function(e){o=e},x._asap=o,x.polyfill=function(){var e=void 0;if(void 0!==i.g)e=i.g;else if("undefined"!=typeof self)e=self;else try{e=Function("return this")()}catch(e){throw new Error("polyfill failed because global object is unavailable in this environment")}var t=e.Promise;if(t){var n=null;try{n=Object.prototype.toString.call(t.resolve())}catch(e){}if("[object Promise]"===n&&!t.cast)return}e.Promise=x},x.Promise=x,x}()},5596:e=>{"use strict";var t=["handshakeVersion","initAd","startAd","stopAd","skipAd","resizeAd","pauseAd","resumeAd","expandAd","collapseAd","subscribe","unsubscribe"];function i(e,t,i){}i.prototype.handshakeVersion=function(e,t){},i.prototype.initAd=function(e,t,i,n,r,s,o){},i.prototype.startAd=function(e){},i.prototype.stopAd=function(e){},i.prototype.skipAd=function(e){},i.prototype.resizeAd=function(e,t,i,n){},i.prototype.pauseAd=function(e){},i.prototype.resumeAd=function(e){},i.prototype.expandAd=function(e){},i.prototype.collapseAd=function(e){},i.prototype.subscribe=function(e,t,i){},i.prototype.unsubscribe=function(e,t){},i.prototype.getAdLinear=function(e){},i.prototype.getAdWidth=function(e){},i.prototype.getAdHeight=function(e){},i.prototype.getAdExpanded=function(e){},i.prototype.getAdSkippableState=function(e){},i.prototype.getAdRemainingTime=function(e){},i.prototype.getAdDuration=function(e){},i.prototype.getAdVolume=function(e){},i.prototype.getAdCompanions=function(e){},i.prototype.getAdIcons=function(e){},i.prototype.setAdVolume=function(e,t){},r(i,"METHODS",t),r(i,"GETTERS",["getAdLinear","getAdWidth","getAdHeight","getAdExpanded","getAdSkippableState","getAdRemainingTime","getAdDuration","getAdVolume","getAdCompanions","getAdIcons"]),r(i,"SETTERS",["setAdVolume"]),r(i,"EVENTS",["AdLoaded","AdStarted","AdStopped","AdSkipped","AdSkippableStateChange","AdSizeChange","AdLinearChange","AdDurationChange","AdExpandedChange","AdRemainingTimeChange","AdVolumeChange","AdImpression","AdVideoStart","AdVideoFirstQuartile","AdVideoMidpoint","AdVideoThirdQuartile","AdVideoComplete","AdClickThru","AdInteraction","AdUserAcceptInvitation","AdUserMinimize","AdUserClose","AdPaused","AdPlaying","AdLog","AdError"]);var n=t.filter((function(e){return-1===["skipAd"].indexOf(e)}));function r(e,t,i){Object.defineProperty(e,t,{writable:!1,configurable:!1,value:i})}r(i,"checkVPAIDInterface",(function(e){return n.every((function(t){return"function"==typeof e[t]}))})),e.exports=i},7013:(e,t,i)=>{"use strict";var n=i(5596),r=i(3437),s=n.checkVPAIDInterface,o=i(8077),a=n.EVENTS.filter((function(e){return"AdClickThru"!=e}));function c(e,t,i,n){this._isValid=s(e),this._isValid&&(this._creative=e,this._el=t,this._videoEl=i,this._iframe=n,this._subscribers=new r,o.setFullSizeStyle(t),l.call(this))}function l(){if(a.forEach(function(e){this._creative.subscribe(d.bind(this,e),e)}.bind(this)),this._creative.subscribe(u.bind(this),"AdClickThru"),this._videoEl){var e=this._iframe.contentDocument.documentElement,t=this._videoEl;e.addEventListener("click",(function(i){i.target===e&&t.click()}))}}function u(e,t,i){this._subscribers.triggerSync("AdClickThru",{url:e,id:t,playerHandles:i})}function d(e){this._subscribers.trigger(e,Array.prototype.slice(arguments,1))}function h(e,t,i,n){e?e(i,n):i&&t.trigger("AdError",i)}(c.prototype=Object.create(n.prototype)).isValidVPAIDAd=function(){return this._isValid},n.METHODS.forEach((function(e){-1===["subscribe","unsubscribe","initAd"].indexOf(e)&&(c.prototype[e]=function(){var t=n.prototype[e].length,i=Array.prototype.slice.call(arguments),r=t===i.length?i.pop():void 0;setTimeout(function(){var t,n=null;try{t=this._creative[e].apply(this._creative,i)}catch(e){n=e}h(r,this._subscribers,n,t)}.bind(this),0)})})),c.prototype.initAd=function(e,t,i,n,r,s,a){r=r||{},s=o.extend({slot:this._el,videoSlot:this._videoEl},s||{}),setTimeout(function(){var o;try{this._creative.initAd(e,t,i,n,r,s)}catch(e){o=e}h(a,this._subscribers,o)}.bind(this),0)},c.prototype.subscribe=function(e,t,i){this._subscribers.subscribe(t,e,i)},c.prototype.unsubscribe=function(e,t){this._subscribers.unsubscribe(t,e)},c.prototype.on=c.prototype.subscribe,c.prototype.off=c.prototype.unsubscribe,n.GETTERS.forEach((function(e){c.prototype[e]=function(t){setTimeout(function(){var i,n=null;try{i=this._creative[e]()}catch(e){n=e}h(t,this._subscribers,n,i)}.bind(this),0)}})),c.prototype.setAdVolume=function(e,t){setTimeout(function(){var i,n=null;try{this._creative.setAdVolume(e),i=this._creative.getAdVolume()}catch(e){n=e}n||(n=o.validate(i===e,"failed to apply volume: "+e)),h(t,this._subscribers,n,i)}.bind(this),0)},c.prototype._destroy=function(){this.stopAd(),this._subscribers.unsubscribeAll()},e.exports=c},1178:(e,t,i)=>{"use strict";var n=i(8077),r=n.unique("vpaidIframe"),s=i(7013);function o(e,t,i,s){i=i||{},this._id=r(),this._destroyed=!1,this._frameContainer=n.createElementInEl(e,"div"),this._videoEl=t,this._vpaidOptions=s||{timeout:1e4},this._templateConfig={template:i.template||'<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"></head><body style="margin:0;padding:0"><div class="ad-element"></div><script type="text/javascript" src="{{iframeURL_JS}}"><\/script><script type="text/javascript">window.parent.postMessage(\'{"event": "ready", "id": "{{iframeID}}"}\', \'{{origin}}\');<\/script></body></html>',extraOptions:i.extraOptions||{}}}function a(e){var t=this[e];t&&(t.remove(),delete this[e])}function c(){u.call(this),delete this._adUnit}function l(){u.call(this),h.call(this)}function u(){a.call(this,"_frame"),d.call(this)}function d(){this._onLoad&&(window.removeEventListener("message",this._onLoad),n.clearCallbackTimeout(this._onLoad),delete this._onLoad)}function h(){this._adUnit&&(this._adUnit.stopAd(),delete this._adUnit)}function p(){if(this._destroyed)throw new Error("VPAIDHTML5Client already destroyed!")}function f(){return window.location.origin?window.location.origin:window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:"")}o.prototype.destroy=function(){this._destroyed||(this._destroyed=!0,l.call(this))},o.prototype.isDestroyed=function(){return this._destroyed},o.prototype.loadAdUnit=function(e,t){p.call(this),l.call(this);var i=this,r=n.createIframeWithContent(this._frameContainer,this._templateConfig.template,n.extend({iframeURL_JS:e,iframeID:this.getID(),origin:f()},this._templateConfig.extraOptions));this._frame=r,this._onLoad=n.callbackTimeout(this._vpaidOptions.timeout,function(e){if(e.origin!==f())return;var r,o,a;if(JSON.parse(e.data).id!==i.getID())return;o=i._frame.contentWindow?n.validate("function"==typeof(a=i._frame.contentWindow.getVPAIDAd),"the ad didn't return a function to create an ad"):"the iframe is not anymore in the DOM tree";if(!o){var l=i._frame.contentWindow.document.querySelector(".ad-element");(r=new s(a(),l,i._videoEl,i._frame)).subscribe("AdStopped",c.bind(i)),o=n.validate(r.isValidVPAIDAd(),"the add is not fully complaint with VPAID specification")}return i._adUnit=r,d.call(i),t(o,o?null:r),!0}.bind(this),function(){t("timeout",null)}.bind(this)),window.addEventListener("message",this._onLoad)},o.prototype.unloadAdUnit=function(){l.call(this)},o.prototype.getID=function(){return this._id},e.exports=o},3437:e=>{"use strict";function t(){this._subscribers={}}t.prototype.subscribe=function(e,t,i){this.isHandlerAttached(e,t)||this.get(t).push({handler:e,context:i,eventName:t})},t.prototype.unsubscribe=function(e,t){this._subscribers[t]=this.get(t).filter((function(t){return e!==t.handler}))},t.prototype.unsubscribeAll=function(){this._subscribers={}},t.prototype.trigger=function(e,t){var i=this;this.get(e).concat(this.get("*")).forEach((function(e){setTimeout((function(){i.isHandlerAttached(e.handler,e.eventName)&&e.handler.call(e.context,t)}),0)}))},t.prototype.triggerSync=function(e,t){this.get(e).concat(this.get("*")).forEach((function(e){e.handler.call(e.context,t)}))},t.prototype.get=function(e){return this._subscribers[e]||(this._subscribers[e]=[]),this._subscribers[e]},t.prototype.isHandlerAttached=function(e,t){return this.get(t).some((function(t){return e===t.handler}))},e.exports=t},8077:e=>{"use strict";function t(){}var i={};function n(e){var t=i[e];t&&(clearTimeout(t),delete i[e])}function r(e,t,i){var n=document.createElement("iframe");return n.src=t||"about:blank",n.marginWidth="0",n.marginHeight="0",n.frameBorder="0",n.width="100%",n.height="100%",s(n),i&&(n.style.zIndex=i),n.setAttribute("SCROLLING","NO"),e.innerHTML="",e.appendChild(n),n}function s(e){e.style.position="absolute",e.style.left="0",e.style.top="0",e.style.margin="0px",e.style.padding="0px",e.style.border="none",e.style.width="100%",e.style.height="100%"}function o(e,t){return Object.keys(t).forEach((function(i){var n="object"==typeof n?JSON.stringify(t[i]):t[i];e=e.replace(new RegExp("{{"+i+"}}","g"),n)})),e}function a(e,t){var i=e.contentWindow&&e.contentWindow.document;return!!i&&(i.write(t),!0)}e.exports={noop:t,validate:function(e,t){return e?null:new Error(t)},clearCallbackTimeout:n,callbackTimeout:function(e,r,s){var o,a;return a=setTimeout((function(){r=t,delete a[o],s()}),e),i[o=function(){r.apply(this,arguments)&&n(o)}]=a,o},createElementInEl:function(e,t,i){var n=document.createElement(t);return i&&(n.id=i),e.appendChild(n),n},createIframeWithContent:function(e,t,i){var n=r(e,null,i.zIndex);if(a(n,o(t,i)))return n},createIframe:r,setFullSizeStyle:s,simpleTemplate:o,setIframeContent:a,extend:function(e,t){return Object.keys(t).forEach((function(i){e[i]=t[i]})),e},unique:function(e){var t=-1;return function(){return e+"_"+ ++t}}}},509:(e,t,i)=>{"use strict";var n=i(9985),r=i(3691),s=TypeError;e.exports=function(e){if(n(e))return e;throw new s(r(e)+" is not a function")}},2655:(e,t,i)=>{"use strict";var n=i(9429),r=i(3691),s=TypeError;e.exports=function(e){if(n(e))return e;throw new s(r(e)+" is not a constructor")}},3550:(e,t,i)=>{"use strict";var n=i(598),r=String,s=TypeError;e.exports=function(e){if(n(e))return e;throw new s("Can't set "+r(e)+" as a prototype")}},7370:(e,t,i)=>{"use strict";var n=i(4201),r=i(5391),s=i(2560).f,o=n("unscopables"),a=Array.prototype;void 0===a[o]&&s(a,o,{configurable:!0,value:r(null)}),e.exports=function(e){a[o][e]=!0}},1514:(e,t,i)=>{"use strict";var n=i(730).charAt;e.exports=function(e,t,i){return t+(i?n(e,t).length:1)}},767:(e,t,i)=>{"use strict";var n=i(3622),r=TypeError;e.exports=function(e,t){if(n(t,e))return e;throw new r("Incorrect invocation")}},5027:(e,t,i)=>{"use strict";var n=i(8999),r=String,s=TypeError;e.exports=function(e){if(n(e))return e;throw new s(r(e)+" is not an object")}},7075:e=>{"use strict";e.exports="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView},3050:(e,t,i)=>{"use strict";var n=i(2743),r=i(6648),s=TypeError;e.exports=n(ArrayBuffer.prototype,"byteLength","get")||function(e){if("ArrayBuffer"!==r(e))throw new s("ArrayBuffer expected");return e.byteLength}},2961:(e,t,i)=>{"use strict";var n=i(8844),r=i(3050),s=n(ArrayBuffer.prototype.slice);e.exports=function(e){if(0!==r(e))return!1;try{return s(e,0,0),!1}catch(e){return!0}}},9195:(e,t,i)=>{"use strict";var n=i(9037),r=i(8844),s=i(2743),o=i(9842),a=i(2961),c=i(3050),l=i(1420),u=i(3514),d=n.structuredClone,h=n.ArrayBuffer,p=n.DataView,f=n.TypeError,m=Math.min,v=h.prototype,g=p.prototype,y=r(v.slice),b=s(v,"resizable","get"),E=s(v,"maxByteLength","get"),w=r(g.getInt8),T=r(g.setInt8);e.exports=(u||l)&&function(e,t,i){var n,r=c(e),s=void 0===t?r:o(t),v=!b||!b(e);if(a(e))throw new f("ArrayBuffer is detached");if(u&&(e=d(e,{transfer:[e]}),r===s&&(i||v)))return e;if(r>=s&&(!i||v))n=y(e,0,s);else{var g=i&&!v&&E?{maxByteLength:E(e)}:void 0;n=new h(s,g);for(var S=new p(e),A=new p(n),I=m(s,r),P=0;P<I;P++)T(A,P,w(S,P))}return u||l(e),n}},4872:(e,t,i)=>{"use strict";var n,r,s,o=i(7075),a=i(7697),c=i(9037),l=i(9985),u=i(8999),d=i(6812),h=i(926),p=i(3691),f=i(5773),m=i(1880),v=i(2148),g=i(3622),y=i(1868),b=i(9385),E=i(4201),w=i(4630),T=i(618),S=T.enforce,A=T.get,I=c.Int8Array,P=I&&I.prototype,C=c.Uint8ClampedArray,k=C&&C.prototype,R=I&&y(I),D=P&&y(P),O=Object.prototype,_=c.TypeError,L=E("toStringTag"),N=w("TYPED_ARRAY_TAG"),x=o&&!!b&&"Opera"!==h(c.opera),V=!1,M={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},U={BigInt64Array:8,BigUint64Array:8},j=function(e){var t=y(e);if(u(t)){var i=A(t);return i&&d(i,"TypedArrayConstructor")?i.TypedArrayConstructor:j(t)}},F=function(e){if(!u(e))return!1;var t=h(e);return d(M,t)||d(U,t)};for(n in M)(s=(r=c[n])&&r.prototype)?S(s).TypedArrayConstructor=r:x=!1;for(n in U)(s=(r=c[n])&&r.prototype)&&(S(s).TypedArrayConstructor=r);if((!x||!l(R)||R===Function.prototype)&&(R=function(){throw new _("Incorrect invocation")},x))for(n in M)c[n]&&b(c[n],R);if((!x||!D||D===O)&&(D=R.prototype,x))for(n in M)c[n]&&b(c[n].prototype,D);if(x&&y(k)!==D&&b(k,D),a&&!d(D,L))for(n in V=!0,v(D,L,{configurable:!0,get:function(){return u(this)?this[N]:void 0}}),M)c[n]&&f(c[n],N,n);e.exports={NATIVE_ARRAY_BUFFER_VIEWS:x,TYPED_ARRAY_TAG:V&&N,aTypedArray:function(e){if(F(e))return e;throw new _("Target is not a typed array")},aTypedArrayConstructor:function(e){if(l(e)&&(!b||g(R,e)))return e;throw new _(p(e)+" is not a typed array constructor")},exportTypedArrayMethod:function(e,t,i,n){if(a){if(i)for(var r in M){var s=c[r];if(s&&d(s.prototype,e))try{delete s.prototype[e]}catch(i){try{s.prototype[e]=t}catch(e){}}}D[e]&&!i||m(D,e,i?t:x&&P[e]||t,n)}},exportTypedArrayStaticMethod:function(e,t,i){var n,r;if(a){if(b){if(i)for(n in M)if((r=c[n])&&d(r,e))try{delete r[e]}catch(e){}if(R[e]&&!i)return;try{return m(R,e,i?t:x&&R[e]||t)}catch(e){}}for(n in M)!(r=c[n])||r[e]&&!i||m(r,e,t)}},getTypedArrayConstructor:j,isView:function(e){if(!u(e))return!1;var t=h(e);return"DataView"===t||d(M,t)||d(U,t)},isTypedArray:F,TypedArray:R,TypedArrayPrototype:D}},3999:(e,t,i)=>{"use strict";var n=i(9037),r=i(8844),s=i(7697),o=i(7075),a=i(1236),c=i(5773),l=i(2148),u=i(6045),d=i(3689),h=i(767),p=i(8700),f=i(3126),m=i(9842),v=i(7788),g=i(5477),y=i(1868),b=i(9385),E=i(2872),w=i(6004),T=i(3457),S=i(8758),A=i(5997),I=i(618),P=a.PROPER,C=a.CONFIGURABLE,k=I.getterFor("ArrayBuffer"),R=I.getterFor("DataView"),D=I.set,O=n.ArrayBuffer,_=O,L=_&&_.prototype,N=n.DataView,x=N&&N.prototype,V=Object.prototype,M=n.Array,U=n.RangeError,j=r(E),F=r([].reverse),B=g.pack,W=g.unpack,H=function(e){return[255&e]},z=function(e){return[255&e,e>>8&255]},G=function(e){return[255&e,e>>8&255,e>>16&255,e>>24&255]},q=function(e){return e[3]<<24|e[2]<<16|e[1]<<8|e[0]},Y=function(e){return B(v(e),23,4)},Q=function(e){return B(e,52,8)},K=function(e,t,i){l(e.prototype,t,{configurable:!0,get:function(){return i(this)[t]}})},Z=function(e,t,i,n){var r=R(e),s=m(i),o=!!n;if(s+t>r.byteLength)throw new U("Wrong index");var a=s+r.byteOffset,c=w(r.bytes,a,a+t);return o?c:F(c)},X=function(e,t,i,n,r,s){var o=R(e),a=m(i),c=n(+r),l=!!s;if(a+t>o.byteLength)throw new U("Wrong index");for(var u=o.bytes,d=a+o.byteOffset,h=0;h<t;h++)u[d+h]=c[l?h:t-h-1]};if(o){var J=P&&"ArrayBuffer"!==O.name;d((function(){O(1)}))&&d((function(){new O(-1)}))&&!d((function(){return new O,new O(1.5),new O(NaN),1!==O.length||J&&!C}))?J&&C&&c(O,"name","ArrayBuffer"):((_=function(e){return h(this,L),T(new O(m(e)),this,_)}).prototype=L,L.constructor=_,S(_,O)),b&&y(x)!==V&&b(x,V);var $=new N(new _(2)),ee=r(x.setInt8);$.setInt8(0,2147483648),$.setInt8(1,2147483649),!$.getInt8(0)&&$.getInt8(1)||u(x,{setInt8:function(e,t){ee(this,e,t<<24>>24)},setUint8:function(e,t){ee(this,e,t<<24>>24)}},{unsafe:!0})}else L=(_=function(e){h(this,L);var t=m(e);D(this,{type:"ArrayBuffer",bytes:j(M(t),0),byteLength:t}),s||(this.byteLength=t,this.detached=!1)}).prototype,x=(N=function(e,t,i){h(this,x),h(e,L);var n=k(e),r=n.byteLength,o=p(t);if(o<0||o>r)throw new U("Wrong offset");if(o+(i=void 0===i?r-o:f(i))>r)throw new U("Wrong length");D(this,{type:"DataView",buffer:e,byteLength:i,byteOffset:o,bytes:n.bytes}),s||(this.buffer=e,this.byteLength=i,this.byteOffset=o)}).prototype,s&&(K(_,"byteLength",k),K(N,"buffer",R),K(N,"byteLength",R),K(N,"byteOffset",R)),u(x,{getInt8:function(e){return Z(this,1,e)[0]<<24>>24},getUint8:function(e){return Z(this,1,e)[0]},getInt16:function(e){var t=Z(this,2,e,arguments.length>1&&arguments[1]);return(t[1]<<8|t[0])<<16>>16},getUint16:function(e){var t=Z(this,2,e,arguments.length>1&&arguments[1]);return t[1]<<8|t[0]},getInt32:function(e){return q(Z(this,4,e,arguments.length>1&&arguments[1]))},getUint32:function(e){return q(Z(this,4,e,arguments.length>1&&arguments[1]))>>>0},getFloat32:function(e){return W(Z(this,4,e,arguments.length>1&&arguments[1]),23)},getFloat64:function(e){return W(Z(this,8,e,arguments.length>1&&arguments[1]),52)},setInt8:function(e,t){X(this,1,e,H,t)},setUint8:function(e,t){X(this,1,e,H,t)},setInt16:function(e,t){X(this,2,e,z,t,arguments.length>2&&arguments[2])},setUint16:function(e,t){X(this,2,e,z,t,arguments.length>2&&arguments[2])},setInt32:function(e,t){X(this,4,e,G,t,arguments.length>2&&arguments[2])},setUint32:function(e,t){X(this,4,e,G,t,arguments.length>2&&arguments[2])},setFloat32:function(e,t){X(this,4,e,Y,t,arguments.length>2&&arguments[2])},setFloat64:function(e,t){X(this,8,e,Q,t,arguments.length>2&&arguments[2])}});A(_,"ArrayBuffer"),A(N,"DataView"),e.exports={ArrayBuffer:_,DataView:N}},2872:(e,t,i)=>{"use strict";var n=i(690),r=i(7578),s=i(6310);e.exports=function(e){for(var t=n(this),i=s(t),o=arguments.length,a=r(o>1?arguments[1]:void 0,i),c=o>2?arguments[2]:void 0,l=void 0===c?i:r(c,i);l>a;)t[a++]=e;return t}},9976:(e,t,i)=>{"use strict";var n=i(6310);e.exports=function(e,t,i){for(var r=0,s=arguments.length>2?i:n(t),o=new e(s);s>r;)o[r]=t[r++];return o}},1055:(e,t,i)=>{"use strict";var n=i(4071),r=i(2615),s=i(690),o=i(1228),a=i(3292),c=i(9429),l=i(6310),u=i(6522),d=i(5185),h=i(1664),p=Array;e.exports=function(e){var t=s(e),i=c(this),f=arguments.length,m=f>1?arguments[1]:void 0,v=void 0!==m;v&&(m=n(m,f>2?arguments[2]:void 0));var g,y,b,E,w,T,S=h(t),A=0;if(!S||this===p&&a(S))for(g=l(t),y=i?new this(g):p(g);g>A;A++)T=v?m(t[A],A):t[A],u(y,A,T);else for(y=i?new this:[],w=(E=d(t,S)).next;!(b=r(w,E)).done;A++)T=v?o(E,m,[b.value,A],!0):b.value,u(y,A,T);return y.length=A,y}},4328:(e,t,i)=>{"use strict";var n=i(5290),r=i(7578),s=i(6310),o=function(e){return function(t,i,o){var a=n(t),c=s(a);if(0===c)return!e&&-1;var l,u=r(o,c);if(e&&i!=i){for(;c>u;)if((l=a[u++])!=l)return!0}else for(;c>u;u++)if((e||u in a)&&a[u]===i)return e||u||0;return!e&&-1}};e.exports={includes:o(!0),indexOf:o(!1)}},1969:(e,t,i)=>{"use strict";var n=i(4071),r=i(4413),s=i(690),o=i(6310),a=function(e){var t=1===e;return function(i,a,c){for(var l,u=s(i),d=r(u),h=o(d),p=n(a,c);h-- >0;)if(p(l=d[h],h,u))switch(e){case 0:return l;case 1:return h}return t?-1:void 0}};e.exports={findLast:a(0),findLastIndex:a(1)}},2960:(e,t,i)=>{"use strict";var n=i(4071),r=i(8844),s=i(4413),o=i(690),a=i(6310),c=i(7120),l=r([].push),u=function(e){var t=1===e,i=2===e,r=3===e,u=4===e,d=6===e,h=7===e,p=5===e||d;return function(f,m,v,g){for(var y,b,E=o(f),w=s(E),T=a(w),S=n(m,v),A=0,I=g||c,P=t?I(f,T):i||h?I(f,0):void 0;T>A;A++)if((p||A in w)&&(b=S(y=w[A],A,E),e))if(t)P[A]=b;else if(b)switch(e){case 3:return!0;case 5:return y;case 6:return A;case 2:l(P,y)}else switch(e){case 4:return!1;case 7:l(P,y)}return d?-1:r||u?u:P}};e.exports={forEach:u(0),map:u(1),filter:u(2),some:u(3),every:u(4),find:u(5),findIndex:u(6),filterReject:u(7)}},6834:(e,t,i)=>{"use strict";var n=i(3689);e.exports=function(e,t){var i=[][e];return!!i&&n((function(){i.call(null,t||function(){return 1},1)}))}},8820:(e,t,i)=>{"use strict";var n=i(509),r=i(690),s=i(4413),o=i(6310),a=TypeError,c="Reduce of empty array with no initial value",l=function(e){return function(t,i,l,u){var d=r(t),h=s(d),p=o(d);if(n(i),0===p&&l<2)throw new a(c);var f=e?p-1:0,m=e?-1:1;if(l<2)for(;;){if(f in h){u=h[f],f+=m;break}if(f+=m,e?f<0:p<=f)throw new a(c)}for(;e?f>=0:p>f;f+=m)f in h&&(u=i(u,h[f],f,d));return u}};e.exports={left:l(!1),right:l(!0)}},5649:(e,t,i)=>{"use strict";var n=i(7697),r=i(2297),s=TypeError,o=Object.getOwnPropertyDescriptor,a=n&&!function(){if(void 0!==this)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(e){return e instanceof TypeError}}();e.exports=a?function(e,t){if(r(e)&&!o(e,"length").writable)throw new s("Cannot set read only .length");return e.length=t}:function(e,t){return e.length=t}},6004:(e,t,i)=>{"use strict";var n=i(8844);e.exports=n([].slice)},382:(e,t,i)=>{"use strict";var n=i(6004),r=Math.floor,s=function(e,t){var i=e.length;if(i<8)for(var o,a,c=1;c<i;){for(a=c,o=e[c];a&&t(e[a-1],o)>0;)e[a]=e[--a];a!==c++&&(e[a]=o)}else for(var l=r(i/2),u=s(n(e,0,l),t),d=s(n(e,l),t),h=u.length,p=d.length,f=0,m=0;f<h||m<p;)e[f+m]=f<h&&m<p?t(u[f],d[m])<=0?u[f++]:d[m++]:f<h?u[f++]:d[m++];return e};e.exports=s},5271:(e,t,i)=>{"use strict";var n=i(2297),r=i(9429),s=i(8999),o=i(4201)("species"),a=Array;e.exports=function(e){var t;return n(e)&&(r(t=e.constructor)&&(t===a||n(t.prototype))||s(t)&&null===(t=t[o]))&&(t=void 0),void 0===t?a:t}},7120:(e,t,i)=>{"use strict";var n=i(5271);e.exports=function(e,t){return new(n(e))(0===t?0:t)}},6166:(e,t,i)=>{"use strict";var n=i(6310);e.exports=function(e,t){for(var i=n(e),r=new t(i),s=0;s<i;s++)r[s]=e[i-s-1];return r}},6134:(e,t,i)=>{"use strict";var n=i(6310),r=i(8700),s=RangeError;e.exports=function(e,t,i,o){var a=n(e),c=r(i),l=c<0?a+c:c;if(l>=a||l<0)throw new s("Incorrect index");for(var u=new t(a),d=0;d<a;d++)u[d]=d===l?o:e[d];return u}},1228:(e,t,i)=>{"use strict";var n=i(5027),r=i(2125);e.exports=function(e,t,i,s){try{return s?t(n(i)[0],i[1]):t(i)}catch(t){r(e,"throw",t)}}},6431:(e,t,i)=>{"use strict";var n=i(4201)("iterator"),r=!1;try{var s=0,o={next:function(){return{done:!!s++}},return:function(){r=!0}};o[n]=function(){return this},Array.from(o,(function(){throw 2}))}catch(e){}e.exports=function(e,t){try{if(!t&&!r)return!1}catch(e){return!1}var i=!1;try{var s={};s[n]=function(){return{next:function(){return{done:i=!0}}}},e(s)}catch(e){}return i}},6648:(e,t,i)=>{"use strict";var n=i(8844),r=n({}.toString),s=n("".slice);e.exports=function(e){return s(r(e),8,-1)}},926:(e,t,i)=>{"use strict";var n=i(3043),r=i(9985),s=i(6648),o=i(4201)("toStringTag"),a=Object,c="Arguments"===s(function(){return arguments}());e.exports=n?s:function(e){var t,i,n;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(i=function(e,t){try{return e[t]}catch(e){}}(t=a(e),o))?i:c?s(t):"Object"===(n=s(t))&&r(t.callee)?"Arguments":n}},8758:(e,t,i)=>{"use strict";var n=i(6812),r=i(9152),s=i(2474),o=i(2560);e.exports=function(e,t,i){for(var a=r(t),c=o.f,l=s.f,u=0;u<a.length;u++){var d=a[u];n(e,d)||i&&n(i,d)||c(e,d,l(t,d))}}},1748:(e,t,i)=>{"use strict";var n=i(3689);e.exports=!n((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}))},7807:e=>{"use strict";e.exports=function(e,t){return{value:e,done:t}}},5773:(e,t,i)=>{"use strict";var n=i(7697),r=i(2560),s=i(5684);e.exports=n?function(e,t,i){return r.f(e,t,s(1,i))}:function(e,t,i){return e[t]=i,e}},5684:e=>{"use strict";e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},6522:(e,t,i)=>{"use strict";var n=i(7697),r=i(2560),s=i(5684);e.exports=function(e,t,i){n?r.f(e,t,s(0,i)):e[t]=i}},2148:(e,t,i)=>{"use strict";var n=i(8702),r=i(2560);e.exports=function(e,t,i){return i.get&&n(i.get,t,{getter:!0}),i.set&&n(i.set,t,{setter:!0}),r.f(e,t,i)}},1880:(e,t,i)=>{"use strict";var n=i(9985),r=i(2560),s=i(8702),o=i(5014);e.exports=function(e,t,i,a){a||(a={});var c=a.enumerable,l=void 0!==a.name?a.name:t;if(n(i)&&s(i,l,a),a.global)c?e[t]=i:o(t,i);else{try{a.unsafe?e[t]&&(c=!0):delete e[t]}catch(e){}c?e[t]=i:r.f(e,t,{value:i,enumerable:!1,configurable:!a.nonConfigurable,writable:!a.nonWritable})}return e}},6045:(e,t,i)=>{"use strict";var n=i(1880);e.exports=function(e,t,i){for(var r in t)n(e,r,t[r],i);return e}},5014:(e,t,i)=>{"use strict";var n=i(9037),r=Object.defineProperty;e.exports=function(e,t){try{r(n,e,{value:t,configurable:!0,writable:!0})}catch(i){n[e]=t}return t}},8494:(e,t,i)=>{"use strict";var n=i(3691),r=TypeError;e.exports=function(e,t){if(!delete e[t])throw new r("Cannot delete property "+n(t)+" of "+n(e))}},7697:(e,t,i)=>{"use strict";var n=i(3689);e.exports=!n((function(){return 7!==Object.defineProperty({},1,{get:function(){return 7}})[1]}))},1420:(e,t,i)=>{"use strict";var n,r,s,o,a=i(9037),c=i(1905),l=i(3514),u=a.structuredClone,d=a.ArrayBuffer,h=a.MessageChannel,p=!1;if(l)p=function(e){u(e,{transfer:[e]})};else if(d)try{h||(n=c("worker_threads"))&&(h=n.MessageChannel),h&&(r=new h,s=new d(2),o=function(e){r.port1.postMessage(null,[e])},2===s.byteLength&&(o(s),0===s.byteLength&&(p=o)))}catch(e){}e.exports=p},6420:(e,t,i)=>{"use strict";var n=i(9037),r=i(8999),s=n.document,o=r(s)&&r(s.createElement);e.exports=function(e){return o?s.createElement(e):{}}},5565:e=>{"use strict";var t=TypeError;e.exports=function(e){if(e>9007199254740991)throw t("Maximum allowed index exceeded");return e}},7136:e=>{"use strict";e.exports={IndexSizeError:{s:"INDEX_SIZE_ERR",c:1,m:1},DOMStringSizeError:{s:"DOMSTRING_SIZE_ERR",c:2,m:0},HierarchyRequestError:{s:"HIERARCHY_REQUEST_ERR",c:3,m:1},WrongDocumentError:{s:"WRONG_DOCUMENT_ERR",c:4,m:1},InvalidCharacterError:{s:"INVALID_CHARACTER_ERR",c:5,m:1},NoDataAllowedError:{s:"NO_DATA_ALLOWED_ERR",c:6,m:0},NoModificationAllowedError:{s:"NO_MODIFICATION_ALLOWED_ERR",c:7,m:1},NotFoundError:{s:"NOT_FOUND_ERR",c:8,m:1},NotSupportedError:{s:"NOT_SUPPORTED_ERR",c:9,m:1},InUseAttributeError:{s:"INUSE_ATTRIBUTE_ERR",c:10,m:1},InvalidStateError:{s:"INVALID_STATE_ERR",c:11,m:1},SyntaxError:{s:"SYNTAX_ERR",c:12,m:1},InvalidModificationError:{s:"INVALID_MODIFICATION_ERR",c:13,m:1},NamespaceError:{s:"NAMESPACE_ERR",c:14,m:1},InvalidAccessError:{s:"INVALID_ACCESS_ERR",c:15,m:1},ValidationError:{s:"VALIDATION_ERR",c:16,m:0},TypeMismatchError:{s:"TYPE_MISMATCH_ERR",c:17,m:1},SecurityError:{s:"SECURITY_ERR",c:18,m:1},NetworkError:{s:"NETWORK_ERR",c:19,m:1},AbortError:{s:"ABORT_ERR",c:20,m:1},URLMismatchError:{s:"URL_MISMATCH_ERR",c:21,m:1},QuotaExceededError:{s:"QUOTA_EXCEEDED_ERR",c:22,m:1},TimeoutError:{s:"TIMEOUT_ERR",c:23,m:1},InvalidNodeTypeError:{s:"INVALID_NODE_TYPE_ERR",c:24,m:1},DataCloneError:{s:"DATA_CLONE_ERR",c:25,m:1}}},6338:e=>{"use strict";e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},3265:(e,t,i)=>{"use strict";var n=i(6420)("span").classList,r=n&&n.constructor&&n.constructor.prototype;e.exports=r===Object.prototype?void 0:r},7365:(e,t,i)=>{"use strict";var n=i(71).match(/firefox\/(\d+)/i);e.exports=!!n&&+n[1]},2532:(e,t,i)=>{"use strict";var n=i(8563),r=i(806);e.exports=!n&&!r&&"object"==typeof window&&"object"==typeof document},8563:e=>{"use strict";e.exports="object"==typeof Deno&&Deno&&"object"==typeof Deno.version},7298:(e,t,i)=>{"use strict";var n=i(71);e.exports=/MSIE|Trident/.test(n)},806:(e,t,i)=>{"use strict";var n=i(9037),r=i(6648);e.exports="process"===r(n.process)},71:e=>{"use strict";e.exports="undefined"!=typeof navigator&&String(navigator.userAgent)||""},3615:(e,t,i)=>{"use strict";var n,r,s=i(9037),o=i(71),a=s.process,c=s.Deno,l=a&&a.versions||c&&c.version,u=l&&l.v8;u&&(r=(n=u.split("."))[0]>0&&n[0]<4?1:+(n[0]+n[1])),!r&&o&&(!(n=o.match(/Edge\/(\d+)/))||n[1]>=74)&&(n=o.match(/Chrome\/(\d+)/))&&(r=+n[1]),e.exports=r},7922:(e,t,i)=>{"use strict";var n=i(71).match(/AppleWebKit\/(\d+)\./);e.exports=!!n&&+n[1]},2739:e=>{"use strict";e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},6610:(e,t,i)=>{"use strict";var n=i(8844),r=Error,s=n("".replace),o=String(new r("zxcasd").stack),a=/\n\s*at [^:]*:[^\n]*/,c=a.test(o);e.exports=function(e,t){if(c&&"string"==typeof e&&!r.prepareStackTrace)for(;t--;)e=s(e,a,"");return e}},5411:(e,t,i)=>{"use strict";var n=i(5773),r=i(6610),s=i(9599),o=Error.captureStackTrace;e.exports=function(e,t,i,a){s&&(o?o(e,t):n(e,"stack",r(i,a)))}},9599:(e,t,i)=>{"use strict";var n=i(3689),r=i(5684);e.exports=!n((function(){var e=new Error("a");return!("stack"in e)||(Object.defineProperty(e,"stack",r(1,7)),7!==e.stack)}))},9989:(e,t,i)=>{"use strict";var n=i(9037),r=i(2474).f,s=i(5773),o=i(1880),a=i(5014),c=i(8758),l=i(5266);e.exports=function(e,t){var i,u,d,h,p,f=e.target,m=e.global,v=e.stat;if(i=m?n:v?n[f]||a(f,{}):n[f]&&n[f].prototype)for(u in t){if(h=t[u],d=e.dontCallGetSet?(p=r(i,u))&&p.value:i[u],!l(m?u:f+(v?".":"#")+u,e.forced)&&void 0!==d){if(typeof h==typeof d)continue;c(h,d)}(e.sham||d&&d.sham)&&s(h,"sham",!0),o(i,u,h,e)}}},3689:e=>{"use strict";e.exports=function(e){try{return!!e()}catch(e){return!0}}},8678:(e,t,i)=>{"use strict";i(4043);var n=i(2615),r=i(1880),s=i(6308),o=i(3689),a=i(4201),c=i(5773),l=a("species"),u=RegExp.prototype;e.exports=function(e,t,i,d){var h=a(e),p=!o((function(){var t={};return t[h]=function(){return 7},7!==""[e](t)})),f=p&&!o((function(){var t=!1,i=/a/;return"split"===e&&((i={}).constructor={},i.constructor[l]=function(){return i},i.flags="",i[h]=/./[h]),i.exec=function(){return t=!0,null},i[h](""),!t}));if(!p||!f||i){var m=/./[h],v=t(h,""[e],(function(e,t,i,r,o){var a=t.exec;return a===s||a===u.exec?p&&!o?{done:!0,value:n(m,t,i,r)}:{done:!0,value:n(e,i,t,r)}:{done:!1}}));r(String.prototype,e,v[0]),r(u,h,v[1])}d&&c(u[h],"sham",!0)}},1735:(e,t,i)=>{"use strict";var n=i(7215),r=Function.prototype,s=r.apply,o=r.call;e.exports="object"==typeof Reflect&&Reflect.apply||(n?o.bind(s):function(){return o.apply(s,arguments)})},4071:(e,t,i)=>{"use strict";var n=i(6576),r=i(509),s=i(7215),o=n(n.bind);e.exports=function(e,t){return r(e),void 0===t?e:s?o(e,t):function(){return e.apply(t,arguments)}}},7215:(e,t,i)=>{"use strict";var n=i(3689);e.exports=!n((function(){var e=function(){}.bind();return"function"!=typeof e||e.hasOwnProperty("prototype")}))},2615:(e,t,i)=>{"use strict";var n=i(7215),r=Function.prototype.call;e.exports=n?r.bind(r):function(){return r.apply(r,arguments)}},1236:(e,t,i)=>{"use strict";var n=i(7697),r=i(6812),s=Function.prototype,o=n&&Object.getOwnPropertyDescriptor,a=r(s,"name"),c=a&&"something"===function(){}.name,l=a&&(!n||n&&o(s,"name").configurable);e.exports={EXISTS:a,PROPER:c,CONFIGURABLE:l}},2743:(e,t,i)=>{"use strict";var n=i(8844),r=i(509);e.exports=function(e,t,i){try{return n(r(Object.getOwnPropertyDescriptor(e,t)[i]))}catch(e){}}},6576:(e,t,i)=>{"use strict";var n=i(6648),r=i(8844);e.exports=function(e){if("Function"===n(e))return r(e)}},8844:(e,t,i)=>{"use strict";var n=i(7215),r=Function.prototype,s=r.call,o=n&&r.bind.bind(s,s);e.exports=n?o:function(e){return function(){return s.apply(e,arguments)}}},6058:(e,t,i)=>{"use strict";var n=i(9037),r=i(9985),s=function(e){return r(e)?e:void 0};e.exports=function(e,t){return arguments.length<2?s(n[e]):n[e]&&n[e][t]}},1664:(e,t,i)=>{"use strict";var n=i(926),r=i(4849),s=i(981),o=i(9478),a=i(4201)("iterator");e.exports=function(e){if(!s(e))return r(e,a)||r(e,"@@iterator")||o[n(e)]}},5185:(e,t,i)=>{"use strict";var n=i(2615),r=i(509),s=i(5027),o=i(3691),a=i(1664),c=TypeError;e.exports=function(e,t){var i=arguments.length<2?a(e):t;if(r(i))return s(n(i,e));throw new c(o(e)+" is not iterable")}},2643:(e,t,i)=>{"use strict";var n=i(8844),r=i(2297),s=i(9985),o=i(6648),a=i(4327),c=n([].push);e.exports=function(e){if(s(e))return e;if(r(e)){for(var t=e.length,i=[],n=0;n<t;n++){var l=e[n];"string"==typeof l?c(i,l):"number"!=typeof l&&"Number"!==o(l)&&"String"!==o(l)||c(i,a(l))}var u=i.length,d=!0;return function(e,t){if(d)return d=!1,t;if(r(this))return t;for(var n=0;n<u;n++)if(i[n]===e)return t}}}},4849:(e,t,i)=>{"use strict";var n=i(509),r=i(981);e.exports=function(e,t){var i=e[t];return r(i)?void 0:n(i)}},7017:(e,t,i)=>{"use strict";var n=i(8844),r=i(690),s=Math.floor,o=n("".charAt),a=n("".replace),c=n("".slice),l=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,u=/\$([$&'`]|\d{1,2})/g;e.exports=function(e,t,i,n,d,h){var p=i+e.length,f=n.length,m=u;return void 0!==d&&(d=r(d),m=l),a(h,m,(function(r,a){var l;switch(o(a,0)){case"$":return"$";case"&":return e;case"`":return c(t,0,i);case"'":return c(t,p);case"<":l=d[c(a,1,-1)];break;default:var u=+a;if(0===u)return r;if(u>f){var h=s(u/10);return 0===h?r:h<=f?void 0===n[h-1]?o(a,1):n[h-1]+o(a,1):r}l=n[u-1]}return void 0===l?"":l}))}},9037:function(e,t,i){"use strict";var n=function(e){return e&&e.Math===Math&&e};e.exports=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof i.g&&i.g)||n("object"==typeof this&&this)||function(){return this}()||Function("return this")()},6812:(e,t,i)=>{"use strict";var n=i(8844),r=i(690),s=n({}.hasOwnProperty);e.exports=Object.hasOwn||function(e,t){return s(r(e),t)}},7248:e=>{"use strict";e.exports={}},2688:(e,t,i)=>{"use strict";var n=i(6058);e.exports=n("document","documentElement")},8506:(e,t,i)=>{"use strict";var n=i(7697),r=i(3689),s=i(6420);e.exports=!n&&!r((function(){return 7!==Object.defineProperty(s("div"),"a",{get:function(){return 7}}).a}))},5477:e=>{"use strict";var t=Array,i=Math.abs,n=Math.pow,r=Math.floor,s=Math.log,o=Math.LN2;e.exports={pack:function(e,a,c){var l,u,d,h=t(c),p=8*c-a-1,f=(1<<p)-1,m=f>>1,v=23===a?n(2,-24)-n(2,-77):0,g=e<0||0===e&&1/e<0?1:0,y=0;for((e=i(e))!=e||e===1/0?(u=e!=e?1:0,l=f):(l=r(s(e)/o),e*(d=n(2,-l))<1&&(l--,d*=2),(e+=l+m>=1?v/d:v*n(2,1-m))*d>=2&&(l++,d/=2),l+m>=f?(u=0,l=f):l+m>=1?(u=(e*d-1)*n(2,a),l+=m):(u=e*n(2,m-1)*n(2,a),l=0));a>=8;)h[y++]=255&u,u/=256,a-=8;for(l=l<<a|u,p+=a;p>0;)h[y++]=255&l,l/=256,p-=8;return h[--y]|=128*g,h},unpack:function(e,t){var i,r=e.length,s=8*r-t-1,o=(1<<s)-1,a=o>>1,c=s-7,l=r-1,u=e[l--],d=127&u;for(u>>=7;c>0;)d=256*d+e[l--],c-=8;for(i=d&(1<<-c)-1,d>>=-c,c+=t;c>0;)i=256*i+e[l--],c-=8;if(0===d)d=1-a;else{if(d===o)return i?NaN:u?-1/0:1/0;i+=n(2,t),d-=a}return(u?-1:1)*i*n(2,d-t)}}},4413:(e,t,i)=>{"use strict";var n=i(8844),r=i(3689),s=i(6648),o=Object,a=n("".split);e.exports=r((function(){return!o("z").propertyIsEnumerable(0)}))?function(e){return"String"===s(e)?a(e,""):o(e)}:o},3457:(e,t,i)=>{"use strict";var n=i(9985),r=i(8999),s=i(9385);e.exports=function(e,t,i){var o,a;return s&&n(o=t.constructor)&&o!==i&&r(a=o.prototype)&&a!==i.prototype&&s(e,a),e}},6738:(e,t,i)=>{"use strict";var n=i(8844),r=i(9985),s=i(4091),o=n(Function.toString);r(s.inspectSource)||(s.inspectSource=function(e){return o(e)}),e.exports=s.inspectSource},2570:(e,t,i)=>{"use strict";var n=i(8999),r=i(5773);e.exports=function(e,t){n(t)&&"cause"in t&&r(e,"cause",t.cause)}},618:(e,t,i)=>{"use strict";var n,r,s,o=i(9834),a=i(9037),c=i(8999),l=i(5773),u=i(6812),d=i(4091),h=i(2713),p=i(7248),f=a.TypeError;if(o||d.state){var m=d.state||(d.state=new(0,a.WeakMap));m.get=m.get,m.has=m.has,m.set=m.set,n=function(e,t){if(m.has(e))throw new f("Object already initialized");return t.facade=e,m.set(e,t),t},r=function(e){return m.get(e)||{}},s=function(e){return m.has(e)}}else{var v=h("state");p[v]=!0,n=function(e,t){if(u(e,v))throw new f("Object already initialized");return t.facade=e,l(e,v,t),t},r=function(e){return u(e,v)?e[v]:{}},s=function(e){return u(e,v)}}e.exports={set:n,get:r,has:s,enforce:function(e){return s(e)?r(e):n(e,{})},getterFor:function(e){return function(t){var i;if(!c(t)||(i=r(t)).type!==e)throw new f("Incompatible receiver, "+e+" required");return i}}}},3292:(e,t,i)=>{"use strict";var n=i(4201),r=i(9478),s=n("iterator"),o=Array.prototype;e.exports=function(e){return void 0!==e&&(r.Array===e||o[s]===e)}},2297:(e,t,i)=>{"use strict";var n=i(6648);e.exports=Array.isArray||function(e){return"Array"===n(e)}},9401:(e,t,i)=>{"use strict";var n=i(926);e.exports=function(e){var t=n(e);return"BigInt64Array"===t||"BigUint64Array"===t}},9985:e=>{"use strict";var t="object"==typeof document&&document.all;e.exports=void 0===t&&void 0!==t?function(e){return"function"==typeof e||e===t}:function(e){return"function"==typeof e}},9429:(e,t,i)=>{"use strict";var n=i(8844),r=i(3689),s=i(9985),o=i(926),a=i(6058),c=i(6738),l=function(){},u=a("Reflect","construct"),d=/^\s*(?:class|function)\b/,h=n(d.exec),p=!d.test(l),f=function(e){if(!s(e))return!1;try{return u(l,[],e),!0}catch(e){return!1}},m=function(e){if(!s(e))return!1;switch(o(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return p||!!h(d,c(e))}catch(e){return!0}};m.sham=!0,e.exports=!u||r((function(){var e;return f(f.call)||!f(Object)||!f((function(){e=!0}))||e}))?m:f},5266:(e,t,i)=>{"use strict";var n=i(3689),r=i(9985),s=/#|\.prototype\./,o=function(e,t){var i=c[a(e)];return i===u||i!==l&&(r(t)?n(t):!!t)},a=o.normalize=function(e){return String(e).replace(s,".").toLowerCase()},c=o.data={},l=o.NATIVE="N",u=o.POLYFILL="P";e.exports=o},1973:(e,t,i)=>{"use strict";var n=i(8999),r=Math.floor;e.exports=Number.isInteger||function(e){return!n(e)&&isFinite(e)&&r(e)===e}},981:e=>{"use strict";e.exports=function(e){return null==e}},8999:(e,t,i)=>{"use strict";var n=i(9985);e.exports=function(e){return"object"==typeof e?null!==e:n(e)}},598:(e,t,i)=>{"use strict";var n=i(8999);e.exports=function(e){return n(e)||null===e}},3931:e=>{"use strict";e.exports=!1},1245:(e,t,i)=>{"use strict";var n=i(8999),r=i(6648),s=i(4201)("match");e.exports=function(e){var t;return n(e)&&(void 0!==(t=e[s])?!!t:"RegExp"===r(e))}},734:(e,t,i)=>{"use strict";var n=i(6058),r=i(9985),s=i(3622),o=i(9525),a=Object;e.exports=o?function(e){return"symbol"==typeof e}:function(e){var t=n("Symbol");return r(t)&&s(t.prototype,a(e))}},8734:(e,t,i)=>{"use strict";var n=i(4071),r=i(2615),s=i(5027),o=i(3691),a=i(3292),c=i(6310),l=i(3622),u=i(5185),d=i(1664),h=i(2125),p=TypeError,f=function(e,t){this.stopped=e,this.result=t},m=f.prototype;e.exports=function(e,t,i){var v,g,y,b,E,w,T,S=!(!i||!i.AS_ENTRIES),A=!(!i||!i.IS_RECORD),I=!(!i||!i.IS_ITERATOR),P=!(!i||!i.INTERRUPTED),C=n(t,i&&i.that),k=function(e){return v&&h(v,"normal",e),new f(!0,e)},R=function(e){return S?(s(e),P?C(e[0],e[1],k):C(e[0],e[1])):P?C(e,k):C(e)};if(A)v=e.iterator;else if(I)v=e;else{if(!(g=d(e)))throw new p(o(e)+" is not iterable");if(a(g)){for(y=0,b=c(e);b>y;y++)if((E=R(e[y]))&&l(m,E))return E;return new f(!1)}v=u(e,g)}for(w=A?e.next:v.next;!(T=r(w,v)).done;){try{E=R(T.value)}catch(e){h(v,"throw",e)}if("object"==typeof E&&E&&l(m,E))return E}return new f(!1)}},2125:(e,t,i)=>{"use strict";var n=i(2615),r=i(5027),s=i(4849);e.exports=function(e,t,i){var o,a;r(e);try{if(!(o=s(e,"return"))){if("throw"===t)throw i;return i}o=n(o,e)}catch(e){a=!0,o=e}if("throw"===t)throw i;if(a)throw o;return r(o),i}},974:(e,t,i)=>{"use strict";var n=i(2013).IteratorPrototype,r=i(5391),s=i(5684),o=i(5997),a=i(9478),c=function(){return this};e.exports=function(e,t,i,l){var u=t+" Iterator";return e.prototype=r(n,{next:s(+!l,i)}),o(e,u,!1,!0),a[u]=c,e}},1934:(e,t,i)=>{"use strict";var n=i(9989),r=i(2615),s=i(3931),o=i(1236),a=i(9985),c=i(974),l=i(1868),u=i(9385),d=i(5997),h=i(5773),p=i(1880),f=i(4201),m=i(9478),v=i(2013),g=o.PROPER,y=o.CONFIGURABLE,b=v.IteratorPrototype,E=v.BUGGY_SAFARI_ITERATORS,w=f("iterator"),T=function(){return this};e.exports=function(e,t,i,o,f,v,S){c(i,t,o);var A,I,P,C=function(e){if(e===f&&_)return _;if(!E&&e&&e in D)return D[e];switch(e){case"keys":case"values":case"entries":return function(){return new i(this,e)}}return function(){return new i(this)}},k=t+" Iterator",R=!1,D=e.prototype,O=D[w]||D["@@iterator"]||f&&D[f],_=!E&&O||C(f),L="Array"===t&&D.entries||O;if(L&&(A=l(L.call(new e)))!==Object.prototype&&A.next&&(s||l(A)===b||(u?u(A,b):a(A[w])||p(A,w,T)),d(A,k,!0,!0),s&&(m[k]=T)),g&&"values"===f&&O&&"values"!==O.name&&(!s&&y?h(D,"name","values"):(R=!0,_=function(){return r(O,this)})),f)if(I={values:C("values"),keys:v?_:C("keys"),entries:C("entries")},S)for(P in I)(E||R||!(P in D))&&p(D,P,I[P]);else n({target:t,proto:!0,forced:E||R},I);return s&&!S||D[w]===_||p(D,w,_,{name:f}),m[t]=_,I}},2013:(e,t,i)=>{"use strict";var n,r,s,o=i(3689),a=i(9985),c=i(8999),l=i(5391),u=i(1868),d=i(1880),h=i(4201),p=i(3931),f=h("iterator"),m=!1;[].keys&&("next"in(s=[].keys())?(r=u(u(s)))!==Object.prototype&&(n=r):m=!0),!c(n)||o((function(){var e={};return n[f].call(e)!==e}))?n={}:p&&(n=l(n)),a(n[f])||d(n,f,(function(){return this})),e.exports={IteratorPrototype:n,BUGGY_SAFARI_ITERATORS:m}},9478:e=>{"use strict";e.exports={}},6310:(e,t,i)=>{"use strict";var n=i(3126);e.exports=function(e){return n(e.length)}},8702:(e,t,i)=>{"use strict";var n=i(8844),r=i(3689),s=i(9985),o=i(6812),a=i(7697),c=i(1236).CONFIGURABLE,l=i(6738),u=i(618),d=u.enforce,h=u.get,p=String,f=Object.defineProperty,m=n("".slice),v=n("".replace),g=n([].join),y=a&&!r((function(){return 8!==f((function(){}),"length",{value:8}).length})),b=String(String).split("String"),E=e.exports=function(e,t,i){"Symbol("===m(p(t),0,7)&&(t="["+v(p(t),/^Symbol\(([^)]*)\).*$/,"$1")+"]"),i&&i.getter&&(t="get "+t),i&&i.setter&&(t="set "+t),(!o(e,"name")||c&&e.name!==t)&&(a?f(e,"name",{value:t,configurable:!0}):e.name=t),y&&i&&o(i,"arity")&&e.length!==i.arity&&f(e,"length",{value:i.arity});try{i&&o(i,"constructor")&&i.constructor?a&&f(e,"prototype",{writable:!1}):e.prototype&&(e.prototype=void 0)}catch(e){}var n=d(e);return o(n,"source")||(n.source=g(b,"string"==typeof t?t:"")),e};Function.prototype.toString=E((function(){return s(this)&&h(this).source||l(this)}),"toString")},134:(e,t,i)=>{"use strict";var n=i(5680),r=Math.abs;e.exports=function(e,t,i,s){var o=+e,a=r(o),c=n(o);if(a<s)return c*function(e){return e+4503599627370496-4503599627370496}(a/s/t)*s*t;var l=(1+t/2220446049250313e-31)*a,u=l-(l-a);return u>i||u!=u?c*(1/0):c*u}},7788:(e,t,i)=>{"use strict";var n=i(134);e.exports=Math.fround||function(e){return n(e,1.1920928955078125e-7,34028234663852886e22,11754943508222875e-54)}},5680:e=>{"use strict";e.exports=Math.sign||function(e){var t=+e;return 0===t||t!=t?t:t<0?-1:1}},8828:e=>{"use strict";var t=Math.ceil,i=Math.floor;e.exports=Math.trunc||function(e){var n=+e;return(n>0?i:t)(n)}},8742:(e,t,i)=>{"use strict";var n=i(509),r=TypeError,s=function(e){var t,i;this.promise=new e((function(e,n){if(void 0!==t||void 0!==i)throw new r("Bad Promise constructor");t=e,i=n})),this.resolve=n(t),this.reject=n(i)};e.exports.f=function(e){return new s(e)}},3841:(e,t,i)=>{"use strict";var n=i(4327);e.exports=function(e,t){return void 0===e?arguments.length<2?"":t:n(e)}},5394:(e,t,i)=>{"use strict";var n=i(7697),r=i(8844),s=i(2615),o=i(3689),a=i(300),c=i(7518),l=i(9556),u=i(690),d=i(4413),h=Object.assign,p=Object.defineProperty,f=r([].concat);e.exports=!h||o((function(){if(n&&1!==h({b:1},h(p({},"a",{enumerable:!0,get:function(){p(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var e={},t={},i=Symbol("assign detection");return e[i]=7,"abcdefghijklmnopqrst".split("").forEach((function(e){t[e]=e})),7!==h({},e)[i]||"abcdefghijklmnopqrst"!==a(h({},t)).join("")}))?function(e,t){for(var i=u(e),r=arguments.length,o=1,h=c.f,p=l.f;r>o;)for(var m,v=d(arguments[o++]),g=h?f(a(v),h(v)):a(v),y=g.length,b=0;y>b;)m=g[b++],n&&!s(p,v,m)||(i[m]=v[m]);return i}:h},5391:(e,t,i)=>{"use strict";var n,r=i(5027),s=i(8920),o=i(2739),a=i(7248),c=i(2688),l=i(6420),u=i(2713),d=u("IE_PROTO"),h=function(){},p=function(e){return"<script>"+e+"<\/script>"},f=function(e){e.write(p("")),e.close();var t=e.parentWindow.Object;return e=null,t},m=function(){try{n=new ActiveXObject("htmlfile")}catch(e){}var e,t;m="undefined"!=typeof document?document.domain&&n?f(n):((t=l("iframe")).style.display="none",c.appendChild(t),t.src=String("javascript:"),(e=t.contentWindow.document).open(),e.write(p("document.F=Object")),e.close(),e.F):f(n);for(var i=o.length;i--;)delete m.prototype[o[i]];return m()};a[d]=!0,e.exports=Object.create||function(e,t){var i;return null!==e?(h.prototype=r(e),i=new h,h.prototype=null,i[d]=e):i=m(),void 0===t?i:s.f(i,t)}},8920:(e,t,i)=>{"use strict";var n=i(7697),r=i(5648),s=i(2560),o=i(5027),a=i(5290),c=i(300);t.f=n&&!r?Object.defineProperties:function(e,t){o(e);for(var i,n=a(t),r=c(t),l=r.length,u=0;l>u;)s.f(e,i=r[u++],n[i]);return e}},2560:(e,t,i)=>{"use strict";var n=i(7697),r=i(8506),s=i(5648),o=i(5027),a=i(8360),c=TypeError,l=Object.defineProperty,u=Object.getOwnPropertyDescriptor;t.f=n?s?function(e,t,i){if(o(e),t=a(t),o(i),"function"==typeof e&&"prototype"===t&&"value"in i&&"writable"in i&&!i.writable){var n=u(e,t);n&&n.writable&&(e[t]=i.value,i={configurable:"configurable"in i?i.configurable:n.configurable,enumerable:"enumerable"in i?i.enumerable:n.enumerable,writable:!1})}return l(e,t,i)}:l:function(e,t,i){if(o(e),t=a(t),o(i),r)try{return l(e,t,i)}catch(e){}if("get"in i||"set"in i)throw new c("Accessors not supported");return"value"in i&&(e[t]=i.value),e}},2474:(e,t,i)=>{"use strict";var n=i(7697),r=i(2615),s=i(9556),o=i(5684),a=i(5290),c=i(8360),l=i(6812),u=i(8506),d=Object.getOwnPropertyDescriptor;t.f=n?d:function(e,t){if(e=a(e),t=c(t),u)try{return d(e,t)}catch(e){}if(l(e,t))return o(!r(s.f,e,t),e[t])}},2741:(e,t,i)=>{"use strict";var n=i(4948),r=i(2739).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return n(e,r)}},7518:(e,t)=>{"use strict";t.f=Object.getOwnPropertySymbols},1868:(e,t,i)=>{"use strict";var n=i(6812),r=i(9985),s=i(690),o=i(2713),a=i(1748),c=o("IE_PROTO"),l=Object,u=l.prototype;e.exports=a?l.getPrototypeOf:function(e){var t=s(e);if(n(t,c))return t[c];var i=t.constructor;return r(i)&&t instanceof i?i.prototype:t instanceof l?u:null}},3622:(e,t,i)=>{"use strict";var n=i(8844);e.exports=n({}.isPrototypeOf)},4948:(e,t,i)=>{"use strict";var n=i(8844),r=i(6812),s=i(5290),o=i(4328).indexOf,a=i(7248),c=n([].push);e.exports=function(e,t){var i,n=s(e),l=0,u=[];for(i in n)!r(a,i)&&r(n,i)&&c(u,i);for(;t.length>l;)r(n,i=t[l++])&&(~o(u,i)||c(u,i));return u}},300:(e,t,i)=>{"use strict";var n=i(4948),r=i(2739);e.exports=Object.keys||function(e){return n(e,r)}},9556:(e,t)=>{"use strict";var i={}.propertyIsEnumerable,n=Object.getOwnPropertyDescriptor,r=n&&!i.call({1:2},1);t.f=r?function(e){var t=n(this,e);return!!t&&t.enumerable}:i},9385:(e,t,i)=>{"use strict";var n=i(2743),r=i(8999),s=i(4684),o=i(3550);e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,i={};try{(e=n(Object.prototype,"__proto__","set"))(i,[]),t=i instanceof Array}catch(e){}return function(i,n){return s(i),o(n),r(i)?(t?e(i,n):i.__proto__=n,i):i}}():void 0)},5899:(e,t,i)=>{"use strict";var n=i(2615),r=i(9985),s=i(8999),o=TypeError;e.exports=function(e,t){var i,a;if("string"===t&&r(i=e.toString)&&!s(a=n(i,e)))return a;if(r(i=e.valueOf)&&!s(a=n(i,e)))return a;if("string"!==t&&r(i=e.toString)&&!s(a=n(i,e)))return a;throw new o("Can't convert object to primitive value")}},9152:(e,t,i)=>{"use strict";var n=i(6058),r=i(8844),s=i(2741),o=i(7518),a=i(5027),c=r([].concat);e.exports=n("Reflect","ownKeys")||function(e){var t=s.f(a(e)),i=o.f;return i?c(t,i(e)):t}},9302:e=>{"use strict";e.exports=function(e){try{return{error:!1,value:e()}}catch(e){return{error:!0,value:e}}}},7073:(e,t,i)=>{"use strict";var n=i(9037),r=i(7919),s=i(9985),o=i(5266),a=i(6738),c=i(4201),l=i(2532),u=i(8563),d=i(3931),h=i(3615),p=r&&r.prototype,f=c("species"),m=!1,v=s(n.PromiseRejectionEvent),g=o("Promise",(function(){var e=a(r),t=e!==String(r);if(!t&&66===h)return!0;if(d&&(!p.catch||!p.finally))return!0;if(!h||h<51||!/native code/.test(e)){var i=new r((function(e){e(1)})),n=function(e){e((function(){}),(function(){}))};if((i.constructor={})[f]=n,!(m=i.then((function(){}))instanceof n))return!0}return!t&&(l||u)&&!v}));e.exports={CONSTRUCTOR:g,REJECTION_EVENT:v,SUBCLASSING:m}},7919:(e,t,i)=>{"use strict";var n=i(9037);e.exports=n.Promise},2945:(e,t,i)=>{"use strict";var n=i(5027),r=i(8999),s=i(8742);e.exports=function(e,t){if(n(e),r(t)&&t.constructor===e)return t;var i=s.f(e);return(0,i.resolve)(t),i.promise}},562:(e,t,i)=>{"use strict";var n=i(7919),r=i(6431),s=i(7073).CONSTRUCTOR;e.exports=s||!r((function(e){n.all(e).then(void 0,(function(){}))}))},8055:(e,t,i)=>{"use strict";var n=i(2560).f;e.exports=function(e,t,i){i in e||n(e,i,{configurable:!0,get:function(){return t[i]},set:function(e){t[i]=e}})}},6100:(e,t,i)=>{"use strict";var n=i(2615),r=i(5027),s=i(9985),o=i(6648),a=i(6308),c=TypeError;e.exports=function(e,t){var i=e.exec;if(s(i)){var l=n(i,e,t);return null!==l&&r(l),l}if("RegExp"===o(e))return n(a,e,t);throw new c("RegExp#exec called on incompatible receiver")}},6308:(e,t,i)=>{"use strict";var n,r,s=i(2615),o=i(8844),a=i(4327),c=i(9633),l=i(7901),u=i(3430),d=i(5391),h=i(618).get,p=i(2100),f=i(6422),m=u("native-string-replace",String.prototype.replace),v=RegExp.prototype.exec,g=v,y=o("".charAt),b=o("".indexOf),E=o("".replace),w=o("".slice),T=(r=/b*/g,s(v,n=/a/,"a"),s(v,r,"a"),0!==n.lastIndex||0!==r.lastIndex),S=l.BROKEN_CARET,A=void 0!==/()??/.exec("")[1];(T||A||S||p||f)&&(g=function(e){var t,i,n,r,o,l,u,p=this,f=h(p),I=a(e),P=f.raw;if(P)return P.lastIndex=p.lastIndex,t=s(g,P,I),p.lastIndex=P.lastIndex,t;var C=f.groups,k=S&&p.sticky,R=s(c,p),D=p.source,O=0,_=I;if(k&&(R=E(R,"y",""),-1===b(R,"g")&&(R+="g"),_=w(I,p.lastIndex),p.lastIndex>0&&(!p.multiline||p.multiline&&"\n"!==y(I,p.lastIndex-1))&&(D="(?: "+D+")",_=" "+_,O++),i=new RegExp("^(?:"+D+")",R)),A&&(i=new RegExp("^"+D+"$(?!\\s)",R)),T&&(n=p.lastIndex),r=s(v,k?i:p,_),k?r?(r.input=w(r.input,O),r[0]=w(r[0],O),r.index=p.lastIndex,p.lastIndex+=r[0].length):p.lastIndex=0:T&&r&&(p.lastIndex=p.global?r.index+r[0].length:n),A&&r&&r.length>1&&s(m,r[0],i,(function(){for(o=1;o<arguments.length-2;o++)void 0===arguments[o]&&(r[o]=void 0)})),r&&C)for(r.groups=l=d(null),o=0;o<C.length;o++)l[(u=C[o])[0]]=r[u[1]];return r}),e.exports=g},9633:(e,t,i)=>{"use strict";var n=i(5027);e.exports=function(){var e=n(this),t="";return e.hasIndices&&(t+="d"),e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.unicodeSets&&(t+="v"),e.sticky&&(t+="y"),t}},3477:(e,t,i)=>{"use strict";var n=i(2615),r=i(6812),s=i(3622),o=i(9633),a=RegExp.prototype;e.exports=function(e){var t=e.flags;return void 0!==t||"flags"in a||r(e,"flags")||!s(a,e)?t:n(o,e)}},7901:(e,t,i)=>{"use strict";var n=i(3689),r=i(9037).RegExp,s=n((function(){var e=r("a","y");return e.lastIndex=2,null!==e.exec("abcd")})),o=s||n((function(){return!r("a","y").sticky})),a=s||n((function(){var e=r("^r","gy");return e.lastIndex=2,null!==e.exec("str")}));e.exports={BROKEN_CARET:a,MISSED_STICKY:o,UNSUPPORTED_Y:s}},2100:(e,t,i)=>{"use strict";var n=i(3689),r=i(9037).RegExp;e.exports=n((function(){var e=r(".","s");return!(e.dotAll&&e.test("\n")&&"s"===e.flags)}))},6422:(e,t,i)=>{"use strict";var n=i(3689),r=i(9037).RegExp;e.exports=n((function(){var e=r("(?<a>b)","g");return"b"!==e.exec("b").groups.a||"bc"!=="b".replace(e,"$<a>c")}))},4684:(e,t,i)=>{"use strict";var n=i(981),r=TypeError;e.exports=function(e){if(n(e))throw new r("Can't call method on "+e);return e}},517:(e,t,i)=>{"use strict";var n=i(9037),r=i(7697),s=Object.getOwnPropertyDescriptor;e.exports=function(e){if(!r)return n[e];var t=s(n,e);return t&&t.value}},4241:(e,t,i)=>{"use strict";var n=i(6058),r=i(2148),s=i(4201),o=i(7697),a=s("species");e.exports=function(e){var t=n(e);o&&t&&!t[a]&&r(t,a,{configurable:!0,get:function(){return this}})}},5997:(e,t,i)=>{"use strict";var n=i(2560).f,r=i(6812),s=i(4201)("toStringTag");e.exports=function(e,t,i){e&&!i&&(e=e.prototype),e&&!r(e,s)&&n(e,s,{configurable:!0,value:t})}},2713:(e,t,i)=>{"use strict";var n=i(3430),r=i(4630),s=n("keys");e.exports=function(e){return s[e]||(s[e]=r(e))}},4091:(e,t,i)=>{"use strict";var n=i(3931),r=i(9037),s=i(5014),o=e.exports=r["__core-js_shared__"]||s("__core-js_shared__",{});(o.versions||(o.versions=[])).push({version:"3.36.1",mode:n?"pure":"global",copyright:" 2014-2024 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.36.1/LICENSE",source:"https://github.com/zloirock/core-js"})},3430:(e,t,i)=>{"use strict";var n=i(4091);e.exports=function(e,t){return n[e]||(n[e]=t||{})}},6373:(e,t,i)=>{"use strict";var n=i(5027),r=i(2655),s=i(981),o=i(4201)("species");e.exports=function(e,t){var i,a=n(e).constructor;return void 0===a||s(i=n(a)[o])?t:r(i)}},730:(e,t,i)=>{"use strict";var n=i(8844),r=i(8700),s=i(4327),o=i(4684),a=n("".charAt),c=n("".charCodeAt),l=n("".slice),u=function(e){return function(t,i){var n,u,d=s(o(t)),h=r(i),p=d.length;return h<0||h>=p?e?"":void 0:(n=c(d,h))<55296||n>56319||h+1===p||(u=c(d,h+1))<56320||u>57343?e?a(d,h):n:e?l(d,h,h+2):u-56320+(n-55296<<10)+65536}};e.exports={codeAt:u(!1),charAt:u(!0)}},6430:(e,t,i)=>{"use strict";var n=i(8844),r=/[^\0-\u007E]/,s=/[.\u3002\uFF0E\uFF61]/g,o="Overflow: input needs wider integers to process",a=RangeError,c=n(s.exec),l=Math.floor,u=String.fromCharCode,d=n("".charCodeAt),h=n([].join),p=n([].push),f=n("".replace),m=n("".split),v=n("".toLowerCase),g=function(e){return e+22+75*(e<26)},y=function(e,t,i){var n=0;for(e=i?l(e/700):e>>1,e+=l(e/t);e>455;)e=l(e/35),n+=36;return l(n+36*e/(e+38))},b=function(e){var t,i,n=[],r=(e=function(e){for(var t=[],i=0,n=e.length;i<n;){var r=d(e,i++);if(r>=55296&&r<=56319&&i<n){var s=d(e,i++);56320==(64512&s)?p(t,((1023&r)<<10)+(1023&s)+65536):(p(t,r),i--)}else p(t,r)}return t}(e)).length,s=128,c=0,f=72;for(t=0;t<e.length;t++)(i=e[t])<128&&p(n,u(i));var m=n.length,v=m;for(m&&p(n,"-");v<r;){var b=2147483647;for(t=0;t<e.length;t++)(i=e[t])>=s&&i<b&&(b=i);var E=v+1;if(b-s>l((2147483647-c)/E))throw new a(o);for(c+=(b-s)*E,s=b,t=0;t<e.length;t++){if((i=e[t])<s&&++c>2147483647)throw new a(o);if(i===s){for(var w=c,T=36;;){var S=T<=f?1:T>=f+26?26:T-f;if(w<S)break;var A=w-S,I=36-S;p(n,u(g(S+A%I))),w=l(A/I),T+=36}p(n,u(g(w))),f=y(c,E,v===m),c=0,v++}}c++,s++}return h(n,"")};e.exports=function(e){var t,i,n=[],o=m(f(v(e),s,"."),".");for(t=0;t<o.length;t++)p(n,c(r,i=o[t])?"xn--"+b(i):i);return h(n,".")}},3514:(e,t,i)=>{"use strict";var n=i(9037),r=i(3689),s=i(3615),o=i(2532),a=i(8563),c=i(806),l=n.structuredClone;e.exports=!!l&&!r((function(){if(a&&s>92||c&&s>94||o&&s>97)return!1;var e=new ArrayBuffer(8),t=l(e,{transfer:[e]});return 0!==e.byteLength||8!==t.byteLength}))},146:(e,t,i)=>{"use strict";var n=i(3615),r=i(3689),s=i(9037).String;e.exports=!!Object.getOwnPropertySymbols&&!r((function(){var e=Symbol("symbol detection");return!s(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&n&&n<41}))},7578:(e,t,i)=>{"use strict";var n=i(8700),r=Math.max,s=Math.min;e.exports=function(e,t){var i=n(e);return i<0?r(i+t,0):s(i,t)}},1530:(e,t,i)=>{"use strict";var n=i(8732),r=TypeError;e.exports=function(e){var t=n(e,"number");if("number"==typeof t)throw new r("Can't convert number to bigint");return BigInt(t)}},9842:(e,t,i)=>{"use strict";var n=i(8700),r=i(3126),s=RangeError;e.exports=function(e){if(void 0===e)return 0;var t=n(e),i=r(t);if(t!==i)throw new s("Wrong length or index");return i}},5290:(e,t,i)=>{"use strict";var n=i(4413),r=i(4684);e.exports=function(e){return n(r(e))}},8700:(e,t,i)=>{"use strict";var n=i(8828);e.exports=function(e){var t=+e;return t!=t||0===t?0:n(t)}},3126:(e,t,i)=>{"use strict";var n=i(8700),r=Math.min;e.exports=function(e){var t=n(e);return t>0?r(t,9007199254740991):0}},690:(e,t,i)=>{"use strict";var n=i(4684),r=Object;e.exports=function(e){return r(n(e))}},3250:(e,t,i)=>{"use strict";var n=i(5904),r=RangeError;e.exports=function(e,t){var i=n(e);if(i%t)throw new r("Wrong offset");return i}},5904:(e,t,i)=>{"use strict";var n=i(8700),r=RangeError;e.exports=function(e){var t=n(e);if(t<0)throw new r("The argument can't be less than 0");return t}},8732:(e,t,i)=>{"use strict";var n=i(2615),r=i(8999),s=i(734),o=i(4849),a=i(5899),c=i(4201),l=TypeError,u=c("toPrimitive");e.exports=function(e,t){if(!r(e)||s(e))return e;var i,c=o(e,u);if(c){if(void 0===t&&(t="default"),i=n(c,e,t),!r(i)||s(i))return i;throw new l("Can't convert object to primitive value")}return void 0===t&&(t="number"),a(e,t)}},8360:(e,t,i)=>{"use strict";var n=i(8732),r=i(734);e.exports=function(e){var t=n(e,"string");return r(t)?t:t+""}},3043:(e,t,i)=>{"use strict";var n={};n[i(4201)("toStringTag")]="z",e.exports="[object z]"===String(n)},4327:(e,t,i)=>{"use strict";var n=i(926),r=String;e.exports=function(e){if("Symbol"===n(e))throw new TypeError("Cannot convert a Symbol value to a string");return r(e)}},7191:e=>{"use strict";var t=Math.round;e.exports=function(e){var i=t(e);return i<0?0:i>255?255:255&i}},1905:(e,t,i)=>{"use strict";var n=i(806);e.exports=function(e){try{if(n)return Function('return require("'+e+'")')()}catch(e){}}},3691:e=>{"use strict";var t=String;e.exports=function(e){try{return t(e)}catch(e){return"Object"}}},1158:(e,t,i)=>{"use strict";var n=i(9989),r=i(9037),s=i(2615),o=i(7697),a=i(9800),c=i(4872),l=i(3999),u=i(767),d=i(5684),h=i(5773),p=i(1973),f=i(3126),m=i(9842),v=i(3250),g=i(7191),y=i(8360),b=i(6812),E=i(926),w=i(8999),T=i(734),S=i(5391),A=i(3622),I=i(9385),P=i(2741).f,C=i(1304),k=i(2960).forEach,R=i(4241),D=i(2148),O=i(2560),_=i(2474),L=i(9976),N=i(618),x=i(3457),V=N.get,M=N.set,U=N.enforce,j=O.f,F=_.f,B=r.RangeError,W=l.ArrayBuffer,H=W.prototype,z=l.DataView,G=c.NATIVE_ARRAY_BUFFER_VIEWS,q=c.TYPED_ARRAY_TAG,Y=c.TypedArray,Q=c.TypedArrayPrototype,K=c.isTypedArray,Z=function(e,t){D(e,t,{configurable:!0,get:function(){return V(this)[t]}})},X=function(e){var t;return A(H,e)||"ArrayBuffer"===(t=E(e))||"SharedArrayBuffer"===t},J=function(e,t){return K(e)&&!T(t)&&t in e&&p(+t)&&t>=0},$=function(e,t){return t=y(t),J(e,t)?d(2,e[t]):F(e,t)},ee=function(e,t,i){return t=y(t),!(J(e,t)&&w(i)&&b(i,"value"))||b(i,"get")||b(i,"set")||i.configurable||b(i,"writable")&&!i.writable||b(i,"enumerable")&&!i.enumerable?j(e,t,i):(e[t]=i.value,e)};o?(G||(_.f=$,O.f=ee,Z(Q,"buffer"),Z(Q,"byteOffset"),Z(Q,"byteLength"),Z(Q,"length")),n({target:"Object",stat:!0,forced:!G},{getOwnPropertyDescriptor:$,defineProperty:ee}),e.exports=function(e,t,i){var o=e.match(/\d+/)[0]/8,c=e+(i?"Clamped":"")+"Array",l="get"+e,d="set"+e,p=r[c],y=p,b=y&&y.prototype,E={},T=function(e,t){j(e,t,{get:function(){return function(e,t){var i=V(e);return i.view[l](t*o+i.byteOffset,!0)}(this,t)},set:function(e){return function(e,t,n){var r=V(e);r.view[d](t*o+r.byteOffset,i?g(n):n,!0)}(this,t,e)},enumerable:!0})};G?a&&(y=t((function(e,t,i,n){return u(e,b),x(w(t)?X(t)?void 0!==n?new p(t,v(i,o),n):void 0!==i?new p(t,v(i,o)):new p(t):K(t)?L(y,t):s(C,y,t):new p(m(t)),e,y)})),I&&I(y,Y),k(P(p),(function(e){e in y||h(y,e,p[e])})),y.prototype=b):(y=t((function(e,t,i,n){u(e,b);var r,a,c,l=0,d=0;if(w(t)){if(!X(t))return K(t)?L(y,t):s(C,y,t);r=t,d=v(i,o);var h=t.byteLength;if(void 0===n){if(h%o)throw new B("Wrong length");if((a=h-d)<0)throw new B("Wrong length")}else if((a=f(n)*o)+d>h)throw new B("Wrong length");c=a/o}else c=m(t),r=new W(a=c*o);for(M(e,{buffer:r,byteOffset:d,byteLength:a,length:c,view:new z(r)});l<c;)T(e,l++)})),I&&I(y,Y),b=y.prototype=S(Q)),b.constructor!==y&&h(b,"constructor",y),U(b).TypedArrayConstructor=y,q&&h(b,q,c);var A=y!==p;E[c]=y,n({global:!0,constructor:!0,forced:A,sham:!G},E),"BYTES_PER_ELEMENT"in y||h(y,"BYTES_PER_ELEMENT",o),"BYTES_PER_ELEMENT"in b||h(b,"BYTES_PER_ELEMENT",o),R(c)}):e.exports=function(){}},9800:(e,t,i)=>{"use strict";var n=i(9037),r=i(3689),s=i(6431),o=i(4872).NATIVE_ARRAY_BUFFER_VIEWS,a=n.ArrayBuffer,c=n.Int8Array;e.exports=!o||!r((function(){c(1)}))||!r((function(){new c(-1)}))||!s((function(e){new c,new c(null),new c(1.5),new c(e)}),!0)||r((function(){return 1!==new c(new a(2),1,void 0).length}))},1304:(e,t,i)=>{"use strict";var n=i(4071),r=i(2615),s=i(2655),o=i(690),a=i(6310),c=i(5185),l=i(1664),u=i(3292),d=i(9401),h=i(4872).aTypedArrayConstructor,p=i(1530);e.exports=function(e){var t,i,f,m,v,g,y,b,E=s(this),w=o(e),T=arguments.length,S=T>1?arguments[1]:void 0,A=void 0!==S,I=l(w);if(I&&!u(I))for(b=(y=c(w,I)).next,w=[];!(g=r(b,y)).done;)w.push(g.value);for(A&&T>2&&(S=n(S,arguments[2])),i=a(w),f=new(h(E))(i),m=d(f),t=0;i>t;t++)v=A?S(w[t],t):w[t],f[t]=m?p(v):+v;return f}},4630:(e,t,i)=>{"use strict";var n=i(8844),r=0,s=Math.random(),o=n(1..toString);e.exports=function(e){return"Symbol("+(void 0===e?"":e)+")_"+o(++r+s,36)}},6837:(e,t,i)=>{"use strict";var n=i(3689),r=i(4201),s=i(7697),o=i(3931),a=r("iterator");e.exports=!n((function(){var e=new URL("b?a=1&b=2&c=3","http://a"),t=e.searchParams,i=new URLSearchParams("a=1&a=2&b=3"),n="";return e.pathname="c%20d",t.forEach((function(e,i){t.delete("b"),n+=i+e})),i.delete("a",2),i.delete("b",void 0),o&&(!e.toJSON||!i.has("a",1)||i.has("a",2)||!i.has("a",void 0)||i.has("b"))||!t.size&&(o||!s)||!t.sort||"http://a/c%20d?a=1&c=3"!==e.href||"3"!==t.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!t[a]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://").host||"#%D0%B1"!==new URL("http://a#").hash||"a1c3"!==n||"x"!==new URL("http://x",void 0).host}))},9525:(e,t,i)=>{"use strict";var n=i(146);e.exports=n&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},5648:(e,t,i)=>{"use strict";var n=i(7697),r=i(3689);e.exports=n&&r((function(){return 42!==Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},1500:e=>{"use strict";var t=TypeError;e.exports=function(e,i){if(e<i)throw new t("Not enough arguments");return e}},9834:(e,t,i)=>{"use strict";var n=i(9037),r=i(9985),s=n.WeakMap;e.exports=r(s)&&/native code/.test(String(s))},4201:(e,t,i)=>{"use strict";var n=i(9037),r=i(3430),s=i(6812),o=i(4630),a=i(146),c=i(9525),l=n.Symbol,u=r("wks"),d=c?l.for||l:l&&l.withoutSetter||o;e.exports=function(e){return s(u,e)||(u[e]=a&&s(l,e)?l[e]:d("Symbol."+e)),u[e]}},1064:(e,t,i)=>{"use strict";var n=i(6058),r=i(6812),s=i(5773),o=i(3622),a=i(9385),c=i(8758),l=i(8055),u=i(3457),d=i(3841),h=i(2570),p=i(5411),f=i(7697),m=i(3931);e.exports=function(e,t,i,v){var g=v?2:1,y=e.split("."),b=y[y.length-1],E=n.apply(null,y);if(E){var w=E.prototype;if(!m&&r(w,"cause")&&delete w.cause,!i)return E;var T=n("Error"),S=t((function(e,t){var i=d(v?t:e,void 0),n=v?new E(e):new E;return void 0!==i&&s(n,"message",i),p(n,S,n.stack,2),this&&o(w,this)&&u(n,this,S),arguments.length>g&&h(n,arguments[g]),n}));if(S.prototype=w,"Error"!==b?a?a(S,T):c(S,T,{name:!0}):f&&"stackTraceLimit"in E&&(l(S,E,"stackTraceLimit"),l(S,E,"prepareStackTrace")),c(S,E),!m)try{w.name!==b&&s(w,"name",b),w.constructor=S}catch(e){}return S}}},9045:(e,t,i)=>{"use strict";var n=i(7697),r=i(2148),s=i(2961),o=ArrayBuffer.prototype;n&&!("detached"in o)&&r(o,"detached",{configurable:!0,get:function(){return s(this)}})},4774:(e,t,i)=>{"use strict";var n=i(9989),r=i(9195);r&&n({target:"ArrayBuffer",proto:!0},{transferToFixedLength:function(){return r(this,arguments.length?arguments[0]:void 0,!1)}})},3627:(e,t,i)=>{"use strict";var n=i(9989),r=i(9195);r&&n({target:"ArrayBuffer",proto:!0},{transfer:function(){return r(this,arguments.length?arguments[0]:void 0,!0)}})},6801:(e,t,i)=>{"use strict";var n=i(9989),r=i(4328).includes,s=i(3689),o=i(7370);n({target:"Array",proto:!0,forced:s((function(){return!Array(1).includes()}))},{includes:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}}),o("includes")},752:(e,t,i)=>{"use strict";var n=i(5290),r=i(7370),s=i(9478),o=i(618),a=i(2560).f,c=i(1934),l=i(7807),u=i(3931),d=i(7697),h=o.set,p=o.getterFor("Array Iterator");e.exports=c(Array,"Array",(function(e,t){h(this,{type:"Array Iterator",target:n(e),index:0,kind:t})}),(function(){var e=p(this),t=e.target,i=e.index++;if(!t||i>=t.length)return e.target=void 0,l(void 0,!0);switch(e.kind){case"keys":return l(i,!1);case"values":return l(t[i],!1)}return l([i,t[i]],!1)}),"values");var f=s.Arguments=s.Array;if(r("keys"),r("values"),r("entries"),!u&&d&&"values"!==f.name)try{a(f,"name",{value:"values"})}catch(e){}},560:(e,t,i)=>{"use strict";var n=i(9989),r=i(690),s=i(6310),o=i(5649),a=i(5565);n({target:"Array",proto:!0,arity:1,forced:i(3689)((function(){return 4294967297!==[].push.call({length:4294967296},1)}))||!function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(e){return e instanceof TypeError}}()},{push:function(e){var t=r(this),i=s(t),n=arguments.length;a(i+n);for(var c=0;c<n;c++)t[i]=arguments[c],i++;return o(t,i),i}})},278:(e,t,i)=>{"use strict";var n=i(9989),r=i(8820).left,s=i(6834),o=i(3615);n({target:"Array",proto:!0,forced:!i(806)&&o>79&&o<83||!s("reduce")},{reduce:function(e){var t=arguments.length;return r(this,e,t,t>1?arguments[1]:void 0)}})},385:(e,t,i)=>{"use strict";i(7370)("flatMap")},3383:(e,t,i)=>{"use strict";i(7370)("flat")},1719:(e,t,i)=>{"use strict";var n=i(9989),r=i(690),s=i(6310),o=i(5649),a=i(8494),c=i(5565);n({target:"Array",proto:!0,arity:1,forced:1!==[].unshift(0)||!function(){try{Object.defineProperty([],"length",{writable:!1}).unshift()}catch(e){return e instanceof TypeError}}()},{unshift:function(e){var t=r(this),i=s(t),n=arguments.length;if(n){c(i+n);for(var l=i;l--;){var u=l+n;l in t?t[u]=t[l]:a(t,u)}for(var d=0;d<n;d++)t[d]=arguments[d]}return o(t,i+n)}})},1057:(e,t,i)=>{"use strict";var n=i(9989),r=i(9037),s=i(1735),o=i(1064),a=r.WebAssembly,c=7!==new Error("e",{cause:7}).cause,l=function(e,t){var i={};i[e]=o(e,t,c),n({global:!0,constructor:!0,arity:1,forced:c},i)},u=function(e,t){if(a&&a[e]){var i={};i[e]=o("WebAssembly."+e,t,c),n({target:"WebAssembly",stat:!0,constructor:!0,arity:1,forced:c},i)}};l("Error",(function(e){return function(t){return s(e,this,arguments)}})),l("EvalError",(function(e){return function(t){return s(e,this,arguments)}})),l("RangeError",(function(e){return function(t){return s(e,this,arguments)}})),l("ReferenceError",(function(e){return function(t){return s(e,this,arguments)}})),l("SyntaxError",(function(e){return function(t){return s(e,this,arguments)}})),l("TypeError",(function(e){return function(t){return s(e,this,arguments)}})),l("URIError",(function(e){return function(t){return s(e,this,arguments)}})),u("CompileError",(function(e){return function(t){return s(e,this,arguments)}})),u("LinkError",(function(e){return function(t){return s(e,this,arguments)}})),u("RuntimeError",(function(e){return function(t){return s(e,this,arguments)}}))},8324:(e,t,i)=>{"use strict";var n=i(9989),r=i(6058),s=i(1735),o=i(2615),a=i(8844),c=i(3689),l=i(9985),u=i(734),d=i(6004),h=i(2643),p=i(146),f=String,m=r("JSON","stringify"),v=a(/./.exec),g=a("".charAt),y=a("".charCodeAt),b=a("".replace),E=a(1..toString),w=/[\uD800-\uDFFF]/g,T=/^[\uD800-\uDBFF]$/,S=/^[\uDC00-\uDFFF]$/,A=!p||c((function(){var e=r("Symbol")("stringify detection");return"[null]"!==m([e])||"{}"!==m({a:e})||"{}"!==m(Object(e))})),I=c((function(){return'"\\udf06\\ud834"'!==m("\udf06\ud834")||'"\\udead"'!==m("\udead")})),P=function(e,t){var i=d(arguments),n=h(t);if(l(n)||void 0!==e&&!u(e))return i[1]=function(e,t){if(l(n)&&(t=o(n,this,f(e),t)),!u(t))return t},s(m,null,i)},C=function(e,t,i){var n=g(i,t-1),r=g(i,t+1);return v(T,e)&&!v(S,r)||v(S,e)&&!v(T,n)?"\\u"+E(y(e,0),16):e};m&&n({target:"JSON",stat:!0,arity:3,forced:A||I},{stringify:function(e,t,i){var n=d(arguments),r=s(A?P:m,null,n);return I&&"string"==typeof r?b(r,w,C):r}})},1195:(e,t,i)=>{"use strict";var n=i(9989),r=i(2615),s=i(509),o=i(8742),a=i(9302),c=i(8734);n({target:"Promise",stat:!0,forced:i(562)},{allSettled:function(e){var t=this,i=o.f(t),n=i.resolve,l=i.reject,u=a((function(){var i=s(t.resolve),o=[],a=0,l=1;c(e,(function(e){var s=a++,c=!1;l++,r(i,t,e).then((function(e){c||(c=!0,o[s]={status:"fulfilled",value:e},--l||n(o))}),(function(e){c||(c=!0,o[s]={status:"rejected",reason:e},--l||n(o))}))})),--l||n(o)}));return u.error&&l(u.value),i.promise}})},6409:(e,t,i)=>{"use strict";var n=i(9989),r=i(3931),s=i(7919),o=i(3689),a=i(6058),c=i(9985),l=i(6373),u=i(2945),d=i(1880),h=s&&s.prototype;if(n({target:"Promise",proto:!0,real:!0,forced:!!s&&o((function(){h.finally.call({then:function(){}},(function(){}))}))},{finally:function(e){var t=l(this,a("Promise")),i=c(e);return this.then(i?function(i){return u(t,e()).then((function(){return i}))}:e,i?function(i){return u(t,e()).then((function(){throw i}))}:e)}}),!r&&c(s)){var p=a("Promise").prototype.finally;h.finally!==p&&d(h,"finally",p,{unsafe:!0})}},2003:(e,t,i)=>{"use strict";var n=i(7697),r=i(9037),s=i(8844),o=i(5266),a=i(3457),c=i(5773),l=i(5391),u=i(2741).f,d=i(3622),h=i(1245),p=i(4327),f=i(3477),m=i(7901),v=i(8055),g=i(1880),y=i(3689),b=i(6812),E=i(618).enforce,w=i(4241),T=i(4201),S=i(2100),A=i(6422),I=T("match"),P=r.RegExp,C=P.prototype,k=r.SyntaxError,R=s(C.exec),D=s("".charAt),O=s("".replace),_=s("".indexOf),L=s("".slice),N=/^\?<[^\s\d!#%&*+<=>@^][^\s!#%&*+<=>@^]*>/,x=/a/g,V=/a/g,M=new P(x)!==x,U=m.MISSED_STICKY,j=m.UNSUPPORTED_Y,F=n&&(!M||U||S||A||y((function(){return V[I]=!1,P(x)!==x||P(V)===V||"/a/i"!==String(P(x,"i"))})));if(o("RegExp",F)){for(var B=function(e,t){var i,n,r,s,o,u,m=d(C,this),v=h(e),g=void 0===t,y=[],w=e;if(!m&&v&&g&&e.constructor===B)return e;if((v||d(C,e))&&(e=e.source,g&&(t=f(w))),e=void 0===e?"":p(e),t=void 0===t?"":p(t),w=e,S&&"dotAll"in x&&(n=!!t&&_(t,"s")>-1)&&(t=O(t,/s/g,"")),i=t,U&&"sticky"in x&&(r=!!t&&_(t,"y")>-1)&&j&&(t=O(t,/y/g,"")),A&&(e=(s=function(e){for(var t,i=e.length,n=0,r="",s=[],o=l(null),a=!1,c=!1,u=0,d="";n<=i;n++){if("\\"===(t=D(e,n)))t+=D(e,++n);else if("]"===t)a=!1;else if(!a)switch(!0){case"["===t:a=!0;break;case"("===t:R(N,L(e,n+1))&&(n+=2,c=!0),r+=t,u++;continue;case">"===t&&c:if(""===d||b(o,d))throw new k("Invalid capture group name");o[d]=!0,s[s.length]=[d,u],c=!1,d="";continue}c?d+=t:r+=t}return[r,s]}(e))[0],y=s[1]),o=a(P(e,t),m?this:C,B),(n||r||y.length)&&(u=E(o),n&&(u.dotAll=!0,u.raw=B(function(e){for(var t,i=e.length,n=0,r="",s=!1;n<=i;n++)"\\"!==(t=D(e,n))?s||"."!==t?("["===t?s=!0:"]"===t&&(s=!1),r+=t):r+="[\\s\\S]":r+=t+D(e,++n);return r}(e),i)),r&&(u.sticky=!0),y.length&&(u.groups=y)),e!==w)try{c(o,"source",""===w?"(?:)":w)}catch(e){}return o},W=u(P),H=0;W.length>H;)v(B,P,W[H++]);C.constructor=B,B.prototype=C,g(r,"RegExp",B,{constructor:!0})}w("RegExp")},8518:(e,t,i)=>{"use strict";var n=i(7697),r=i(2100),s=i(6648),o=i(2148),a=i(618).get,c=RegExp.prototype,l=TypeError;n&&r&&o(c,"dotAll",{configurable:!0,get:function(){if(this!==c){if("RegExp"===s(this))return!!a(this).dotAll;throw new l("Incompatible receiver, RegExp required")}}})},4043:(e,t,i)=>{"use strict";var n=i(9989),r=i(6308);n({target:"RegExp",proto:!0,forced:/./.exec!==r},{exec:r})},5847:(e,t,i)=>{"use strict";var n=i(9037),r=i(7697),s=i(2148),o=i(9633),a=i(3689),c=n.RegExp,l=c.prototype;r&&a((function(){var e=!0;try{c(".","d")}catch(t){e=!1}var t={},i="",n=e?"dgimsy":"gimsy",r=function(e,n){Object.defineProperty(t,e,{get:function(){return i+=n,!0}})},s={dotAll:"s",global:"g",ignoreCase:"i",multiline:"m",sticky:"y"};for(var o in e&&(s.hasIndices="d"),s)r(o,s[o]);return Object.getOwnPropertyDescriptor(l,"flags").get.call(t)!==n||i!==n}))&&s(l,"flags",{configurable:!0,get:o})},1694:(e,t,i)=>{"use strict";var n=i(730).charAt,r=i(4327),s=i(618),o=i(1934),a=i(7807),c=s.set,l=s.getterFor("String Iterator");o(String,"String",(function(e){c(this,{type:"String Iterator",string:r(e),index:0})}),(function(){var e,t=l(this),i=t.string,r=t.index;return r>=i.length?a(void 0,!0):(e=n(i,r),t.index+=e.length,a(e,!1))}))},6532:(e,t,i)=>{"use strict";var n=i(9989),r=i(2615),s=i(8844),o=i(4684),a=i(9985),c=i(981),l=i(1245),u=i(4327),d=i(4849),h=i(3477),p=i(7017),f=i(4201),m=i(3931),v=f("replace"),g=TypeError,y=s("".indexOf),b=s("".replace),E=s("".slice),w=Math.max;n({target:"String",proto:!0},{replaceAll:function(e,t){var i,n,s,f,T,S,A,I,P,C=o(this),k=0,R=0,D="";if(!c(e)){if((i=l(e))&&(n=u(o(h(e))),!~y(n,"g")))throw new g("`.replaceAll` does not allow non-global regexes");if(s=d(e,v))return r(s,e,C,t);if(m&&i)return b(u(C),e,t)}for(f=u(C),T=u(e),(S=a(t))||(t=u(t)),I=w(1,A=T.length),k=y(f,T);-1!==k;)P=S?u(t(T,k,f)):p(T,f,k,[],void 0,t),D+=E(f,R,k)+P,R=k+A,k=k+I>f.length?-1:y(f,T,k+I);return R<f.length&&(D+=E(f,R)),D}})},7267:(e,t,i)=>{"use strict";var n=i(1735),r=i(2615),s=i(8844),o=i(8678),a=i(3689),c=i(5027),l=i(9985),u=i(981),d=i(8700),h=i(3126),p=i(4327),f=i(4684),m=i(1514),v=i(4849),g=i(7017),y=i(6100),b=i(4201)("replace"),E=Math.max,w=Math.min,T=s([].concat),S=s([].push),A=s("".indexOf),I=s("".slice),P="$0"==="a".replace(/./,"$0"),C=!!/./[b]&&""===/./[b]("a","$0");o("replace",(function(e,t,i){var s=C?"$":"$0";return[function(e,i){var n=f(this),s=u(e)?void 0:v(e,b);return s?r(s,e,n,i):r(t,p(n),e,i)},function(e,r){var o=c(this),a=p(e);if("string"==typeof r&&-1===A(r,s)&&-1===A(r,"$<")){var u=i(t,o,a,r);if(u.done)return u.value}var f=l(r);f||(r=p(r));var v,b=o.global;b&&(v=o.unicode,o.lastIndex=0);for(var P,C=[];null!==(P=y(o,a))&&(S(C,P),b);){""===p(P[0])&&(o.lastIndex=m(a,h(o.lastIndex),v))}for(var k,R="",D=0,O=0;O<C.length;O++){for(var _,L=p((P=C[O])[0]),N=E(w(d(P.index),a.length),0),x=[],V=1;V<P.length;V++)S(x,void 0===(k=P[V])?k:String(k));var M=P.groups;if(f){var U=T([L],x,N,a);void 0!==M&&S(U,M),_=p(n(r,void 0,U))}else _=g(L,a,N,x,M,r);N>=D&&(R+=I(a,D,N)+_,D=N+L.length)}return R+I(a,D)}]}),!!a((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")}))||!P||C)},5194:(e,t,i)=>{"use strict";var n=i(4872),r=i(6310),s=i(8700),o=n.aTypedArray;(0,n.exportTypedArrayMethod)("at",(function(e){var t=o(this),i=r(t),n=s(e),a=n>=0?n:i+n;return a<0||a>=i?void 0:t[a]}))},9943:(e,t,i)=>{"use strict";var n=i(4872),r=i(2872),s=i(1530),o=i(926),a=i(2615),c=i(8844),l=i(3689),u=n.aTypedArray,d=n.exportTypedArrayMethod,h=c("".slice);d("fill",(function(e){var t=arguments.length;u(this);var i="Big"===h(o(this),0,3)?s(e):+e;return a(r,this,i,t>1?arguments[1]:void 0,t>2?arguments[2]:void 0)}),l((function(){var e=0;return new Int8Array(2).fill({valueOf:function(){return e++}}),1!==e})))},82:(e,t,i)=>{"use strict";var n=i(4872),r=i(1969).findLastIndex,s=n.aTypedArray;(0,n.exportTypedArrayMethod)("findLastIndex",(function(e){return r(s(this),e,arguments.length>1?arguments[1]:void 0)}))},522:(e,t,i)=>{"use strict";var n=i(4872),r=i(1969).findLast,s=n.aTypedArray;(0,n.exportTypedArrayMethod)("findLast",(function(e){return r(s(this),e,arguments.length>1?arguments[1]:void 0)}))},1638:(e,t,i)=>{"use strict";var n=i(9037),r=i(2615),s=i(4872),o=i(6310),a=i(3250),c=i(690),l=i(3689),u=n.RangeError,d=n.Int8Array,h=d&&d.prototype,p=h&&h.set,f=s.aTypedArray,m=s.exportTypedArrayMethod,v=!l((function(){var e=new Uint8ClampedArray(2);return r(p,e,{length:1,0:3},1),3!==e[1]})),g=v&&s.NATIVE_ARRAY_BUFFER_VIEWS&&l((function(){var e=new d(2);return e.set(1),e.set("2",1),0!==e[0]||2!==e[1]}));m("set",(function(e){f(this);var t=a(arguments.length>1?arguments[1]:void 0,1),i=c(e);if(v)return r(p,this,i,t);var n=this.length,s=o(i),l=0;if(s+t>n)throw new u("Wrong length");for(;l<s;)this[t+l]=i[l++]}),!v||g)},3356:(e,t,i)=>{"use strict";var n=i(9037),r=i(6576),s=i(3689),o=i(509),a=i(382),c=i(4872),l=i(7365),u=i(7298),d=i(3615),h=i(7922),p=c.aTypedArray,f=c.exportTypedArrayMethod,m=n.Uint16Array,v=m&&r(m.prototype.sort),g=!(!v||s((function(){v(new m(2),null)}))&&s((function(){v(new m(2),{})}))),y=!!v&&!s((function(){if(d)return d<74;if(l)return l<67;if(u)return!0;if(h)return h<602;var e,t,i=new m(516),n=Array(516);for(e=0;e<516;e++)t=e%4,i[e]=515-e,n[e]=e-2*t+3;for(v(i,(function(e,t){return(e/4|0)-(t/4|0)})),e=0;e<516;e++)if(i[e]!==n[e])return!0}));f("sort",(function(e){return void 0!==e&&o(e),y?v(this,e):a(p(this),function(e){return function(t,i){return void 0!==e?+e(t,i)||0:i!=i?-1:t!=t?1:0===t&&0===i?1/t>0&&1/i<0?1:-1:t>i}}(e))}),!y||g)},4224:(e,t,i)=>{"use strict";var n=i(6166),r=i(4872),s=r.aTypedArray,o=r.getTypedArrayConstructor;(0,r.exportTypedArrayMethod)("toReversed",(function(){return n(s(this),o(this))}))},1121:(e,t,i)=>{"use strict";var n=i(4872),r=i(8844),s=i(509),o=i(9976),a=n.aTypedArray,c=n.getTypedArrayConstructor,l=n.exportTypedArrayMethod,u=r(n.TypedArrayPrototype.sort);l("toSorted",(function(e){void 0!==e&&s(e);var t=a(this),i=o(c(t),t);return u(i,e)}))},8607:(e,t,i)=>{"use strict";i(1158)("Uint8",(function(e){return function(t,i,n){return e(this,t,i,n)}}))},7133:(e,t,i)=>{"use strict";var n=i(6134),r=i(4872),s=i(9401),o=i(8700),a=i(1530),c=r.aTypedArray,l=r.getTypedArrayConstructor,u=r.exportTypedArrayMethod,d=!!function(){try{new Int8Array(1).with(2,{valueOf:function(){throw 8}})}catch(e){return 8===e}}();u("with",{with:function(e,t){var i=c(this),r=o(e),u=s(i)?a(t):+t;return n(i,l(i),r,u)}}.with,!d)},6265:(e,t,i)=>{"use strict";var n=i(9037),r=i(6338),s=i(3265),o=i(752),a=i(5773),c=i(5997),l=i(4201)("iterator"),u=o.values,d=function(e,t){if(e){if(e[l]!==u)try{a(e,l,u)}catch(t){e[l]=u}if(c(e,t,!0),r[t])for(var i in o)if(e[i]!==o[i])try{a(e,i,o[i])}catch(t){e[i]=o[i]}}};for(var h in r)d(n[h]&&n[h].prototype,h);d(s,"DOMTokenList")},3429:(e,t,i)=>{"use strict";var n=i(9989),r=i(9037),s=i(6058),o=i(5684),a=i(2560).f,c=i(6812),l=i(767),u=i(3457),d=i(3841),h=i(7136),p=i(6610),f=i(7697),m=i(3931),v=s("Error"),g=s("DOMException"),y=function(){l(this,b);var e=arguments.length,t=d(e<1?void 0:arguments[0]),i=d(e<2?void 0:arguments[1],"Error"),n=new g(t,i),r=new v(t);return r.name="DOMException",a(n,"stack",o(1,p(r.stack,1))),u(n,this,y),n},b=y.prototype=g.prototype,E="stack"in new v("DOMException"),w="stack"in new g(1,2),T=g&&f&&Object.getOwnPropertyDescriptor(r,"DOMException"),S=E&&!!(!T||T.writable&&T.configurable)&&!w;n({global:!0,constructor:!0,forced:m||S},{DOMException:S?y:g});var A=s("DOMException"),I=A.prototype;if(I.constructor!==A)for(var P in m||a(I,"constructor",o(1,A)),h)if(c(h,P)){var C=h[P],k=C.s;c(A,k)||a(A,k,o(6,C.c))}},3650:(e,t,i)=>{"use strict";var n=i(9989),r=i(9037),s=i(2148),o=i(7697),a=TypeError,c=Object.defineProperty,l=r.self!==r;try{if(o){var u=Object.getOwnPropertyDescriptor(r,"self");!l&&u&&u.get&&u.enumerable||s(r,"self",{get:function(){return r},set:function(e){if(this!==r)throw new a("Illegal invocation");c(r,"self",{value:e,writable:!0,configurable:!0,enumerable:!0})},configurable:!0,enumerable:!0})}else n({global:!0,simple:!0,forced:l},{self:r})}catch(e){}},2625:(e,t,i)=>{"use strict";i(752);var n=i(9989),r=i(9037),s=i(517),o=i(2615),a=i(8844),c=i(7697),l=i(6837),u=i(1880),d=i(2148),h=i(6045),p=i(5997),f=i(974),m=i(618),v=i(767),g=i(9985),y=i(6812),b=i(4071),E=i(926),w=i(5027),T=i(8999),S=i(4327),A=i(5391),I=i(5684),P=i(5185),C=i(1664),k=i(7807),R=i(1500),D=i(4201),O=i(382),_=D("iterator"),L=m.set,N=m.getterFor("URLSearchParams"),x=m.getterFor("URLSearchParamsIterator"),V=s("fetch"),M=s("Request"),U=s("Headers"),j=M&&M.prototype,F=U&&U.prototype,B=r.RegExp,W=r.TypeError,H=r.decodeURIComponent,z=r.encodeURIComponent,G=a("".charAt),q=a([].join),Y=a([].push),Q=a("".replace),K=a([].shift),Z=a([].splice),X=a("".split),J=a("".slice),$=/\+/g,ee=Array(4),te=function(e){return ee[e-1]||(ee[e-1]=B("((?:%[\\da-f]{2}){"+e+"})","gi"))},ie=function(e){try{return H(e)}catch(t){return e}},ne=function(e){var t=Q(e,$," "),i=4;try{return H(t)}catch(e){for(;i;)t=Q(t,te(i--),ie);return t}},re=/[!'()~]|%20/g,se={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},oe=function(e){return se[e]},ae=function(e){return Q(z(e),re,oe)},ce=f((function(e,t){L(this,{type:"URLSearchParamsIterator",target:N(e).entries,index:0,kind:t})}),"URLSearchParams",(function(){var e=x(this),t=e.target,i=e.index++;if(!t||i>=t.length)return e.target=void 0,k(void 0,!0);var n=t[i];switch(e.kind){case"keys":return k(n.key,!1);case"values":return k(n.value,!1)}return k([n.key,n.value],!1)}),!0),le=function(e){this.entries=[],this.url=null,void 0!==e&&(T(e)?this.parseObject(e):this.parseQuery("string"==typeof e?"?"===G(e,0)?J(e,1):e:S(e)))};le.prototype={type:"URLSearchParams",bindURL:function(e){this.url=e,this.update()},parseObject:function(e){var t,i,n,r,s,a,c,l=this.entries,u=C(e);if(u)for(i=(t=P(e,u)).next;!(n=o(i,t)).done;){if(r=P(w(n.value)),(a=o(s=r.next,r)).done||(c=o(s,r)).done||!o(s,r).done)throw new W("Expected sequence with length 2");Y(l,{key:S(a.value),value:S(c.value)})}else for(var d in e)y(e,d)&&Y(l,{key:d,value:S(e[d])})},parseQuery:function(e){if(e)for(var t,i,n=this.entries,r=X(e,"&"),s=0;s<r.length;)(t=r[s++]).length&&(i=X(t,"="),Y(n,{key:ne(K(i)),value:ne(q(i,"="))}))},serialize:function(){for(var e,t=this.entries,i=[],n=0;n<t.length;)e=t[n++],Y(i,ae(e.key)+"="+ae(e.value));return q(i,"&")},update:function(){this.entries.length=0,this.parseQuery(this.url.query)},updateURL:function(){this.url&&this.url.update()}};var ue=function(){v(this,de);var e=arguments.length>0?arguments[0]:void 0,t=L(this,new le(e));c||(this.size=t.entries.length)},de=ue.prototype;if(h(de,{append:function(e,t){var i=N(this);R(arguments.length,2),Y(i.entries,{key:S(e),value:S(t)}),c||this.length++,i.updateURL()},delete:function(e){for(var t=N(this),i=R(arguments.length,1),n=t.entries,r=S(e),s=i<2?void 0:arguments[1],o=void 0===s?s:S(s),a=0;a<n.length;){var l=n[a];if(l.key!==r||void 0!==o&&l.value!==o)a++;else if(Z(n,a,1),void 0!==o)break}c||(this.size=n.length),t.updateURL()},get:function(e){var t=N(this).entries;R(arguments.length,1);for(var i=S(e),n=0;n<t.length;n++)if(t[n].key===i)return t[n].value;return null},getAll:function(e){var t=N(this).entries;R(arguments.length,1);for(var i=S(e),n=[],r=0;r<t.length;r++)t[r].key===i&&Y(n,t[r].value);return n},has:function(e){for(var t=N(this).entries,i=R(arguments.length,1),n=S(e),r=i<2?void 0:arguments[1],s=void 0===r?r:S(r),o=0;o<t.length;){var a=t[o++];if(a.key===n&&(void 0===s||a.value===s))return!0}return!1},set:function(e,t){var i=N(this);R(arguments.length,1);for(var n,r=i.entries,s=!1,o=S(e),a=S(t),l=0;l<r.length;l++)(n=r[l]).key===o&&(s?Z(r,l--,1):(s=!0,n.value=a));s||Y(r,{key:o,value:a}),c||(this.size=r.length),i.updateURL()},sort:function(){var e=N(this);O(e.entries,(function(e,t){return e.key>t.key?1:-1})),e.updateURL()},forEach:function(e){for(var t,i=N(this).entries,n=b(e,arguments.length>1?arguments[1]:void 0),r=0;r<i.length;)n((t=i[r++]).value,t.key,this)},keys:function(){return new ce(this,"keys")},values:function(){return new ce(this,"values")},entries:function(){return new ce(this,"entries")}},{enumerable:!0}),u(de,_,de.entries,{name:"entries"}),u(de,"toString",(function(){return N(this).serialize()}),{enumerable:!0}),c&&d(de,"size",{get:function(){return N(this).entries.length},configurable:!0,enumerable:!0}),p(ue,"URLSearchParams"),n({global:!0,constructor:!0,forced:!l},{URLSearchParams:ue}),!l&&g(U)){var he=a(F.has),pe=a(F.set),fe=function(e){if(T(e)){var t,i=e.body;if("URLSearchParams"===E(i))return t=e.headers?new U(e.headers):new U,he(t,"content-type")||pe(t,"content-type","application/x-www-form-urlencoded;charset=UTF-8"),A(e,{body:I(0,S(i)),headers:I(0,t)})}return e};if(g(V)&&n({global:!0,enumerable:!0,dontCallGetSet:!0,forced:!0},{fetch:function(e){return V(e,arguments.length>1?fe(arguments[1]):{})}}),g(M)){var me=function(e){return v(this,j),new M(e,arguments.length>1?fe(arguments[1]):{})};j.constructor=me,me.prototype=j,n({global:!0,constructor:!0,dontCallGetSet:!0,forced:!0},{Request:me})}}e.exports={URLSearchParams:ue,getState:N}},8858:(e,t,i)=>{"use strict";var n=i(1880),r=i(8844),s=i(4327),o=i(1500),a=URLSearchParams,c=a.prototype,l=r(c.append),u=r(c.delete),d=r(c.forEach),h=r([].push),p=new a("a=1&a=2&b=3");p.delete("a",1),p.delete("b",void 0),p+""!="a=2"&&n(c,"delete",(function(e){var t=arguments.length,i=t<2?void 0:arguments[1];if(t&&void 0===i)return u(this,e);var n=[];d(this,(function(e,t){h(n,{key:t,value:e})})),o(t,1);for(var r,a=s(e),c=s(i),p=0,f=0,m=!1,v=n.length;p<v;)r=n[p++],m||r.key===a?(m=!0,u(this,r.key)):f++;for(;f<v;)(r=n[f++]).key===a&&r.value===c||l(this,r.key,r.value)}),{enumerable:!0,unsafe:!0})},1318:(e,t,i)=>{"use strict";var n=i(1880),r=i(8844),s=i(4327),o=i(1500),a=URLSearchParams,c=a.prototype,l=r(c.getAll),u=r(c.has),d=new a("a=1");!d.has("a",2)&&d.has("a",void 0)||n(c,"has",(function(e){var t=arguments.length,i=t<2?void 0:arguments[1];if(t&&void 0===i)return u(this,e);var n=l(this,e);o(t,1);for(var r=s(i),a=0;a<n.length;)if(n[a++]===r)return!0;return!1}),{enumerable:!0,unsafe:!0})},9307:(e,t,i)=>{"use strict";i(2625)},3228:(e,t,i)=>{"use strict";var n=i(7697),r=i(8844),s=i(2148),o=URLSearchParams.prototype,a=r(o.forEach);n&&!("size"in o)&&s(o,"size",{get:function(){var e=0;return a(this,(function(){e++})),e},configurable:!0,enumerable:!0})},9391:(e,t,i)=>{"use strict";i(1694);var n,r=i(9989),s=i(7697),o=i(6837),a=i(9037),c=i(4071),l=i(8844),u=i(1880),d=i(2148),h=i(767),p=i(6812),f=i(5394),m=i(1055),v=i(6004),g=i(730).codeAt,y=i(6430),b=i(4327),E=i(5997),w=i(1500),T=i(2625),S=i(618),A=S.set,I=S.getterFor("URL"),P=T.URLSearchParams,C=T.getState,k=a.URL,R=a.TypeError,D=a.parseInt,O=Math.floor,_=Math.pow,L=l("".charAt),N=l(/./.exec),x=l([].join),V=l(1..toString),M=l([].pop),U=l([].push),j=l("".replace),F=l([].shift),B=l("".split),W=l("".slice),H=l("".toLowerCase),z=l([].unshift),G=/[a-z]/i,q=/[\d+-.a-z]/i,Y=/\d/,Q=/^0x/i,K=/^[0-7]+$/,Z=/^\d+$/,X=/^[\da-f]+$/i,J=/[\0\t\n\r #%/:<>?@[\\\]^|]/,$=/[\0\t\n\r #/:<>?@[\\\]^|]/,ee=/^[\u0000-\u0020]+/,te=/(^|[^\u0000-\u0020])[\u0000-\u0020]+$/,ie=/[\t\n\r]/g,ne=function(e){var t,i,n,r;if("number"==typeof e){for(t=[],i=0;i<4;i++)z(t,e%256),e=O(e/256);return x(t,".")}if("object"==typeof e){for(t="",n=function(e){for(var t=null,i=1,n=null,r=0,s=0;s<8;s++)0!==e[s]?(r>i&&(t=n,i=r),n=null,r=0):(null===n&&(n=s),++r);return r>i&&(t=n,i=r),t}(e),i=0;i<8;i++)r&&0===e[i]||(r&&(r=!1),n===i?(t+=i?":":"::",r=!0):(t+=V(e[i],16),i<7&&(t+=":")));return"["+t+"]"}return e},re={},se=f({},re,{" ":1,'"':1,"<":1,">":1,"`":1}),oe=f({},se,{"#":1,"?":1,"{":1,"}":1}),ae=f({},oe,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),ce=function(e,t){var i=g(e,0);return i>32&&i<127&&!p(t,e)?e:encodeURIComponent(e)},le={ftp:21,file:null,http:80,https:443,ws:80,wss:443},ue=function(e,t){var i;return 2===e.length&&N(G,L(e,0))&&(":"===(i=L(e,1))||!t&&"|"===i)},de=function(e){var t;return e.length>1&&ue(W(e,0,2))&&(2===e.length||"/"===(t=L(e,2))||"\\"===t||"?"===t||"#"===t)},he=function(e){return"."===e||"%2e"===H(e)},pe={},fe={},me={},ve={},ge={},ye={},be={},Ee={},we={},Te={},Se={},Ae={},Ie={},Pe={},Ce={},ke={},Re={},De={},Oe={},_e={},Le={},Ne=function(e,t,i){var n,r,s,o=b(e);if(t){if(r=this.parse(o))throw new R(r);this.searchParams=null}else{if(void 0!==i&&(n=new Ne(i,!0)),r=this.parse(o,null,n))throw new R(r);(s=C(new P)).bindURL(this),this.searchParams=s}};Ne.prototype={type:"URL",parse:function(e,t,i){var r,s,o,a,c,l=this,u=t||pe,d=0,h="",f=!1,g=!1,y=!1;for(e=b(e),t||(l.scheme="",l.username="",l.password="",l.host=null,l.port=null,l.path=[],l.query=null,l.fragment=null,l.cannotBeABaseURL=!1,e=j(e,ee,""),e=j(e,te,"$1")),e=j(e,ie,""),r=m(e);d<=r.length;){switch(s=r[d],u){case pe:if(!s||!N(G,s)){if(t)return"Invalid scheme";u=me;continue}h+=H(s),u=fe;break;case fe:if(s&&(N(q,s)||"+"===s||"-"===s||"."===s))h+=H(s);else{if(":"!==s){if(t)return"Invalid scheme";h="",u=me,d=0;continue}if(t&&(l.isSpecial()!==p(le,h)||"file"===h&&(l.includesCredentials()||null!==l.port)||"file"===l.scheme&&!l.host))return;if(l.scheme=h,t)return void(l.isSpecial()&&le[l.scheme]===l.port&&(l.port=null));h="","file"===l.scheme?u=Pe:l.isSpecial()&&i&&i.scheme===l.scheme?u=ve:l.isSpecial()?u=Ee:"/"===r[d+1]?(u=ge,d++):(l.cannotBeABaseURL=!0,U(l.path,""),u=Oe)}break;case me:if(!i||i.cannotBeABaseURL&&"#"!==s)return"Invalid scheme";if(i.cannotBeABaseURL&&"#"===s){l.scheme=i.scheme,l.path=v(i.path),l.query=i.query,l.fragment="",l.cannotBeABaseURL=!0,u=Le;break}u="file"===i.scheme?Pe:ye;continue;case ve:if("/"!==s||"/"!==r[d+1]){u=ye;continue}u=we,d++;break;case ge:if("/"===s){u=Te;break}u=De;continue;case ye:if(l.scheme=i.scheme,s===n)l.username=i.username,l.password=i.password,l.host=i.host,l.port=i.port,l.path=v(i.path),l.query=i.query;else if("/"===s||"\\"===s&&l.isSpecial())u=be;else if("?"===s)l.username=i.username,l.password=i.password,l.host=i.host,l.port=i.port,l.path=v(i.path),l.query="",u=_e;else{if("#"!==s){l.username=i.username,l.password=i.password,l.host=i.host,l.port=i.port,l.path=v(i.path),l.path.length--,u=De;continue}l.username=i.username,l.password=i.password,l.host=i.host,l.port=i.port,l.path=v(i.path),l.query=i.query,l.fragment="",u=Le}break;case be:if(!l.isSpecial()||"/"!==s&&"\\"!==s){if("/"!==s){l.username=i.username,l.password=i.password,l.host=i.host,l.port=i.port,u=De;continue}u=Te}else u=we;break;case Ee:if(u=we,"/"!==s||"/"!==L(h,d+1))continue;d++;break;case we:if("/"!==s&&"\\"!==s){u=Te;continue}break;case Te:if("@"===s){f&&(h="%40"+h),f=!0,o=m(h);for(var E=0;E<o.length;E++){var w=o[E];if(":"!==w||y){var T=ce(w,ae);y?l.password+=T:l.username+=T}else y=!0}h=""}else if(s===n||"/"===s||"?"===s||"#"===s||"\\"===s&&l.isSpecial()){if(f&&""===h)return"Invalid authority";d-=m(h).length+1,h="",u=Se}else h+=s;break;case Se:case Ae:if(t&&"file"===l.scheme){u=ke;continue}if(":"!==s||g){if(s===n||"/"===s||"?"===s||"#"===s||"\\"===s&&l.isSpecial()){if(l.isSpecial()&&""===h)return"Invalid host";if(t&&""===h&&(l.includesCredentials()||null!==l.port))return;if(a=l.parseHost(h))return a;if(h="",u=Re,t)return;continue}"["===s?g=!0:"]"===s&&(g=!1),h+=s}else{if(""===h)return"Invalid host";if(a=l.parseHost(h))return a;if(h="",u=Ie,t===Ae)return}break;case Ie:if(!N(Y,s)){if(s===n||"/"===s||"?"===s||"#"===s||"\\"===s&&l.isSpecial()||t){if(""!==h){var S=D(h,10);if(S>65535)return"Invalid port";l.port=l.isSpecial()&&S===le[l.scheme]?null:S,h=""}if(t)return;u=Re;continue}return"Invalid port"}h+=s;break;case Pe:if(l.scheme="file","/"===s||"\\"===s)u=Ce;else{if(!i||"file"!==i.scheme){u=De;continue}switch(s){case n:l.host=i.host,l.path=v(i.path),l.query=i.query;break;case"?":l.host=i.host,l.path=v(i.path),l.query="",u=_e;break;case"#":l.host=i.host,l.path=v(i.path),l.query=i.query,l.fragment="",u=Le;break;default:de(x(v(r,d),""))||(l.host=i.host,l.path=v(i.path),l.shortenPath()),u=De;continue}}break;case Ce:if("/"===s||"\\"===s){u=ke;break}i&&"file"===i.scheme&&!de(x(v(r,d),""))&&(ue(i.path[0],!0)?U(l.path,i.path[0]):l.host=i.host),u=De;continue;case ke:if(s===n||"/"===s||"\\"===s||"?"===s||"#"===s){if(!t&&ue(h))u=De;else if(""===h){if(l.host="",t)return;u=Re}else{if(a=l.parseHost(h))return a;if("localhost"===l.host&&(l.host=""),t)return;h="",u=Re}continue}h+=s;break;case Re:if(l.isSpecial()){if(u=De,"/"!==s&&"\\"!==s)continue}else if(t||"?"!==s)if(t||"#"!==s){if(s!==n&&(u=De,"/"!==s))continue}else l.fragment="",u=Le;else l.query="",u=_e;break;case De:if(s===n||"/"===s||"\\"===s&&l.isSpecial()||!t&&("?"===s||"#"===s)){if(".."===(c=H(c=h))||"%2e."===c||".%2e"===c||"%2e%2e"===c?(l.shortenPath(),"/"===s||"\\"===s&&l.isSpecial()||U(l.path,"")):he(h)?"/"===s||"\\"===s&&l.isSpecial()||U(l.path,""):("file"===l.scheme&&!l.path.length&&ue(h)&&(l.host&&(l.host=""),h=L(h,0)+":"),U(l.path,h)),h="","file"===l.scheme&&(s===n||"?"===s||"#"===s))for(;l.path.length>1&&""===l.path[0];)F(l.path);"?"===s?(l.query="",u=_e):"#"===s&&(l.fragment="",u=Le)}else h+=ce(s,oe);break;case Oe:"?"===s?(l.query="",u=_e):"#"===s?(l.fragment="",u=Le):s!==n&&(l.path[0]+=ce(s,re));break;case _e:t||"#"!==s?s!==n&&("'"===s&&l.isSpecial()?l.query+="%27":l.query+="#"===s?"%23":ce(s,re)):(l.fragment="",u=Le);break;case Le:s!==n&&(l.fragment+=ce(s,se))}d++}},parseHost:function(e){var t,i,n;if("["===L(e,0)){if("]"!==L(e,e.length-1))return"Invalid host";if(!(t=function(e){var t,i,n,r,s,o,a,c=[0,0,0,0,0,0,0,0],l=0,u=null,d=0,h=function(){return L(e,d)};if(":"===h()){if(":"!==L(e,1))return;d+=2,u=++l}for(;h();){if(8===l)return;if(":"!==h()){for(t=i=0;i<4&&N(X,h());)t=16*t+D(h(),16),d++,i++;if("."===h()){if(0===i)return;if(d-=i,l>6)return;for(n=0;h();){if(r=null,n>0){if(!("."===h()&&n<4))return;d++}if(!N(Y,h()))return;for(;N(Y,h());){if(s=D(h(),10),null===r)r=s;else{if(0===r)return;r=10*r+s}if(r>255)return;d++}c[l]=256*c[l]+r,2!==++n&&4!==n||l++}if(4!==n)return;break}if(":"===h()){if(d++,!h())return}else if(h())return;c[l++]=t}else{if(null!==u)return;d++,u=++l}}if(null!==u)for(o=l-u,l=7;0!==l&&o>0;)a=c[l],c[l--]=c[u+o-1],c[u+--o]=a;else if(8!==l)return;return c}(W(e,1,-1))))return"Invalid host";this.host=t}else if(this.isSpecial()){if(e=y(e),N(J,e))return"Invalid host";if(null===(t=function(e){var t,i,n,r,s,o,a,c=B(e,".");if(c.length&&""===c[c.length-1]&&c.length--,(t=c.length)>4)return e;for(i=[],n=0;n<t;n++){if(""===(r=c[n]))return e;if(s=10,r.length>1&&"0"===L(r,0)&&(s=N(Q,r)?16:8,r=W(r,8===s?1:2)),""===r)o=0;else{if(!N(10===s?Z:8===s?K:X,r))return e;o=D(r,s)}U(i,o)}for(n=0;n<t;n++)if(o=i[n],n===t-1){if(o>=_(256,5-t))return null}else if(o>255)return null;for(a=M(i),n=0;n<i.length;n++)a+=i[n]*_(256,3-n);return a}(e)))return"Invalid host";this.host=t}else{if(N($,e))return"Invalid host";for(t="",i=m(e),n=0;n<i.length;n++)t+=ce(i[n],re);this.host=t}},cannotHaveUsernamePasswordPort:function(){return!this.host||this.cannotBeABaseURL||"file"===this.scheme},includesCredentials:function(){return""!==this.username||""!==this.password},isSpecial:function(){return p(le,this.scheme)},shortenPath:function(){var e=this.path,t=e.length;!t||"file"===this.scheme&&1===t&&ue(e[0],!0)||e.length--},serialize:function(){var e=this,t=e.scheme,i=e.username,n=e.password,r=e.host,s=e.port,o=e.path,a=e.query,c=e.fragment,l=t+":";return null!==r?(l+="//",e.includesCredentials()&&(l+=i+(n?":"+n:"")+"@"),l+=ne(r),null!==s&&(l+=":"+s)):"file"===t&&(l+="//"),l+=e.cannotBeABaseURL?o[0]:o.length?"/"+x(o,"/"):"",null!==a&&(l+="?"+a),null!==c&&(l+="#"+c),l},setHref:function(e){var t=this.parse(e);if(t)throw new R(t);this.searchParams.update()},getOrigin:function(){var e=this.scheme,t=this.port;if("blob"===e)try{return new xe(e.path[0]).origin}catch(e){return"null"}return"file"!==e&&this.isSpecial()?e+"://"+ne(this.host)+(null!==t?":"+t:""):"null"},getProtocol:function(){return this.scheme+":"},setProtocol:function(e){this.parse(b(e)+":",pe)},getUsername:function(){return this.username},setUsername:function(e){var t=m(b(e));if(!this.cannotHaveUsernamePasswordPort()){this.username="";for(var i=0;i<t.length;i++)this.username+=ce(t[i],ae)}},getPassword:function(){return this.password},setPassword:function(e){var t=m(b(e));if(!this.cannotHaveUsernamePasswordPort()){this.password="";for(var i=0;i<t.length;i++)this.password+=ce(t[i],ae)}},getHost:function(){var e=this.host,t=this.port;return null===e?"":null===t?ne(e):ne(e)+":"+t},setHost:function(e){this.cannotBeABaseURL||this.parse(e,Se)},getHostname:function(){var e=this.host;return null===e?"":ne(e)},setHostname:function(e){this.cannotBeABaseURL||this.parse(e,Ae)},getPort:function(){var e=this.port;return null===e?"":b(e)},setPort:function(e){this.cannotHaveUsernamePasswordPort()||(""===(e=b(e))?this.port=null:this.parse(e,Ie))},getPathname:function(){var e=this.path;return this.cannotBeABaseURL?e[0]:e.length?"/"+x(e,"/"):""},setPathname:function(e){this.cannotBeABaseURL||(this.path=[],this.parse(e,Re))},getSearch:function(){var e=this.query;return e?"?"+e:""},setSearch:function(e){""===(e=b(e))?this.query=null:("?"===L(e,0)&&(e=W(e,1)),this.query="",this.parse(e,_e)),this.searchParams.update()},getSearchParams:function(){return this.searchParams.facade},getHash:function(){var e=this.fragment;return e?"#"+e:""},setHash:function(e){""!==(e=b(e))?("#"===L(e,0)&&(e=W(e,1)),this.fragment="",this.parse(e,Le)):this.fragment=null},update:function(){this.query=this.searchParams.serialize()||null}};var xe=function(e){var t=h(this,Ve),i=w(arguments.length,1)>1?arguments[1]:void 0,n=A(t,new Ne(e,!1,i));s||(t.href=n.serialize(),t.origin=n.getOrigin(),t.protocol=n.getProtocol(),t.username=n.getUsername(),t.password=n.getPassword(),t.host=n.getHost(),t.hostname=n.getHostname(),t.port=n.getPort(),t.pathname=n.getPathname(),t.search=n.getSearch(),t.searchParams=n.getSearchParams(),t.hash=n.getHash())},Ve=xe.prototype,Me=function(e,t){return{get:function(){return I(this)[e]()},set:t&&function(e){return I(this)[t](e)},configurable:!0,enumerable:!0}};if(s&&(d(Ve,"href",Me("serialize","setHref")),d(Ve,"origin",Me("getOrigin")),d(Ve,"protocol",Me("getProtocol","setProtocol")),d(Ve,"username",Me("getUsername","setUsername")),d(Ve,"password",Me("getPassword","setPassword")),d(Ve,"host",Me("getHost","setHost")),d(Ve,"hostname",Me("getHostname","setHostname")),d(Ve,"port",Me("getPort","setPort")),d(Ve,"pathname",Me("getPathname","setPathname")),d(Ve,"search",Me("getSearch","setSearch")),d(Ve,"searchParams",Me("getSearchParams")),d(Ve,"hash",Me("getHash","setHash"))),u(Ve,"toJSON",(function(){return I(this).serialize()}),{enumerable:!0}),u(Ve,"toString",(function(){return I(this).serialize()}),{enumerable:!0}),k){var Ue=k.createObjectURL,je=k.revokeObjectURL;Ue&&u(xe,"createObjectURL",c(Ue,k)),je&&u(xe,"revokeObjectURL",c(je,k))}E(xe,"URL"),r({global:!0,constructor:!0,forced:!o,sham:!s},{URL:xe})},8730:(e,t,i)=>{"use strict";i(9391)},9979:(e,t,i)=>{"use strict";var n=i(9989),r=i(2615);n({target:"URL",proto:!0,enumerable:!0},{toJSON:function(){return r(URL.prototype.toString,this)}})},1389:(e,t,i)=>{"use strict";i.d(t,{Q4:()=>r,Rn:()=>l,c:()=>u,nu:()=>d});i(1057),i(560),i(6265);function n(e,t){(function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")})(e,t),t.add(e)}const r={NO_RENDER:"Don't render tout",FALLBACK:"Use response fallback data"};var s,o,a,c=new WeakSet;class l{constructor(e){n(this,c),this.config=e,this.assetRequestUrl=e.assetUrl,this.assets=void 0}async getAssets(){return console.error("DynamicAssets getAssets method has not been overwritten"),Promise.reject()}}class u{constructor(){this.assets={},this.trackers={},this.params={}}}class d{constructor(){this.viewable=[],this.primary=[]}addTrackerByType(e,t){switch(e){case"viewable":this.addViewableTracker(t);break;case"primary":this.addPrimaryTracker(t);break;default:this[e]=t}}addViewableTracker(e){if(Array.isArray(e))for(let t of e)this.viewable.push(t);else this.viewable.push(e)}addPrimaryTracker(e){this.primary.push(e)}}s=d,a={VIEWABLE:"viewable",PRIMARY:"primary"},(o=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(o="TRACKER_TYPES"))in s?Object.defineProperty(s,o,{value:a,enumerable:!0,configurable:!0,writable:!0}):s[o]=a},7190:(e,t,i)=>{"use strict";i.d(t,{Qm:()=>h,WO:()=>u,ZP:()=>l,qM:()=>c});i(1057),i(6265);var n=i(8258),r=i(8913),s=i(1611);function o(e,t){(function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")})(e,t),t.add(e)}const a={duration:150,easing:{hide:"ease-out",show:"ease-in"},properties:["height","opacity","margin"]},c={CLICK:"cta_click"};class l{constructor(e){if(!e)throw new Error("No template passed to CTAComponent");if(this.element="string"==typeof e?(0,n.stringToElement)(e):e,!s.util.isElement(this.element))throw new Error("CTA Component template doesn't resolve to an element");this.element.classList.add("ntv-cta-component"),this.pubSub=new r.Vn,this._enabled=!0,this.ctaAnchor=this.element.querySelector('a[href="'.concat("@ctaLink",'"]')),this.ctaAnchor&&this.ctaAnchor.addEventListener("click",e=>{e.stopPropagation(),this._enabled&&this.pubSub.publish(c.CLICK,this.ctaAnchor)});var t=document.evaluate('//div[normalize-space(text()) = "'.concat("@ctaLabel",'"]'),this.element,null,XPathResult.ANY_TYPE,null);if(t)var i=t.iterateNext();null!==i&&(this.labelElement=i)}setUrl(e){this.ctaAnchor.href=e}setLabel(e){this.labelElement&&(this.labelElement.textContent=e)}setLabelAndUrl(e,t){this.setLabel(e),this.setUrl(t)}setCTAData(e){this.setLabel(e.label),this.setUrl(e.url)}click(){this._enabled&&this.ctaAnchor.click()}_createTransition(e){const t=a.duration/1e3,i=a.easing[e];return a.properties.map(e=>"".concat(e," ").concat(t,"s ").concat(i)).join(", ")}_forceReflow(){}_isHidden(){return"none"===this.element.style.display||"0"===this.element.style.opacity||"0"===this.element.style.height||"0px"===this.element.style.height}_animateCollapse(e){this.element.style.overflow="hidden",this.element.style.height=e+"px",this.element.style.transition=this._createTransition("hide"),this.element.style.pointerEvents="none",this._forceReflow(),this.element.style.height="0",this.element.style.opacity="0",this.element.style.marginTop="0",this.element.style.marginBottom="0"}_animateExpand(e){this.element.style.transition=this._createTransition("show"),this._forceReflow(),this.element.style.height=e+"px",this.element.style.opacity="1",this.element.style.marginTop="",this.element.style.marginBottom="",this.element.style.pointerEvents=""}hide(){this._enabled=!1;this._animateCollapse(this.element.offsetHeight),setTimeout(()=>{this.element.style.display="none"},a.duration)}show(){if(!this._isHidden()&&this._enabled)return;this._enabled=!0,this.element.style.display="",this.element.style.height="0",this.element.style.opacity="0",this.element.style.overflow="hidden",this.element.style.height="auto";const e=this.element.offsetHeight;this.element.style.height="0",this._animateExpand(e),setTimeout(()=>{this.element.style.height="auto",this.element.style.overflow=""},a.duration)}}class u{constructor(e,t){this.url=e,this.label=t}}var d=new WeakSet;class h extends l{constructor(e,t){super(e),o(this,d),this.dataArray=t,this.showIndex(0)}showIndex(e){(function(e,t,i){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:i;throw new TypeError("Private element is not present on this object")})(d,this,p).call(this,e)||this.setCTAData(this.dataArray[e])}}function p(e){return e<0||e>=this.dataArray.length}},2287:(e,t,i)=>{"use strict";i.d(t,{E:()=>u,Z:()=>d});var n=i(5797),r=i(6101),s=i(8477),o=i(1311),a=i(8792);function c(e){!function(e,t){e.dataset.ntvOverflowSaved=e.style.overflow,e.style.overflow=t}(e,"hidden")}function l(e){!function(e){const t=e.dataset.ntvOverflowSaved;if(null==t)return;e.style.overflow=t,delete e.dataset.ntvOverflowSaved}(e)}const u={OPEN:"ntv-modal-open",OPEN_COMPLETE:"ntv-modal-open-complete",CLOSE:"ntv-modal-close",CLOSE_COMPLETE:"ntv-modal-close-complete"};function d(e){const{id:t,selectorPrefix:i="ntv",useAnimations:s=!0}=e;this.useAnimations=s,this.modal=function(){const e=document.createElement("div"),t=document.createElement("div");return t.classList.add("ntv-modal-content"),e.append(t),{element:e,content:t}}();const o="".concat(i,"-modal");this.modal.element.classList.add(o,"ntv-modal"),this.modal.element.id="".concat(i,"-modal-").concat(t),this.modal.content.id="".concat(this.modal.element.id,"-content");const c=document.createElement("div");c.append(this.modal.element),this.element=c,this.modalContent=this.modal.content,this.modal.element.setAttribute("tabIndex","0"),this.modal.element.setAttribute("oncontextmenu","return false;"),this.initDisplayValue=this.modal.element.style.display,this.modal.element.style.display="none",this.state={open:!1,hasBeenOpen:!1,autoClose:!1},this.autoCloseTimeout=0,Object.defineProperty(this,"isOpen",{get(){return this.state.open}}),this.displayController=new a.$(this.modal.element),this.displayController.bindShowHideMethods(this),this.useAnimations&&this.initializeAnimations(),this.dependencies=[{id:"ntvModalCss",type:"style",url:r.z1.DEPENDENCIES.MODAL_CSS,target:c}],(0,n._)(this.dependencies).then(()=>{this.modal.element.style.display=this.initDisplayValue,delete this.initDisplayValue})}d.prototype.initializeAnimations=function(){this.modal.element.classList.add("with-effects"),this.displayController.hide()},d.prototype.appendContent=function(e){this.modalContent.append(e)},d.prototype.on=function(e,t){this.element.addEventListener(e,t)},d.prototype.off=function(e,t){this.element.removeEventListener(e,t)},d.prototype.publish=function(e){this.element.dispatchEvent(new Event(e))},d.prototype.open=function(){this.handleActionEvent(u.OPEN),this.clearAutoClose(),c(document.body),c(document.documentElement),this.state.open=!0,this.state.hasBeenOpen=!0,(0,s.eO)()&&(0,o.Tm)(this);setTimeout(()=>{this.state.open&&this.displayController.show(this.useAnimations,()=>{this.handleActionEvent(u.OPEN_COMPLETE)})},100)},d.prototype.close=function(){this.clearAutoClose(),(0,s.eO)()&&"expanded"===o.gj.getState()&&o.gj.close(),l(document.body),l(document.documentElement),this.state.open=!1,this.handleActionEvent(u.CLOSE),this.displayController.hide(this.useAnimations,()=>{this.handleActionEvent(u.CLOSE_COMPLETE)})},d.prototype.startAutoClose=function(){this.state.autoClose=!0,this.autoCloseTimeout=setTimeout(()=>{this.close()},6e3)},d.prototype.clearAutoClose=function(){this.state.autoClose=!1,this.autoCloseTimeout&&clearTimeout(this.autoCloseTimeout)},d.prototype.handleActionEvent=function(e){this.inlineTracker&&this.inlineTracker.fire(e),this.publish(e)}},1125:(e,t,i)=>{"use strict";i.d(t,{c:()=>ui,Z:()=>hi});i(1057),i(6265),i(8324),i(560),i(1195);function n(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class r{constructor(){n(this,"resources",[]),n(this,"isDestroyed",!1)}register(e){this.isDestroyed?console.warn("Cannot register resource ".concat(e.name," - manager is destroyed")):(this.unregister(e.name),this.resources.push(e),this.resources.sort((e,t)=>(t.priority||0)-(e.priority||0)))}unregister(e){const t=this.resources.findIndex(t=>t.name===e);return t>=0&&(this.resources.splice(t,1),!0)}async destroyAll(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5e3;if(this.isDestroyed)return[];this.isDestroyed=!0;const t=[],i=this.resources.map(e=>this.cleanupResource(e));try{const n=await Promise.race([Promise.allSettled(i),this.createTimeoutPromise(e)]);Array.isArray(n)?n.forEach((e,i)=>{t.push("fulfilled"===e.status?e.value:{name:this.resources[i].name,success:!1,duration:0,error:e.reason})}):t.push(...this.resources.map(t=>({name:t.name,success:!1,duration:e,error:new Error("Global cleanup timeout")})))}catch(e){console.error("Resource cleanup error:",e)}finally{this.resources=[]}return t}getRegisteredResources(){return this.resources.map(e=>e.name)}isResourceRegistered(e){return this.resources.some(t=>t.name===e)}async cleanupResource(e){const t=Date.now(),i=e.timeout||1e3;try{return await Promise.race([Promise.resolve(e.cleanup()),this.createTimeoutPromise(i)]),{name:e.name,success:!0,duration:Date.now()-t}}catch(i){return{name:e.name,success:!1,duration:Date.now()-t,error:i}}}createTimeoutPromise(e){return new Promise((t,i)=>{setTimeout(()=>i(new Error("Timeout after ".concat(e,"ms"))),e)})}}function s(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class o{constructor(){s(this,"abortController",void 0),s(this,"isDestroying",!1),s(this,"activeOperations",new Set),this.abortController=new AbortController}requireNotDestroying(e){if(this.isDestroying){const t=e?" (".concat(e,")"):"";throw new Error("Operation not allowed - guard is being destroyed".concat(t))}}requireNotAborted(e){if(this.abortController.signal.aborted){const t=e?" (".concat(e,")"):"";throw new Error("Operation aborted".concat(t))}}trackOperation(e){this.requireNotDestroying("trackOperation"),this.activeOperations.add(e)}completeOperation(e){this.activeOperations.delete(e)}isOperationActive(e){return this.activeOperations.has(e)}getActiveOperations(){return Array.from(this.activeOperations)}markDestroying(){this.isDestroying||(this.isDestroying=!0,this.abortController.abort(),this.activeOperations.size>0&&console.warn("OperationGuard destroyed with ".concat(this.activeOperations.size," active operations:"),Array.from(this.activeOperations)),this.activeOperations.clear())}getAbortSignal(){return this.abortController.signal}isInDestroyingState(){return this.isDestroying}getActiveOperationCount(){return this.activeOperations.size}}function a(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class c{constructor(e){a(this,"eventBus",void 0),this.eventBus=e}on(e,t,i){this.eventBus.on(e,t,i)}off(e,t,i){this.eventBus.off(e,t,i)}once(e,t,i){this.eventBus.once(e,t,i)}createCategoryMethods(e){return{on:(t,i)=>this.on(e,t,i),off:(t,i)=>this.off(e,t,i),once:(t,i)=>this.once(e,t,i)}}getEventBus(){return this.eventBus}}function l(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}let u=function(e){return e.MEDIA="media",e.VAST="vast",e.INTERACTION="interaction",e.PLAYER="player",e}({});const d={LOADSTART:"loadstart",LOADEDMETADATA:"loadedmetadata",LOADEDDATA:"loadeddata",CANPLAY:"canplay",CANPLAYTHROUGH:"canplaythrough",PLAY:"play",PLAYING:"playing",PAUSE:"pause",ENDED:"ended",TIMEUPDATE:"timeupdate",VOLUMECHANGE:"volumechange",SEEKING:"seeking",SEEKED:"seeked",WAITING:"waiting",STALLED:"stalled",SUSPEND:"suspend",ABORT:"abort",ERROR:"error",EMPTIED:"emptied",RATECHANGE:"ratechange",RESIZE:"resize",FULLSCREENCHANGE:"fullscreenchange"},h="impression",p="start",f="firstQuartile",m="midpoint",v="thirdQuartile",g="complete",y="click",b="mute",E="unmute",w="pause",T="skip",S="progress",A="click",I="ready",P="error",C="destroyed",k="AdLoaded",R="AdStarted",D="AdStopped",O="AdSkipped",_="AdExpandedChange",L="AdRemainingTimeChange",N="AdVolumeChange",x="AdImpression",V="AdVideoStart",M="AdVideoFirstQuartile",U="AdVideoMidpoint",j="AdVideoThirdQuartile",F="AdClickThru",B="AdUserAcceptInvitation",W="AdUserMinimize",H="AdUserClose",z="AdPaused",G="AdPlaying",q="AdExpanded";function Y(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class Q extends class{constructor(e){l(this,"source",void 0),l(this,"namespace",void 0),l(this,"listeners",new Map),this.source=e.source,this.namespace=e.namespace||"default"}emit(e,t,i){const n=this.getEventKey(e,t),r=this.listeners.get(n);if(r&&r.size>0){const s={category:e,type:t,data:i,source:this.source,timestamp:Date.now()};r.forEach(e=>{try{e(s)}catch(e){console.error("EventBus error in handler for ".concat(n,":"),e)}})}}on(e,t,i){const n=this.getEventKey(e,t);this.listeners.has(n)||this.listeners.set(n,new Set),this.listeners.get(n).add(i)}off(e,t,i){const n=this.getEventKey(e,t),r=this.listeners.get(n);r&&(r.delete(i),0===r.size&&this.listeners.delete(n))}once(e,t,i){const n=r=>{i(r),this.off(e,t,n)};this.on(e,t,n)}clearCategory(e){const t="".concat(this.namespace,":").concat(e,":");Array.from(this.listeners.keys()).filter(e=>e.startsWith(t)).forEach(e=>this.listeners.delete(e))}destroy(){this.listeners.clear()}getListenerCount(){let e=0;return this.listeners.forEach(t=>e+=t.size),e}getRegisteredEvents(){return Array.from(this.listeners.keys())}getEventKey(e,t){return"".concat(this.namespace,":").concat(e,":").concat(t)}}{constructor(e){super({source:e,namespace:"video-player"}),Y(this,"isDestroyed",!1),Y(this,"playerId",void 0),Y(this,"delegationProxy",void 0),Y(this,"mediaEvents",void 0),Y(this,"vastEvents",void 0),Y(this,"interactionEvents",void 0),Y(this,"playerEvents",void 0),this.playerId=e,this.delegationProxy=new c(this),this.mediaEvents=this.delegationProxy.createCategoryMethods(u.MEDIA),this.vastEvents=this.delegationProxy.createCategoryMethods(u.VAST),this.interactionEvents=this.delegationProxy.createCategoryMethods(u.INTERACTION),this.playerEvents=this.delegationProxy.createCategoryMethods(u.PLAYER)}emitMedia(e,t){this.emit(u.MEDIA,e,t)}emitVAST(e,t){this.emit(u.VAST,e,t)}emitInteraction(e,t){this.emit(u.INTERACTION,e,t)}emitPlayer(e,t){this.emit(u.PLAYER,e,t)}onMedia(e,t){this.mediaEvents.on(e,t)}offMedia(e,t){this.mediaEvents.off(e,t)}onceMedia(e,t){this.mediaEvents.once(e,t)}onVAST(e,t){this.vastEvents.on(e,t)}offVAST(e,t){this.vastEvents.off(e,t)}onceVAST(e,t){this.vastEvents.once(e,t)}onInteraction(e,t){this.interactionEvents.on(e,t)}offInteraction(e,t){this.interactionEvents.off(e,t)}onceInteraction(e,t){this.interactionEvents.once(e,t)}onPlayer(e,t){this.playerEvents.on(e,t)}offPlayer(e,t){this.playerEvents.off(e,t)}oncePlayer(e,t){this.playerEvents.once(e,t)}destroy(){if(!this.isDestroyed){this.isDestroyed=!0;try{super.destroy(),this.emit=()=>{this.logDestroyedOperation("emit")},this.on=()=>{this.logDestroyedOperation("on")},this.off=()=>{this.logDestroyedOperation("off")},this.once=()=>{this.logDestroyedOperation("once")},"VideoEventBus destroyed for player: ".concat(this.playerId)}catch(e){console.warn("VideoEventBus cleanup error for player ".concat(this.playerId,":"),e)}}}logDestroyedOperation(e){console.error("VideoEventBus Error: Cannot perform '".concat(e,"' on destroyed EventBus for player ").concat(this.playerId,". This indicates a cleanup issue - check if all event operations are properly sequenced before destroy()."))}}var K=i(8e3),Z=i(4085),X=i(6719);const J=X.Yd.get("video:player"),$=X.Yd.get("video:init"),ee=X.Yd.get("video:deps"),te=X.Yd.get("video:factory"),ie=X.Yd.get("video:videojs"),ne=X.Yd.get("video:vast");X.Yd.get("video:source");function re(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class se{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2?arguments[2]:void 0,n=arguments.length>3?arguments[3]:void 0;re(this,"player",null),re(this,"eventBus",void 0),re(this,"adEventBus",null),re(this,"isDisposed",!1),re(this,"isInitialized",!1),re(this,"readyPromise",null),re(this,"readyResolve",null),re(this,"element",void 0),re(this,"options",void 0),re(this,"interactionController",null),re(this,"playerId",void 0),this.element=e,this.options=t,this.adEventBus=n||null,this.playerId=t.playerId||"videojs-".concat(Date.now(),"-").concat(Math.random().toString(36).substr(2,9)),this.eventBus=i||new Q(this.playerId),ie.info("VideoJSPlayer created",{playerId:this.playerId,hasEventBus:!!i,hasAdEventBus:!!n}),this.initialize().catch(e=>{ie.error("Constructor initialization failed",{playerId:this.playerId,error:e.message},e)})}async initialize(){return this.readyPromise=new Promise(e=>{this.readyResolve=e}),this.performInitialization().catch(e=>{console.error("VideoJSPlayer initialization failed:",e);const t=this.readyResolve;t&&(t(),this.readyResolve=null)}),this.readyPromise}async performInitialization(){try{var e;if(ie.debug("Checking VideoJS availability",{playerId:this.playerId}),void 0===window.videojs)throw ie.error("VideoJS not available",{playerId:this.playerId}),new Error("VideoJS dependencies not available. Player must be created through InitializationCoordinator.");ie.debug("VideoJS available, creating player instance"),await this.createPlayer(),this.isInitialized=!0,ie.info("VideoJS player instance created",{playerId:this.playerId,src:null===(e=this.player)||void 0===e?void 0:e.src()}),this.eventBus.emitMedia(d.LOADSTART,this.getEventData()),ie.debug("Player ready",{playerId:this.playerId});const t=this.readyResolve;t&&(t(),this.readyResolve=null)}catch(e){throw ie.error("Initialization failed",{playerId:this.playerId,error:e.message},e),this.eventBus.emitMedia(d.ERROR,{...this.getEventData(),error:e}),e}}async createPlayer(){this.element.player&&this.element.player.dispose(),this.element.removeAttribute("poster"),this.element.classList.add("ntv-video-element");const e=this.buildVideoJSOptions();this.player=window.videojs(this.element,e),this.player&&this.player.on("ready",()=>{this.onPlayerReady()}),this.setupEventListeners()}buildVideoJSOptions(){return{controls:!1!==this.options.controls,autoplay:this.options.autoplay||!1,muted:this.options.muted||!0,preload:this.options.preload||"auto",...this.options.sources&&{sources:this.options.sources},responsive:!0,...this.options.playbackRates&&this.getPlaybackRatesConfig()}}getPlaybackRatesConfig(){return Array.isArray(this.options.playbackRates)?{playbackRates:this.options.playbackRates}:{playbackRates:[.5,1,1.25,1.5,2]}}onPlayerReady(){this.player&&(this.options.sources&&this.options.sources.length>0&&this.player.load(),this.eventBus.emitMedia(d.LOADSTART,this.getEventData()))}isPlayerReady(){return this.isInitialized&&null!==this.player}async play(){if(this.isDisposed)throw new Error("Player has been disposed");if(this.readyPromise&&await this.readyPromise,!this.player)throw new Error("Player initialization failed");return this.player.play()}pause(){!this.isDisposed&&this.player&&this.player.pause()}seek(e){!this.isDisposed&&this.player&&this.player.currentTime(e)}getCurrentTime(){return this.isDisposed||!this.player?0:this.player.currentTime()}async getDuration(){return this.isDisposed||!this.player?0:this.player.duration()}getVolume(){return this.isDisposed||!this.player?0:this.player.volume()}isMuted(){return!(this.isDisposed||!this.player)&&this.player.muted()}isPaused(){return!(!this.isDisposed&&this.player)||this.player.paused()}isEnded(){return!(this.isDisposed||!this.player)&&this.player.ended()}getReadyState(){return this.isDisposed||!this.player?0:this.player.readyState()}setVolume(e){!this.isDisposed&&this.player&&this.player.volume(Math.max(0,Math.min(1,e)))}mute(){!this.isDisposed&&this.player&&this.player.muted(!0)}unmute(){!this.isDisposed&&this.player&&this.player.muted(!1)}getEventBus(){return this.eventBus}getAdEventBus(){return this.adEventBus}destroy(){this.isDisposed||(this.isDisposed=!0,this.interactionController&&(this.interactionController.destroy(),this.interactionController=null),this.player&&this.player.dispose(),this.eventBus.destroy())}setupEventListeners(){if(!this.player)return;[["loadstart",d.LOADSTART],["loadedmetadata",d.LOADEDMETADATA],["loadeddata",d.LOADEDDATA],["canplay",d.CANPLAY],["canplaythrough",d.CANPLAYTHROUGH],["play",d.PLAY],["playing",d.PLAYING],["pause",d.PAUSE],["ended",d.ENDED],["timeupdate",d.TIMEUPDATE],["volumechange",d.VOLUMECHANGE],["seeking",d.SEEKING],["seeked",d.SEEKED],["waiting",d.WAITING],["stalled",d.STALLED],["suspend",d.SUSPEND],["abort",d.ABORT],["error",d.ERROR],["emptied",d.EMPTIED],["ratechange",d.RATECHANGE],["resize",d.RESIZE],["fullscreenchange",d.FULLSCREENCHANGE]].forEach(e=>{let[t,i]=e;this.player.on(t,()=>{const e=this.getEventData();this.eventBus.emitMedia(i,e)})}),this.setupClickEventHandling()}setupClickEventHandling(){this.interactionController=new Z.Z(this.element,{modules:["click"],clickOptions:{debounceMs:500,targetValidation:!0,preventDefault:!0,includeVideoData:!0}}),this.interactionController.on(Z.w.CLICK,e=>{const t={target:e.target,currentTime:e.currentTime||this.getCurrentTime(),coordinates:e.position?{x:e.position.x,y:e.position.y}:void 0};this.eventBus.emitInteraction(A,t)})}getEventData(){var e;return{currentTime:this.getCurrentTime(),duration:(null===(e=this.player)||void 0===e?void 0:e.duration())||0,volume:this.getVolume(),muted:this.isMuted(),paused:this.isPaused(),ended:this.isEnded(),readyState:this.getReadyState()}}}var oe=i(25);const ae="simid",ce="vpaid",le="video",ue={[ae]:1,[ce]:2,[le]:3};var de=i(1178),he=i.n(de);function pe(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class fe{constructor(e,t,i){pe(this,"metadata",void 0),pe(this,"vpaidClient",void 0),pe(this,"adUnit",null),pe(this,"vpaidContainer",null),pe(this,"videoElement",void 0),pe(this,"eventBus",void 0),pe(this,"isInitialized",!1),pe(this,"currentWidth",void 0),pe(this,"currentHeight",void 0),this.metadata=e,this.videoElement=t,this.eventBus=i,this.currentWidth=e.width,this.currentHeight=e.height,ne.debug("VPAIDRenderer created",{jsUrl:e.jsUrl,width:e.width,height:e.height,duration:e.duration})}async initialize(){ne.info("Initializing VPAID renderer",{elementId:this.videoElement.id||"unnamed",jsUrl:this.metadata.jsUrl});try{ne.debug("Creating VPAID container"),this.vpaidContainer=this.createVPAIDContainer(this.videoElement),ne.debug("Creating VPAID HTML5 client"),this.vpaidClient=new(he())(this.vpaidContainer,this.videoElement,{}),await this.loadAndInitializeAdUnit(),ne.info("VPAID renderer initialized successfully")}catch(e){throw ne.error("VPAID renderer initialization failed",{error:e.message,jsUrl:this.metadata.jsUrl},e),e}}async loadAndInitializeAdUnit(){return ne.debug("Loading VPAID ad unit",{jsUrl:this.metadata.jsUrl}),new Promise((e,t)=>{this.vpaidClient.loadAdUnit(this.metadata.jsUrl,(i,n)=>{if(i)return ne.error("Failed to load VPAID ad unit",{error:i.message,jsUrl:this.metadata.jsUrl},i),void t(new Error("Failed to load VPAID ad unit: ".concat(i.message)));ne.debug("VPAID ad unit loaded successfully"),this.adUnit=n,this.setupVPAIDEventListeners(),ne.debug("Starting VPAID handshake",{version:"2.0"}),this.adUnit.handshakeVersion("2.0",(i,n)=>{const r=n;if(i)return ne.error("VPAID handshake failed",{error:i.message,version:"2.0"},i),void t(new Error("VPAID handshake failed: ".concat(i.message)));ne.debug("VPAID handshake successful",{result:r});let s=this.metadata.width,o=this.metadata.height;const a=this.videoElement.parentElement;if(a){const e=a.getBoundingClientRect();e.width>0&&(s=Math.round(e.width)),e.height>0&&(o=Math.round(e.height))}ne.debug("Initializing VPAID ad",{vastWidth:this.metadata.width,vastHeight:this.metadata.height,actualWidth:s,actualHeight:o,viewMode:"normal"}),this.adUnit.initAd(s,o,"normal",-1,{AdParameters:this.metadata.adParameters||""},{videoSlot:this.videoElement}),this.currentWidth=s,this.currentHeight=o,this.isInitialized=!0,ne.info("VPAID ad initialized successfully"),e()})})})}setupVPAIDEventListeners(){if(!this.adUnit||!this.eventBus)return;ne.debug("Setting up VPAID event listeners");Object.entries({AdLoaded:"AdLoaded",AdStarted:"AdStarted",AdStopped:"AdStopped",AdPlaying:"AdPlaying",AdPaused:"AdPaused",AdError:"AdError",AdVolumeChange:"AdVolumeChange",AdImpression:"AdImpression",AdVideoStart:"AdVideoStart",AdVideoFirstQuartile:"AdVideoFirstQuartile",AdVideoMidpoint:"AdVideoMidpoint",AdVideoThirdQuartile:"AdVideoThirdQuartile",AdVideoComplete:"AdVideoComplete",AdClickThru:"AdClickThru",AdUserAcceptInvitation:"AdUserAcceptInvitation",AdUserClose:"AdUserClose",AdUserMinimize:"AdUserMinimize",AdExpanded:"AdExpanded",AdCollapsed:"AdCollapsed",AdRemainingTimeChange:"AdRemainingTimeChange",AdSizeChange:"AdSizeChange",AdSkipped:"AdSkipped",AdSkippableStateChange:"AdSkippableStateChange",AdDurationChange:"AdDurationChange",AdInteraction:"AdInteraction"}).forEach(e=>{let[t,i]=e;this.adUnit.subscribe(i,e=>{this.eventBus.emit("vpaid",i,{data:e})})})}createVPAIDContainer(e){const t=e.parentElement;if(!t)throw new Error("Video element must have parent");const i=document.createElement("div");return i.className="nativo-vpaid-container",i.style.cssText="\n      position: absolute;\n      top: 0; left: 0;\n      width: 100%; height: 100%;\n      z-index: 1;\n      background: #000; /* Black background for VPAID ad rendering */\n      pointer-events: auto; /* Ensure container captures clicks/interactions */\n    ",t.insertBefore(i,e),e.style.zIndex="0",i.style.zIndex="1",i}async play(){if(ne.debug("VPAID play requested"),!this.adUnit)throw ne.error("Cannot play: VPAID ad unit not initialized"),new Error("VPAID ad unit not initialized");try{this.adUnit.startAd(),ne.debug("VPAID ad started")}catch(e){throw ne.error("Failed to start VPAID ad",{error:e.message},e),e}}pause(){var e;null===(e=this.adUnit)||void 0===e||e.pauseAd()}seek(e){ne.debug("VPAID seek requested but not supported",{time:e})}getCurrentTime(){if(!this.adUnit)return 0;return(this.adUnit.getAdDuration()||0)-(this.adUnit.getAdRemainingTime()||0)}async getDuration(){return this.adUnit?this.adUnit.getAdDuration()||this.metadata.duration||0:this.metadata.duration||0}getVolume(){return this.adUnit&&this.adUnit.getAdVolume()||0}setVolume(e){var t;null===(t=this.adUnit)||void 0===t||t.setAdVolume(Math.max(0,Math.min(1,e)))}isMuted(){return!!this.adUnit&&0===this.adUnit.getAdVolume()}mute(){var e;null===(e=this.adUnit)||void 0===e||e.setAdVolume(0)}unmute(){var e;null===(e=this.adUnit)||void 0===e||e.setAdVolume(1)}isPaused(){return!1}isEnded(){return!!this.adUnit&&0===this.adUnit.getAdRemainingTime()}getReadyState(){return 4}async destroy(){var e;if(ne.info("Destroying VPAID renderer"),this.adUnit){try{ne.debug("Stopping VPAID ad unit"),this.adUnit.stopAd()}catch(e){ne.warn("Error stopping VPAID ad unit",{error:e.message},e)}this.adUnit=null}if(this.vpaidClient){try{ne.debug("Destroying VPAID client"),this.vpaidClient.destroy&&this.vpaidClient.destroy()}catch(e){ne.warn("Error destroying VPAID client",{error:e.message},e)}this.vpaidClient=null}this.videoElement&&(ne.debug("Restoring video element state"),this.videoElement.style.zIndex=""),null!==(e=this.vpaidContainer)&&void 0!==e&&e.parentElement&&(ne.debug("Removing VPAID container from DOM"),this.vpaidContainer.parentElement.removeChild(this.vpaidContainer),this.vpaidContainer=null),ne.info("VPAID renderer destroyed")}resize(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"normal";if(this.adUnit){ne.debug("Resizing VPAID ad",{width:e,height:t,viewMode:i,previousWidth:this.currentWidth,previousHeight:this.currentHeight});try{this.adUnit.resizeAd(e,t,i),this.vpaidContainer&&(this.vpaidContainer.style.width="".concat(e,"px"),this.vpaidContainer.style.height="".concat(t,"px")),this.currentWidth=e,this.currentHeight=t,ne.info("VPAID ad resized successfully",{width:e,height:t,viewMode:i})}catch(n){ne.error("Failed to resize VPAID ad",{error:n.message,width:e,height:t,viewMode:i},n)}}else ne.warn("Cannot resize: VPAID ad unit not initialized",{width:e,height:t,viewMode:i})}}function me(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class ve{constructor(e){me(this,"type",ce),me(this,"metadata",void 0),this.metadata=e,ne.debug("VPAIDSource created",{jsUrl:e.jsUrl,width:e.width,height:e.height,duration:e.duration})}async createRenderer(e,t){ne.info("Creating VPAID renderer from source",{jsUrl:this.metadata.jsUrl});const i=new fe(this.metadata,e,t);return await i.initialize(),ne.debug("VPAID renderer created and initialized"),i}getMetadata(){return this.metadata}isAvailable(){return!!this.metadata.jsUrl}}function ge(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class ye{constructor(e,t,i){throw ge(this,"metadata",void 0),ge(this,"element",void 0),ge(this,"eventBus",void 0),this.metadata=e,this.element=t,this.eventBus=i,ne.warn("SIMID creative detected but not supported. Falling back to next available format.","SIMID URL:",e.creativeUrl),new Error("SIMID format is not yet supported")}async play(){throw ne.error("SIMID playback attempted but SIMID is not yet implemented"),new Error("SIMID not yet implemented")}pause(){ne.error("SIMID pause attempted but SIMID is not yet implemented")}seek(e){ne.error("SIMID seek attempted but SIMID is not yet implemented")}getCurrentTime(){return 0}async getDuration(){return 0}getVolume(){return 0}setVolume(e){ne.error("SIMID setVolume attempted but SIMID is not yet implemented")}isMuted(){return!1}mute(){ne.error("SIMID mute attempted but SIMID is not yet implemented")}unmute(){ne.error("SIMID unmute attempted but SIMID is not yet implemented")}isPaused(){return!0}isEnded(){return!1}getReadyState(){return 0}async destroy(){ne.debug("SIMID renderer destroy called (no-op)")}resize(e,t,i){ne.warn("SIMID resize not yet implemented","Dimensions:",{width:e,height:t,viewMode:i},"SIMID URL:",this.metadata.creativeUrl)}}function be(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class Ee{constructor(e){be(this,"type",ae),be(this,"metadata",void 0),this.metadata=e,ne.debug("SIMIDSource created",{creativeUrl:e.creativeUrl})}async createRenderer(e,t){ne.info("Attempting to create SIMID renderer (not yet supported)",{creativeUrl:this.metadata.creativeUrl});return new ye(this.metadata,e,t)}getMetadata(){return this.metadata}isAvailable(){return!!this.metadata.creativeUrl}}function we(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class Te{constructor(e,t,i){we(this,"metadata",void 0),we(this,"videoJSPlayer",void 0),this.metadata=e,ne.debug("VideoRenderer created",{url:e.url,mimeType:e.mimeType,bitrate:e.bitrate}),this.videoJSPlayer=new se(t,{src:e.url},i),ne.info("VideoRenderer initialized with VideoJSPlayer")}async play(){return this.videoJSPlayer.play()}pause(){this.videoJSPlayer.pause()}seek(e){this.videoJSPlayer.seek(e)}getCurrentTime(){return this.videoJSPlayer.getCurrentTime()}async getDuration(){return this.videoJSPlayer.getDuration()}getVolume(){return this.videoJSPlayer.getVolume()}setVolume(e){this.videoJSPlayer.setVolume(e)}isMuted(){return this.videoJSPlayer.isMuted()}mute(){this.videoJSPlayer.mute()}unmute(){this.videoJSPlayer.unmute()}isPaused(){return this.videoJSPlayer.isPaused()}isEnded(){return this.videoJSPlayer.isEnded()}getReadyState(){return this.videoJSPlayer.getReadyState()}async destroy(){ne.info("Destroying VideoRenderer"),await this.videoJSPlayer.destroy(),ne.debug("VideoRenderer destroyed")}resize(e,t,i){ne.debug("VideoRenderer resize called (no-op)",{width:e,height:t,viewMode:i})}getVideoJSPlayer(){return this.videoJSPlayer}getMetadata(){return this.metadata}}function Se(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class Ae{constructor(e){Se(this,"type",le),Se(this,"metadata",void 0),this.metadata=e,ne.debug("VideoSource created",{url:e.url,mimeType:e.mimeType,bitrate:e.bitrate})}async createRenderer(e,t){ne.info("Creating Video renderer from source",{url:this.metadata.url});const i=new Te(this.metadata,e,t);return ne.debug("Video renderer created"),i}getMetadata(){return this.metadata}isAvailable(){return!!this.metadata.url}}class Ie extends oe.v{constructor(e){super({vastSource:e,config:arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}})}buildPrioritizedItems(e){if(!e)return[];const{vastSource:t,config:i={}}=e,n=[],r={...ue,...i.customPriorities||{}},s=t.getSIMIDMetadata();s&&n.push({item:new Ee(s),priority:r[ae]});const o=t.getVPAIDMetadata();o&&n.push({item:new ve(o),priority:r[ce]});let a=t.getAllVideoSources();!1!==i.sortVideosByBitrate&&(a=a.sort((e,t)=>t.bitrate-e.bitrate));const c=r[le];return a.forEach((e,t)=>{n.push({item:new Ae(e),priority:c+.001*t})}),this.sortAndFilter(n,e=>e.isAvailable())}getAllSources(){return this.getAllItems()}}function Pe(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class Ce{constructor(){Pe(this,"eventBus",void 0),Pe(this,"vastSource",void 0),Pe(this,"vastTracker",void 0),Pe(this,"cleanupFunctions",[]),Pe(this,"durationSet",!1)}initialize(e,t){this.eventBus=e,this.vastSource=t,this.vastTracker=t.getVASTTracker(),this.vastTracker?(this.onMedia(d.LOADEDMETADATA,e=>this.handleLoadedMetadata(e)),this.onMedia(d.PLAY,e=>this.handlePlay(e)),this.onMedia(d.PAUSE,e=>this.handlePause(e)),this.onMedia(d.ENDED,e=>this.handleEnded(e)),this.onMedia(d.TIMEUPDATE,e=>this.handleTimeUpdate(e)),this.onMedia(d.VOLUMECHANGE,e=>this.handleVolumeChange(e)),this.onInteraction(A,e=>{this.handleClick(e)})):console.warn("[VASTTrackingStrategy] No VAST tracker available - tracking will be disabled")}onMedia(e,t){this.eventBus.onMedia(e,t),this.cleanupFunctions.push(()=>this.eventBus.offMedia(e,t))}onInteraction(e,t){this.eventBus.onInteraction(e,t),this.cleanupFunctions.push(()=>this.eventBus.offInteraction(e,t))}handleLoadedMetadata(e){var t;const i=(null===(t=e.data)||void 0===t?void 0:t.duration)||0;i>0&&!this.durationSet&&(this.vastTracker.setDuration(i),this.durationSet=!0),this.vastTracker.trackImpression(),this.eventBus.emitVAST(h,{adId:this.vastSource.getAdId()||void 0,duration:i})}handlePlay(e){var t;this.vastTracker.setPaused(!1),this.eventBus.emitVAST(p,{adId:this.vastSource.getAdId()||void 0,currentTime:(null===(t=e.data)||void 0===t?void 0:t.currentTime)||0})}handlePause(e){var t;this.vastTracker.setPaused(!0),this.eventBus.emitVAST(w,{adId:this.vastSource.getAdId()||void 0,currentTime:(null===(t=e.data)||void 0===t?void 0:t.currentTime)||0})}handleEnded(e){var t;this.vastTracker.complete(),this.eventBus.emitVAST(g,{adId:this.vastSource.getAdId()||void 0,currentTime:(null===(t=e.data)||void 0===t?void 0:t.currentTime)||0})}handleTimeUpdate(e){var t,i;const n=(null===(t=e.data)||void 0===t?void 0:t.currentTime)||0,r=(null===(i=e.data)||void 0===i?void 0:i.duration)||0;r>0&&!this.durationSet&&(this.vastTracker.setDuration(r),this.durationSet=!0),this.vastTracker.setProgress(n);const s=r>0?n/r:0;this.eventBus.emitVAST(S,{adId:this.vastSource.getAdId()||void 0,currentTime:n,duration:r,progress:s})}handleVolumeChange(e){var t;const i=(null===(t=e.data)||void 0===t?void 0:t.muted)||!1;this.vastTracker.setMuted(i),this.eventBus.emitVAST(i?b:E,{adId:this.vastSource.getAdId()||void 0})}handleClick(e){var t;const i=null===(t=e.data)||void 0===t?void 0:t.clickThroughUrl;this.vastTracker.click(i),this.eventBus.emitVAST(y,{adId:this.vastSource.getAdId()||void 0,clickThroughUrl:i})}destroy(){this.cleanupFunctions.forEach(e=>e()),this.cleanupFunctions=[],this.durationSet=!1}}function ke(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class Re{constructor(){ke(this,"eventBus",void 0),ke(this,"vastSource",void 0),ke(this,"vastTracker",void 0),ke(this,"cleanupFunctions",[]),ke(this,"previousVolume",-1),ke(this,"wasPaused",!1),ke(this,"vastPlayer",void 0),ke(this,"durationSet",!1)}initialize(e,t,i){this.eventBus=e,this.vastSource=t,this.vastPlayer=i,this.vastTracker=t.getVASTTracker(),this.vastTracker?(this.onVPAID(R,()=>{this.eventBus.emitMedia(d.PLAY,this.getMediaEventData())}),this.onVPAID(G,()=>{this.eventBus.emitMedia(d.PLAYING,this.getMediaEventData()),this.vastTracker.setPaused(!1),this.wasPaused=!1}),this.onVPAID(z,()=>{this.eventBus.emitMedia(d.PAUSE,this.getMediaEventData()),this.vastTracker.setPaused(!0),this.wasPaused=!0}),this.onVPAID(D,()=>{this.eventBus.emitMedia(d.ENDED,this.getMediaEventData())}),this.onVPAID(L,()=>{const e=this.getMediaEventData();this.eventBus.emitMedia(d.TIMEUPDATE,e);const t=e.currentTime||0,i=e.duration||0;i>0&&!this.durationSet&&(this.vastTracker.setDuration(i),this.durationSet=!0),this.vastTracker.setProgress(t)}),this.onVPAID(k,()=>{const e=this.getMediaEventData();this.eventBus.emitMedia(d.LOADEDMETADATA,e);const t=e.duration||0;t>0&&!this.durationSet&&(this.vastTracker.setDuration(t),this.durationSet=!0)}),this.onVPAID(M,()=>{this.fireVASTTracking(f)}),this.onVPAID(U,()=>{this.fireVASTTracking(m)}),this.onVPAID(j,()=>{this.fireVASTTracking(v)}),this.onVPAID(F,e=>{var t;const i=(null===(t=e.data)||void 0===t?void 0:t.url)||"";this.vastTracker.click(i),this.eventBus.emitVAST(y,{adId:this.vastSource.getAdId()||void 0,clickThroughUrl:i}),this.eventBus.emitInteraction("click",{currentTime:this.getCurrentTime(),interactionType:i?"clickthrough:".concat(i):"click"})}),this.onVPAID(N,()=>{const e=this.getVPAIDVolume();this.vastTracker.setMuted(0===e),this.previousVolume=e}),this.onVPAID(q,()=>{this.vastTracker.setExpand(!0)}),this.onVPAID(_,e=>{var t;const i=(null===(t=e.data)||void 0===t?void 0:t.expanded)||!1;this.vastTracker.setExpand(i)}),this.onVPAID(O,()=>{this.vastTracker.skip(),this.eventBus.emitVAST(T,{adId:this.vastSource.getAdId()||void 0})}),this.onVPAID(x,()=>{this.fireVASTTracking("creativeView")}),this.onVPAID(V,()=>{this.fireVASTTracking(p)}),this.onVPAID(B,()=>{this.fireVASTTracking("acceptInvitation")}),this.onVPAID(W,()=>{this.fireVASTTracking("collapse")}),this.onVPAID(H,()=>{this.fireVASTTracking("close")}),this.previousVolume=this.getVPAIDVolume()):console.warn("[VPAIDEventMappingStrategy] No VAST tracker available - VPAID tracking will be disabled")}onVPAID(e,t){this.eventBus.on("vpaid",e,t),this.cleanupFunctions.push(()=>this.eventBus.off("vpaid",e,t))}getVPAIDSource(){var e;return"vpaid"===(null===(e=this.vastPlayer)||void 0===e||null===(e=e.getCurrentSource())||void 0===e?void 0:e.type)?this.vastPlayer.getCurrentPlayer():null}getVPAIDVolume(){const e=this.getVPAIDSource();return(null==e?void 0:e.getVolume())||0}getMediaEventData(){const e=this.getVPAIDSource();let t=0,i=0,n=this.previousVolume,r=0===n;if(e)try{t=e.getCurrentTime()||0,i=e.getDuration(),n=e.getVolume()||0,r=e.isMuted()||!1}catch(e){}return{currentTime:t,duration:i,volume:n,muted:r,paused:this.wasPaused,ended:!1,readyState:4}}getCurrentTime(){const e=this.getVPAIDSource();return(null==e?void 0:e.getCurrentTime())||0}fireVASTTracking(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{var i;null===(i=this.vastTracker)||void 0===i||i.track(e),this.eventBus.emitVAST(e,{adId:this.vastSource.getAdId()||void 0,...t})}catch(t){console.warn("Error firing VAST tracking for event ".concat(e,":"),t)}}destroy(){this.cleanupFunctions.forEach(e=>e()),this.cleanupFunctions=[],this.durationSet=!1}}function De(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class Oe{constructor(){De(this,"eventBus",void 0),De(this,"vastSource",void 0),De(this,"cleanupFunctions",[])}initialize(e,t){this.eventBus=e,this.vastSource=t}destroy(){this.cleanupFunctions.forEach(e=>e()),this.cleanupFunctions=[]}}function _e(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class Le{constructor(e,t,i){_e(this,"vastSource",void 0),_e(this,"eventBus",void 0),_e(this,"activeStrategies",[]),_e(this,"vastTrackingStrategy",null),_e(this,"vastPlayer",null),this.vastSource=e,this.eventBus=t,this.vastPlayer=i||null}initialize(){this.vastTrackingStrategy=new Ce,this.vastTrackingStrategy.initialize(this.eventBus,this.vastSource),this.activeStrategies.push(this.vastTrackingStrategy)}setMode(e){this.cleanupFormatStrategies();const t=this.createFormatStrategy(e);t&&(e!==ce&&t.initialize(this.eventBus,this.vastSource),this.activeStrategies.push(t))}createFormatStrategy(e){switch(e){case ce:const e=new Re;return e.initialize(this.eventBus,this.vastSource,this.vastPlayer||void 0),e;case ae:return new Oe;case le:default:return null}}cleanupFormatStrategies(){this.activeStrategies.slice(1).forEach(e=>{Ne(e)}),this.activeStrategies=this.activeStrategies.slice(0,1)}getActiveStrategies(){return this.activeStrategies}destroy(){this.activeStrategies.forEach(e=>{Ne(e)}),this.activeStrategies=[],this.vastTrackingStrategy=null}}function Ne(e){try{e.destroy()}catch(e){console.warn("[VASTTrackingAdapter] Error destroying strategy:",e)}}function xe(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class Ve{constructor(e,t,i,n){xe(this,"element",void 0),xe(this,"vastSource",void 0),xe(this,"sourceIterator",void 0),xe(this,"currentSource",null),xe(this,"currentPlayer",null),xe(this,"trackingAdapter",void 0),xe(this,"eventBus",void 0),xe(this,"options",void 0),xe(this,"initializationPromise",null),xe(this,"resizeObserver",null),xe(this,"lastKnownWidth",0),xe(this,"lastKnownHeight",0),this.element=e,this.vastSource=i,this.options=t,this.eventBus=n||new Q(t.playerId||"vast-player");ne.info("VASTPlayer created",{playerId:t.playerId||"vast-player",adId:i.getAdId(),hasEventBus:!!n}),this.sourceIterator=new Ie(i,t.iteratorConfig),ne.debug("Creative source iterator created",{hasConfig:!!t.iteratorConfig}),this.trackingAdapter=new Le(i,this.eventBus,this),this.trackingAdapter.initialize(),this.initializationPromise=this.playNextSource().catch(e=>{this.handleFatalError(e)})}async playNextSource(){const e=this.sourceIterator.next();if(!e)throw ne.error("No playable VAST sources available"),new Error("No playable VAST sources available");ne.info("Attempting creative source",{type:e.type,hasMore:this.sourceIterator.hasNext()}),ne.debug(()=>"Creative details: ".concat(JSON.stringify(e)));try{await this.cleanupCurrentPlayer(),this.currentSource=e,ne.debug("Initializing creative source",{type:e.type}),this.currentPlayer=await e.createRenderer(this.element,this.eventBus),ne.info("Creative source initialized successfully",{type:e.type}),this.setupResizeObserver(),this.trackingAdapter.setMode(e.type),this.eventBus.emitVAST(p,{adId:this.vastSource.getAdId()||void 0,creativeId:e.type,linear:!0}),this.eventBus.emitPlayer(I,{state:"ready",message:"VAST player ready with ".concat(e.type," source")}),ne.debug("VAST player ready",{creativeType:e.type})}catch(t){if(ne.warn("Creative source failed",{type:e.type,error:t.message,hasMore:this.sourceIterator.hasNext()}),await this.cleanupCurrentPlayer(),!this.sourceIterator.hasNext())throw ne.error("All creative sources exhausted"),new Error("All VAST sources failed. Last error: ".concat(t.message));ne.info("Falling back to next creative source"),await this.playNextSource()}}async cleanupCurrentPlayer(){if(this.currentPlayer){try{await this.currentPlayer.destroy()}catch(e){}this.currentPlayer=null}this.currentSource=null}handleFatalError(e){this.eventBus.emitPlayer(P,{state:"error",error:e,message:"All VAST sources failed: ".concat(e.message),recoverable:!1})}async waitForReady(){this.initializationPromise&&await this.initializationPromise}async play(){if(this.currentPlayer||await this.waitForReady(),!this.currentPlayer)throw new Error("No player available");return this.currentPlayer.play()}pause(){var e;null===(e=this.currentPlayer)||void 0===e||e.pause()}seek(e){var t;null===(t=this.currentPlayer)||void 0===t||t.seek(e)}getCurrentTime(){var e,t;return null!==(e=null===(t=this.currentPlayer)||void 0===t?void 0:t.getCurrentTime())&&void 0!==e?e:0}async getDuration(){return this.currentPlayer?this.currentPlayer.getDuration():0}getVolume(){var e,t;return null!==(e=null===(t=this.currentPlayer)||void 0===t?void 0:t.getVolume())&&void 0!==e?e:0}setVolume(e){var t;null===(t=this.currentPlayer)||void 0===t||t.setVolume(e)}isMuted(){var e,t;return null!==(e=null===(t=this.currentPlayer)||void 0===t?void 0:t.isMuted())&&void 0!==e&&e}mute(){var e;null===(e=this.currentPlayer)||void 0===e||e.mute()}unmute(){var e;null===(e=this.currentPlayer)||void 0===e||e.unmute()}isPaused(){var e,t;return null===(e=null===(t=this.currentPlayer)||void 0===t?void 0:t.isPaused())||void 0===e||e}isEnded(){var e,t;return null!==(e=null===(t=this.currentPlayer)||void 0===t?void 0:t.isEnded())&&void 0!==e&&e}getReadyState(){var e,t;return null!==(e=null===(t=this.currentPlayer)||void 0===t?void 0:t.getReadyState())&&void 0!==e?e:0}getEventBus(){return this.eventBus}async destroy(){var e;this.eventBus.emitPlayer(C,{state:"destroyed",message:"VASTPlayer destroyed"}),this.resizeObserver&&(ne.debug("Disconnecting ResizeObserver"),this.resizeObserver.disconnect(),this.resizeObserver=null),null===(e=this.trackingAdapter)||void 0===e||e.destroy(),await this.cleanupCurrentPlayer(),this.initializationPromise=null}getCurrentSource(){return this.currentSource}getCurrentPlayer(){return this.currentPlayer}getVASTSource(){return this.vastSource}getVASTTracker(){return this.vastSource.getVASTTracker()}getParsedVAST(){return this.vastSource.getParsedVAST()}setupResizeObserver(){const e=this.element.parentElement;if(!e)return void ne.warn("Cannot setup ResizeObserver: no parent container found");if(this.resizeObserver&&this.resizeObserver.disconnect(),"undefined"==typeof ResizeObserver)return void ne.warn("ResizeObserver not available in this browser");ne.debug("Setting up ResizeObserver for VAST player container");const t=e.getBoundingClientRect();this.lastKnownWidth=Math.round(t.width),this.lastKnownHeight=Math.round(t.height),this.resizeObserver=new ResizeObserver(e=>{for(const s of e){const{width:e,height:o}=s.contentRect,a=Math.round(e),c=Math.round(o);var t,i,n,r;if(a!==this.lastKnownWidth||c!==this.lastKnownHeight)ne.debug("Container size changed",{oldWidth:this.lastKnownWidth,oldHeight:this.lastKnownHeight,newWidth:a,newHeight:c,sourceType:null===(t=this.currentSource)||void 0===t?void 0:t.type}),this.lastKnownWidth=a,this.lastKnownHeight=c,null===(i=this.currentPlayer)||void 0===i||null===(n=(r=i).resize)||void 0===n||n.call(r,a,c)}}),this.resizeObserver.observe(e),ne.debug("ResizeObserver started monitoring container")}}i(6801);function Me(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{id:e.id||null,adId:e.adId||null,sequence:e.sequence||null,apiFramework:e.apiFramework||null,universalAdIds:[],creativeExtensions:[]}}const Ue=["ADCATEGORIES","ADCOUNT","ADPLAYHEAD","ADSERVINGID","ADTYPE","APIFRAMEWORKS","APPBUNDLE","ASSETURI","BLOCKEDADCATEGORIES","BREAKMAXADLENGTH","BREAKMAXADS","BREAKMAXDURATION","BREAKMINADLENGTH","BREAKMINDURATION","BREAKPOSITION","CLICKPOS","CLICKTYPE","CLIENTUA","CONTENTID","CONTENTPLAYHEAD","CONTENTURI","DEVICEIP","DEVICEUA","DOMAIN","EXTENSIONS","GDPRCONSENT","IFA","IFATYPE","INVENTORYSTATE","LATLONG","LIMITADTRACKING","MEDIAMIME","MEDIAPLAYHEAD","OMIDPARTNER","PAGEURL","PLACEMENTTYPE","PLAYERCAPABILITIES","PLAYERSIZE","PLAYERSTATE","PODSEQUENCE","REGULATIONS","SERVERSIDE","SERVERUA","TRANSACTIONID","UNIVERSALADID","VASTVERSIONS","VERIFICATIONVENDORS"];function je(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const n=[],r=We(e);!t.ERRORCODE||i.isCustomCode||/^[0-9]{3}$/.test(t.ERRORCODE)||(t.ERRORCODE=900),t.CACHEBUSTING=Ye(Math.round(1e8*Math.random())),t.TIMESTAMP=(new Date).toISOString(),t.RANDOM=t.random=t.CACHEBUSTING;for(const e in t)t[e]=qe(t[e]);for(const e in r){const i=r[e];"string"==typeof i&&n.push(Fe(i,t))}return n}function Fe(e,t){const i=(e=Be(e,t)).match(/[^[\]]+(?=])/g);if(!i)return e;let n=i.filter(e=>Ue.indexOf(e)>-1);return 0===n.length?e:(n=n.reduce((e,t)=>(e[t]=-1,e),{}),Be(e,n))}function Be(e,t){let i=e;for(const e in t){const n=t[e];i=i.replace(new RegExp("(?:\\[|%%)(".concat(e,")(?:\\]|%%)"),"g"),n)}return i}function We(e){return Array.isArray(e)?e.map(e=>e&&e.hasOwnProperty("url")?e.url:e):e}function He(e){return/^(https?:\/\/|\/\/)/.test(e)}function ze(e,t){for(let i=0;i<t.length;i++)if(Ge(t[i],e))return!0;return!1}function Ge(e,t){if(e&&t){const i=Object.getOwnPropertyNames(e),n=Object.getOwnPropertyNames(t);return i.length===n.length&&e.id===t.id&&e.url===t.url}return!1}function qe(e){return encodeURIComponent(e).replace(/[!'()*]/g,e=>"%".concat(e.charCodeAt(0).toString(16)))}function Ye(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:8;return e.toString().padStart(t,"0")}const Qe={track:function(e,t,i){je(e,t,i).forEach(e=>{"undefined"!=typeof window&&null!==window&&((new Image).src=e)})},resolveURLTemplates:je,extractURLsFromTemplates:We,filterUrlTemplates:function(e){return e.reduce((e,t)=>{const i=t.url||t;return He(i)?e.validUrls.push(i):e.invalidUrls.push(i),e},{validUrls:[],invalidUrls:[]})},containsTemplateObject:ze,isTemplateObjectEqual:Ge,encodeURIComponentRFC3986:qe,replaceUrlMacros:Fe,isNumeric:function(e){return!isNaN(parseFloat(e))&&isFinite(e)},flatten:function e(t){return t.reduce((t,i)=>t.concat(Array.isArray(i)?e(i):i),[])},joinArrayOfUniqueTemplateObjs:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];const i=Array.isArray(e)?e:[],n=Array.isArray(t)?t:[];return i.concat(n).reduce((e,t)=>(ze(t,e)||e.push(t),e),[])},isValidTimeValue:function(e){return Number.isFinite(e)&&e>=-2},addLeadingZeros:Ye,isValidUrl:He,isBrowserEnvironment:function(){return"undefined"!=typeof window},formatMacrosValues:function(e){return"object"!=typeof e?e:JSON.stringify(e)}};function Ke(e){return["true","TRUE","True","1"].includes(e)}const Ze={childByName:function(e,t){return Array.from(e.childNodes).find(e=>e.nodeName===t)},childrenByName:function(e,t){return Array.from(e.childNodes).filter(e=>e.nodeName===t)},resolveVastAdTagURI:function(e,t){if(!t)return e;if(e.startsWith("//")){const{protocol:t}=location;return"".concat(t).concat(e)}if(!e.includes("://")){const i=t.slice(0,t.lastIndexOf("/"));return"".concat(i,"/").concat(e)}return e},parseBoolean:Ke,parseNodeText:function(e){return e&&(e.textContent||e.text||"").trim()},copyNodeAttribute:function(e,t,i){const n=t.getAttribute(e);n&&i.setAttribute(e,n)},parseAttributes:function(e){return Array.from(e.attributes).reduce((e,t)=>(e[t.nodeName]=t.nodeValue,e),{})},parseDuration:function(e){if(null==e)return-1;if(Qe.isNumeric(e))return parseInt(e);const t=e.split(":");if(3!==t.length)return-1;const i=t[2].split(".");let n=parseInt(i[0]);2===i.length&&(n+=parseFloat("0.".concat(i[1])));const r=parseInt(60*t[1]),s=parseInt(60*t[0]*60);return isNaN(s)||isNaN(r)||isNaN(n)||r>3600||n>60?-1:s+r+n},getStandAloneAds:function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).filter(e=>!parseInt(e.sequence,10))},getSortedAdPods:function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).filter(e=>parseInt(e.sequence,10)).sort((e,t)=>e.sequence-t.sequence)},assignAttributes:function(e,t){e&&Array.from(e).forEach(e=>{let{nodeName:i,nodeValue:n}=e;if(i&&n&&t.hasOwnProperty(i)){let e=n;"boolean"==typeof t[i]&&(e=Ke(e)),t[i]=e}})},mergeWrapperAdData:function(e,t){var i;e.errorURLTemplates=t.errorURLTemplates.concat(e.errorURLTemplates),e.impressionURLTemplates=t.impressionURLTemplates.concat(e.impressionURLTemplates),e.extensions=t.extensions.concat(e.extensions),t.viewableImpression.length>0&&(e.viewableImpression=[...e.viewableImpression,...t.viewableImpression]),e.followAdditionalWrappers=t.followAdditionalWrappers,e.allowMultipleAds=t.allowMultipleAds,e.fallbackOnNoAd=t.fallbackOnNoAd;const n=(t.creatives||[]).filter(e=>e&&"companion"===e.type),r=n.reduce((e,t)=>((t.variations||[]).forEach(t=>{(t.companionClickTrackingURLTemplates||[]).forEach(t=>{Qe.containsTemplateObject(t,e)||e.push(t)})}),e),[]);e.creatives=n.concat(e.creatives);const s=t.videoClickTrackingURLTemplates&&t.videoClickTrackingURLTemplates.length,o=t.videoCustomClickURLTemplates&&t.videoCustomClickURLTemplates.length;if(e.creatives.forEach(e=>{if(t.trackingEvents&&t.trackingEvents[e.type])for(const i in t.trackingEvents[e.type]){const n=t.trackingEvents[e.type][i];Array.isArray(e.trackingEvents[i])||(e.trackingEvents[i]=[]),e.trackingEvents[i]=e.trackingEvents[i].concat(n)}"linear"===e.type&&(s&&(e.videoClickTrackingURLTemplates=e.videoClickTrackingURLTemplates.concat(t.videoClickTrackingURLTemplates)),o&&(e.videoCustomClickURLTemplates=e.videoCustomClickURLTemplates.concat(t.videoCustomClickURLTemplates)),!t.videoClickThroughURLTemplate||null!=e.videoClickThroughURLTemplate||(e.videoClickThroughURLTemplate=t.videoClickThroughURLTemplate)),"companion"===e.type&&r.length&&(e.variations||[]).forEach(e=>{e.companionClickTrackingURLTemplates=Qe.joinArrayOfUniqueTemplateObjs(e.companionClickTrackingURLTemplates,r)})}),t.adVerifications&&(e.adVerifications=e.adVerifications.concat(t.adVerifications)),t.blockedAdCategories&&(e.blockedAdCategories=e.blockedAdCategories.concat(t.blockedAdCategories)),null!==(i=t.creatives)&&void 0!==i&&i.length){const i=t.creatives.filter(e=>{var t;return(null===(t=e.icons)||void 0===t?void 0:t.length)&&!e.mediaFiles.length});i.length&&(e.creatives=e.creatives.concat(i))}}};function Xe(e,t){const i=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{id:t,adId:i,sequence:n,apiFramework:r}=Me(e);return{id:t,adId:i,sequence:n,apiFramework:r,type:"companion",required:null,variations:[]}}(t);return i.required=e.getAttribute("required")||null,i.variations=Ze.childrenByName(e,"Companion").map(e=>{const t=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{id:e.id||null,adType:"companionAd",width:e.width||0,height:e.height||0,assetWidth:e.assetWidth||null,assetHeight:e.assetHeight||null,expandedWidth:e.expandedWidth||null,expandedHeight:e.expandedHeight||null,apiFramework:e.apiFramework||null,adSlotId:e.adSlotId||null,pxratio:e.pxratio||"1",renderingMode:e.renderingMode||"default",staticResources:[],htmlResources:[],iframeResources:[],adParameters:null,altText:null,companionClickThroughURLTemplate:null,companionClickTrackingURLTemplates:[],trackingEvents:{}}}(Ze.parseAttributes(e));t.htmlResources=Ze.childrenByName(e,"HTMLResource").reduce((e,t)=>{const i=Ze.parseNodeText(t);return i?e.concat(i):e},[]),t.iframeResources=Ze.childrenByName(e,"IFrameResource").reduce((e,t)=>{const i=Ze.parseNodeText(t);return i?e.concat(i):e},[]),t.staticResources=Ze.childrenByName(e,"StaticResource").reduce((e,t)=>{const i=Ze.parseNodeText(t);return i?e.concat({url:i,creativeType:t.getAttribute("creativeType")||null}):e},[]),t.altText=Ze.parseNodeText(Ze.childByName(e,"AltText"))||null;const i=Ze.childByName(e,"TrackingEvents");i&&Ze.childrenByName(i,"Tracking").forEach(e=>{const i=e.getAttribute("event"),n=Ze.parseNodeText(e);i&&n&&(Array.isArray(t.trackingEvents[i])||(t.trackingEvents[i]=[]),t.trackingEvents[i].push(n))}),t.companionClickTrackingURLTemplates=Ze.childrenByName(e,"CompanionClickTracking").map(e=>({id:e.getAttribute("id")||null,url:Ze.parseNodeText(e)})),t.companionClickThroughURLTemplate=Ze.parseNodeText(Ze.childByName(e,"CompanionClickThrough"))||null;const n=Ze.childByName(e,"AdParameters");return n&&(t.adParameters={value:Ze.parseNodeText(n),xmlEncoded:n.getAttribute("xmlEncoded")||null}),t}),i}function Je(e,t){let i;const n=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{id:t,adId:i,sequence:n,apiFramework:r}=Me(e);return{id:t,adId:i,sequence:n,apiFramework:r,type:"linear",duration:0,skipDelay:null,mediaFiles:[],mezzanine:null,interactiveCreativeFile:null,closedCaptionFiles:[],videoClickThroughURLTemplate:null,videoClickTrackingURLTemplates:[],videoCustomClickURLTemplates:[],adParameters:null,icons:[],trackingEvents:{}}}(t);n.duration=Ze.parseDuration(Ze.parseNodeText(Ze.childByName(e,"Duration")));const r=e.getAttribute("skipoffset");if(null==r)n.skipDelay=null;else if("%"===r.charAt(r.length-1)&&-1!==n.duration){const e=parseInt(r,10);n.skipDelay=n.duration*(e/100)}else n.skipDelay=Ze.parseDuration(r);const s=Ze.childByName(e,"VideoClicks");if(s){const e=Ze.childByName(s,"ClickThrough");n.videoClickThroughURLTemplate=e?{id:e.getAttribute("id")||null,url:Ze.parseNodeText(e)}:null,Ze.childrenByName(s,"ClickTracking").forEach(e=>{n.videoClickTrackingURLTemplates.push({id:e.getAttribute("id")||null,url:Ze.parseNodeText(e)})}),Ze.childrenByName(s,"CustomClick").forEach(e=>{n.videoCustomClickURLTemplates.push({id:e.getAttribute("id")||null,url:Ze.parseNodeText(e)})})}const o=Ze.childByName(e,"AdParameters");o&&(n.adParameters={value:Ze.parseNodeText(o),xmlEncoded:o.getAttribute("xmlEncoded")||null}),Ze.childrenByName(e,"TrackingEvents").forEach(e=>{Ze.childrenByName(e,"Tracking").forEach(e=>{let t=e.getAttribute("event");const r=Ze.parseNodeText(e);if(t&&r){if("progress"===t){if(i=e.getAttribute("offset"),!i)return;t="%"===i.charAt(i.length-1)?"progress-".concat(i):"progress-".concat(Ze.parseDuration(i))}Array.isArray(n.trackingEvents[t])||(n.trackingEvents[t]=[]),n.trackingEvents[t].push(r)}})}),Ze.childrenByName(e,"MediaFiles").forEach(e=>{Ze.childrenByName(e,"MediaFile").forEach(e=>{n.mediaFiles.push(function(e){const t={id:null,fileURL:null,fileSize:0,deliveryType:"progressive",mimeType:null,mediaType:null,codec:null,bitrate:0,minBitrate:0,maxBitrate:0,width:0,height:0,apiFramework:null,scalable:null,maintainAspectRatio:null};t.id=e.getAttribute("id"),t.fileURL=Ze.parseNodeText(e),t.deliveryType=e.getAttribute("delivery"),t.codec=e.getAttribute("codec"),t.mimeType=e.getAttribute("type"),t.mediaType=e.getAttribute("mediaType")||"2D",t.apiFramework=e.getAttribute("apiFramework"),t.fileSize=parseInt(e.getAttribute("fileSize")||0),t.bitrate=parseInt(e.getAttribute("bitrate")||0),t.minBitrate=parseInt(e.getAttribute("minBitrate")||0),t.maxBitrate=parseInt(e.getAttribute("maxBitrate")||0),t.width=parseInt(e.getAttribute("width")||0),t.height=parseInt(e.getAttribute("height")||0);const i=e.getAttribute("scalable");i&&"string"==typeof i&&(t.scalable=Ze.parseBoolean(i));const n=e.getAttribute("maintainAspectRatio");return n&&"string"==typeof n&&(t.maintainAspectRatio=Ze.parseBoolean(n)),t}(e))});const t=Ze.childByName(e,"InteractiveCreativeFile");t&&(n.interactiveCreativeFile=function(e){const t=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{type:e.type||null,apiFramework:e.apiFramework||null,variableDuration:Ze.parseBoolean(e.variableDuration),fileURL:null}}(Ze.parseAttributes(e));return t.fileURL=Ze.parseNodeText(e),t}(t));const i=Ze.childByName(e,"ClosedCaptionFiles");i&&Ze.childrenByName(i,"ClosedCaptionFile").forEach(e=>{const t=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{type:e.type||null,language:e.language||null,fileURL:null}}(Ze.parseAttributes(e));t.fileURL=Ze.parseNodeText(e),n.closedCaptionFiles.push(t)});const r=Ze.childByName(e,"Mezzanine"),s=function(e,t){const i={};let n=!1;return["delivery","type","width","height"].forEach(t=>{e&&e.getAttribute(t)?i[t]=e.getAttribute(t):n=!0}),n?null:i}(r);if(s){const e={id:null,fileURL:null,delivery:null,codec:null,type:null,width:0,height:0,fileSize:0,mediaType:"2D"};e.id=r.getAttribute("id"),e.fileURL=Ze.parseNodeText(r),e.delivery=s.delivery,e.codec=r.getAttribute("codec"),e.type=s.type,e.width=parseInt(s.width,10),e.height=parseInt(s.height,10),e.fileSize=parseInt(r.getAttribute("fileSize"),10),e.mediaType=r.getAttribute("mediaType")||"2D",n.mezzanine=e}});const a=Ze.childByName(e,"Icons");return a&&Ze.childrenByName(a,"Icon").forEach(e=>{n.icons.push(function(e){const t={program:null,height:0,width:0,xPosition:0,yPosition:0,apiFramework:null,offset:null,duration:0,type:null,staticResource:null,htmlResource:null,iframeResource:null,pxratio:"1",iconClickThroughURLTemplate:null,iconClickTrackingURLTemplates:[],iconViewTrackingURLTemplate:null,iconClickFallbackImages:[],altText:null,hoverText:null};t.program=e.getAttribute("program"),t.height=parseInt(e.getAttribute("height")||0),t.width=parseInt(e.getAttribute("width")||0),t.xPosition=function(e){return-1!==["left","right"].indexOf(e)?e:parseInt(e||0)}(e.getAttribute("xPosition")),t.yPosition=function(e){return-1!==["top","bottom"].indexOf(e)?e:parseInt(e||0)}(e.getAttribute("yPosition")),t.apiFramework=e.getAttribute("apiFramework"),t.pxratio=e.getAttribute("pxratio")||"1",t.offset=Ze.parseDuration(e.getAttribute("offset")),t.duration=Ze.parseDuration(e.getAttribute("duration")),t.altText=e.getAttribute("altText"),t.hoverText=e.getAttribute("hoverText"),Ze.childrenByName(e,"HTMLResource").forEach(e=>{t.type=e.getAttribute("creativeType")||"text/html",t.htmlResource=Ze.parseNodeText(e)}),Ze.childrenByName(e,"IFrameResource").forEach(e=>{t.type=e.getAttribute("creativeType")||0,t.iframeResource=Ze.parseNodeText(e)}),Ze.childrenByName(e,"StaticResource").forEach(e=>{t.type=e.getAttribute("creativeType")||0,t.staticResource=Ze.parseNodeText(e)});const i=Ze.childByName(e,"IconClicks");if(i){t.iconClickThroughURLTemplate=Ze.parseNodeText(Ze.childByName(i,"IconClickThrough")),Ze.childrenByName(i,"IconClickTracking").forEach(e=>{t.iconClickTrackingURLTemplates.push({id:e.getAttribute("id")||null,url:Ze.parseNodeText(e)})});const e=Ze.childByName(i,"IconClickFallbackImages");e&&Ze.childrenByName(e,"IconClickFallbackImage").forEach(e=>{t.iconClickFallbackImages.push({url:Ze.parseNodeText(e)||null,width:e.getAttribute("width")||null,height:e.getAttribute("height")||null})})}return t.iconViewTrackingURLTemplate=Ze.parseNodeText(Ze.childByName(e,"IconViewTracking")),t}(e))}),n}function $e(e,t){const i=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{id:t,adId:i,sequence:n,apiFramework:r}=Me(e);return{id:t,adId:i,sequence:n,apiFramework:r,type:"nonlinear",variations:[],trackingEvents:{}}}(t);return Ze.childrenByName(e,"TrackingEvents").forEach(e=>{let t,n;Ze.childrenByName(e,"Tracking").forEach(e=>{t=e.getAttribute("event"),n=Ze.parseNodeText(e),t&&n&&(Array.isArray(i.trackingEvents[t])||(i.trackingEvents[t]=[]),i.trackingEvents[t].push(n))})}),Ze.childrenByName(e,"NonLinear").forEach(e=>{const t={id:null,width:0,height:0,expandedWidth:0,expandedHeight:0,scalable:!0,maintainAspectRatio:!0,minSuggestedDuration:0,apiFramework:"static",adType:"nonLinearAd",type:null,staticResource:null,htmlResource:null,iframeResource:null,nonlinearClickThroughURLTemplate:null,nonlinearClickTrackingURLTemplates:[],adParameters:null};t.id=e.getAttribute("id")||null,t.width=e.getAttribute("width"),t.height=e.getAttribute("height"),t.expandedWidth=e.getAttribute("expandedWidth"),t.expandedHeight=e.getAttribute("expandedHeight"),t.scalable=Ze.parseBoolean(e.getAttribute("scalable")),t.maintainAspectRatio=Ze.parseBoolean(e.getAttribute("maintainAspectRatio")),t.minSuggestedDuration=Ze.parseDuration(e.getAttribute("minSuggestedDuration")),t.apiFramework=e.getAttribute("apiFramework"),Ze.childrenByName(e,"HTMLResource").forEach(e=>{t.type=e.getAttribute("creativeType")||"text/html",t.htmlResource=Ze.parseNodeText(e)}),Ze.childrenByName(e,"IFrameResource").forEach(e=>{t.type=e.getAttribute("creativeType")||0,t.iframeResource=Ze.parseNodeText(e)}),Ze.childrenByName(e,"StaticResource").forEach(e=>{t.type=e.getAttribute("creativeType")||0,t.staticResource=Ze.parseNodeText(e)});const n=Ze.childByName(e,"AdParameters");n&&(t.adParameters={value:Ze.parseNodeText(n),xmlEncoded:n.getAttribute("xmlEncoded")||null}),t.nonlinearClickThroughURLTemplate=Ze.parseNodeText(Ze.childByName(e,"NonLinearClickThrough")),Ze.childrenByName(e,"NonLinearClickTracking").forEach(e=>{t.nonlinearClickTrackingURLTemplates.push({id:e.getAttribute("id")||null,url:Ze.parseNodeText(e)})}),i.variations.push(t)}),i}function et(e){const t=[];return e.forEach(e=>{const i=function e(t){if("#comment"===t.nodeName)return null;const i={name:null,value:null,attributes:{},children:[]},n=t.attributes,r=t.childNodes;if(i.name=t.nodeName,t.attributes)for(const e in n)if(n.hasOwnProperty(e)){const t=n[e];t.nodeName&&t.nodeValue&&(i.attributes[t.nodeName]=t.nodeValue)}for(const t in r)if(r.hasOwnProperty(t)){const n=e(r[t]);n&&i.children.push(n)}if(0===i.children.length||1===i.children.length&&["#cdata-section","#text"].indexOf(i.children[0].name)>=0){const e=Ze.parseNodeText(t);""!==e&&(i.value=e),i.children=[]}return null===(s=i).value&&0===Object.keys(s.attributes).length&&0===s.children.length?null:i;var s}(e);i&&t.push(i)}),t}function tt(e){return e.getAttribute("AdID")||e.getAttribute("adID")||e.getAttribute("adId")||null}const it={Wrapper:{subElements:["VASTAdTagURI","Impression"]},BlockedAdCategories:{attributes:["authority"]},InLine:{subElements:["AdSystem","AdTitle","Impression","AdServingId","Creatives"]},Category:{attributes:["authority"]},Pricing:{attributes:["model","currency"]},Verification:{oneOfinLineResources:["JavaScriptResource","ExecutableResource"],attributes:["vendor"]},UniversalAdId:{attributes:["idRegistry"]},JavaScriptResource:{attributes:["apiFramework","browserOptional"]},ExecutableResource:{attributes:["apiFramework","type"]},Tracking:{attributes:["event"]},Creatives:{subElements:["Creative"]},Creative:{subElements:["UniversalAdId"]},Linear:{subElements:["MediaFiles","Duration"]},MediaFiles:{subElements:["MediaFile"]},MediaFile:{attributes:["delivery","type","width","height"]},Mezzanine:{attributes:["delivery","type","width","height"]},NonLinear:{oneOfinLineResources:["StaticResource","IFrameResource","HTMLResource"],attributes:["width","height"]},Companion:{oneOfinLineResources:["StaticResource","IFrameResource","HTMLResource"],attributes:["width","height"]},StaticResource:{attributes:["creativeType"]},Icons:{subElements:["Icon"]},Icon:{oneOfinLineResources:["StaticResource","IFrameResource","HTMLResource"]}};function nt(e,t){if(!it[e.nodeName]||!it[e.nodeName].attributes)return;const i=it[e.nodeName].attributes.filter(t=>!e.getAttribute(t));i.length>0&&ot({name:e.nodeName,parentName:e.parentNode.nodeName,attributes:i},t)}function rt(e,t,i){const n=it[e.nodeName];if(n&&!(!i&&"Wrapper"!==e.nodeName)){if(n.subElements){const i=n.subElements.filter(t=>!Ze.childByName(e,t));i.length>0&&ot({name:e.nodeName,parentName:e.parentNode.nodeName,subElements:i},t)}i&&n.oneOfinLineResources&&(n.oneOfinLineResources.some(t=>Ze.childByName(e,t))||ot({name:e.nodeName,parentName:e.parentNode.nodeName,oneOfResources:n.oneOfinLineResources},t))}}function st(e){return e.children&&0!==e.children.length}function ot(e,t){let{name:i,parentName:n,attributes:r,subElements:s,oneOfResources:o}=e,a="Element '".concat(i,"'");a+=r?" missing required attribute(s) '".concat(r.join(", "),"' "):s?" missing required sub element(s) '".concat(s.join(", "),"' "):o?" must provide one of the following '".concat(o.join(", "),"' "):" is empty",t("VAST-warning",{message:a,parentElement:n,specVersion:4.1})}const at=function e(t,i,n){if(t&&t.nodeName)if("InLine"===t.nodeName&&(n=!0),nt(t,i),st(t)){rt(t,i,n);for(let r=0;r<t.children.length;r++)e(t.children[r],i,n)}else 0===Ze.parseNodeText(t).length&&ot({name:t.nodeName,parentName:t.parentNode.nodeName},i)};function ct(e,t){let{allowMultipleAds:i,followAdditionalWrappers:n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=Array.from(e.childNodes).filter(e=>{const t=e.nodeName.toLowerCase();return"inline"===t||!1!==n&&"wrapper"===t});for(const n of r){if(Ze.copyNodeAttribute("id",e,n),Ze.copyNodeAttribute("sequence",e,n),Ze.copyNodeAttribute("adType",e,n),"Wrapper"===n.nodeName)return{ad:dt(n,t),type:"WRAPPER"};if("InLine"===n.nodeName)return{ad:lt(n,t,{allowMultipleAds:i}),type:"INLINE"};const r=n.nodeName.toLowerCase();t("VAST-warning",{message:"<".concat(n.nodeName,"inline"===r?"> must be written <InLine>":"> must be written <Wrapper>"),wrongNode:n})}}function lt(e,t){let{allowMultipleAds:i}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return!1===i&&e.getAttribute("sequence")?null:ut(e,t)}function ut(e,t){let i=[];t&&at(e,t);const n=Array.from(e.childNodes),r=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{id:e.id||null,sequence:e.sequence||null,adType:e.adType||null,adServingId:null,categories:[],expires:null,viewableImpression:[],system:null,title:null,description:null,advertiser:null,pricing:null,survey:null,errorURLTemplates:[],impressionURLTemplates:[],creatives:[],extensions:[],adVerifications:[],blockedAdCategories:[],followAdditionalWrappers:!0,allowMultipleAds:!1,fallbackOnNoAd:null}}(Ze.parseAttributes(e));return n.forEach(e=>{switch(e.nodeName){case"Error":r.errorURLTemplates.push(Ze.parseNodeText(e));break;case"Impression":r.impressionURLTemplates.push({id:e.getAttribute("id")||null,url:Ze.parseNodeText(e)});break;case"Creatives":r.creatives=function(e){const t=[];return e.forEach(e=>{const i={id:e.getAttribute("id")||null,adId:tt(e),sequence:e.getAttribute("sequence")||null,apiFramework:e.getAttribute("apiFramework")||null},n=[];let r;Ze.childrenByName(e,"UniversalAdId").forEach(e=>{const t={idRegistry:e.getAttribute("idRegistry")||"unknown",value:Ze.parseNodeText(e)};n.push(t)});const s=Ze.childByName(e,"CreativeExtensions");s&&(r=et(Ze.childrenByName(s,"CreativeExtension")));for(const s in e.childNodes){const o=e.childNodes[s];let a;switch(o.nodeName){case"Linear":a=Je(o,i);break;case"NonLinearAds":a=$e(o,i);break;case"CompanionAds":a=Xe(o,i)}a&&(n&&(a.universalAdIds=n),r&&(a.creativeExtensions=r),t.push(a))}}),t}(Ze.childrenByName(e,"Creative"));break;case"Extensions":{const t=Ze.childrenByName(e,"Extension");r.extensions=et(t),r.adVerifications.length||(i=function(e){let t=null,i=[];return e.some(e=>t=Ze.childByName(e,"AdVerifications")),t&&(i=ht(Ze.childrenByName(t,"Verification"))),i}(t));break}case"AdVerifications":r.adVerifications=ht(Ze.childrenByName(e,"Verification"));break;case"AdSystem":r.system={value:Ze.parseNodeText(e),version:e.getAttribute("version")||null};break;case"AdTitle":r.title=Ze.parseNodeText(e);break;case"AdServingId":r.adServingId=Ze.parseNodeText(e);break;case"Category":r.categories.push({authority:e.getAttribute("authority")||null,value:Ze.parseNodeText(e)});break;case"Expires":r.expires=parseInt(Ze.parseNodeText(e),10);break;case"ViewableImpression":r.viewableImpression.push(function(e){const t=(e,t)=>{const i=Ze.parseNodeText(t);return i&&e.push(i),e};return{id:e.getAttribute("id")||null,viewable:Ze.childrenByName(e,"Viewable").reduce(t,[]),notViewable:Ze.childrenByName(e,"NotViewable").reduce(t,[]),viewUndetermined:Ze.childrenByName(e,"ViewUndetermined").reduce(t,[])}}(e));break;case"Description":r.description=Ze.parseNodeText(e);break;case"Advertiser":r.advertiser={id:e.getAttribute("id")||null,value:Ze.parseNodeText(e)};break;case"Pricing":r.pricing={value:Ze.parseNodeText(e),model:e.getAttribute("model")||null,currency:e.getAttribute("currency")||null};break;case"Survey":r.survey={value:Ze.parseNodeText(e),type:e.getAttribute("type")||null};break;case"BlockedAdCategories":r.blockedAdCategories.push({authority:e.getAttribute("authority")||null,value:Ze.parseNodeText(e)})}}),i.length&&(r.adVerifications=r.adVerifications.concat(i)),r}function dt(e,t){const i=ut(e,t),n=e.getAttribute("followAdditionalWrappers"),r=e.getAttribute("allowMultipleAds"),s=e.getAttribute("fallbackOnNoAd");i.followAdditionalWrappers=!n||Ze.parseBoolean(n),i.allowMultipleAds=!!r&&Ze.parseBoolean(r),i.fallbackOnNoAd=s?Ze.parseBoolean(s):null;let o=Ze.childByName(e,"VASTAdTagURI");if(o?i.nextWrapperURL=Ze.parseNodeText(o):(o=Ze.childByName(e,"VASTAdTagURL"),o&&(i.nextWrapperURL=Ze.parseNodeText(Ze.childByName(o,"URL")))),i.creatives.forEach(e=>{if(["linear","nonlinear"].includes(e.type)){if(e.trackingEvents){i.trackingEvents||(i.trackingEvents={}),i.trackingEvents[e.type]||(i.trackingEvents[e.type]={});for(const t in e.trackingEvents){const n=e.trackingEvents[t];Array.isArray(i.trackingEvents[e.type][t])||(i.trackingEvents[e.type][t]=[]),n.forEach(n=>{i.trackingEvents[e.type][t].push(n)})}}e.videoClickTrackingURLTemplates&&(Array.isArray(i.videoClickTrackingURLTemplates)||(i.videoClickTrackingURLTemplates=[]),e.videoClickTrackingURLTemplates.forEach(e=>{i.videoClickTrackingURLTemplates.push(e)})),e.videoClickThroughURLTemplate&&(i.videoClickThroughURLTemplate=e.videoClickThroughURLTemplate),e.videoCustomClickURLTemplates&&(Array.isArray(i.videoCustomClickURLTemplates)||(i.videoCustomClickURLTemplates=[]),e.videoCustomClickURLTemplates.forEach(e=>{i.videoCustomClickURLTemplates.push(e)}))}}),i.nextWrapperURL)return i}function ht(e){const t=[];return e.forEach(e=>{const i={resource:null,vendor:null,browserOptional:!1,apiFramework:null,type:null,parameters:null,trackingEvents:{}},n=Array.from(e.childNodes);Ze.assignAttributes(e.attributes,i),n.forEach(e=>{let{nodeName:t,textContent:n,attributes:r}=e;switch(t){case"JavaScriptResource":case"ExecutableResource":i.resource=n.trim(),Ze.assignAttributes(r,i);break;case"VerificationParameters":i.parameters=n.trim()}});const r=Ze.childByName(e,"TrackingEvents");r&&Ze.childrenByName(r,"Tracking").forEach(e=>{const t=e.getAttribute("event"),n=Ze.parseNodeText(e);t&&n&&(Array.isArray(i.trackingEvents[t])||(i.trackingEvents[t]=[]),i.trackingEvents[t].push(n))}),t.push(i)}),t}class pt{constructor(){this._handlers=[]}on(e,t){if("function"!=typeof t)throw new TypeError("The handler argument must be of type Function. Received type ".concat(typeof t));if(!e)throw new TypeError("The event argument must be of type String. Received type ".concat(typeof e));return this._handlers.push({event:e,handler:t}),this}once(e,t){return this.on(e,function(e,t,i){const n={fired:!1,wrapFn:void 0};function r(){n.fired||(e.off(t,n.wrapFn),n.fired=!0,i.bind(e)(...arguments))}return n.wrapFn=r,r}(this,e,t))}off(e,t){return this._handlers=this._handlers.filter(i=>i.event!==e||i.handler!==t),this}emit(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];let r=!1;return this._handlers.forEach(t=>{"*"===t.event&&(r=!0,t.handler(e,...i)),t.event===e&&(r=!0,t.handler(...i))}),r}removeAllListeners(e){return e?(this._handlers=this._handlers.filter(t=>t.event!==e),this):(this._handlers=[],this)}listenerCount(e){return this._handlers.filter(t=>t.event===e).length}listeners(e){return this._handlers.reduce((t,i)=>(i.event===e&&t.push(i.handler),t),[])}eventNames(){return this._handlers.map(e=>e.event)}}let ft=0,mt=0;const vt=(e,t)=>{!e||!t||e<=0||t<=0||(mt=(mt*ft+8*e/t)/++ft)},gt={ERRORCODE:900,extensions:[]},yt="VAST response version not supported";class bt extends pt{constructor(){let{fetcher:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super(),this.maxWrapperDepth=null,this.rootErrorURLTemplates=[],this.errorURLTemplates=[],this.remainingAds=[],this.parsingOptions={},this.fetcher=e||null}trackVastError(e,t){for(var i=arguments.length,n=new Array(i>2?i-2:0),r=2;r<i;r++)n[r-2]=arguments[r];this.emit("VAST-error",Object.assign({},gt,t,...n)),Qe.track(e,t)}getErrorURLTemplates(){return this.rootErrorURLTemplates.concat(this.errorURLTemplates)}getEstimatedBitrate(){return mt}initParsingStatus(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.maxWrapperDepth=e.wrapperLimit||10,this.parsingOptions={allowMultipleAds:e.allowMultipleAds},this.rootURL="",this.resetParsingStatus(),vt(e.byteLength,e.requestDuration)}resetParsingStatus(){this.errorURLTemplates=[],this.rootErrorURLTemplates=[],this.vastVersion=null}getRemainingAds(e){if(0===this.remainingAds.length)return Promise.reject(new Error("No more ads are available for the given VAST"));const t=e?this.remainingAds:[this.remainingAds.shift()];return this.errorURLTemplates=[],this.resolveAds(t,{wrapperDepth:0,url:this.rootURL}).then(e=>this.buildVASTResponse(e))}parseVAST(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.initParsingStatus(t),t.isRootVAST=!0,this.parse(e,t).then(e=>this.buildVASTResponse(e))}buildVASTResponse(e){const t=function(e){let{ads:t,errorURLTemplates:i,version:n}=e;return{ads:t||[],errorURLTemplates:i||[],version:n||null}}({ads:e,errorURLTemplates:this.getErrorURLTemplates(),version:this.vastVersion});return this.completeWrapperResolving(t),t}parseVastXml(e,t){let{isRootVAST:i=!1,url:n=null,wrapperDepth:r=0,allowMultipleAds:s,followAdditionalWrappers:o}=t;if(!e||!e.documentElement||"VAST"!==e.documentElement.nodeName){var a;this.emit("VAST-ad-parsed",{type:"ERROR",url:n,wrapperDepth:r});const t="VideoAdServingTemplate"===(null==e||null===(a=e.documentElement)||void 0===a?void 0:a.nodeName);throw new Error(t?yt:"Invalid VAST XMLDocument")}const c=[],l=e.documentElement.childNodes,u=e.documentElement.getAttribute("version");i&&u&&(this.vastVersion=u);for(const e in l){const t=l[e];if("Error"===t.nodeName){const e=Ze.parseNodeText(t);i?this.rootErrorURLTemplates.push(e):this.errorURLTemplates.push(e)}else if("Ad"===t.nodeName){if(this.vastVersion&&parseFloat(this.vastVersion)<3)s=!0;else if(!1===s&&c.length>1)break;const e=ct(t,this.emit.bind(this),{allowMultipleAds:s,followAdditionalWrappers:o});e.ad?(c.push(e.ad),this.emit("VAST-ad-parsed",{type:e.type,url:n,wrapperDepth:r,adIndex:c.length-1,vastVersion:u})):this.trackVastError(this.getErrorURLTemplates(),{ERRORCODE:101})}}return c}parse(e){let{url:t=null,resolveAll:i=!0,wrapperSequence:n=null,previousUrl:r=null,wrapperDepth:s=0,isRootVAST:o=!1,followAdditionalWrappers:a,allowMultipleAds:c}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},l=[];this.vastVersion&&parseFloat(this.vastVersion)<3&&o&&(c=!0);try{l=this.parseVastXml(e,{isRootVAST:o,url:t,wrapperDepth:s,allowMultipleAds:c,followAdditionalWrappers:a})}catch(e){return Promise.reject(e)}if(1===l.length&&null!=n&&(l[0].sequence=n),!1===i){const e=Ze.getSortedAdPods(l),t=Ze.getStandAloneAds(l);e.length?l=e:t.length&&(l=[t.shift()]),this.remainingAds=t}return this.resolveAds(l,{wrapperDepth:s,previousUrl:r,url:t})}resolveAds(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],{wrapperDepth:t,previousUrl:i,url:n}=arguments.length>1?arguments[1]:void 0;const r=[];return i=n,e.forEach(e=>{const n=this.resolveWrappers(e,t,i);r.push(n)}),Promise.all(r).then(e=>Qe.flatten(e))}resolveWrappers(e,t,i){const n={...e};return new Promise(e=>{var r;if(t++,!n.nextWrapperURL)return delete n.nextWrapperURL,e(n);if(!this.fetcher)return n.VASTAdTagURI=n.nextWrapperURL,delete n.nextWrapperURL,e(n);if(t>=this.maxWrapperDepth)return n.errorCode=302,delete n.nextWrapperURL,e(n);n.nextWrapperURL=Ze.resolveVastAdTagURI(n.nextWrapperURL,i);const s=null!==(r=this.parsingOptions.allowMultipleAds)&&void 0!==r?r:n.allowMultipleAds,o=n.sequence;this.fetcher.fetchVAST({url:n.nextWrapperURL,emitter:this.emit.bind(this),maxWrapperDepth:this.maxWrapperDepth}).then(r=>this.parse(r,{url:n.nextWrapperURL,previousUrl:i,wrapperSequence:o,wrapperDepth:t,followAdditionalWrappers:n.followAdditionalWrappers,allowMultipleAds:s}).then(t=>{if(delete n.nextWrapperURL,0===t.length)return n.creatives=[],e(n);t.forEach(e=>{e&&Ze.mergeWrapperAdData(e,n)}),e(t)})).catch(t=>{n.errorCode=t.message===yt?102:301,n.errorMessage=t.message,e(n)})})}completeWrapperResolving(e){if(0===e.ads.length)this.trackVastError(e.errorURLTemplates,{ERRORCODE:303});else for(let t=e.ads.length-1;t>=0;t--){const i=e.ads[t],n=!i.creatives.some(e=>{var t,i;return(null===(t=e.mediaFiles)||void 0===t?void 0:t.length)>0||(null===(i=e.variations)||void 0===i?void 0:i.length)>0});!i.errorCode&&!n||i.VASTAdTagURI||(this.trackVastError(i.errorURLTemplates.concat(e.errorURLTemplates),{ERRORCODE:i.errorCode||303},{ERRORMESSAGE:i.errorMessage||""},{extensions:i.extensions},{system:i.system}),e.ads.splice(t,1))}}}let Et=null;const wt={data:{},length:0,getItem(e){return this.data[e]},setItem(e,t){this.data[e]=t,this.length=Object.keys(this.data).length},removeItem(e){delete this.data[e],this.length=Object.keys(this.data).length},clear(){this.data={},this.length=0}};class Tt{constructor(){this.storage=this.initStorage()}initStorage(){if(Et)return Et;try{Et="undefined"!=typeof window&&null!==window?window.localStorage||window.sessionStorage:null}catch(e){Et=null}return Et&&!this.isStorageDisabled(Et)||(Et=wt,Et.clear()),Et}isStorageDisabled(e){const t="__VASTStorage__";try{if(e.setItem(t,t),e.getItem(t)!==t)return e.removeItem(t),!0}catch(e){return!0}return e.removeItem(t),!1}getItem(e){return this.storage.getItem(e)}setItem(e,t){return this.storage.setItem(e,t)}removeItem(e){return this.storage.removeItem(e)}clear(){return this.storage.clear()}}const St=12e4,At={get:async function(e,t){try{const n=new AbortController,r=setTimeout(()=>{throw n.abort(),new Error("URLHandler: Request timed out after ".concat(t.timeout||St," ms (408)"))},t.timeout||St),s=await fetch(e,{...t,signal:n.signal,credentials:t.withCredentials?"include":"omit"}).finally(()=>{clearTimeout(r)}),o=function(e){return Qe.isBrowserEnvironment()&&"https:"===window.location.protocol&&e.url.includes("http://")?"URLHandler: Cannot go from HTTPS to HTTP.":200===e.status&&e.ok?null:"URLHandler: ".concat(e.statusText," (").concat(e.status,")")}(s);return o?{error:new Error(o),statusCode:s.status}:async function(e){const t=await e.text();let n;return n=Qe.isBrowserEnvironment()?new DOMParser:new((await i.e(969).then(i.t.bind(i,3969,19))).DOMParser),{xml:n.parseFromString(t,"text/xml"),details:{byteLength:t.length,statusCode:e.status,rawXml:t}}}(s)}catch(e){return{error:e,statusCode:"AbortError"===e.name?408:null}}}};class It{constructor(){this.URLTemplateFilters=[]}setOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.urlHandler=e.urlHandler||e.urlhandler||At,this.fetchingOptions={...e.fetchOptions,timeout:e.timeout||St,withCredentials:Boolean(e.withCredentials)}}addURLTemplateFilter(e){"function"==typeof e&&this.URLTemplateFilters.push(e)}removeLastURLTemplateFilter(){this.URLTemplateFilters.pop()}countURLTemplateFilters(){return this.URLTemplateFilters.length}clearURLTemplateFilters(){this.URLTemplateFilters=[]}async fetchVAST(e){var t;let{url:i,maxWrapperDepth:n,emitter:r,wrapperDepth:s=0,previousUrl:o=null,wrapperAd:a=null}=e;const c=Date.now();this.URLTemplateFilters.forEach(e=>{i=e(i)}),r("VAST-resolving",{url:i,previousUrl:o,wrapperDepth:s,maxWrapperDepth:n,timeout:this.fetchingOptions.timeout,wrapperAd:a});const l=await this.urlHandler.get(i,this.fetchingOptions),u=Math.round(Date.now()-c);if(r("VAST-resolved",{url:i,previousUrl:o,wrapperDepth:s,error:(null==l?void 0:l.error)||null,duration:u,statusCode:(null==l?void 0:l.statusCode)||null,...null==l?void 0:l.details}),vt(null==l||null===(t=l.details)||void 0===t?void 0:t.byteLength,u),l.error)throw new Error(l.error);return l.xml}}class Pt{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Tt;this.cappingFreeLunch=e,this.cappingMinimumTimeInterval=t,this.fetcher=new It,this.vastParser=new bt({fetcher:this.fetcher}),this.storage=i,void 0===this.lastSuccessfulAd&&(this.lastSuccessfulAd=0),void 0===this.totalCalls&&(this.totalCalls=0),void 0===this.totalCallsTimeout&&(this.totalCallsTimeout=0)}addURLTemplateFilter(e){this.fetcher.addURLTemplateFilter(e)}removeLastURLTemplateFilter(){this.fetcher.removeLastURLTemplateFilter()}countURLTemplateFilters(){return this.fetcher.countURLTemplateFilters()}clearURLTemplateFilters(){this.fetcher.clearURLTemplateFilters()}getParser(){return this.vastParser}get lastSuccessfulAd(){return this.storage.getItem("vast-client-last-successful-ad")}set lastSuccessfulAd(e){this.storage.setItem("vast-client-last-successful-ad",e)}get totalCalls(){return this.storage.getItem("vast-client-total-calls")}set totalCalls(e){this.storage.setItem("vast-client-total-calls",e)}get totalCallsTimeout(){return this.storage.getItem("vast-client-total-calls-timeout")}set totalCallsTimeout(e){this.storage.setItem("vast-client-total-calls-timeout",e)}hasRemainingAds(){return this.vastParser.remainingAds.length>0}getNextAds(e){return this.vastParser.getRemainingAds(e)}parseVAST(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.fetcher.setOptions(t),this.vastParser.parseVAST(e,t)}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const i=Date.now();return t.hasOwnProperty("resolveAll")||(t.resolveAll=!1),this.totalCallsTimeout<i?(this.totalCalls=1,this.totalCallsTimeout=i+36e5):this.totalCalls++,new Promise((n,r)=>{if(this.cappingFreeLunch>=this.totalCalls)return r(new Error("VAST call canceled  FreeLunch capping not reached yet ".concat(this.totalCalls,"/").concat(this.cappingFreeLunch)));const s=i-this.lastSuccessfulAd;if(s<0)this.lastSuccessfulAd=0;else if(s<this.cappingMinimumTimeInterval)return r(new Error("VAST call canceled  (".concat(this.cappingMinimumTimeInterval,")ms minimum interval reached")));this.vastParser.initParsingStatus(t),this.fetcher.setOptions(t),this.vastParser.rootURL=e,this.fetcher.fetchVAST({url:e,emitter:this.vastParser.emit.bind(this.vastParser),maxWrapperDepth:this.vastParser.maxWrapperDepth}).then(i=>(t.previousUrl=e,t.isRootVAST=!0,t.url=e,this.vastParser.parse(i,t).then(e=>{const t=this.vastParser.buildVASTResponse(e);n(t)}))).catch(e=>r(e))})}}class Ct extends pt{constructor(e,t,i){var n;let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,s=arguments.length>4&&void 0!==arguments[4]&&arguments[4];super(),this.ad=t,this.creative=i,this.variation=r,this.muted=s,this.impressed=!1,this.skippable=!1,this.trackingEvents={},this.trackedProgressEvents=[],this.lastPercentage=0,this._alreadyTriggeredQuartiles={},this.emitAlwaysEvents=["creativeView","start","firstQuartile","midpoint","thirdQuartile","complete","resume","pause","rewind","skip","closeLinear","close"];for(const e in this.creative.trackingEvents){this.trackingEvents[e]=this.creative.trackingEvents[e].slice(0)}this.viewableImpressionTrackers=(null===(n=this.ad.viewableImpression)||void 0===n?void 0:n.reduce((e,t)=>(e.notViewable.push(...t.notViewable),e.viewUndetermined.push(...t.viewUndetermined),e.viewable.push(...t.viewable),e),{notViewable:[],viewUndetermined:[],viewable:[]}))||{},Object.entries(this.viewableImpressionTrackers).forEach(e=>{let[t,i]=e;i.length&&(this.trackingEvents[t]=i)}),function(e){return"linear"===e.type}(this.creative)?this._initLinearTracking():this._initVariationTracking(),e&&this.on("start",()=>{e.lastSuccessfulAd=Date.now()})}_initLinearTracking(){this.linear=!0,this.skipDelay=this.creative.skipDelay,this.setDuration(this.creative.duration),this.clickThroughURLTemplate=this.creative.videoClickThroughURLTemplate,this.clickTrackingURLTemplates=this.creative.videoClickTrackingURLTemplates}_initVariationTracking(){if(this.linear=!1,this.skipDelay=-1,this.variation){for(const e in this.variation.trackingEvents){const t=this.variation.trackingEvents[e];this.trackingEvents[e]=this.trackingEvents[e]?this.trackingEvents[e].concat(t.slice(0)):t.slice(0)}"nonLinearAd"===this.variation.adType?(this.clickThroughURLTemplate=this.variation.nonlinearClickThroughURLTemplate,this.clickTrackingURLTemplates=this.variation.nonlinearClickTrackingURLTemplates,this.setDuration(this.variation.minSuggestedDuration)):function(e){return"companionAd"===e.adType}(this.variation)&&(this.clickThroughURLTemplate=this.variation.companionClickThroughURLTemplate,this.clickTrackingURLTemplates=this.variation.companionClickTrackingURLTemplates)}}setDuration(e){Qe.isValidTimeValue(e)?(this.assetDuration=e,this.quartiles={firstQuartile:Math.round(25*this.assetDuration)/100,midpoint:Math.round(50*this.assetDuration)/100,thirdQuartile:Math.round(75*this.assetDuration)/100}):this.emit("TRACKER-error",{message:"the duration provided is not valid. duration: ".concat(e)})}setProgress(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!Qe.isValidTimeValue(e)||"object"!=typeof t)return void this.emit("TRACKER-error",{message:"One given setProgress parameter has the wrong type. progress: ".concat(e,", macros: ").concat(Qe.formatMacrosValues(t))});const n=this.skipDelay||-1;if(-1===n||this.skippable||(n>e?this.emit("skip-countdown",n-e):(this.skippable=!0,this.emit("skip-countdown",0))),this.assetDuration>0){const n=Math.round(e/this.assetDuration*100),r=[];if(e>0){r.push("start");for(let e=this.lastPercentage;e<n;e++)r.push("progress-".concat(e+1,"%"));r.push("progress-".concat(e));for(const t in this.quartiles)this.isQuartileReached(t,this.quartiles[t],e)&&(r.push(t),this._alreadyTriggeredQuartiles[t]=!0);this.lastPercentage=n}r.forEach(e=>{this.track(e,{macros:t,once:i})}),e<this.progress&&(this.track("rewind",{macros:t}),this.trackedProgressEvents&&this.trackedProgressEvents.splice(0))}this.progress=e}isQuartileReached(e,t,i){let n=!1;return t<=i&&!this._alreadyTriggeredQuartiles[e]&&(n=!0),n}setMuted(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};"boolean"==typeof e&&"object"==typeof t?(this.muted!==e&&this.track(e?"mute":"unmute",{macros:t}),this.muted=e):this.emit("TRACKER-error",{message:"One given setMuted parameter has the wrong type. muted: ".concat(e,", macros: ").concat(Qe.formatMacrosValues(t))})}setPaused(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};"boolean"==typeof e&&"object"==typeof t?(this.paused!==e&&this.track(e?"pause":"resume",{macros:t}),this.paused=e):this.emit("TRACKER-error",{message:"One given setPaused parameter has the wrong type. paused: ".concat(e,", macros: ").concat(Qe.formatMacrosValues(t))})}setFullscreen(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};"boolean"==typeof e&&"object"==typeof t?(this.fullscreen!==e&&this.track(e?"fullscreen":"exitFullscreen",{macros:t}),this.fullscreen=e):this.emit("TRACKER-error",{message:"One given setFullScreen parameter has the wrong type. fullscreen: ".concat(e,", macros: ").concat(Qe.formatMacrosValues(t))})}setExpand(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};"boolean"==typeof e&&"object"==typeof t?(this.expanded!==e&&(this.track(e?"expand":"collapse",{macros:t}),this.track(e?"playerExpand":"playerCollapse",{macros:t})),this.expanded=e):this.emit("TRACKER-error",{message:"One given setExpand parameter has the wrong type. expanded: ".concat(e,", macros: ").concat(Qe.formatMacrosValues(t))})}setSkipDelay(e){Qe.isValidTimeValue(e)?this.skipDelay=e:this.emit("TRACKER-error",{message:"setSkipDelay parameter does not have a valid value. duration: ".concat(e)})}trackImpression(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};"object"==typeof e?this.impressed||(this.impressed=!0,this.trackURLs(this.ad.impressionURLTemplates,e),this.track("creativeView",{macros:e})):this.emit("TRACKER-error",{message:"trackImpression parameter has the wrong type. macros: ".concat(e)})}trackViewableImpression(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};"object"==typeof e?this.track("viewable",{macros:e,once:arguments.length>1&&void 0!==arguments[1]&&arguments[1]}):this.emit("TRACKER-error",{message:"trackViewableImpression given macros has the wrong type. macros: ".concat(e)})}trackNotViewableImpression(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};"object"==typeof e?this.track("notViewable",{macros:e,once:arguments.length>1&&void 0!==arguments[1]&&arguments[1]}):this.emit("TRACKER-error",{message:"trackNotViewableImpression given macros has the wrong type. macros: ".concat(e)})}trackUndeterminedImpression(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};"object"==typeof e?this.track("viewUndetermined",{macros:e,once:arguments.length>1&&void 0!==arguments[1]&&arguments[1]}):this.emit("TRACKER-error",{message:"trackUndeterminedImpression given macros has the wrong type. macros: ".concat(e)})}error(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];"object"==typeof e&&"boolean"==typeof t?this.trackURLs(this.ad.errorURLTemplates,e,{isCustomCode:t}):this.emit("TRACKER-error",{message:"One given error parameter has the wrong type. macros: ".concat(Qe.formatMacrosValues(e),", isCustomCode: ").concat(t)})}errorWithCode(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];"string"==typeof e&&"boolean"==typeof t?this.error({ERRORCODE:e},t):this.emit("TRACKER-error",{message:"One given errorWithCode parameter has the wrong type. errorCode: ".concat(e,", isCustomCode: ").concat(t)})}complete(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};"object"==typeof e?this.track("complete",{macros:e}):this.emit("TRACKER-error",{message:"complete given macros has the wrong type. macros: ".concat(e)})}notUsed(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};"object"==typeof e?(this.track("notUsed",{macros:e}),this.trackingEvents=[]):this.emit("TRACKER-error",{message:"notUsed given macros has the wrong type. macros: ".concat(e)})}otherAdInteraction(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};"object"==typeof e?this.track("otherAdInteraction",{macros:e}):this.emit("TRACKER-error",{message:"otherAdInteraction given macros has the wrong type. macros: ".concat(e)})}acceptInvitation(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};"object"==typeof e?this.track("acceptInvitation",{macros:e}):this.emit("TRACKER-error",{message:"acceptInvitation given macros has the wrong type. macros: ".concat(e)})}adExpand(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};"object"==typeof e?this.track("adExpand",{macros:e}):this.emit("TRACKER-error",{message:"adExpand given macros has the wrong type. macros: ".concat(e)})}adCollapse(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};"object"==typeof e?this.track("adCollapse",{macros:e}):this.emit("TRACKER-error",{message:"adCollapse given macros has the wrong type. macros: ".concat(e)})}minimize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};"object"==typeof e?this.track("minimize",{macros:e}):this.emit("TRACKER-error",{message:"minimize given macros has the wrong type. macros: ".concat(e)})}verificationNotExecuted(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("string"!=typeof e||"object"!=typeof t)return void this.emit("TRACKER-error",{message:"One given verificationNotExecuted parameter has to wrong type. vendor: ".concat(e,", macros: ").concat(Qe.formatMacrosValues(t))});if(!this.ad||!this.ad.adVerifications||!this.ad.adVerifications.length)throw new Error("No adVerifications provided");if(!e)throw new Error("No vendor provided, unable to find associated verificationNotExecuted");const i=this.ad.adVerifications.find(t=>t.vendor===e);if(!i)throw new Error("No associated verification element found for vendor: ".concat(e));const n=i.trackingEvents;if(n&&n.verificationNotExecuted){const e=n.verificationNotExecuted;this.trackURLs(e,t),this.emit("verificationNotExecuted",{trackingURLTemplates:e})}}overlayViewDuration(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};"string"==typeof e&&"object"==typeof t?(t.ADPLAYHEAD=e,this.track("overlayViewDuration",{macros:t})):this.emit("TRACKER-error",{message:"One given overlayViewDuration parameters has the wrong type. formattedDuration: ".concat(e,", macros: ").concat(Qe.formatMacrosValues(t))})}close(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};"object"==typeof e?this.track(this.linear?"closeLinear":"close",{macros:e}):this.emit("TRACKER-error",{message:"close given macros has the wrong type. macros: ".concat(e)})}skip(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};"object"==typeof e?this.track("skip",{macros:e}):this.emit("TRACKER-error",{message:"skip given macros has the wrong type. macros: ".concat(e)})}load(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};"object"==typeof e?this.track("loaded",{macros:e}):this.emit("TRACKER-error",{message:"load given macros has the wrong type. macros: ".concat(e)})}click(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(null!==e&&"string"!=typeof e||"object"!=typeof t)return void this.emit("TRACKER-error",{message:"One given click parameter has the wrong type. fallbackClickThroughURL: ".concat(e,", macros: ").concat(Qe.formatMacrosValues(t))});this.clickTrackingURLTemplates&&this.clickTrackingURLTemplates.length&&this.trackURLs(this.clickTrackingURLTemplates,t);const i=this.clickThroughURLTemplate||e,n={...t};if(i){this.progress&&(n.ADPLAYHEAD=this.progressFormatted());const e=Qe.resolveURLTemplates([i],n)[0];this.emit("clickthrough",e)}}trackProgressEvents(e,t,i){const n=parseFloat(e.split("-")[1]);Object.entries(this.trackingEvents).filter(e=>{let[t]=e;return t.startsWith("progress-")}).map(e=>{let[t,i]=e;return{name:t,time:parseFloat(t.split("-")[1]),urls:i}}).filter(e=>{let{time:t}=e;return t<=n&&t>this.progress}).forEach(e=>{let{name:n,urls:r}=e;!i&&this.trackedProgressEvents.includes(n)||(this.emit(n,{trackingURLTemplates:r}),this.trackURLs(r,t),i?delete this.trackingEvents[n]:this.trackedProgressEvents.push(n))})}track(e){let{macros:t={},once:i=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("object"!=typeof t)return void this.emit("TRACKER-error",{message:"track given macros has the wrong type. macros: ".concat(t)});"closeLinear"===e&&!this.trackingEvents[e]&&this.trackingEvents.close&&(e="close"),e.startsWith("progress-")&&!e.endsWith("%")&&this.trackProgressEvents(e,t,i);const n=this.trackingEvents[e],r=this.emitAlwaysEvents.indexOf(e)>-1;n?(this.emit(e,{trackingURLTemplates:n}),this.trackURLs(n,t)):r&&this.emit(e,null),i&&(delete this.trackingEvents[e],r&&this.emitAlwaysEvents.splice(this.emitAlwaysEvents.indexOf(e),1))}trackURLs(e){var t;let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const{validUrls:r,invalidUrls:s}=Qe.filterUrlTemplates(e);s.length&&this.emit("TRACKER-error",{message:"Provided urls are malformed. url: ".concat(s)});const o={...i};this.linear&&(this.creative&&this.creative.mediaFiles&&this.creative.mediaFiles[0]&&this.creative.mediaFiles[0].fileURL&&(o.ASSETURI=this.creative.mediaFiles[0].fileURL),this.progress&&(o.ADPLAYHEAD=this.progressFormatted())),null!==(t=this.creative)&&void 0!==t&&null!==(t=t.universalAdIds)&&void 0!==t&&t.length&&(o.UNIVERSALADID=this.creative.universalAdIds.map(e=>e.idRegistry.concat(" ",e.value)).join(",")),this.ad&&(this.ad.sequence&&(o.PODSEQUENCE=this.ad.sequence),this.ad.adType&&(o.ADTYPE=this.ad.adType),this.ad.adServingId&&(o.ADSERVINGID=this.ad.adServingId),this.ad.categories&&this.ad.categories.length&&(o.ADCATEGORIES=this.ad.categories.map(e=>e.value).join(",")),this.ad.blockedAdCategories&&this.ad.blockedAdCategories.length&&(o.BLOCKEDADCATEGORIES=this.ad.blockedAdCategories.map(e=>e.value).join(","))),Qe.track(r,o,n)}convertToTimecode(e){if(!Qe.isValidTimeValue(e))return"";const t=1e3*e,i=Math.floor(t/36e5),n=Math.floor(t/6e4%60),r=Math.floor(t/1e3%60),s=Math.floor(t%1e3);return"".concat(Qe.addLeadingZeros(i,2),":").concat(Qe.addLeadingZeros(n,2),":").concat(Qe.addLeadingZeros(r,2),".").concat(Qe.addLeadingZeros(s,3))}progressFormatted(){return this.convertToTimecode(this.progress)}}var kt=i(5481),Rt=i(4402);function Dt(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}const Ot={timeout:5e3,maxRedirects:3,maxWrapperDepth:5,withCredentials:!1,tracking:{impressions:!0,quartiles:!0,clicks:!0,errors:!0}};class _t{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Dt(this,"vastClient",new Pt),Dt(this,"vastTracker",null),Dt(this,"parsedVAST",null),Dt(this,"config",void 0),Dt(this,"adId",null),Dt(this,"vastDuration",null),Dt(this,"initialized",!1),Dt(this,"vpaidMetadata",null),Dt(this,"simidMetadata",null),Dt(this,"allVideoSources",[]),this.vastUrl=e,this.config={...Ot,...t,tracking:{...Ot.tracking,...t.tracking}}}async initialize(){if(!this.initialized)try{if(this.parsedVAST=await this.vastClient.get(this.vastUrl,{timeout:this.config.timeout,maxRedirects:this.config.maxRedirects,maxWrapperDepth:this.config.maxWrapperDepth,withCredentials:this.config.withCredentials}),!this.parsedVAST.ads||0===this.parsedVAST.ads.length)throw new Rt.X("No ads found in VAST response",{vastUrl:this.vastUrl,response:this.parsedVAST});this.adId=this.extractAdId(this.parsedVAST),this.vastDuration=this.extractDurationFromVAST(this.parsedVAST),this.setupTracking(),this.initialized=!0}catch(e){const t=new Rt.X("VAST initialization failed",{vastUrl:this.vastUrl,config:this.config,originalError:e});throw kt.Z.postError(t),t}}extractDurationFromVAST(e){for(const t of e.ads)for(const e of t.creatives)if("linear"===e.type&&"number"==typeof e.duration&&!isNaN(e.duration))return e.duration;return null}extractAdId(e){var t,i;if(!e.ads||0===e.ads.length)return null;const n=e.ads[0];if(n.id)return n.id;const r=null===(t=n.creatives)||void 0===t?void 0:t.find(e=>"linear"===e.type);return null!=r&&r.id?"creative-".concat(r.id):"vast-".concat((null===(i=this.vastUrl.split("/").pop())||void 0===i?void 0:i.split(".")[0])||"unknown")}setupTracking(){if(!this.parsedVAST.ads||0===this.parsedVAST.ads.length)return;const e=this.parsedVAST.ads[0],t=e.creatives.find(e=>"linear"===e.type);t&&(this.vastTracker=new Ct(this.vastClient,e,t))}getVASTTracker(){return this.vastTracker}getParsedVAST(){return this.parsedVAST}getConfig(){return this.config}getAdId(){return this.adId}async getDuration(){return null!==this.vastDuration&&this.vastDuration>0||this.parsedVAST&&null===this.vastDuration&&(this.vastDuration=this.extractDurationFromVAST(this.parsedVAST),null!==this.vastDuration&&this.vastDuration>0)?this.vastDuration:0}getVPAIDMetadata(){return!this.vpaidMetadata&&this.parsedVAST&&(this.vpaidMetadata=this.extractVPAIDMetadata(this.parsedVAST)),this.vpaidMetadata}getSIMIDMetadata(){return!this.simidMetadata&&this.parsedVAST&&(this.simidMetadata=this.extractSIMIDMetadata(this.parsedVAST)),this.simidMetadata}getAllVideoSources(){return 0===this.allVideoSources.length&&this.parsedVAST&&(this.allVideoSources=this.extractAllVideoSources(this.parsedVAST)),this.allVideoSources}extractVPAIDMetadata(e){if(!e.ads)return null;for(const i of e.ads)for(const e of i.creatives)if("linear"===e.type&&e.mediaFiles)for(const i of e.mediaFiles){var t;if("vpaid"===(null===(t=i.apiFramework)||void 0===t?void 0:t.toLowerCase())){let t="";return e.adParameters&&("string"==typeof e.adParameters?t=e.adParameters:e.adParameters.value?!0===e.adParameters.xmlEncoded?t=e.adParameters.value:(t=e.adParameters.value,"string"!=typeof t&&(t=JSON.stringify(t))):t=JSON.stringify(e.adParameters)),{jsUrl:i.fileURL,width:parseInt(i.width)||640,height:parseInt(i.height)||480,mimeType:i.mimeType||"application/javascript",adParameters:t,skipOffset:e.skipDelay||void 0,duration:e.duration||void 0}}}return null}extractSIMIDMetadata(e){if(!e.ads)return null;for(const i of e.ads)for(const e of i.creatives)if("linear"===e.type&&e.mediaFiles)for(const i of e.mediaFiles){var t;if("simid"===(null===(t=i.apiFramework)||void 0===t?void 0:t.toLowerCase()))return{creativeUrl:i.fileURL,width:parseInt(i.width)||640,height:parseInt(i.height)||480}}return null}extractAllVideoSources(e){const t=[];if(!e.ads)return t;for(const r of e.ads)for(const e of r.creatives)if("linear"===e.type&&e.mediaFiles)for(const r of e.mediaFiles){var i,n;const e=null===(i=r.apiFramework)||void 0===i?void 0:i.toLowerCase();if("vpaid"===e||"simid"===e)continue;const s=null===(n=r.mimeType)||void 0===n?void 0:n.toLowerCase();s&&(s.includes("mp4")||s.includes("webm")||s.includes("ogg")||s.includes("m3u8")||s.includes("mpegurl"))&&t.push({url:r.fileURL,mimeType:r.mimeType,bitrate:parseInt(r.bitrate)||0,width:parseInt(r.width)||void 0,height:parseInt(r.height)||void 0})}return t.sort((e,t)=>t.bitrate-e.bitrate)}}function Lt(e){return"string"==typeof e?{src:e,type:Nt(e)}:e}function Nt(e){var t;const i=e.toLowerCase();if(i.includes(".xml")||i.includes("vast")||i.includes("vmap")||i.includes("adtag")||i.includes("ad_tag"))return"application/xml+vast";switch(null===(t=e.split(".").pop())||void 0===t?void 0:t.toLowerCase()){case"mp4":return"video/mp4";case"webm":return"video/webm";case"ogg":case"ogv":return"video/ogg";case"m3u8":return"application/x-mpegURL";case"mpd":return"application/dash+xml";case"mov":return"video/quicktime";case"avi":return"video/x-msvideo";case"flv":return"video/x-flv";case"mkv":return"video/x-matroska";case"3gp":return"video/3gpp";default:return"video/mp4"}}function xt(e){const t=e.type.toLowerCase();return t.includes("vast")||t.includes("vmap")||t.includes("xml+vast")||t.includes("vmap+xml")||"application/xml"===t||"text/xml"===t}class Vt extends oe.v{constructor(e){super({sources:e,config:arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}})}buildPrioritizedItems(e){var t,i,n,r;if(!e||!e.sources||0===e.sources.length)return[];const{sources:s,config:o={}}=e,a=null!==(t=null===(i=o.customPriorities)||void 0===i?void 0:i.vast)&&void 0!==t?t:1,c=null!==(n=null===(r=o.customPriorities)||void 0===r?void 0:r.video)&&void 0!==n?n:2,l=s.map((e,t)=>({item:e,priority:(xt(e)?a:c)+1e-4*t}));return this.sortAndFilter(l)}getAllSources(){return this.getAllItems()}}class Mt{static async getRequiredEngine(e){var t;te.debug("Determining required engine",{hasSources:!!e.sources,sourcesCount:(null===(t=e.sources)||void 0===t?void 0:t.length)||0,hasVAST:!!e.vast});return te.info("Required engine determined",{engine:"videojs"}),"videojs"}static async createPlayer(e,t,i){var n,r;const{sources:s,vast:o,...a}=t,c=s||[];if(te.info("Creating player",{sourcesCount:c.length,hasVAST:!!o}),te.debug(()=>"Sources: ".concat(JSON.stringify(c))),0===c.length)throw te.error("No sources available"),new Error("No sources available for player creation");const l=new Vt(c);let u,d=0;for(;l.hasNext();){const n=l.next();if(!n)break;d++;const r=xt(n);te.debug("Attempting source ".concat(d,"/").concat(c.length),{type:r?"VAST":"video",src:n.src,mimeType:n.type});try{if(r){te.info("Creating VAST player",{src:n.src});const r=new _t(n.src,o||{});await r.initialize();const s=new Ve(e,{...a,adEventBus:t.adEventBus},r,i);return te.info("VAST player created successfully"),s}{te.info("Creating VideoJS player",{src:n.src});const r=await K.n.create({sources:[n]});await r.initialize();const s=r.getVideoJSConfig(),o={...a,...s},c=new se(e,o,i,t.adEventBus);return te.info("VideoJS player created successfully"),c}}catch(e){u=e,te.warn("Source ".concat(d," failed"),{type:r?"VAST":"video",error:u.message,hasMore:l.hasNext()})}}throw te.error("All sources failed",{totalAttempts:d,lastError:null===(n=u)||void 0===n?void 0:n.message}),new Error("All ".concat(c.length," source(s) failed. Last error: ").concat((null===(r=u)||void 0===r?void 0:r.message)||"Unknown"))}}var Ut=i(5797);function jt(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class Ft{static registerEngine(e,t){this.strategies.set(e,t)}static async injectForEngine(e,t,i){ee.info("Injecting dependencies",{engine:e,elementId:t.id||"unnamed",hasConfig:!!i});const n=this.strategies.get(e);if(!n)throw ee.error("No strategy registered",{engine:e,availableEngines:Array.from(this.strategies.keys())}),new Error("No dependency strategy registered for engine: ".concat(e));const r=this.getTargetDocument(t)===document?"regular DOM":"Shadow DOM";ee.debug("Target document: ".concat(r));let s=this.instances.get(t);if(s&&s instanceof n?ee.debug("Reusing existing strategy instance"):(ee.debug("Creating new strategy instance"),s=new n(t),this.instances.set(t,s)),s)try{await s.inject(i),ee.info("Dependencies injected successfully",{engine:e})}catch(t){throw ee.error("Dependency injection failed",{engine:e,error:t.message},t),t}}static async isAvailable(e,t){ee.debug("Checking dependency availability",{engine:e});const i=this.instances.get(t);if(!i)return ee.debug("No strategy instance found"),!1;const n=await i.validate();return ee.debug("Dependency validation result",{engine:e,available:n}),n}static async injectCustomStyles(e,t){const i=this.getTargetDocument(e),n={id:"custom-".concat(Date.now(),"-").concat(Math.random().toString(36).substr(2,9)),type:Ut.N.STYLE,content:t,target:i};await(0,Ut._)([n])}static cleanup(e){const t=this.instances.get(e);t&&(t.cleanup(),this.instances.delete(e))}static getRegisteredEngines(){return Array.from(this.strategies.keys())}static clearCache(){this.instances=new WeakMap}static getTargetDocument(e){const t=e.getRootNode();return t instanceof ShadowRoot?t.ownerDocument:document}}jt(Ft,"strategies",new Map),jt(Ft,"instances",new WeakMap);class Bt{static getDefaultConfig(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=e.version||"8.20.0",i=e.cdn||"https://s.ntv.io/video/videojs";return{version:t,cdn:i,customUrls:e.customUrls||this.generateUrls(t,i),...e}}static generateUrls(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"8.20.0",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"https://s.ntv.io/video/videojs";return{css:"".concat(t,"/").concat(e,"/video-js.css"),js:"".concat(t,"/").concat(e,"/video.min.js")}}static getSlideConfig(){return this.getDefaultConfig()}static getPlayerConfig(){return this.getDefaultConfig(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})}}function Wt(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class Ht extends class{constructor(e){jt(this,"targetDocument",void 0),this.targetDocument=this.getTargetDocument(e)}getTargetDocument(e){const t=e.getRootNode();return t instanceof ShadowRoot?t.ownerDocument:t instanceof Document?t:document}async injectDependencyArray(e){const t=e.map(e=>({id:e.id,type:"style"===e.type?Ut.N.STYLE:Ut.N.JS,url:e.url,content:e.content,target:e.target||this.targetDocument}));await(0,Ut._)(t)}}{constructor(e){super(e),Wt(this,"config",{}),Wt(this,"element",void 0),this.element=e}async inject(e){this.config=Bt.getDefaultConfig(e);return this.element.getRootNode()instanceof ShadowRoot?this.injectForShadowDOM():this.injectForRegularDOM()}async injectForShadowDOM(){const e=Ht.elementCache.get(this.element);if(null!=e&&e.isComplete&&await this.validate())return Promise.resolve();if(null!=e&&e.injectionPromise)return e.injectionPromise;const t=this.performInjection();Ht.elementCache.set(this.element,{isComplete:!1,timestamp:Date.now(),version:this.config.version,injectionPromise:t});try{await t,Ht.elementCache.set(this.element,{isComplete:!0,timestamp:Date.now(),version:this.config.version})}catch(e){throw Ht.elementCache.delete(this.element),e}}async injectForRegularDOM(){const e=this.getCacheKey();let t=Ht.contextCache.get(this.targetDocument);t||(t=new Map,Ht.contextCache.set(this.targetDocument,t));const i=t.get(e);if(null!=i&&i.isComplete&&await this.validate())return Promise.resolve();if(null!=i&&i.injectionPromise)try{if(await i.injectionPromise,await this.validate())return Promise.resolve();t.delete(e)}catch(i){t.delete(e)}const n=this.performInjection();t.set(e,{isComplete:!1,timestamp:Date.now(),version:this.config.version,injectionPromise:n});try{await n,t.set(e,{isComplete:!0,timestamp:Date.now(),version:this.config.version})}catch(i){throw t.delete(e),console.error("VideoJS injection failed for ".concat(this.element.id||"unknown",":"),i),i}}async validate(){try{const e=null!==this.targetDocument.querySelector("#videojs-css")||null!==this.targetDocument.querySelector('link[href*="video-js.css"]'),t=this.targetDocument.defaultView||window,i=void 0!==t.videojs&&"function"==typeof t.videojs;return e&&i}catch(e){return!1}}cleanup(){const e=Ht.contextCache.get(this.targetDocument);e&&e.clear()}async performInjection(){const e=Ht.injectionMutex.get(this.targetDocument);if(e&&(await e,await this.validate()))return;const t=this.performActualInjection();Ht.injectionMutex.set(this.targetDocument,t);try{await t}finally{Ht.injectionMutex.delete(this.targetDocument)}}async performActualInjection(){const e=this.targetDocument.defaultView||window;e.VIDEOJS_NO_DYNAMIC_STYLE=!0;const t=this.buildDependencies();await this.injectDependencyArray(t),await this.waitForVideoJS(e)}buildDependencies(){const{version:e,cdn:t,customUrls:i}=this.config,n=(null==i?void 0:i.css)||"".concat(t,"/").concat(e,"/video-js.css");return[{id:"videojs-js",type:"js",url:(null==i?void 0:i.js)||"".concat(t,"/").concat(e,"/video.min.js"),target:this.targetDocument},{id:"videojs-css",type:"style",url:n,target:this.targetDocument},{id:"videojs-controls-hide",type:"style",content:this.getControlHidingCSS(),target:this.targetDocument}]}getControlHidingCSS(){return"\n      /* Hide VideoJS controls for VAST compliance */\n      .ntv-video-element .vjs-control-bar,\n      .ntv-video-element .vjs-big-play-button,\n      .ntv-video-element .vjs-loading-spinner,\n      .ntv-video-element .vjs-poster,\n      .ntv-video-element .vjs-text-track-display,\n      .ntv-video-element .vjs-dock,\n      .ntv-video-element .vjs-modal-dialog {\n        display: none !important;\n        visibility: hidden !important;\n        opacity: 0 !important;\n      }\n      \n      /* Ensure video content is still visible */\n      .ntv-video-element video {\n        display: block !important;\n        visibility: visible !important;\n      }\n    "}waitForVideoJS(e){return new Promise((t,i)=>{const n=Date.now(),r=()=>{"function"!=typeof e.videojs?Date.now()-n>15e3?i(new Error("VideoJS failed to load within ".concat(15e3,"ms timeout"))):setTimeout(r,100):t()};r()})}getCacheKey(){return"videojs-".concat(JSON.stringify(this.config))}}function zt(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}Wt(Ht,"contextCache",new WeakMap),Wt(Ht,"elementCache",new WeakMap),Wt(Ht,"injectionMutex",new WeakMap),Ft.registerEngine("videojs",Ht);class Gt extends Error{constructor(e,t){let i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=arguments.length>3?arguments[3]:void 0,r=arguments.length>4?arguments[4]:void 0;super(e),zt(this,"phase",void 0),zt(this,"recoverable",void 0),zt(this,"retryCount",void 0),zt(this,"cause",void 0),zt(this,"context",void 0),this.name="InitializationError",this.phase=t,this.recoverable=i,this.retryCount=0,this.cause=n,this.context=r}static dependencyError(e,t){return new Gt("Dependency injection failed: ".concat(e.message),"dependencies",!0,e,t)}static sourceError(e,t){return new Gt("Source resolution failed: ".concat(e.message),"sources",!0,e,t)}static playerError(e,t){return new Gt("Player creation failed: ".concat(e.message),"player",!1,e,t)}static timeoutError(e,t){return new Gt("Initialization timed out in ".concat(e," phase after ").concat(t,"ms"),e,!0,void 0,{timeoutMs:t,phase:e})}static cancellationError(e){return new Gt("Initialization cancelled during ".concat(e," phase"),e,!1,void 0,{phase:e})}}class qt extends Error{constructor(){super(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Player must be initialized before use. Call initialize() first."),this.name="PlayerNotInitializedError"}}class Yt extends Error{constructor(e,t,i){super(e),zt(this,"currentState",void 0),zt(this,"expectedState",void 0),this.name="PlayerStateError",this.currentState=t,this.expectedState=i}}var Qt;function Kt(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class Zt{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Kt(this,"context",void 0),Kt(this,"state",void 0),Kt(this,"config",void 0),Kt(this,"abortController",void 0),Kt(this,"timeoutId",void 0),Kt(this,"phaseResults",[]),this.context=e,this.config={timeoutMs:15e3,maxRetries:2,retryDelayMs:1e3,enableProgressEvents:!0,...t},this.state={phase:"pending",progress:0,canRetry:!0,retryCount:0,startTime:Date.now(),phaseStartTime:Date.now()},this.abortController=new AbortController}async initialize(){$.info("Initialization started",{timeoutMs:this.config.timeoutMs,maxRetries:this.config.maxRetries,elementId:this.context.element.id||"unnamed"});try{this.setupTimeout(),this.setupAbortSignal();const e={player:await this.executeInitializationPhases(),duration:Date.now()-this.state.startTime,phases:[...this.phaseResults]};return this.emitProgress("complete",1),$.info("Initialization complete",{duration:e.duration,phasesCompleted:e.phases.length}),e}catch(e){throw $.error("Initialization failed",{phase:this.state.phase,duration:Date.now()-this.state.startTime,error:e.message},e),this.handleFinalError(e),e}finally{this.cleanup()}}cancel(){this.abortController.abort(),this.cleanup();const e=Gt.cancellationError(this.state.phase);this.emitError(e)}async executeInitializationPhases(){await this.executePhase("dependencies",()=>this.initializeDependencies()),await this.executePhase("sources",()=>this.prepareSources());return await this.executePhase("player",()=>this.createPlayer())}async executePhase(e,t){let i;this.transitionToPhase(e);let n=0;for(;n<=(this.config.maxRetries||0);)try{this.checkAborted(),$.debug("Executing phase: ".concat(e),{attempt:n+1,maxRetries:this.config.maxRetries});const i=await t(),r=Date.now()-this.state.phaseStartTime;return $.info("Phase complete: ".concat(e),{duration:r,attempt:n+1}),this.recordPhaseSuccess(e),i}catch(t){if(i=t,n++,$.warn("Phase failed: ".concat(e),{attempt:n,maxRetries:this.config.maxRetries,error:i.message,willRetry:n<=(this.config.maxRetries||0)&&this.isRetryable(i,e)}),this.recordPhaseError(e,i),!(n<=(this.config.maxRetries||0)&&this.isRetryable(i,e)))throw $.error("Phase exhausted retries: ".concat(e),{totalAttempts:n,error:i.message}),this.createPhaseError(e,i);await this.handleRetry(e,i,n)}throw this.createPhaseError(e,i)}async initializeDependencies(){const e=await Mt.getRequiredEngine(this.context.options),t=this.getEngineConfig(e);await Ft.injectForEngine(e,this.context.element,t)}getEngineConfig(e){$.debug("Getting config for engine: ".concat(e));const t=Zt.ENGINE_CONFIGS[e];if(!t)throw $.error("Unknown engine requested",{engine:e,supportedEngines:Zt.SUPPORTED_ENGINES}),new Error("Unknown video engine: ".concat(e,". Supported engines: ").concat(Zt.SUPPORTED_ENGINES.join(", ")));return t(this.context.options)}async prepareSources(){const e=this.context.options.sources||(this.context.options.src?[this.context.options.src]:[]);if(0===e.length)throw new Error("No video sources provided");const t=(i=e)&&0!==i.length?i.map(Lt):[];var i;this.context.options.sources=t}async createPlayer(){return await Mt.createPlayer(this.context.element,this.context.options,this.context.eventBus)}transitionToPhase(e){const t=Date.now(),i=this.state.phase;this.state={...this.state,phase:e,phaseStartTime:t,progress:this.calculateProgress(e)},$.debug("Phase transition: ".concat(i,"  ").concat(e),{progress:"".concat(Math.round(100*this.state.progress),"%"),elapsed:t-this.state.startTime}),this.emitProgress(e,this.state.progress)}calculateProgress(e){return{pending:0,dependencies:.3,sources:.6,player:.9,complete:1,error:0,cancelled:0}[e]||0}recordPhaseSuccess(e){this.phaseResults.push({phase:e,duration:Date.now()-this.state.phaseStartTime,success:!0})}recordPhaseError(e,t){this.phaseResults.push({phase:e,duration:Date.now()-this.state.phaseStartTime,success:!1,error:t})}async handleRetry(e,t,i){const n=Math.min((this.config.retryDelayMs||1e3)*Math.pow(2,i-1),5e3);this.emitRetry(e,t,i,n),await new Promise(e=>setTimeout(e,n)),this.state.retryCount=i}isRetryable(e,t){if(e instanceof Gt)return e.recoverable;switch(t){case"dependencies":case"sources":return!0;case"player":default:return!1}}createPhaseError(e,t){if(t instanceof Gt)return t;switch(e){case"dependencies":return Gt.dependencyError(t,{targetDocument:this.context.targetDocument,config:this.context.options});case"sources":return Gt.sourceError(t,{sources:this.context.options.sources||this.context.options.src});case"player":return Gt.playerError(t,{element:this.context.element.tagName,options:this.context.options});default:return new Gt("Initialization failed in ".concat(e," phase: ").concat(t.message),e,!1,t)}}setupTimeout(){this.config.timeoutMs&&this.config.timeoutMs>0&&(this.timeoutId=setTimeout(()=>{const e=Gt.timeoutError(this.state.phase,this.config.timeoutMs);this.abortController.abort(),this.handleFinalError(e)},this.config.timeoutMs))}setupAbortSignal(){this.config.abortSignal&&this.config.abortSignal.addEventListener("abort",()=>{this.cancel()})}checkAborted(){if(this.abortController.signal.aborted)throw Gt.cancellationError(this.state.phase)}handleFinalError(e){const t=e instanceof Gt?e:new Gt(e.message,this.state.phase,!1,e);this.state={...this.state,phase:"error",error:t},this.emitError(t),this.cleanup()}emitProgress(e,t){this.config.enableProgressEvents&&this.context.eventBus.emitPlayer("initialization-progress",{state:"initializing",message:"Initialization ".concat(e," phase (").concat(Math.round(100*t),"%)")})}emitRetry(e,t,i,n){this.context.eventBus.emitPlayer("initialization-retry",{state:"retrying",error:t,message:"Retrying ".concat(e," phase (attempt ").concat(i,"/").concat(this.config.maxRetries||0,")")})}emitError(e){this.context.eventBus.emitPlayer(P,{state:"error",error:e,message:"Initialization failed in ".concat(e.phase," phase: ").concat(e.message),recoverable:e.recoverable})}cleanup(){this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=void 0),this.abortController.signal.aborted||this.abortController.abort()}getState(){return{...this.state}}getPhaseResults(){return[...this.phaseResults]}}function Xt(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}Qt=Zt,Kt(Zt,"ENGINE_CONFIGS",{videojs:e=>null!=e&&e.videojs?Bt.getDefaultConfig(e.videojs):Bt.getDefaultConfig()}),Kt(Zt,"SUPPORTED_ENGINES",Object.keys(Qt.ENGINE_CONFIGS));const Jt="initialize",$t="performInitialization",ei="initialization completion",ti="initialization-coordinator",ii="underlying-player",ni="event-bus";class ri{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Xt(this,"player",null),Xt(this,"state","created"),Xt(this,"playerId",void 0),Xt(this,"eventBus",void 0),Xt(this,"element",void 0),Xt(this,"options",void 0),Xt(this,"coordinator",null),Xt(this,"initializationResult",null),Xt(this,"initializationPromise",null),Xt(this,"resourceManager",new r),Xt(this,"operationGuard",new o),this.playerId=t.playerId||this.generatePlayerId(),this.eventBus=new Q(this.playerId),this.element=e,this.options=t,J.info("Player created",{playerId:this.playerId,elementId:e.id||"unnamed",hasOptions:Object.keys(t).length>0}),J.debug(()=>"Player options: ".concat(JSON.stringify(t)))}generatePlayerId(){return"player-".concat(Date.now(),"-").concat(Math.random().toString(36).substr(2,9))}getTargetDocument(e){const t=e.getRootNode();return t instanceof ShadowRoot?t.ownerDocument:t instanceof Document?t:document}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(J.info("Initializing player",{playerId:this.playerId,state:this.state,timeoutMs:e.timeoutMs||15e3}),this.initializationPromise)return J.debug("Reusing existing initialization promise"),this.initializationPromise;if("created"!==this.state)throw J.error("Cannot initialize in invalid state",{playerId:this.playerId,currentState:this.state,expectedState:"created"}),new Yt("Cannot initialize player in state: ".concat(this.state),this.state,"created");return this.operationGuard.requireNotDestroying(Jt),this.initializationPromise=this.performInitialization(e),this.initializationPromise}async performInitialization(e){this.state="initializing",J.debug("State transition: created  initializing");try{this.operationGuard.requireNotDestroying($t);const t={element:this.element,options:this.options,playerId:this.playerId,eventBus:this.eventBus,targetDocument:this.getTargetDocument(this.element)};return this.coordinator=new Zt(t,e),this.initializationResult=await this.coordinator.initialize(),this.operationGuard.requireNotDestroying(ei),this.player=this.initializationResult.player,this.state="ready",J.info("Player initialized successfully",{playerId:this.playerId,duration:this.initializationResult.duration,phases:this.initializationResult.phases.length}),J.debug(()=>"Initialization phases: ".concat(JSON.stringify(this.initializationResult.phases))),this.eventBus.emitPlayer(I,{state:"ready",message:"Player initialized successfully"}),this.initializationPromise=null,this.initializationResult}catch(e){if(this.initializationPromise=null,J.error("Player initialization failed",{playerId:this.playerId,phase:this.state,error:e.message},e),this.operationGuard.isInDestroyingState())throw new Gt("Initialization cancelled","player",!1,e);if(this.state="error",e instanceof Gt)throw e;throw new Gt("Player initialization failed: ".concat(e.message),"player",!1,e)}}isReady(){return"ready"===this.state&&null!==this.player}getState(){return this.state}getInitializationResult(){return this.initializationResult}getPlayerId(){return this.playerId}async play(){if("destroyed"===this.state){const e=new Error("Cannot perform play() on destroyed player");throw this.eventBus.emitPlayer(P,{state:"error",error:e,message:"Operation attempted on destroyed player",recoverable:!1}),e}if(!this.isReady())throw new qt("Player must be initialized before calling play()");return J.debug("play()"),this.player.play()}pause(){this.player&&this.player.pause()}seek(e){this.player&&this.player.seek(e)}getCurrentTime(){return this.player?this.player.getCurrentTime():0}async getDuration(){return this.player?await this.player.getDuration():0}getVolume(){return this.player?this.player.getVolume():0}isMuted(){return!!this.player&&this.player.isMuted()}isPaused(){return!this.player||this.player.isPaused()}isEnded(){return!!this.player&&this.player.isEnded()}getReadyState(){return this.player?this.player.getReadyState():0}setVolume(e){this.player&&this.player.setVolume(e)}mute(){this.player&&this.player.mute()}unmute(){this.player&&this.player.unmute()}onMedia(e,t){this.eventBus.onMedia(e,t)}onVAST(e,t){this.eventBus.onVAST(e,t)}onInteraction(e,t){this.eventBus.onInteraction(e,t)}onPlayer(e,t){this.eventBus.onPlayer(e,t)}offMedia(e,t){this.eventBus.offMedia(e,t)}offVAST(e,t){this.eventBus.offVAST(e,t)}offInteraction(e,t){this.eventBus.offInteraction(e,t)}offPlayer(e,t){this.eventBus.offPlayer(e,t)}onceMedia(e,t){this.eventBus.onceMedia(e,t)}onceVAST(e,t){this.eventBus.onceVAST(e,t)}onceInteraction(e,t){this.eventBus.onceInteraction(e,t)}oncePlayer(e,t){this.eventBus.oncePlayer(e,t)}getEventBus(){return this.eventBus}async destroy(){if(J.info("Destroying player",{playerId:this.playerId,state:this.state}),this.operationGuard.isInDestroyingState()||"destroyed"===this.state)return void J.debug("Player already destroyed or destroying");this.operationGuard.markDestroying();const e="initializing"===this.state;this.state="destroyed";try{this.initializationPromise&&e&&this.eventBus.emitMedia(d.ABORT,{currentTime:0,duration:0,volume:0,muted:!0,paused:!0,ended:!1,readyState:0}),this.eventBus.emitPlayer(C,{state:"destroyed",message:"Player destroyed"}),this.coordinator&&this.resourceManager.register({name:ti,cleanup:()=>{var e;null===(e=this.coordinator)||void 0===e||e.cancel(),this.coordinator=null},priority:10,timeout:500}),this.player&&this.resourceManager.register({name:ii,cleanup:async()=>{this.player&&(await this.player.destroy(),this.player=null)},priority:9,timeout:1e3}),this.eventBus&&this.resourceManager.register({name:ni,cleanup:()=>{var e;null===(e=this.eventBus)||void 0===e||e.destroy()},priority:8,timeout:500});const t=(await this.resourceManager.destroyAll(2e3)).filter(e=>!e.success);t.length>0?(J.warn("Cleanup failures detected",{playerId:this.playerId,failures:t.map(e=>e.name)}),this.eventBus.emitPlayer(P,{state:"error",error:new Error("Cleanup failures: ".concat(t.map(e=>e.name).join(", "))),message:"Player cleanup encountered errors",recoverable:!1})):J.debug("All resources cleaned up successfully"),J.info("Player destroyed",{playerId:this.playerId})}catch(e){J.error("Cleanup error",{playerId:this.playerId,error:e.message},e)}finally{this.state="destroyed",this.initializationPromise=null,this.initializationResult=null}}}i(2829),i(7057),i(262);var si=i(9483),oi=i(3444),ai=i(4784);function ci(e,t){(function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")})(e,t),t.add(e)}function li(e,t,i){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:i;throw new TypeError("Private element is not present on this object")}const ui={METADATA:"metadata",UNMUTE:"unmute",VIDEO_END:"video_end",VIDEO_ERROR:"video_error",RESET:"video_reset"};var di=new WeakSet;class hi extends oi.Z{constructor(e){var t,i;super(e),ci(this,di),this.type=si.U.VIDEO,this.videoElement=this.element.querySelector("video"),this.durationChecked=!1,this.aspectHandler=new ai.v(this.videoElement),this.initializationPromise=null;const n="slide-video-".concat(this.slideId||this.index||"unknown");this.videoElement.id=n;const r={sources:(null===(t=e.data)||void 0===t?void 0:t.mediaSource)||(null===(i=e.data)||void 0===i?void 0:i.videoSources),playerId:n,controls:!1,muted:!0,preload:"auto"};this.videoElement.style.visibility="hidden",this.nativoVideoPlayer=new ri(this.videoElement,r),this.initializationPromise=li(di,this,bi).call(this),li(di,this,pi).call(this),this.unmuteButton=this.element.querySelector(".ntv-stories__unmute-icon"),this.unmuteButton&&this.unmuteButton.addEventListener("click",async e=>{e.preventDefault(),e.stopPropagation();if(await this.unmuteVideo())try{await this.nativoVideoPlayer.play(),this.pubSub.publish(ui.UNMUTE,{index:this.index})}catch(e){console.error("Failed to play after unmute:",e)}})}onActive(){super.onActive(!1)}onInactive(){super.onInactive(),this.reset()}onComplete(){super.onComplete()}pause(){this.nativoVideoPlayer.pause()}async start(){try{if(this.initializationPromise&&await this.initializationPromise,!this.nativoVideoPlayer.isReady())return void console.error("Video player not ready for playback after initialization");await this.nativoVideoPlayer.play()}catch(e){console.error("Failed to start video:",e)}}reset(){this.nativoVideoPlayer.pause(),this.nativoVideoPlayer.seek(0),this.pubSub.publish(ui.RESET,{index:this.index,slideId:this.slideId})}async unmuteVideo(){try{return this.nativoVideoPlayer.isReady()?(this.nativoVideoPlayer.unmute(),this.unmuteButton.style.visibility="hidden",!0):(console.error("Video player not ready for unmute"),!1)}catch(e){return console.error("Failed to unmute video:",e),!1}}}function pi(){this.nativoVideoPlayer.onMedia(d.TIME_UPDATE,li(di,this,mi).bind(this)),this.nativoVideoPlayer.onMedia(d.ENDED,li(di,this,vi).bind(this)),this.nativoVideoPlayer.onMedia(d.ERROR,li(di,this,gi).bind(this)),this.nativoVideoPlayer.onPlayer("error",li(di,this,gi).bind(this))}function fi(){this.nativoVideoPlayer.offMedia(d.TIME_UPDATE,li(di,this,mi).bind(this)),this.nativoVideoPlayer.offMedia(d.ENDED,li(di,this,vi).bind(this))}function mi(){const e=this.params.duration?this.params.duration/1e3:15;this.nativoVideoPlayer.getCurrentTime()>=e&&(this.onComplete(),li(di,this,fi).call(this))}function vi(){this.pubSub.publish(ui.VIDEO_END,{index:this.index,slideId:this.slideId}),this.onComplete(),li(di,this,fi).call(this)}function gi(e){var t;this.pubSub.publish(ui.VIDEO_ERROR,{index:this.index,slideId:this.slideId,error:(null===(t=e.data)||void 0===t?void 0:t.error)||e.error||e}),this.onComplete(),li(di,this,fi).call(this)}async function yi(){try{const e=await this.nativoVideoPlayer.getDuration();e&&e>0&&li(di,this,wi).call(this,e,"LOADED_METADATA"),this.pubSub.publish(ui.METADATA,{index:this.index,duration:e}),this.aspectHandler.updateDimensions()}catch(e){console.error("Failed to get video duration:",e)}}async function bi(){try{await this.nativoVideoPlayer.initialize(),this.videoElement.style.visibility="visible",this.nativoVideoPlayer.onMedia(d.LOADEDMETADATA,async()=>{await li(di,this,yi).call(this)}),li(di,this,Ei).call(this)}catch(e){console.error("Failed to initialize video player:",e),this.pubSub.publish(ui.VIDEO_ERROR,{index:this.index,slideId:this.slideId,error:e}),this.onComplete(),li(di,this,fi).call(this)}}async function Ei(){try{if(this.durationChecked)return;if(this.durationChecked=!0,await new Promise(e=>setTimeout(e,200)),this.params.duration&&4e3!==this.params.duration)return;const e=await this.nativoVideoPlayer.getDuration();e&&e>0&&e!==this.params.duration&&li(di,this,wi).call(this,e,"INIT_CHECK")}catch(e){console.error("Slide ".concat(this.index,": Failed to get duration after init:"),e)}}function wi(e){const t=1e3*e;this.params.duration=t,this.pubSub.publish(oi.p.DURATION_CHANGE,{index:this.index,duration:this.params.duration})}},3444:(e,t,i)=>{"use strict";i.d(t,{Z:()=>h,p:()=>u});i(1057),i(6265);var n=i(1611),r=i(1703),s=i(3021),o=i(6126),a=i(8913);function c(e,t){(function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")})(e,t),t.add(e)}function l(e,t,i){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:i;throw new TypeError("Private element is not present on this object")}const u={COMPLETE:"slide_component_complete",ACTIVE:"slide_component_active",INACTIVE:"slide_component_inactive",IN_VIEW:"slide_component_in_view",OUT_OF_VIEW:"slide_component_out_of_view",ACTIVE_IN_VIEW:"slide_component_active_in_view",INTERACTION:"slide_component_interaction",DURATION_CHANGE:"slide_component_duration_change"};var d=new WeakSet;class h{constructor(e){c(this,d);const{element:t,index:i,params:u,data:h}=e;if(this.slideId=u.slideID,this.id="slide-".concat(this.slideId),this.index=i,this.element=t,this.data=h,this.params=u,this.type=null,this.state={visible:!1,active:!1,complete:!1},null==this.data.text||""===this.data.text.trim()){const e=n.util.domQuery(".ntv-stories__item--text-block",this.element);e&&(e.style.display="none")}this.viewableComponent=new o.Z({element:this.element,options:{minimumAreaViewable:.5}}),this.viewableComponent.pubSub.subscribe(s._.IN_VIEW,l(d,this,p).bind(this)),this.viewableComponent.pubSub.subscribe(s._.OUT_OF_VIEW,l(d,this,f).bind(this)),this.pubSub=new a.Vn,(0,a.nC)(this,this.pubSub),(0,r.di)(this.slideID,this.element)}isInViewAndActive(){return this.state.visible&&this.state.active}onActive(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.state.active=!0,this.element.classList.add("to_highlight"),e&&this.onComplete(),l(d,this,m).call(this,u.ACTIVE),this.state.visible&&l(d,this,v).call(this)}onInactive(){this.state.active=!1,this.element.classList.remove("to_highlight"),l(d,this,m).call(this,u.INACTIVE)}onComplete(){l(d,this,m).call(this,u.COMPLETE),this.state.complete=!0}isComplete(){return!0===this.state.complete}clearStyles(){this.element.classList.remove("to_highlight")}}function p(){this.state.visible=!0,l(d,this,m).call(this,u.IN_VIEW),this.state.active&&l(d,this,v).call(this)}function f(){this.state.visible=!1,l(d,this,m).call(this,u.OUT_OF_VIEW)}function m(e){this.pubSub.publish(e,this),this.pubSub.publish(e+":".concat(this.type),this)}function v(){l(d,this,m).call(this,u.ACTIVE_IN_VIEW)}},2492:(e,t,i)=>{"use strict";i.d(t,{C:()=>h,Z:()=>f});i(1057),i(6265);var n,r,s,o=i(9483),a=i(3444),c=i(7626);function l(e,t,i){(function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")})(e,t),t.set(e,i)}function u(e,t){return e.get(d(e,t))}function d(e,t,i){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:i;throw new TypeError("Private element is not present on this object")}class h{}n=h,s="survey_slide_in_view",(r=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(r="IN_VIEW"))in n?Object.defineProperty(n,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):n[r]=s;var p=new WeakMap;class f extends a.Z{constructor(e){super(e),l(this,p,void 0),this.type=o.U.SURVEY,this.surveyViewFired=!1,function(e,t,i){e.set(d(e,t),i)}(p,this,new c.m(this.element,this.slideId)),u(p,this).addEventListener(c.K.SURVEY_COMPLETE,()=>{this.onComplete()}),u(p,this).addEventListener(c.K.SURVEY_CHOICE_CLICK,()=>{this.pubSub.publish(a.p.INTERACTION,this)}),this.pubSub.subscribe(a.p.ACTIVE_IN_VIEW,()=>{this.surveyViewFired=!0,this.pubSub.publish(h.IN_VIEW,this)})}onActive(){super.onActive(!1)}}},7615:(e,t,i)=>{"use strict";i.d(t,{c:()=>n});i(1057),i(6265),i(9483),i(3444),i(4784);const n={METADATA:"metadata",UNMUTE:"unmute",VIDEO_END:"video_end"}},2614:(e,t,i)=>{"use strict";i.d(t,{X:()=>d});i(1057),i(6265);var n=i(6117);function r(e,t,i){s(e,t),t.set(e,i)}function s(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function o(e,t){return e.get(a(e,t))}function a(e,t,i){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:i;throw new TypeError("Private element is not present on this object")}var c=new WeakMap,l=new WeakMap,u=new WeakSet;class d{constructor(e){var t,i;s(t=this,i=u),i.add(t),r(this,c,void 0),r(this,l,{ADVANCE_SLIDE:n.ml.TIMER_COMPLETE,START_SLIDE:n.ml.SLIDE_CHANGE}),function(e,t,i){e.set(a(e,t),i)}(c,this,e),o(c,this).pubSub.subscribe(o(l,this).ADVANCE_SLIDE,a(u,this,h).bind(this)),o(c,this).pubSub.subscribe(o(l,this).START_SLIDE,a(u,this,p).bind(this))}}function h(){const{slideshowComponent:e}=o(c,this);e.goToNext()}function p(e){const{headerViewComponent:t}=o(c,this);t&&t.timers.setActiveTimer(e),o(c,this).resetSlideByIndex(e),o(c,this).startSlideshow()}},3958:(e,t,i)=>{"use strict";i.d(t,{ZP:()=>a,fh:()=>r,n2:()=>n});const n={READY:"slideshow_ready",INITITALIZED:"slideshow_initialized",SLIDE_VIEW:"slideshow_slide_view",SLIDE_PRE_CHANGE:"slideshow_slide_pre_change",SLIDE_CHANGE:"slideshow_slide_change",SLIDE_ACTIVE:"slideshow_slide_active",SLIDE_INACTIVE:"slideshow_slide_inactive"},r={READY:"ready",INITIALIZED:"initialized",SLIDE_INDEX:"slideIndex"},s="next",o="prev";class a{constructor(){this.components=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],this.state={[r.READY]:!1,[r.INITIALIZED]:!1,[r.SLIDE_INDEX]:void 0},this.direction=s}getCurrentSlideComponent(){const e=this.getState(r.SLIDE_INDEX);return this.components[e]}pauseCurrentSlide(){const e=this.getCurrentSlideComponent();e&&e.pause&&e.pause()}resetCurrentSlide(){const e=this.getCurrentSlideComponent();e&&e.reset&&e.reset()}startCurrentSlide(){const e=this.getCurrentSlideComponent();e&&e.start&&e.start()}init(){this.setState(r.INITIALIZED,!0)}goToNext(){this.direction=s}goToPrev(){this.direction=o}get index(){return this.getState(r.SLIDE_INDEX)}setState(e,t){this.state.hasOwnProperty(e)&&(this.state[e]=t)}getState(e){if(this.state.hasOwnProperty(e))return this.state[e]}reposition(){}}},6117:(e,t,i)=>{"use strict";i.d(t,{ml:()=>z,hC:()=>Z,ZP:()=>Y});i(1057),i(560),i(4043),i(5847),i(6265);var n=i(1611),r=i(6101),s=i(8258);var o=i(1703),a=i(3958),c=i(5797);const l={[a.n2.SLIDE_PRE_CHANGE]:"move",[a.n2.SLIDE_CHANGE]:"moved",[a.n2.SLIDE_ACTIVE]:"active",[a.n2.SLIDE_INACTIVE]:"inactive"};class u extends a.ZP{constructor(e,t){super(e);const{uid:i,selectorPrefix:a="",slideshowConfig:l={},thumbnailConfig:u={},...d}=t,h="".concat(a,"-").concat("splide"),p=e.map(e=>e.element);this.slideshowConfig=l,this.thumbnailConfig=u,this.eventHandlers=[],this.options=d||{},this.id=i||n.util.getRandomInt(),this.domId="splide-".concat(this.id),this.selector=(0,o.LO)(this.domId),this.element=function(e){let t,i=(0,s.stringToElement)('<div class="splide">\n    <div class="splide__track ntv-splide-track">\n      <ul class="splide__list ntv-splide-list">\n      </ul>\n    </div>\n  </div>'),n=i.querySelector(".splide__list"),r=(0,s.stringToElement)('<li class="splide__slide ntv-splide-slide"></li>');return e.forEach(e=>{t=r.cloneNode(),t.append(e),n.append(t)}),i}(p),this.element.id=this.domId,this.element.classList.add(h),this.slideshowConfig.hasMultipleSlidesPerPage&&this.element.classList.add("multi-slide-per-page"),Object.defineProperty(this,"activeSlideComponent",{get(){return this.splide.Components.Slides.getAt(this.splide.index)}}),this.dependencies=[{id:"ntvGalleryJS",type:"js",url:r.z1.DEPENDENCIES.GALLERY_JS}],this.ready=(0,c._)(this.dependencies).then(()=>this.init())}init(){return new Promise((e,t)=>{this.updateSlideIndex=()=>{this.setState(a.fh.SLIDE_INDEX,this.splide.index)};try{(0,n.DK)("Splide",window).then(()=>{this.splide=new Splide(this.element,this.slideshowConfig),this.splide.on("ready",()=>{this.updateSlideIndex(),this.slideListElement=this.splide.Components.Elements.list,this.preventArrowClickPropagation(),this.setState(a.fh.READY,!0),this.splide.emit(a.n2.READY),e()}),this.setState(a.fh.INITIALIZED,!0),this.splide.on("moved",e=>{this.updateSlideIndex()}),this.eventHandlers.forEach(e=>{this.splide.on(e.eventName,e.eventHandler)}),this.splide.mount()})}catch(e){n.util.postError(e),t(e)}})}goToNext(){this.splide&&(super.goToNext(),this.splide.go(">"))}goToPrev(){this.splide&&(super.goToPrev(),this.splide.go("<"))}onView(){this.splide&&super.onView()}reposition(){this.splide&&this.splide.Components.Move.reposition()}onHide(){this.splide&&(super.onHide(),this.splide.go(0),this.updateSlideIndex())}on(e,t){const i=l[e]||e;this.getState(a.fh.INITIALIZED)?this.splide.on(i,t):this.eventHandlers.push({eventName:i,eventHandler:t})}preventArrowClickPropagation(){this.element.querySelectorAll(".splide__arrow").forEach(e=>e.addEventListener("click",e=>{e.stopPropagation()}))}}var d=i(8682),h=i(9483),p=i(3444);var f=i(4784);var m=i(2492),v=i(8913);const g="timerEnd",y="timerStart";class b{constructor(e){e&&Array.isArray(e)&&(this.pubSub=new v.ZP,this.currentIndex=0,this.timingIndicatorElements=[e.length],this.timingIndicators=e.map((e,t)=>{let i=new I({index:t,duration:e.duration,id:e.id});return i.element.addEventListener("animationend",()=>{this.pubSub.publish(g,i.index)},!1),this.timingIndicatorElements[t]=i.element,i}),this.maxIndex=this.timingIndicators.length-1)}setTimerDuration(e,t){this.inBounds(e)&&this.timingIndicators[e].setDuration(t)}setTimerDurationSeconds(e,t){this.inBounds(e)&&this.timingIndicators[e].setDuration(t,!0)}reset(){this.timingIndicators.forEach(e=>e.state=E.IDLE)}start(){this.inBounds(this.currentIndex)&&this.startActiveTimer()}pause(){if(!this.inBounds(this.currentIndex))return;const e=this.timingIndicators[this.currentIndex];e.state.pause&&(e.state.pause(),this.pubSub.publish(y,e.index))}inBounds(e){return e>=0&&e<=this.maxIndex}resetActiveTimer(){if(!this.inBounds(this.currentIndex))return;this.timingIndicators[this.currentIndex].state=E.IDLE}startActiveTimer(){if(!this.inBounds(this.currentIndex))return;const e=this.timingIndicators[this.currentIndex];e.state=E.ACTIVE,this.pubSub.publish(y,e.index)}setActiveTimer(e){if(null==e)return;const t=e-this.currentIndex;Math.sign(t)>0?this.progressTimersForwards(t):this.progressTimersBackwards(t)}progressTimersForwards(e){if(!e)return;let t,i=this.currentIndex+e;i=Math.min(i,this.maxIndex);for(let e=this.currentIndex;e<i;e++)t=this.timingIndicators[e],t.state=E.SEEN;this.currentIndex=i}progressTimersBackwards(e){if(!e)return;let t,i=this.currentIndex+e;i=Math.max(i,0);for(let e=this.currentIndex;e>=i;e--)t=this.timingIndicators[e],t.state=E.IDLE;this.currentIndex=i}on(e,t){this.pubSub.subscribe(e,t)}off(e,t){this.pubSub.unsubscribe(e,t)}}const E={IDLE:e=>(e.reset(),{value:"idle",start:()=>e.state=E.ACTIVE,end:()=>e.state=E.SEEN}),ACTIVE:e=>(e.start(),{value:"active",pause:()=>e.pause(),start:()=>e.start(),end:()=>e.state=E.SEEN}),SEEN:e=>(e.end(),{value:"seen",start:()=>e.state=E.ACTIVE,reset:()=>e.state=E.IDLE})},w="active",T="seen",S="paused",A=e=>"animation-duration:".concat(e,"s;");class I{constructor(e){let{index:t,id:i,duration:n,type:r,isActive:s=!1,isSeen:a=!1}=e;this.id=i,this.index=t,this.type=r,this.duration=n/1e3;const c='\n<span \n  class="'.concat(a?"seen":""," ").concat(s?"active":"",'" \n    data-index="').concat(this.index,'" \n    data-item-id="').concat(this.id,'"\n>\n  <b style="').concat(A(this.duration),'"></b>\n</span>');this.element=(0,o.hl)(c),this.animatedElement=this.element.querySelector("b"),this.curState=E.IDLE(this),Object.defineProperty(this,"state",{get(){return this.curState},set(e){e&&(this.curState=e(this))}})}setDuration(e){this.duration=arguments.length>1&&void 0!==arguments[1]&&arguments[1]?e:e/1e3,this.animatedElement.setAttribute("style",A(this.duration))}reset(){this.element.classList.remove(T),this.element.classList.remove(S),this.element.classList.remove(w)}start(){this.element.classList.remove(T),this.element.classList.remove(S),this.element.classList.add(w)}end(){this.element.classList.add(T),this.element.classList.remove(S),this.element.classList.remove(w)}pause(){this.element.classList.add(S)}}const P="closeClick";class C{constructor(e){const{element:t,timers:i}=e;this.element=t,this.pubSub=new v.ZP;const n=this.element.querySelector(".".concat("ntv-stories__close"));n&&n.addEventListener("click",e=>{e.preventDefault(),e.stopPropagation(),this.pubSub.publish(P)}),this.hidden=!1,this.timingIndicators=this.element.querySelector(".".concat("ntv-stories__timers")),this.timingIndicatorWrapper=this.element.querySelector(".".concat("ntv-stories__timers__wrapper")),this.timers=new b(i),this.timingIndicatorWrapper&&this.timingIndicatorWrapper.append(...this.timers.timingIndicatorElements)}setTimerDurationSeconds(e,t){this.timers.setTimerDurationSeconds(e,t)}hide(){this.element.classList.add("hide"),this.hideTimingIndicators(),this.hidden=!0}show(){this.element.classList.remove("hide"),this.showTimingIndicators(),this.hidden=!1}hideTimingIndicators(){this.timingIndicators&&this.timingIndicators.classList.add("hide")}showTimingIndicators(){this.timingIndicators&&this.timingIndicators.classList.remove("hide")}}var k=i(1125),R=i(9782),D=(i(6801),i(8721)),O=i(4862);const _="expand",L="collapse",N="expanded",x="collapsed",V={[N]:"See Less",[x]:"See More"};class M{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(null==e)throw new Error("ISI html is undefined");this.isiConfig=t,this.id=this.isiConfig.id;const i=(0,s.createScriptEvaluatingFragmentFromHTMLString)("<div>".concat(e,"</div>"));this.element=i.firstElementChild,this.element.classList.add("ntv-isi-component"),this.expandButton=this.element.querySelector(".ntv-isi-expand-button"),this.expandButtonLabel=this.expandButton.querySelector(".ntv-isi-expand-label"),this.expandButtonLabel.textContent=V[x],this.contentBox=this.element.querySelector(".ntv-story-isi-content"),this.contentBox.dataset.expanded=!1,this.collapsedStyle={height:this.contentBox.style.height,top:this.contentBox.style.top},this.pubSub=new v.ZP,this.setupExpand(),this.containsInlineActivation=e.includes("PostRelease.activateISI("),this.activated=this.containsInlineActivation}activateISIContent(){if(this.activated&&!this.matchesFailedISIRender(this.id))return;const{scrollSpeed:e,id:t,...i}=this.isiConfig;i.context=this.element;const n=(e=>{let t="div#";return t+=e.startsWith("isi-")?"":"isi-",t+=e,t+=e.endsWith("-story")?"":"-story",t+="-content-placeholder",t})(this.id),r=this.element.querySelector(n);(0,D.j)(r,t,e,i),this.activated=!0}matchesFailedISIRender(){const e=(0,O.W)("failedISIRenders");if(null==e)return!1;const t="isi-".concat(this.id,"-story"),i=e.has(t);return i&&(this.isiConfig=e.get(t),n.util.removeDelayedPostError(t),e.remove(t)),i}setupExpand(){!this.contentBox&&this.expandButton||(this.expandButton.addEventListener("click",e=>{e.preventDefault(),e.stopPropagation(),this.handleExpandClick(this.isExpanded())}),window.addEventListener("resize",()=>{this.collapse()}))}handleExpandClick(e){e?this.collapse():this.expand()}isExpanded(){return"true"===this.expandButton.dataset.expanded}expand(){if(this.isExpanded())return;const e=this.element.closest(".ntv-story-body").getBoundingClientRect(),t=this.contentBox.getBoundingClientRect(),i=Math.min(t.top,t.top-e.top)-80,n=i+t.height;this.contentBox.classList.add("ntv-isi-expanded"),this.contentBox.style.top="-".concat(i,"px"),this.contentBox.style.height="".concat(n,"px"),this.expandButton.classList.add(N),this.expandButton.dataset.expanded=!0,this.expandButtonLabel.textContent=V[N],this.pubSub.publish(_)}collapse(){if(this.isExpanded()){for(let[e,t]of Object.entries(this.collapsedStyle))this.contentBox.style[e]=t;this.contentBox.classList.remove("ntv-isi-expanded"),this.expandButton.classList.remove(N),this.expandButton.dataset.expanded=!1,this.expandButtonLabel.textContent=V[x],this.pubSub.publish(L)}}}var U=i(7190),j=i(6126),F=i(3021);function B(e,t){(function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")})(e,t),t.add(e)}function W(e,t,i){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:i;throw new TypeError("Private element is not present on this object")}const H={duration:4e3},z={READY:"stories_ready",START:"stories_start",PAUSE:"stories_pause",COMPLETE:"stories_complete",IN_VIEW:"stories_in_view",OUT_OF_VIEW:"stories_out_of_view",IN_FOCUS:"stories_in_focus",OUT_OF_FOCUS:"stories_out_of_focus",CLOSE_REQUEST:"stories_close_request",TIMER_COMPLETE:"stories_timer_complete",TIMERS_COMPLETE:"stories_all_timers_complete",SLIDE_ACTIVE:"stories_slide_active",SLIDE_INACTIVE:"stories_slide_inactive",SLIDE_CHANGE:"stories_slide_change",SLIDE_IN_VIEW:p.p.IN_VIEW,SLIDE_OUT_OF_VIEW:p.p.OUT_OF_VIEW,ERROR:"stories_error"},G={video:k.Z,image:class extends p.Z{constructor(e){super(e),this.type=h.U.IMAGE,this.imageElement=this.element.querySelector("img"),this.aspectHandler=new f.v(this.imageElement)}},html:class extends p.Z{constructor(e){super(e),this.type=h.U.HTML}},survey:m.Z};var q=new WeakSet;class Y{constructor(e){B(this,q);const{slideAssets:t,storyConfig:i,slideshowConfig:r,adParams:s,assetDefaults:l}=e,{templates:u}=i;this.storyConfig=i,this.uid=s.adWrapperClass,this.element=document.createElement("ntv-stories-viewer"),this.element.id="".concat("ntv-stories-viewer","-").concat(this.uid),this.element.innerHTML='<div class="stories-viewer-content-wrapper"><div class="stories-viewer-content"></div></div>',this.contentElement=this.element.querySelector(".stories-viewer-content"),this.pubSub=new v._n(this.element,void 0,e.uid),this.on=this.pubSub.subscribe.bind(this.pubSub),this.addEventListener=this.pubSub.subscribe.bind(this.pubSub),this.off=this.pubSub.unsubscribe.bind(this.pubSub),this.removeEventListener=this.pubSub.unsubscribe.bind(this.pubSub),this.EVENTS=z,this.numSlides=t.length,this.maxSlideIndex=this.numSlides-1,this.closeTimeout=0,this.complete=!1,this.started=!1;const d=window.frameElement?n.util.getTopWindow():window;if(this.data={slideNumberTracked:-1,window:d,document:d.document},this.createSlideComponents(t,u),this.setupSlideCompletionHandling(),r.hasMultipleSlidesPerPage=null!=r.perPage&&r.perPage>1||null!=r.fixedWidth&&"100%"!==r.fixedWidth&&"100vw"!==r.fixedWidth,this.slideshowEventHandlers={},Object.keys(a.n2).forEach(e=>this.slideshowEventHandlers[a.n2[e]]=[]),u.viewHeader){const e=Object.assign({},l,s,i);this.createStoriesHeader(e,u.viewHeader)}if(this.storyBody=document.createElement("div"),this.storyBody.classList.add("ntv-story-body"),this.contentElement.appendChild(this.storyBody),this.slideshowComponent=Z(this.slideComponents,r),this.slideshowComponent.id=this.uid,this.storyBody.appendChild(this.slideshowComponent.element),this.storyConfig.isiHtml)try{this.isiComponent=new M(this.storyConfig.isiHtml,this.storyConfig.isiConfig||{id:this.uid}),this.storyBody.appendChild(this.isiComponent.element),this.isiComponent.pubSub.subscribe(_,()=>{this.pauseSlideshow()}),this.isiComponent.pubSub.subscribe(L,()=>{this.startSlideshow()})}catch(e){n.util.postError(e)}if(u.cta){const e=this.slideComponents.map(e=>new U.WO(e.data.ctaLink,e.data.ctaLabel));try{if(r.hasMultipleSlidesPerPage){const t=this.slideComponents.map(e=>e.element);for(let i=0;i<t.length;i++){const r=n.util.domQuery(".ntv-stories__item-content",t[i]),s=new U.ZP(u.cta);s.setCTAData(e[i]),/id="ntv-survey"/.test(r.innerHTML)||r.appendChild(s.element),s.pubSub.relayTo(this.pubSub)}}else this.ctaComponent=new U.Qm(u.cta,e),this.ctaComponent.pubSub.relayTo(this.pubSub),this.storyBody.appendChild(this.ctaComponent.element)}catch(e){n.util.postError(e)}}this.slideshowComponent&&(this.slideshowEventHandlers[a.n2.SLIDE_ACTIVE].push(e=>{let{index:t}=e;this.currentSlideComponent=this.slideComponents[t],this.currentSlideComponent.onActive(),this.ctaComponent&&this.ctaComponent.showIndex(t),this.pubSub.publish(z.SLIDE_ACTIVE,this.currentSlideComponent)}),this.slideshowEventHandlers[a.n2.SLIDE_PRE_CHANGE].push(e=>{var t;this.ctaComponent&&("survey"===this.slideComponents[e].type?this.ctaComponent.hide():null===(t=this.ctaComponent)||void 0===t||t.show())}),this.slideshowEventHandlers[a.n2.SLIDE_CHANGE].push(e=>{this.slideComponents.forEach(t=>{t.index!==e&&t.clearStyles()}),this.isiComponent&&this.isiComponent.collapse(),this.pubSub.publish(z.SLIDE_CHANGE,e)}),this.slideshowEventHandlers[a.n2.SLIDE_INACTIVE].push(e=>{const{index:t}=e,i=this.slideComponents[t];i.onInactive(),this.pubSub.publish(z.SLIDE_INACTIVE,i)}),this.viewableComponent=new j.Z({element:this.element,options:{elementSpecific:!0}}),this.viewableComponent.pubSub.subscribe(F._.IN_VIEW,W(q,this,Q).bind(this)),this.viewableComponent.pubSub.subscribe(F._.OUT_OF_VIEW,W(q,this,K).bind(this)),this.viewableComponent.pubSub.relayTo(this.pubSub),(0,R.F)(this.slideshowComponent,this.slideshowEventHandlers),this.dependencies=this.storyConfig.dependencies,this.setStyleDependencyTargetToElement(),(0,o.BQ)(()=>{if(window.onFocus){if(this.pubSub.publish(z.IN_FOCUS),this.complete)return;this.startSlideshow()}else this.pubSub.publish(z.OUT_OF_FOCUS),this.pauseSlideshow()}),this.readyPromise=Promise.all([this.slideshowComponent.ready,(0,c._)(this.storyConfig.dependencies)]).then(()=>{this.isiComponent&&!this.isiComponent.cont&&this.isiComponent.activateISIContent(),this.pubSub.publish(z.READY)}).catch(e=>{n.util.postError(e)}))}setStyleDependencyTargetToElement(){this.dependencies=this.dependencies.map(e=>("style"===e.type&&(e.target=this.element),e))}expandViewabilityToUseAPIs(){this.viewableComponent.flags.elementSpecific=!1}repositionSlideshow(){this.slideshowComponent.reposition()}resetSlideByIndex(e){const t=this.slideComponents[e];t.reset&&t.reset()}startSlideshow(){this.complete=!1,this.headerViewComponent.timers.start(),this.slideshowComponent.startCurrentSlide(),this.started||(this.started=!0,this.pubSub.publish(z.START,this))}pauseSlideshow(){this.headerViewComponent.timers.pause(),this.slideshowComponent.pauseCurrentSlide(),this.pubSub.publish(z.PAUSE,this)}resetSlideshow(){this.headerViewComponent.timers.reset(),this.slideshowComponent.resetCurrentSlide(),this.started=!1}hideHeader(){this.headerViewComponent&&this.headerViewComponent.hide()}showHeader(){this.headerViewComponent&&this.headerViewComponent.show()}goToNextSlide(){this.slideshowComponent.goToNext()}goToPreviousSlide(){this.slideshowComponent.goToPrev()}checkViewability(){this.viewableComponent.checkViewability()}getActiveSlideType(){return this.currentSlideComponent.type}createStoriesHeader(e,t){this.headerViewComponent=new C({element:(0,o.HN)(t,e,{link:"advertiserLink"}),timers:this.slideComponents.map(e=>({id:e.id,duration:e.params.duration}))}),this.headerViewComponent.pubSub.subscribe(P,()=>{this.pubSub.publish(z.CLOSE_REQUEST,{id:this.uid})}),this.contentElement.appendChild(this.headerViewComponent.element),this.videoSlideComponents=this.slideComponents.filter(e=>"video"===e.type),this.videoSlideComponents.forEach(e=>{e.on(k.c.METADATA,e=>{this.headerViewComponent.setTimerDurationSeconds(e.index,e.duration+.25)}),e.on(k.c.UNMUTE,e=>{this.videoSlideComponents.forEach(e=>{e.unmuteVideo()})}),e.on(k.c.RESET,e=>{this.headerViewComponent.timers.resetActiveTimer(),setTimeout(()=>{this.headerViewComponent.timers.startActiveTimer()},0)})}),this.headerViewComponent.timers.on(g,e=>{this.pubSub.publish(z.TIMER_COMPLETE,{id:this.uid,index:e}),e===this.maxSlideIndex&&this.pubSub.publish(z.TIMERS_COMPLETE,{id:this.uid})})}createSlideComponents(e,t){if(!(e&&Array.isArray(e)&&e.length>0))return[];const i=new Array(e.length);let n,r,a,c;e.forEach((e,l)=>{var u,h;n=e.assets,n.index=l,n.id=e.params.slideID,r=n.type,/id="ntv-survey"/.test(n.html)&&(r="survey"),n.ctaLink=(0,o.mo)(n.id,n.ctaLink),a=(0,d.df)(n,t);const p=(0,s.htmlStringToElement)(a);null===(u=p.querySelector("#ntv-survey-script"))||void 0===u||u.remove(),(null!==(h=r)&&void 0!==h?h:G.hasOwnProperty(r))&&(c=new G[r]({index:l,params:Object.assign({},H,e.params),element:p,data:n}),i[l]=c,c.pubSub.relayTo(this.pubSub))}),this.slideComponents=i}setupSlideCompletionHandling(){for(const e of this.slideComponents)e.on(p.p.COMPLETE,this.handleSlideComponentComplete.bind(this))}handleSlideComponentComplete(e){let{index:t}=e;t===this.maxSlideIndex&&(this.complete=!0,this.pubSub.publish(z.COMPLETE,{id:this.uid}))}}function Q(){this.pubSub.publish(z.IN_VIEW,this)}function K(){this.pubSub.publish(z.OUT_OF_VIEW,this)}function Z(e,t){const i=new u(e,{selectorPrefix:"ntv",slideshowConfig:t});return i.element.classList.add("ntv-slideshow-component"),i}},6126:(e,t,i)=>{"use strict";i.d(t,{Z:()=>c});i(5847);var n=i(3021),r=i(1538),s=i(8913);const o={minimumAreaViewable:.5,enabled:!0},a={useObserverViewability:!0,elementSpecific:!0};class c{constructor(e){let{element:t,options:i={},flags:c={}}=e;this.state={visible:!1},this.options=Object.assign(o,i),this.flags=Object.assign(a,c),this.pubSub=new s.Vn,this.element=t;const l=Object.assign(this.options,{element:this.element}),u=(0,r.QP)(this.flags);this.viewabilityMethod=new u(l),this.viewabilityMethod.addViewableEventListener(n._.VIEWABLE_CHANGE,e=>{this.pubSub.publish(n._.VIEWABLE_CHANGE,e),this.state.visible=e.visible,this.pubSub.publish(e.visible?n._.IN_VIEW:n._.OUT_OF_VIEW,this)}),Object.defineProperty(this,"inView",{get(){const e=this.viewabilityMethod.checkViewability();return this.state.visible||e.visible}})}enable(){this.viewabilityMethod.enable()}disable(){this.viewabilityMethod.disable()}checkViewability(){this.viewabilityMethod.checkViewability()}}},85:(e,t,i)=>{"use strict";i.d(t,{wb:()=>h});i(1057),i(6265);var n=i(1611),r=i(6101),s=i(8682),o=i(3160),a=i(5481);const c={ctaLink:"",ctaLabel:"Learn More"},l={advertiser:"",sponsoredLabel:"Sponsored"},u={autoCloseTimeout:15,elementId:"ntv-stories-modal",stylesId:"ntv-stories-styles",dependencies:[{id:"storiesCss",type:"style",url:r.z1.DEPENDENCIES.STORIES_AD_CSS}],storiesIcon:"https://s.ntv.io/img/story-icon.svg",closeIcon:"https://s.ntv.io/img/close-icon.svg",useGestures:!0};class d{constructor(e){let{slideAssets:t,storyConfig:i,trackingConfig:n,slideshowConfig:r,adParams:s,assetDefaults:o}=e;this.slideAssets=t||[],this.storyConfig=i||{},this.trackingConfig=n||{},this.slideshowConfig=r||{},this.adParams=s||{},this.assetDefaults=o||{}}slideAssetsFromParsedDynamicAssets(e){this.slideAssets=e.map(e=>{const t=(0,s._7)(e.assets);return t.ctaLink&&(t.ctaLink=t.ctaLink&&this.assetDefaults.redirectUrl+encodeURIComponent(t.ctaLink)),e.assets=n.util.mergeObjectsWithTypeComparisions({},{string:(e,t)=>t||e},this.assetDefaults,t),e})}}function h(e){const{slideConfig:t,slideshowConfig:i,adType:r,config:s,...h}=e,p=Object.assign({},h,s),f=function(e){e.redirectUrl=n.util.generateClickRedirect(e.ctaLink);const t=n.util.pick(e,"ctaLink","ctaLabel","redirectUrl");return n.util.mergeDefined(c,t)}(p),m=function(e){return Object.assign({},n.util.pick(e,"adWrapperClass","advertiser","advertiserLogo","previewImage","sponsoredLabel"))}(p),v=n.util.mergeDefined(l,m,p);v.adType=r;const g=function(e){if(!e)return{};const t=n.util.pick(e,"baseTrackingUrl","adVersionPlacement","adID","thirdPartyTrackers");try{const i=new o.cg(e.adVersionPlacement);t.adPlacementId=i.adPlacementId}catch(t){a.Z.postError(new Error("Error parsing adVersionPlacement during Stories Tracking Config creation: ".concat(e.adVersionPlacement)))}return t}(t);g.dynamicAssetType=e.adType;const y=Object.assign({},u,t);return null!=t&&t.templates&&(y.templates=t.templates),new d({storyConfig:y,trackingConfig:g,slideshowConfig:i||{},adParams:v,assetDefaults:f})}},726:(e,t,i)=>{"use strict";i.d(t,{oT:()=>V,aC:()=>x,ZP:()=>M});i(560);var n=i(2287),r=(i(6265),i(8730),i(9979),i(9307),i(8858),i(1318),i(3228),i(3798)),s=i(29),o=i(2603),a=i(6664),c=i(296),l=i(2189);const u={firstViewTracked:!1};class d{constructor(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.config=Object.assign({},u,i);const d=new r.f(t),h=new URL(t.toutClickTracker),p=h.searchParams.get("ntv_at"),f=a.V.createBaseEventTracker({event:605,method:o.e.IMAGE,url:h.toString(),ext:{fired:this.config.firstViewTracked,fireOnce:!0}});new s.NM(e,{tracker:d,trackableEvents:[{eventName:n.E.OPEN,fireOnce:!0,fired:this.config.firstViewTracked,callback:()=>{f.track(),t.thirdPartyTrackers&&(0,c.qQ)(t.thirdPartyTrackers[p]);const e=new URL(t.toutClickTracker).searchParams.get("ntv_at");if(i.callback(),null==e)return;const n=e.split(",").map(e=>Number(e));n&&n.length>0&&(0,l.n)(t.adPlacementId,n)}}]})}}var h=i(1703),p=i(1611),f=i(4862),m=i(6101);function v(e,t){if(!t)return void console.error("tout element not provided");const{element:i,attribute:n}=(0,h.OE)(e,t);return i&&n?(p.util.onImageLoad(i,()=>{const e=document.createElement("stories-preview-overlay");e.class="stories-preview-overlay",i.after(e),e.insertAdjacentHTML("beforebegin",g);new ResizeObserver(t=>{const i=t[0],{target:n}=i,{width:r,height:s}=i.contentRect,o=n.getBoundingClientRect(),a=e.getBoundingClientRect(),c=o.x-a.x;e.style.top=o.y-a.y+"px",e.style.left=c+"px",e.style.width=r+"px",e.style.height=s+"px"}).observe(i)}),i):void 0}const g="\n    <style>\n      stories-preview-overlay {\n        position: absolute;\n        top: 0;\n        left: 0;\n        display: inline-block;\n        \n        pointer-events: none;\n      }\n\n      stories-preview-overlay::before {\n        content: '';\n        position: absolute;\n        background-image: url(\"https://s.ntv.io/img/story-icon.svg\");\n        background-repeat: no-repeat;\n        background-position: center;\n        background-size: contain;\n\n        width: 25%;\n        height: 25%;\n\n        max-width: 60px;\n        max-height: 60px;\n        min-width: 40px;\n        min-height: 40px;\n\n        left: 50%;\n        top: 50%;\n        transform: translate(-50%, -50%);\n\n        pointer-events: none;\n      }\n    </style>\n  ";var y=i(6117),b=i(9782),E=i(749),w=i(6671),T=i(3444),S=i(8477),A=i(3804),I=i(276),P=i(2614);var C=i(4075),k=i(3113),R=i(2482);class D{constructor(e,t){new R.Z(e,t),new C.LP(e,t),new k.t9(e,t)}}var O=i(6937),_=i(3297),L=i(7625),N=i(7200);i(7002),i(85),i(2784);const x={STORIES:"STORIES",AUTOPLAY_STORIES:"AUTOPLAY_STORIES",VERTICAL_VIDEO:"VERTICAL_VIDEO",SURVEY:"SURVEY"},V={STORIES:function(e){const{storyConfig:t,adParams:i,trackingConfig:r,uid:s}=e;this.modalComponent=function(e){const t=new n.Z({id:e,selectorPrefix:"ntv"});return t.id=e,t}(s),this.params={closable:!0,autoStart:!1},this.state={open:!1};const o=new E.Z(e);this.slideViewCallback=o.slideViewCallback,new I.T(o.storiesViewer),new P.X(o.storiesViewer),this.storiesViewer=o.storiesViewer,this.data=o.data,this.modalComponent.appendContent(this.storiesViewer.element),t.customCss&&this.modalComponent.modal.element.append((0,h.pB)(t.customCss));const a=()=>{this.modalComponent.clearAutoClose(),this.storiesViewer.currentSlideComponent.off(T.p.COMPLETE,c)},c=()=>{this.modalComponent.startAutoClose()};if(this.storiesViewer.pubSub.on(y.ml.READY,()=>{this.storiesViewer.on(y.ml.CLOSE_REQUEST,()=>{l.close()}),this.storiesViewer.on(y.ml.SLIDE_IN_VIEW,e=>{const{slideIndex:t}=e;this.slideViewCallback&&this.slideViewCallback(t)}),this.storiesViewer.on(y.ml.SLIDE_CHANGE,a),this.storiesViewer.on(y.ml.TIMERS_COMPLETE,()=>{if(this.storiesViewer.currentSlideComponent.isComplete())return c();this.storiesViewer.currentSlideComponent.on(T.p.COMPLETE,c)})}),this.modalEventHandlers={},Object.keys(n.E).forEach(e=>this.modalEventHandlers[n.E[e]]=[]),!this.storiesViewer||!this.modalComponent)return;this.modalTracker=new d(this.modalComponent,r,{firstViewTracked:this.data.slideNumberTracked>=0,callback:()=>{this.tracker=new w.Z(this.storiesViewer,r),o.initializeTrackingWhenReady()}}),this.modalEventHandlers[n.E.OPEN_COMPLETE].push(()=>{this.storiesViewer.checkViewability(),this.storiesViewer.repositionSlideshow()}),(0,b.F)(this.modalComponent,this.modalEventHandlers),function(e){let{doc:t=document,selector:i,previewImage:n}=e;if(t&&i&&n)if("loading"!==t.readyState){const e=p.util.domQueryUp(i,t);v(n,e)}else t.addEventListener("DOMContentLoaded",()=>{const e=p.util.domQueryUp(i,t);v(n,e)})}({doc:document,selector:".".concat(i.adWrapperClass),previewImage:i.previewImage}),(0,h.g3)(t.toutSelector),(0,h.v3)(this.data.document),(0,S.eO)()||(0,h.BQ)(()=>{window.onFocus||this.state.open&&l.close()}),this.data.document.body.append(this.modalComponent.element);const l={open:()=>{this.modalComponent.open(),this.storiesViewer.startSlideshow(),this.state.open=!0},close:()=>{this.modalComponent.close(),this.storiesViewer.resetSlideshow(),this.state.open=!1},remove:()=>{this.modalComponent.element.remove(),function(e){if(!e)return;delete((0,f.W)("StoriesAds").get("instances")||{})[e]}(i.adWrapperClass)}};return function(e,t){if(!e||!t)return;const i=(0,f.W)("StoriesAds"),n=i.get("instances")||{};n[e]=t,i.set("instances",n)}(i.adWrapperClass,l),(0,A.Pj)(),(0,A.wI)().then(t=>{t.breakout.removeElementOnAdRemoval(this.modalComponent.element,e.uid)}),l},AUTOPLAY_STORIES:class{constructor(e){const{adParams:t,trackingConfig:i}=e,n=new E.Z(e);n.initializeTrackingWhenReady(),this.storiesViewer=n.storiesViewer,this.storiesViewer.expandViewabilityToUseAPIs(),this.interactionControler=new I.T(this.storiesViewer),this.autoAdvance=new P.X(this.storiesViewer);const r=document.createElement("ntv-stories"),s=r.attachShadow({mode:"open"}),o=["ntv-stories-autoplay"];(function(e){const t=p.util.getContainingIframe(e);return null!=t&&null!=t.src})(n.element)||(s.innerHTML="\n            <style>\n                :host {\n                    all: initial; /* 1st rule so subsequent properties are reset. */\n                    display: block;\n                }\n            </style>",o.push("aspect_9_16")),n.element.classList.add(...o),s.append(n.element);const a=".".concat(t.adWrapperClass),c=p.util.domQueryUp(a);c&&c.append(r),this.tracker=new D(this.storiesViewer,i)}},VERTICAL_VIDEO:_.Z};function M(e,t,i){var n;if(!i)return;if(!function(e,t){return V[e.type]||t.adType===O.Z9.ARTICLE||t.adType===O.Z9.STANDARD_DISPLAY||t.adType===O.Z9.SCROLL_TO_PLAY_VIDEO||t.adType===O.Z9.CLICK_TO_PLAY_VIDEO}(i,t))return;if(null==V[i.type])return;const r=null===(n=i.config)||void 0===n?void 0:n.AdVersionPlacementId;if(r&&L.r.canCreate(r)){const i={uid:t.uid,targetElement:e,tracking:Object.assign({},t.tracking,{adVersionPlacement:r})};return L.r.create(r,i)}var s,o;o=t,(s=i.config).adWrapperClass&&""!==s.adWrapperClass||(console.warn("NTV Stories doesn't have associated wrapper class. IFU clicks may not behave as expected."),s.adWrapperClass=o.element.id),""===s.previewImage&&(s.previewImage="https://".concat(m.z1.RESIZER_DOMAIN,"/image/upload/"));const a=N.X.transform(i);return a.uid=t.uid,a.trackingConfig=Object.assign(a.trackingConfig||{},{tracker:t.tracker},t.tracking),a.trackingConfig.integrationType=t.integrationType,new V[i.type](a)}},3113:(e,t,i)=>{"use strict";i.d(t,{jp:()=>b,t9:()=>v});i(1057),i(560),i(6265);var n=i(5902),r=i(5201),s=i(6117);function o(e,t){c(e,t),t.add(e)}function a(e,t,i){c(e,t),t.set(e,i)}function c(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function l(e,t){return e.get(d(e,t))}function u(e,t,i){return e.set(d(e,t),i),i}function d(e,t,i){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:i;throw new TypeError("Private element is not present on this object")}class h{constructor(e,t){this.slideTrackers=[],this.storiesViewer=e,t.fireEngagements=!1;for(const i of e.slideComponents)this.slideTrackers.push(new r.p(t,{actionType:n.g9.slideTimeOnContent,extraQS:"&ntv_sl=".concat(i.slideId)}));e.pubSub.subscribe(s.ml.OUT_OF_FOCUS,()=>{this.stopAllTrackers()}),e.pubSub.subscribe(s.ml.IN_FOCUS,()=>{this.storiesViewer.complete||this.startCurrentSlideTracker()}),e.pubSub.subscribe(s.ml.CLOSE_REQUEST,()=>{this.stopAllTrackers()})}startTrackerByIndex(e){this.slideTrackers[e]&&this.slideTrackers[e].resume()}stopTrackerByIndex(e){this.slideTrackers[e]&&this.slideTrackers[e].stop()}stopAllTrackers(){for(const e of this.slideTrackers)e.stop()}startCurrentSlideTracker(){}}var p=new WeakMap,f=new WeakMap,m=new WeakSet;class v extends h{constructor(e,t){super(e,t),o(this,m),a(this,p,!1),a(this,f,!1),this.storiesViewer=e,e.pubSub.subscribeOnce(s.ml.READY,()=>{u(f,this,!0),d(m,this,g).call(this)&&this.startCurrentSlideTracker()}),e.pubSub.subscribeOnce(s.ml.IN_VIEW,()=>{u(p,this,!0),d(m,this,g).call(this)&&this.startCurrentSlideTracker()}),e.pubSub.subscribe(s.ml.SLIDE_ACTIVE,e=>{l(p,this)&&this.startTrackerByIndex(e.index)}),e.pubSub.subscribe(s.ml.SLIDE_INACTIVE,e=>{const{index:t}=e;this.stopTrackerByIndex(t)}),e.pubSub.subscribe(s.ml.TIMER_COMPLETE,e=>{const{index:t}=e;this.stopTrackerByIndex(t)})}}function g(){return l(f,this)&&l(p,this)}var y=new WeakSet;class b extends h{constructor(e,t){super(e,t),o(this,y),e.pubSub.subscribe(s.ml.SLIDE_IN_VIEW,e=>{d(y,this,E).call(this,e)}),e.pubSub.subscribe(s.ml.SLIDE_ACTIVE,e=>{d(y,this,E).call(this,e)}),e.pubSub.subscribe(s.ml.SLIDE_INACTIVE,e=>{this.stopTrackerByIndex(e.index)}),e.pubSub.subscribe(s.ml.SLIDE_OUT_OF_VIEW,e=>{const{index:t}=e;this.slideTrackers[t]&&this.stopTrackerByIndex(t)}),e.pubSub.subscribe(s.ml.TIMER_COMPLETE,e=>{const{index:t}=e;this.slideTrackers[t]&&this.stopTrackerByIndex(t)})}}function E(e){const{index:t}=e;e.isInViewAndActive()&&this.startTrackerByIndex(t)}},6671:(e,t,i)=>{"use strict";i.d(t,{Z:()=>a});var n=i(4075),r=i(3113),s=i(6117),o=i(2482);class a{constructor(e,t){new o.h(e,t),new n.x$(e,t,s.ml.SLIDE_IN_VIEW),new r.jp(e,t)}}},2482:(e,t,i)=>{"use strict";i.d(t,{Z:()=>s,h:()=>o});var n=i(6117),r=i(5201);class s{constructor(e,t){this.timeOnContentTracker=new r.p(t),e.pubSub.subscribe(n.ml.IN_VIEW,()=>{this.timeOnContentTracker.resume()}),e.pubSub.subscribe(n.ml.IN_FOCUS,()=>{e.complete||this.timeOnContentTracker.resume()}),e.pubSub.subscribe(n.ml.OUT_OF_FOCUS,()=>{this.timeOnContentTracker.stop()}),e.pubSub.subscribe(n.ml.TIMERS_COMPLETE,()=>{this.timeOnContentTracker.stop()}),e.pubSub.subscribe(n.ml.CLOSE_REQUEST,()=>{this.timeOnContentTracker.stop()})}}class o extends s{constructor(e,t){super(e,t),e.pubSub.subscribe(n.ml.OUT_OF_VIEW,()=>{this.timeOnContentTracker.stop()})}}},5201:(e,t,i)=>{"use strict";i.d(t,{p:()=>s});var n=i(9163),r=i(5902);function s(e,t){var i=this;const s={extraQS:"",actionType:r.g9.timeOnContent};this.config=Object.assign({fireEngagements:!0,autoStart:!1,trackTimeCap:15e4,baseTrackingUrl:void 0,actionType:void 0,adID:void 0,adVersionPlacement:void 0},e),this.params=Object.assign(s,t),this.shouldResume=()=>!0,this.tracker=(0,n.q)(!0).ntvStopWatch().ntvTimeOnContentStopWatch(this,this.params.actionType),this.config.fireEngagements||(this.tracker.engagements={}),this.tracker.getUrl=e=>{const{baseTrackingUrl:t,adID:i,adVersionPlacement:n}=this.config,{extraQS:s}=this.params;if(!(e&&t&&i&&n))return"";let o=(0,r.SQ)(t,e,i,n);return o+=s||"",o},this.resume=()=>{this.tracker.resume()},this.stop=function(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];e?i.tracker.stopAndTrack():i.tracker.stop()},this.autoStart&&this.resume()}},749:(e,t,i)=>{"use strict";i.d(t,{Z:()=>w});i(1057),i(6265);var n=i(1611),r=i(6117),s=i(3021),o=i(8913),a=i(7190);class c{constructor(e,t){const{thirdPartyTrackers:i}=t;e.pubSub.subscribe(a.qM.CLICK,e=>{if(null==(null==e?void 0:e.href))return;const t=n.util.getActionTypesFromURL(e.href);for(const e of t)i[e]&&n.util.handleThirdPartyTracking(i[e])})}}var l=i(3798),u=i(29),d=i(5902);class h{constructor(e,t){this.storiesViewer=e;const i=new l.f(t);new u.ZP(this.storiesViewer,{tracker:i,trackableEvents:[{eventName:r.ml.COMPLETE,actionTypes:[d.g9.storiesCompletion],fireOnce:!0}]})}}var p=i(9492);class f{constructor(e,t){this.storiesViewer=e;const i=new l.f(t);new u.ZP(this.storiesViewer,{tracker:i,trackableEvents:[{eventName:s._.IN_VIEW,actionTypes:[d.g9.secondaryImpressionActionType,d.g9.articlePageViewActionType,d.g9.gallery],additionalQSParamArray:{ntv_dat:t.dynamicAssetType},fireOnce:!0,firesAfterActionTypes:"STORIES"==t.dynamicAssetType?[p.a.clickActionType]:[]}]})}}var m=i(7615);class v{constructor(e,t){const i=new l.f(t);new u.ZP(e,{tracker:i,trackableEvents:[{eventName:m.c.VIDEO_END,actionTypes:[d.g9.videoEndActionType],queryStringDataMap:{slideId:"ntv_sl"}}]})}}class g{constructor(e,t){new f(e,t),new h(e,t),new c(e,t),new v(e,t)}}function y(e,t){(function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")})(e,t),t.add(e)}function b(e,t,i){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:i;throw new TypeError("Private element is not present on this object")}var E=new WeakSet;class w{constructor(e){y(this,E);window.frameElement?n.util.getTopWindow():window;const{trackingConfig:t}=e;this.storiesViewer=new r.ZP(e),this.data=this.storiesViewer.data,this.EVENTS=this.storiesViewer.EVENTS,(0,o.nC)(this,this.storiesViewer.pubSub),this.element=this.storiesViewer.element,b(E,this,S).call(this),this.trackingConfig=t,this.ready=!1,this.storiesViewer.pubSub.subscribe(r.ml.READY,()=>{this.ready=!0})}initializeTrackingWhenReady(){if(this.ready)return b(E,this,T).call(this);this.storiesViewer.pubSub.subscribe(r.ml.READY,()=>{b(E,this,T).call(this)})}}function T(){this.tracker=new g(this.storiesViewer,this.trackingConfig),b(E,this,A).call(this),this.storiesViewer.checkViewability()}function S(){this.slideViewCallback=()=>{},this.storiesViewer.pubSub.subscribe(r.ml.SLIDE_VIEW,e=>{const{slideIndex:t}=e;this.slideViewCallback(t)})}function A(){this.storiesViewer.pubSub.subscribeOnce(s._.IN_VIEW,()=>{this.storiesViewer.startSlideshow()})}},4784:(e,t,i)=>{"use strict";i.d(t,{g:()=>a,v:()=>s});i(6265);var n=i(3081);const r=new Map;r.set("IMG",n.TC),r.set("VIDEO",n.Fh);class s{constructor(e){null!=e&&(this.element=e,this.type=this.element.nodeName,r.has(this.type)&&(this.getDimensions=r.get(this.type).bind(this,this.element),this.element.addEventListener("load",e=>{this.updateDimensions()})))}updateDimensions(){this.dimensions=this.getDimensions(),a(this.element,this.dimensions)}}const o={HORIZONTAL:"horizontal",VERTICAL:"vertical"};function a(e,t){let i=t.aspectRatio>=1?o.HORIZONTAL:o.VERTICAL;e.classList.remove(...Object.values(o)),e.classList.add(i)}},9782:(e,t,i)=>{"use strict";function n(e,t){Object.keys(t).forEach(i=>{e.on(i,(function(){const n=t[i];n.forEach(t=>t.apply(e,arguments))}))})}i.d(t,{F:()=>n})},8682:(e,t,i)=>{"use strict";i.d(t,{_7:()=>n,df:()=>a,z6:()=>c});i(278),i(4043),i(7267),i(6532);function n(e,t){const i={};return Object.keys(e).forEach(n=>{r(n,t)(e[n],i)}),function(e){void 0===e.type&&(e.type="html",e.html=e.text,e.text="")}(i),i}const r=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const i=(t,i)=>{i[e]=t},n={preview:(e,t)=>{t.text=e},html:(e,t)=>{t.html=e,t.type="html"},image:(e,i)=>{i.src=t.lazyLoad?'data-splide-lazy="'.concat(e,'"'):'src="'.concat(e,'"'),i.type="image"},video:(e,t)=>{e&&"string"==typeof e&&(t.src='src="'.concat(e,'"'),t.type="video")},videoSources:(e,t)=>{t.videoSources=e,t.type="video"},mediaSource:(e,t)=>{t.mediaSource=e,t.type="video"},url:(e,t)=>{null!=e&&"string"==typeof e&&""!==e.trim()&&(t.ctaLink=e)}};return n[e]||i};const s={src:"",sources:""};const o=/(@)(\w+)/g;function a(e){let{slide:t,media:i}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:templates;const{type:n}=e;return void 0!==i[n]&&(e.media=c(e,i[n])),c(e,t)}function c(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const n=(t,n,r)=>{var o,a;let c=null!==(o=null!==(a=e[r])&&void 0!==a?a:e[i[r]])&&void 0!==o?o:s[r];return void 0!==c?c:n+r};return t.replaceAll(o,n)}},5797:(e,t,i)=>{"use strict";i.d(t,{N:()=>s,_:()=>c});i(560),i(6265);var n=i(1611),r=i(3783);const s={STYLE:"style",JS:"js"},o=e=>{const{id:t,url:i,onComplete:r=(()=>{}),target:s=document}=e;return new Promise(o=>{n.util.appendScript(i,t=>{e.element=t,r(),o()},t,s)})},a=e=>{const{id:t,url:i,content:s,target:o=document}=e;return new Promise(a=>{if(s){const i=(0,r.H6)(t||"ntv-style-".concat(Date.now().toString(36)),s,{root:o});e.element=i,a()}else if(i){if(!(!o||11!==o.nodeType||!o.host)){const n=o.host.ownerDocument.createElement("link");t&&(n.id=t),n.rel="stylesheet",n.type="text/css",n.href=i,n.addEventListener("load",()=>{e.element=n,a()},{once:!0}),n.addEventListener("error",()=>{e.element=n,a()},{once:!0}),o.appendChild(n)}else n.util.ntvAppendStylesheet(t,i,o,t=>{e.element=t,a()})}else a()})};function c(e){const t=[];if(!(e&&Array.isArray(e)&&e.length>0))return Promise.resolve();for(const n of e)t.push(((i=n.type)===s.STYLE?a:i===s.JS?o:void 0)(n));var i;return Promise.all(t)}},1703:(e,t,i)=>{"use strict";i.d(t,{BQ:()=>h,HN:()=>l,LO:()=>a,OE:()=>u,di:()=>p,g3:()=>m,hl:()=>c,mo:()=>f,pB:()=>v,v3:()=>d});i(560),i(4043),i(7267),i(6265);var n=i(6101),r=i(1611),s=i(8682),o=i(6410);const a=e=>"#"===e[0]?e:"#".concat(e);function c(e){const t=document.createElement("div");return t.insertAdjacentHTML("afterbegin",e),t.firstElementChild}function l(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(e)return c(e=(0,s.z6)(t,e,i))}function u(e,t){let i=e;r.util.adBlocker&&(i=i.replace(n.z1.ASSETS_PREFIX+r.util.getServerDomain(),r.util.getServerDomain())),-1==e.indexOf("fetch")&&(e.indexOf(n.z1.ASSETS_DOMAIN)>=0&&(i=e.replace("//".concat(n.z1.ASSETS_DOMAIN,"/"),"")),e.indexOf(n.z1.ASSETS_DOMAIN_DEV)>=0&&(i=e.replace("//".concat(n.z1.ASSETS_DOMAIN_DEV,"/"),"")),i=i.replace(/(^\w+:|^)/,""));let s=t.querySelector('img[src*="'.concat(i,'"]'));return s||(s=t.querySelector('img[src*="'.concat(encodeURIComponent(i),'"]'))),s?{element:s,attribute:"src"}:(s=t.querySelector('[data-img-src*="'.concat(i,'"]')),{element:s,attribute:"data-img-src"})}function d(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.document;const t=e.createElement("meta");t.id="ntv-mobile-scale-tag",t.name="viewport",t.content="width=device-width,user-scalable=no,initial-scale=1,maximum-scale=1,viewport-fit=cover",e.getElementsByTagName("head")[0].appendChild(t)}function h(e){r.util.onFocusEvents.push(e)}function p(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"a",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"href";e&&t&&r.util.domQueryAll(i,t).forEach(t=>{const i=t.getAttribute(n),r=f(e,i);t.setAttribute(n,r)})}function f(e,t){try{if(null==t||"string"!=typeof t&&""==t.trim())return t;if(null==e)return t;const i=new o.Qb(n.z1.SLIDE_ID,e);return(0,o._G)(i,t)}catch(e){return t}}function m(e){let t=r.util.domQuery(e);t||(t=r.util.domQuery("body"));const i=t.getElementsByTagName("a");if(i)for(let e of i){let t=e.getAttribute("href");e.getAttribute("target")&&t&&-1!==t.indexOf("javascript:")&&e.setAttribute("target","_self")}}function v(e){const t=document.createElement("style");return t.textContent=e,t}},7717:(e,t,i)=>{"use strict";i(6801),i(6265);window.ntvLoadStart=(new Date).getTime();i(1057),i(7310);window.performance||(window.performance={timing:{navigationStart:+new Date}}),"function"!=typeof Object.assign&&Object.defineProperty(Object,"assign",{value:function(e,t){if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var i=Object(e),n=1;n<arguments.length;n++){var r=arguments[n];if(null!=r)for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(i[s]=r[s])}return i},writable:!0,configurable:!0});i(560),i(4043),i(7267);function n(e,t,i){return this.each((function(){var n,r,s=this.firstChild,o=[];if(s)do{3===s.nodeType&&(r=(n=s.nodeValue).replace(e,t))!==n&&(!i&&/</.test(r)?($(s).before(r),o.push(s)):s.nodeValue=r)}while(s=s.nextSibling);o.length&&$(o).remove()}))}function r(e,t){for(var i=e,n=0;e=e[t];)i.tagName==e.tagName&&n++;return n}function s(e,t,i){var n,s=r(e,i);if("odd"==t||"even"==t)n=2,s-=!("odd"==t);else{var o=t.indexOf("n");o>-1?(n=parseInt(t,10)||parseInt(t.substring(0,o)+"1",10),s-=(parseInt(t.substring(o+1),10)||0)-1):(n=s+1,s-=parseInt(t,10)-1)}return(n<0?s<=0:s>=0)&&s%n==0}window.ntv=window.ntv||{},ntv.query=window.nQuery.noConflict(!0),window.prdom={query:ntv.query};const o={"first-of-type":function(e){return 0==r(e,"previousSibling")},"last-of-type":function(e){return 0==r(e,"nextSibling")},"only-of-type":function(e){return o["first-of-type"](e)&&o["last-of-type"](e)},"nth-of-type":function(e,t,i){return s(e,i[3],"previousSibling")},"nth-last-of-type":function(e,t,i){return s(e,i[3],"nextSibling")}};function a(e){for(this.isNtvWrapper=!0,this.push=e=>e();e.length>0;)try{const t=e.shift();"function"==typeof t&&t()}catch(e){}}function c(){window.ntv.cmd=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.isNtvWrapper||(e=new a(e)),e}(window.ntv.cmd)}!function(e){e.fn.replaceText=n,e.extend(e.expr[":"],o)}(ntv.query);i(278);var l=i(6101);const u="https://".concat(l.z1.JDOMAIN,"/trk.gif?");function d(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3e4,i=(new Date).getTime()-e;return isNaN(t)?i:Math.min(i,t)}function h(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window;t.ntv=window.ntv||{},t.ntv.cmd=window.ntv.cmd||[],t.ntv.cmd.push((function(){const t="ntv_mat="+Object.keys(e).reduce((t,i,n)=>t+"".concat(n>0?";":"").concat(i,"*").concat(e[i]),"");ntv.Util.appendImage(u+t+ntv.Util.buildExperimentUrl(ntv.PostRelease.setting.experiment))}))}function p(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window;t.ntv.dfpInitLoadFlag=!0,h({[l.z1.DFP_INIT_LOAD]:e},t)}function f(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window;t.ntv.renderTimeFlag=!0,h({[l.z1.DFP_FIRST_RENDER]:e},t)}function m(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:window;i.ntv.trackFillFlag=!0,h({[l.z1.DFP_TOTAL_AVAILABLE]:e,[l.z1.DFP_TOTAL_FILLED]:t},i)}function v(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window;if(!e.ntv.processDfpTracking&&ntv.PostRelease.setting.isEdge||"1*101"==ntv.PostRelease.setting.experiment){const t=e.performance.timing.navigationStart;if(e.googletag&&!e.ntv.dfpInitLoadFlag&&p(d(t)),e.googletag&&e.googletag.apiReady){e.ntv.processDfpTracking=!0;const i=googletag.pubads().getSlots().length;let n=0,r={};e.googletag.pubads().addEventListener("slotRenderEnded",(function(s){if(e.ntv.renderTimeFlag||f(d(t)),r[s.slot.getSlotElementId()])return;let o={};r[s.slot.getSlotElementId()]=o,o.isRendered=!s.isEmpty,o.isRendered&&n++,i!=n||e.ntv.trackFillFlag||m(i,i)})),setTimeout(()=>{e.ntv.trackFillFlag||m(n,i)},3e4)}else setTimeout(v,100)}}var g=i(5150),y=i(9294),b=i(1611),E=i(4882),w=i(8477);const T=b.util.getTopWindow(),S=window.Nativo||T.Nativo||{};window.Nativo=S;const A=e=>{S.ads=S.ads||[],S.tpc=S.tpc||{},e.m=e.mode||0;let t="";Object.keys(e).forEach(i=>{let n=e[i];if("string"==typeof n||"number"==typeof n||"boolean"==typeof n)if("clk"===i&&e.au)S.tpc["#"+e.au]=e.clk;else{if("mode"===i)return;"w"===i?t+="&ntv_dfpw="+encodeURIComponent(e.w):"h"===i?t+="&ntv_dfph="+encodeURIComponent(e.h):("string"==typeof n&&n.indexOf("://")>-1&&(n=encodeURIComponent(n)),t+="&ntv_".concat(i,"=").concat(n))}}),t=t.substring(1),(0,w.eO)()||(!t.includes("ntv_url")&&S.pageURL?t+="&ntv_url="+encodeURIComponent(S.pageURL):t.includes("ntv_url")||3==e.mode||(t+="&ntv_url="+encodeURIComponent(T.location.href))),!e.a&&S.atf.length>0&&(t+="&ntv_atf="+S.atf.join()),t+=b.util.attachFirstPartyCookieQS(g.core.firstPartyCookie),t+="&rand="+1e9*Math.random(),e.processed=!0;const i=(ntv.MRAID?"https:":b.util.getProtocol()||b.util.getProtocol(T)||"https:")+"//"+b.util.getServerDomain()+"/display.js?";(0,E.DY)().then(n=>{b.util.appendScript(i+t+(n?"&".concat(l.z1.US_PRIVACY,"=").concat(n):""),void 0,void 0,e.doc),y.o.performance.set("sendRequest")})};ntv.MRAID||(S.tpc=S.tpc||{},S.atf=S.atf||[],S.ads=S.ads||[],S.ads._push=S.ads._push||S.ads.push,S.ads.push=function(e){return A(e),this._push(e)});for(var I=0;I<S.ads.length;I++){var P=S.ads[I];P.processed||A(P)}var C=i(9942);i(8324);const k={};let R=function(e){e.data.adContentWidgetID&&k[e.data.adContentWidgetID]&&(D(e.data.adContentWidgetID,e.data.eventID),e.stopPropagation())},D=function(e,t){if(!e||!t)return;let i=k[e],n=t,r=i.eventMap[n.toString()]||"";b.util.insertTracking(i.baseTrackingUrl+n,r,1)};function O(e){let t=JSON.parse(b.util.decryptUrl(e)),i=JSON.parse(t.data);const n=i.adContentWidgetID;for(var r in t.injectionMode=t.injectionMode||0,k[n]=t,i.inputs)i.inputs[r]=i.inputs[r].replace(/<\/script>/gi,"<\\/script>");let s="";s+=2==t.injectionMode?"<script>ntv.Widget"+n+" = ntv.Widget"+n+" || {}; ntv.Widget"+n+".data="+JSON.stringify(i.inputs)+";ntv.Widget"+n+".data.adContentWidgetID="+i.adContentWidgetID+";ntv.Widget"+n+".trackEvent = function(id) { ntv.Widget.trackEvent(ntv.Widget"+n+".data.adContentWidgetID, id)};<\/script>":"<style>body{top:0px;left:0px;margin:0;}"+t.css+"</style><script>ntv.Widget = ntv.Widget || {}; ntv.Widget.data="+JSON.stringify(i.inputs)+";ntv.Widget.data.adContentWidgetID="+i.adContentWidgetID+";<\/script>",t.js.length>0&&(s+="<script>"+t.js+"<\/script>");const o="#ntvContentWidget"+n;let a=b.util.domQuery(o);if(0==t.injectionMode||1==t.injectionMode){0==t.injectionMode&&a.sandbox.forEach(a.sandbox.remove),a.contentWindow.postMessage("<html><head>"+s+"</head><body>"+t.template+"</body>","https://s.ntv.io"),a.removeAttribute("onload"),window.addEventListener("message",R,!0)}else if(2==t.injectionMode){ntv.Widget=ntv.Widget||{},ntv.Widget.trackEvent=D,ntv.Widget.receiveMessage=R;const e=b.util.domQuery(o);e&&e.insertAdjacentHTML("beforeend",s+t.template)}}i(2003),i(8518);var _=i(9795);function L(e,t){if(e)try{N(e,t)}catch(i){const n=()=>{"interactive"!==e.readyState&&"complete"!==e.readyState||(e.removeEventListener("readystatechange",n),N(e,t))};e.addEventListener("readystatechange",n)}}function N(e,t){const i=e.contentWindow.document,n=new x(t);Object.keys(n).forEach(e=>{i.addEventListener(e,n[e],!1)}),(0,_.J)({frame:e,callback:n.click,once:!0}),function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:()=>{},i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const n="click",r=!0,s=!0,o=function(a){if("composed"in a&&"function"==typeof a.composedPath){const e=a.composedPath(),i=e[0],n=!!e.length&&e.filter((function(e){return!i.shadowRoot&&!!e.shadowRoot})).length>0;if(s&&!n)return;t({event:"custom_event_"+a.type,currentTarget:i,element:i,elementId:i.id||"",elementClasses:i.className||"",elementUrl:i.href||i.action||"",elementTarget:i.target||"",originalEvent:a,inShadowDom:n})}i&&e.removeEventListener(n,o,r)};e.addEventListener(n,o,r)}(i,n.click)}function x(e){let t,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{allowMultipleClicks:!1},n=!1;const r=t=>{n&&!i.allowMultipleClicks||(b.util.appendImage(e),n=!0,t&&t.currentTarget&&l(t.currentTarget))},s=()=>{t=!1},o=()=>{t=!0},a=i=>{if(!t){if(b.util.appendImage(e),!i||!i.currentTarget)return;l(i.currentTarget)}},c={click:r,touchstart:s,touchmove:o,touchend:a},l=e=>{Object.keys(c).forEach(t=>{e.removeEventListener(t,c[t])})};return c}function V(e){return new Promise(t=>{void 0!==e.contentWindow?t(e):e.addEventListener("load",()=>{t(e)})})}var M,U=i(4862),j=i(8913);function F(e,t,i){B(e,t),t.set(e,i)}function B(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function W(e,t){return e.get(z(e,t))}function H(e,t,i){return e.set(z(e,t),i),i}function z(e,t,i){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:i;throw new TypeError("Private element is not present on this object")}const G="ready",q="started",Y="completed",Q="timedOut";var K,Z,X,J=new WeakMap,ee=new WeakMap,te=new WeakMap,ie=new WeakMap,ne=new WeakMap,re=new WeakMap,se=new WeakSet;class oe{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:3e4;var t,i;B(t=this,i=se),i.add(t),F(this,J,void 0),F(this,ee,void 0),F(this,te,void 0),F(this,ie,void 0),F(this,ne,void 0),F(this,re,void 0),H(ie,this,e),H(re,this,new j.Iy),this.state=G,Object.defineProperty(this,"renderTime",{get(){return W(te,this)}})}start(){if(this.state===G)return H(J,this,Date.now()),H(ne,this,setTimeout(z(se,this,ae).bind(this),W(ie,this))),this.state=q,W(J,this)}complete(){if(this.state===q)return clearTimeout(W(ne,this)),H(ee,this,Date.now()),H(te,this,W(ee,this)-W(J,this)),this.state=Y,W(re,this).publish(oe.EVENT.COMPLETE),W(te,this)}on(e,t){W(re,this).subscribe(e,t)}}function ae(){this.state!==Y&&(this.state=Q,clearTimeout(W(ne,this)),W(re,this).publish(M.EVENT.TIMEOUT))}M=oe,K=oe,X={COMPLETE:"complete",TIMEOUT:"timeout"},(Z=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(Z="EVENT"))in K?Object.defineProperty(K,Z,{value:X,enumerable:!0,configurable:!0,writable:!0}):K[Z]=X;class ce{constructor(e,t){this.id=e,this.tracking=t,this.renderStatus=new oe,this.handlers={},this.iframeElement=void 0}}i(6532);const le="https://".concat(l.z1.SCRIPTS_DOMAIN),ue="".concat(le,"/safeFrame/").concat("1-1-1"),de="".concat(ue,"/js/host.js"),he="".concat(ue,"/html/safeFrame.html");function pe(e){const t=b.util.getTopWindow(),i=t.document,{id:n,target:r,head:s,body:o,width:a,height:c,ntvSafeFrame:l}=e;if(!(r&&b.util.isElement(r)&&null!=s&&b.util.is("s",s)&&null!=o&&b.util.is("s",o)))return;const u={scriptInjected:!1,bootloaded:!1,configured:!1,rendered:!1};function d(){const e={w:a||r.getAttribute("width"),h:c||r.getAttribute("height")},i=b.util.breakOutIframe()||r,l=document.createElement("div");var u;!function(e,t,i){if(!e||!b.util.isElement(e))return;t&&(e.style.width=t,e.setAttribute("width",t));i&&(e.style.height=i,e.setAttribute("height",i))}(l,e.w,e.h),l.id=n,i!==r&&r.replaceWith(l),i.style.display="none",i.parentNode.insertBefore(l,i),e.id=n,e.dest=n,e.css=(u=s)&&b.util.is("s",u)?u.replaceAll("<style>","").replaceAll("</style>",""):"";const d=t.$sf.host,h=new d.PosMeta({id:n},"ntv",{core:g.core.id}),p=new d.PosConfig(e);return new d.Position(p,o,h)}return function(){const e=Date.now();function n(r){if(Date.now()-e>=3e5&&r(!1),!(void 0!==t.$sf&&null!=t.$sf)||!u.scriptInjected){var s;if(null==t||null===(s=t.$sf)||void 0===s?void 0:s.host)return void r(!0);let e=i.getElementById("ntv-safeframe-host");return e||(e=b.util.appendScript(de,void 0,"ntv-safeframe-host",b.util.getTopWindow().document)),e.addEventListener("load",()=>{r(!0)}),void(u.scriptInjected=!0)}setTimeout(n,50)}return new Promise((e,t)=>{n(i=>{i?e():t()})})}().then(()=>{u.bootloaded=!0,function(){let e=t.$sf.host.Config();e||(e=new t.$sf.host.Config({renderFile:he,positions:{},onEndPosRender:fe})),u.configured=!0}();const i=d(),n=i.id;return t.$sf.host.render(i),l.renderStatus.start(),new Promise((t,i)=>{l.renderStatus.on(oe.EVENT.COMPLETE,()=>{const e=me(n);t(e)}),l.renderStatus.on(oe.EVENT.TIMEOUT,()=>{i(new Error("IAB SafeFrame Render Timeout: [".concat(function(e){const t=b.util.pick(e,"target","head","body","width","height");t.target=null==t.target?"Not found":"Element";try{return JSON.stringify(t)}catch(e){return t}}(e),"]")))})})}).catch(e=>(e instanceof Error||(e=new Error("IAB SafeFrame Bootload Failed")),Promise.reject(e)))}function fe(e){const t=me(e);t.wrapper.classList.contains("iab_sf")&&(t.wrapper.style.display="inline-block");const i=(0,U.W)("ntvSafeFrames");if(!i.has(e))return;const n=i.get(e);n.renderStatus.complete(),n.iframeElement=t.frame}function me(e){const t=b.util.getTopWindow(),i=t.document,{host:n,lib:r}=t.$sf,s=n.get(e),o=r.lang.ParamHash(s.meta,"&","=",!1,!0),a=+o.non_shared.ntv.core,c=i.querySelector('[id*="'.concat(e,'"]')),l=c.querySelector("iframe");return{posData:s,meta:o,coreId:a,wrapper:c,frame:l}}var ve=i(6292);function ge(e){const t=(0,U.W)("ntvSafeFrames");if(t.has(e))return t.get(e)}const ye={renderComplete:function(e){const t=ge(e);t&&function(e){const{id:t,tracking:i}=e;if(null==t||null==i)return;const{viewableImpressions:n}=i;if(!function(e){return null!=e&&(!!Array.isArray(e)&&0!=e.length)}(n))return;n.forEach(e=>{e.selector="#".concat(t);const i=new ve.wr(e);g.core[i.id]=i}),g.core.checkIsAdVisible()}(t)},recordStandardImpression:function(e){const t=ge(e);t&&function(e){const{tracking:t}=e;if(null==t)return;const{standardImpression:i}=t;if(!function(e){return null!=e&&("object"==typeof e&&0!=Object.keys(e).length)}(i))return;(0,ve.sg)(i)}(t)}};function be(e){let t="";for(let i of e)t+='window.ntv.iframe["'.concat(i,'"] = postMessageCall.bind(this, "').concat(i,'");\n');return t}const Ee=["sfgate.com","sporcle.com"];const we=()=>{if(b.util.resolveIframeType()===l.z1.IFRAME_TYPES.SAFE_NO_API)return!1;const e=window.location.hostname.replace("www.","");return-1!==Ee.indexOf(e)};function Te(e){e.safe=!0,Se(e)}function Se(e){const{selector:t,width:i,height:n,content:r,tracking:s,safe:o}=e;if(!t||!r)return;let a;try{a=b.util.domQuery(t,document),a||(a=b.util.domQuery(t,b.util.getTopWindow().document))}catch(e){b.util.postError("createIframe selector: ".concat(t,", causing breaking error"))}if(!a)return;return ct(a,function(e){try{return b.util.decryptUrl(e)}catch(t){return e}}(r),{width:i,height:n,tracking:s,safe:o})}function Ae(e){const{target:t,head:i,body:n,tracking:r,width:s,height:o}=e,{clickTrackerUrl:a}=r,c=b.util.getTopWindow(),l="ntv-safe-"+b.util.getRandomInt(),u="<ntv-safe-creative>\n".concat(n,"\n").concat(function(e){return'<ntv-div style="display: none">\n    '.concat(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];const t=b.util.getTopWindow(),i=be(e);return'<script>\n    (function() {\n      function postMessageCall(type) {\n        const payload = { type: "'.concat("ntv-iframe-message",'", args: arguments };\n        window.top.postMessage(JSON.stringify(payload), "').concat(t.location.origin,'");\n      };\n\n      if(window.ntv === undefined) {\n        window.ntv = {};\n        window.ntv.iframe = {}\n        ').concat(i,"\n      }\n    })();\n  <\/script>")}(["renderComplete","recordStandardImpression","click"]),"\n    ").concat(function(e){return"<script>\n    ".concat(lt("renderComplete",e),";\n  <\/script>")}(e),"\n    ").concat(function(e){return"<script>\n    ".concat(lt("recordStandardImpression",e),"\n  <\/script>")}(e),"\n    ").concat(function(e){return'<script>\n    document.body.addEventListener("click", () => {\n      '.concat(lt("click",e),"\n    });\n  <\/script>")}(e),"\n  </ntv-div>")}(l),"\n</ntv-safe-creative>"),d=(0,U.W)("ntvSafeFrames");c.ntv.PostRelease.hasSafeFrameListener||(c.addEventListener("message",(function(e){if(e.origin!=le)return;let t;try{t=JSON.parse(e.data)}catch(e){return}const{type:i,args:n}=t;if("ntv-iframe-message"!==i)return;const{0:r,1:s,...o}=n,a=ge(s).handlers[r];a&&a(s,...Object.values(o))})),c.ntv.PostRelease.hasSafeFrameListener=!0);const h=new ce(l,r);return h.handlers=Object.assign(ye,new x(a)),d.set(l,h),pe({id:l,target:t,head:i,body:u,width:s,height:o,ntvSafeFrame:h}).then(t=>{var i;return r.viewableImpressions||(i=t,g.core.viewableImpressionTrackers.forEach(e=>{e.elements?e.elements.push(i.wrapper):e.elements=[i.wrapper]}),g.core.checkIsAdVisible()),{config:e}})}var Ie=i(7002),Pe=i(2492),Ce=i(8258),ke=i(6117),Re=i(3444),De=i(3958);var Oe=i(4075),_e=i(5902),Le=i(1422),Ne=i(4315);var xe=i(3160);function Ve(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Me(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function Ue(e,t,i){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:i;throw new TypeError("Private element is not present on this object")}var je=new WeakMap,Fe=new WeakSet;class Be{constructor(e){!function(e,t){Ve(e,t),t.add(e)}(this,Fe),Me(this,"surveyData",void 0),Me(this,"slideComponents",void 0),Me(this,"slideshowComponent",void 0),Me(this,"surveyViewTracker",void 0),Me(this,"element",void 0),function(e,t,i){Ve(e,t),t.set(e,i)}(this,je,void 0),this.surveyData=e,this.element=document.createElement("div"),this.element.classList.add("ntv-survey-group"),this.surveyData.avp||(this.surveyData.avp=new xe.cg(e.adVersionPlacement)),this.initialize()}initialize(){this.initializeSurveySlides(this.surveyData.slideAssets),this.initSlideShow(),Ue(Fe,this,We).call(this),function(e,t){function i(t){const{index:i}=t;e[i]&&e[i].onActive()}function n(t){e.forEach(e=>{e.index!==t&&e.clearStyles()})}function r(t){const{index:i}=t;e[i].onInactive()}t.on(De.n2.SLIDE_ACTIVE,i),t.on(De.n2.SLIDE_CHANGE,n),t.on(De.n2.SLIDE_INACTIVE,r)}(this.slideComponents,this.slideshowComponent)}initializeSurveySlides(e){Array.isArray(e)&&0!==e.length?(this.slideComponents=e.map((e,t)=>{var i,n;const r={...e.assets,index:t,id:e.params.slideID};let s=r.html;s=s.startsWith("<ntv-survey-slide>")?s:"<ntv-survey-slide>".concat(r.html,"</ntv-survey-slide>");const o=(0,Ce.htmlStringToElement)(s);null==o||null===(i=o.querySelector("style"))||void 0===i||i.remove(),null==o||null===(n=o.querySelector("#ntv-survey-script"))||void 0===n||n.remove();return new Pe.Z({index:t,params:{...e.params},element:o,data:r})}),function(e,t,i){e.set(Ue(e,t),i)}(je,this,e.length)):this.slideComponents=[]}initSlideShow(){const{slideshowConfig:e}=this.surveyData;e.omitEnd&&delete e.omitEnd,this.slideshowComponent=(0,ke.hC)(this.slideComponents,e),this.slideshowComponent.ready.then(()=>{this.slideComponents.forEach(e=>{e.pubSub.subscribe(Re.p.COMPLETE,()=>{var t;e.index!==(t=je).get(Ue(t,this))-1?this.slideshowComponent.goToNext():(0,Ne.k6)(this.element,Le.s.CONTENT_COMPLETE)})}),this.element.appendChild(this.slideshowComponent.element)})}appendSlideshowComponent(e){e.appendChild(this.slideshowComponent.element)}}function We(){const e={...(function(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e=>void 0!==e;if(t&&0!==t.length)for(const n of t){const t=e(n);if(i(t))return t}}(_e.x2,[this.surveyData.avp.adPlacementId,this.surveyData.avp.value],e=>void 0!==e&&Object.keys(e).length>0)||{}).tracking},t=this.surveyData.avp;null!=t&&(e.adVersionPlacement=t.value);const i=new Oe.ZP(this,e||{},Re.p.ACTIVE_IN_VIEW);i.addTrackableEventConfig(Oe.FK.SurveySlideView),this.surveyViewTracker=i}var He=i(5481),ze=i(4402),Ge=i(5797),qe=i(7626),Ye=i(25);class Qe extends Ye.v{buildPrioritizedItems(e){const t=[];if(!e)return t;e.surveyId&&t.push({item:{type:"data",surveyId:e.surveyId},priority:1});const i=e.element.querySelector("aside#ntv-survey");return i&&t.push({item:{type:"html",htmlElement:i},priority:2}),this.sortAndFilter(t)}}var Ke=i(726);function Ze(e,t,i){(function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")})(e,t),t.set(e,i)}function Xe(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function Je(e,t){return e.get($e(e,t))}function $e(e,t,i){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:i;throw new TypeError("Private element is not present on this object")}const et={".video-wrapper":"ntv-video-survey","ntv-side-tab":"ntv-side-tab-survey"};const tt=[{tagName:"ntv-survey",factory:function(e){var t;return t=new WeakMap,class extends e.HTMLElement{constructor(){super(),Xe(this,"shadowRoot",void 0),Xe(this,"survey",void 0),Xe(this,"surveyGroup",void 0),Xe(this,"name","ntv-survey"),Ze(this,t,void 0),function(e,t,i){e.set($e(e,t),i)}(t,this,[{id:"ntvSlideshowCss",type:"style",url:l.z1.DEPENDENCIES.STORIES_AD_CSS}])}connectedCallback(){const e=this.dataset.ntvSurveyId,t=new Qe({surveyId:e,element:this});let i=null,n=!1;for(this.shadowRoot=this.attachShadow({mode:"open"});t.hasNext()&&!n;){const e=t.next();if(!e)break;try{"data"===e.type&&e.surveyId?(this.createSurveyFromData(e.surveyId),n=!0):"html"===e.type&&(this.createSurvey(),n=!0)}catch(e){i=e instanceof Error?e:new Error(String(e))}}if(!n&&i)return He.Z.postError(new ze.X("Survey failed to render. ".concat(i.message),{surveyId:e})),void(this.dataset.ntvProcessed="error");this.dataset.ntvProcessed="true"}createSurvey(){this.survey=new qe.m(this,void 0,this.shadowRoot),this.shadowRoot.append(...Array.from(this.childNodes))}createSurveyFromData(e){const i=Ie.x.retrieve(e);if(null==i)throw new Error("Data not found");if(i.type!=Ke.aC.SURVEY)return;Je(t,this).forEach(e=>e.target=this.shadowRoot),(0,Ge._)(Je(t,this)),this.surveyGroup=new Be(i);const n=function(e){const t=[];for(const i of Object.keys(et))e.closest(i)&&t.push(et[i]);return t}(this);this.surveyGroup.element.classList.add(...n),this.shadowRoot.appendChild(this.surveyGroup.element)}}}}];function it(e,t){const{tagName:i,factory:n}=e;if(t.customElements.get(i))return{skipped:!0};try{const e=n(t);return t.customElements.define(i,e),{registered:!0}}catch(e){const t=e instanceof Error?e.message:String(e);return console.error("[Custom Elements] Failed to register ".concat(i,":"),e),{error:t}}}function nt(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window;const t={success:!0,registered:[],skipped:[],errors:[]};return e?e.customElements?(tt.forEach(i=>{const n=it(i,e);n.registered?t.registered.push(i.tagName):n.skipped?t.skipped.push(i.tagName):n.error&&(t.errors.push("".concat(i.tagName,": ").concat(n.error)),t.success=!1)}),t):(console.error("[Custom Elements] Cannot register: Custom Elements API not supported"),t.success=!1,t.errors.push("Custom Elements API not supported"),t):(console.error("[Custom Elements] Cannot register: context is undefined"),t.success=!1,t.errors.push("Context is undefined"),t)}function rt(){return tt.map(e=>e.tagName).join(",")}const st=new WeakSet;function ot(){const e=new MutationObserver(e=>{e.forEach(e=>{if(e.addedNodes.forEach(e=>{if(e.nodeType===Node.ELEMENT_NODE){const t=e;if("IFRAME"===t.nodeName&&at(t),t.querySelectorAll){t.querySelectorAll("iframe[srcdoc]").forEach(e=>at(e))}}}),"attributes"===e.type&&"srcdoc"===e.attributeName){const t=e.target;"IFRAME"===t.nodeName&&at(t)}})});return e.observe(document.documentElement,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["srcdoc"]}),()=>{e.disconnect()}}function at(e){if(st.has(e))return;if(!e.hasAttribute("srcdoc"))return;if(e.hasAttribute("data-ntv-custom-elements-registered"))return void st.add(e);st.add(e);const t=e.getAttribute("srcdoc");e.removeAttribute("srcdoc"),e.addEventListener("load",(function i(){try{if(e.contentWindow){const i=nt(e.contentWindow),n=rt();e.setAttribute("data-ntv-custom-elements-registered","true"),e.setAttribute("data-ntv-custom-elements",n),e.setAttribute("data-ntv-registration-method","srcdoc-observer"),!i.success&&i.errors.length>0&&e.setAttribute("data-ntv-custom-elements-error",i.errors.join("; ")),t&&e.setAttribute("srcdoc",t)}}catch(i){console.warn("[Custom Elements] Failed to register in srcdoc iframe:",i),e.setAttribute("data-ntv-custom-elements-error",String(i)),t&&e.setAttribute("srcdoc",t)}e.removeEventListener("load",i)}),{once:!0})}function ct(e,t,i){if(!e||!t||!b.util.isElement(e))return;const{tracking:n,width:r,height:s,safe:o=!0}=i,a={target:e,head:"<style>body{-ms-overflow-style: none;}body,div,span,a,img,video,p,li,ul,em,b,i{padding: 0px 0px 0px 0px;margin: 0px 0px 0px 0px}body,div,a,ul,li,p{}</style>",body:t,tracking:n,width:r,height:s};let c;if(o)c=Ae(a);else{if("IFRAME"!==a.target.nodeName){const e=function(e,t,i){const n=document.createElement("iframe");return n.setAttribute("width",t),n.setAttribute("height",i),n.setAttribute("style","border: none; outline: none;"),e.appendChild(n),n}(a.target,r,s);a.target=e}c=function(e){const{target:t,head:i,body:n,tracking:r}=e,{clickTrackerUrl:s}=r,o="ntv-friendly-"+b.util.getRandomInt();try{if(t.nodeName)var a=ntv.Util.writeIframe(t,"",i,n)}catch(t){return Promise.reject({config:e})}t.setAttribute("data-enc-script",""),(0,U.W)().get("ntvContentModal")&&t.setAttribute("data-ntv-script","");const c=a.defaultView.frameElement;return c.id=o,L(c,s),Promise.resolve({frameDoc:a,config:e})}(a)}return c.then(e=>{if(null!=e&&e.frameDoc){const t=e.frameDoc.defaultView,i=t.frameElement,n=nt(t);i&&(i.setAttribute("data-ntv-custom-elements-registered","true"),i.setAttribute("data-ntv-custom-elements",rt()),i.setAttribute("data-ntv-registration-method","setupIframe"),!n.success&&n.errors.length>0&&i.setAttribute("data-ntv-custom-elements-error",n.errors.join("; ")))}}).catch(e=>{b.util.postError(e,!0)}),c}function lt(e,t,i){return i?"window.ntv.iframe.".concat(e,'("').concat(t,'",').concat(JSON.stringify(i),")"):"window.ntv.iframe.".concat(e,'("').concat(t,'")')}function ut(e,t){if(!e)return;let i=function(e){if(e&&0!==e.length)return e;if(!e.selector)return;const t=b.util.getTopWindow().document,i=ntv.query(e.selector,t);if(0!==i.length)return i;const n=ntv.win.document.querySelector(e.selector);return ntv.query(n)}(e);if(!i||0===i.length)return void b.util.postError(new Error("bindClickIframe() target iframe not found. iframe:".concat(JSON.stringify(e),", clickTrackerUrl:").concat(JSON.stringify(t))));let n=b.util.toDomElement(i);if(!n)return;if(n.getAttribute("data-enc-script")){const e=b.util.decryptUrl(n.getAttribute("data-enc-script"));return void ct(n,e,{tracking:{clickTrackerUrl:t},safe:we()})}let r=(0,U.W)().get("ntvContentModal");if(n.getAttribute("data-ntv-script")&&r){const e=decodeURIComponent(n.getAttribute("data-ntv-script"));ct(n,e,{tracking:{clickTrackerUrl:t},safe:!0})}L(e,t)}function dt(){var e=ntv.query;function t(t){t.setAttribute("sandbox","allow-same-origin allow-popups allow-popups-to-escape-sandbox");var i=t.contentWindow.document,n=e(i.body),r=function e(t){for(var i=0;i<t.children.length;){if(/img|body|div|iframe/.test(t.children[i].tagName.toLowerCase())&&0!=t.children[i].getBoundingClientRect().width)return t.children[i];if(/iframe/.test(t.children[i].tagName.toLowerCase())&&void 0!==window.getComputedStyle&&""==window.getComputedStyle(t.children[i]).width)return e(t.children[i].contentWindow.document.body);if(/iframe/.test(t.children[i].tagName.toLowerCase())&&void 0!==window.getComputedStyle&&""!=window.getComputedStyle(t.children[i]).width)return t.children[i];if(/iframe/.test(t.children[i].tagName.toLowerCase())&&(void 0===t.children[i].style.width||""==t.children[i].style.width))return e(t.children[i].contentWindow.document.body);if(t.children[i]instanceof HTMLElement&&/div|span|ul/.test(t.children[i].tagName.toLowerCase())&&t.children[i].children.length>0)return e(t.children[i]);if(t.children[i]instanceof HTMLElement&&/img|body|div/.test(t.children[i].tagName.toLowerCase()))return e(t.children[i]);i++}return t.children[i]}(n[0]),s=new RegExp("complete");t.style.display="block",0!=n.length&&(null==r&&(r=e(i.body).children()[0]),n[0].scrollHeight>1&&s.test(i.readyState)?(t.style.height=n[0].scrollHeight+"px",t.style.width=n[0].scrollWidth+"px"):(t.style.width=r.scrollWidth?r.scrollWidth+"px":r.style.width,t.style.height=r.scrollHeight?r.scrollHeight+"px":r.style.height,function e(t){if(t.checkSizeTimeout&&clearTimeout(t.checkSizeTimeout),"iframe"==t.tagName.toLowerCase()&&!t.contentWindow)return;let i=ntv.query(t.contentWindow.document),n=i.width(),r=i.height();if(n>1&&r>1&&n!==r)return t.style.width=n+"px",void(t.style.height=r+"px");Date.now()-t.renderingStart>6e3||(t.checkSizeTimeout=setTimeout(()=>{e(t)},500))}(t)),!ntv.Util.is("u",r)&&r.getBoundingClientRect().height&&ntv.query(n).find("iframe").length&&r.getBoundingClientRect().height>t.style.height.replace("px","")&&r.getBoundingClientRect().height&&(t.style.height=ntv.Util.is("u",window.getComputedStyle)||isNaN(window.getComputedStyle(r).height)?r.style.height?r.style.height+"px":r.getBoundingClientRect().height+"px":window.getComputedStyle(r).height+"px"))}b.util.domQueryUpAll(".ntv-adunit").forEach((function(e){var i;if(e.hasAttribute("ntv-companion-processed"))return;let n;e.renderingStart=Date.now(),void 0===e.rendered&&(n=function(e){let t;return e.getAttribute("data-enc-script")?(t=ntv.Util.decryptUrl(e.getAttribute("data-enc-script")),e.removeAttribute("data-enc-script")):e.getAttribute("data-ntv-script")&&(t=decodeURIComponent(e.getAttribute("data-ntv-script")),e.removeAttribute("data-ntv-script"),V(e).then(e=>{e.contentWindow.ntv=ntv})),V(e).then(()=>{ntv.Util.writeIframe(e,"","<style>body{-ms-overflow-style: none;}body,div,span,a,img,video,p,li,ul,em,b,i{padding: 0px 0px 0px 0px !important;margin: 0px 0px 0px 0px !important;}body,div,a,ul,li,p{}</style>",t)})}(e),e.rendered=!0);const r=(null===(i=n)||void 0===i||null===(i=i.defaultView)||void 0===i?void 0:i.frameElememnt)||e;V(r).then(e=>{e.setAttribute("scrolling","no"),e.setAttribute("sandbox","allow-same-origin"),t(e)}),function(e){const t=e.attributes["ntv-click-tracker"]?e.attributes["ntv-click-tracker"].value:void 0;t&&ut(e,t)}(r),e.setAttribute("ntv-companion-processed",!0)}))}i(6409);var ht=i(8747);function pt(e){b.util.copyProperties(e,this),e.slideshow.slides.forEach(e=>{b.util.keysToLowercase(e)});let t={metadata:"ntv-gallery-metadata",footer:"ntv-gallery-footer",headline:"ntv-gallery-headline",currentSlide:"ntv-gallery-current-slide",totalSlides:"ntv-gallery-total-slides",description:"ntv-gallery-description",date:"ntv-gallery-date",photoCredit:"ntv-gallery-photo-credit",detailInfo:"ntv-gallery-detailinfo"},i={string:!0,number:!0};const n=void 0===i[typeof this.slideshowID]?"":"ntv-gallery-".concat(this.slideshowID),r=function(e){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return e&&t[e]?o(t[e],i," "):"".concat(i).concat(n)},s=function(e){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return e&&t[e]?o(t[e],i):"".concat(i).concat(n)},o=function(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return""===n?"".concat(t).concat(e):"".concat(t).concat(n).concat(i).concat(t).concat(e)},a=function(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return""===n?"".concat(t).concat(e):"".concat(t).concat(e).concat(i).concat(t).concat(n)};b.util.adBlocker&&ntv.query("iframe[id^='ntv']").each((function(e,t){t.id=t.id.replace("ntv","prx")}));let c,l=this,u=ntv.query,d=ntv.CONSTS,h=b.util.getProtocol(),p=b.util.adBlockerValidation(h+"//s.ntv.io/css/gallery-footer.css"),f="iframe#"+"".concat(b.util.getPrefix(),"-slideshow").concat(void 0!==i[typeof this.slideshowID]?"-".concat(this.slideshowID):""),m=u(this.outerCssClass).size()>0?u(this.outerCssClass):document,v=u(m).find(f);if(0===v.length)return;if(v.attr("ntv-slideshow-initialized"))return;function g(e,t){var i=l.baseTrackingUrl+e+"&"+d.AVP+"="+l.adVersionPlacement+b.util.setURLCache();return t&&(i+="&"+d.QUERY_PARAM_KEYS.REDIRECT+"="+t),i}v.attr("ntv-slideshow-initialized",!0),this.galleryJS=b.util.adBlockerValidation(h+"//s.ntv.io/js/gallery.min.js"),this.galleryCss=b.util.adBlockerValidation(h+"//s.ntv.io/css/gallery.css"),this.thumbnailOptions=I(l.secondarySlideParams),this.galleryOptions=I(l.optionalParams);function y(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const i=b.util.hasWebProtocol(e.image)?e.image:location.protocol+e.image;let n="";if(e.clickUrl){let t=b.util.isiOS()?",'location=no'":"";n="onclick=\"window.open('".concat(g(4,e.clickUrl),"','_blank'").concat(t,');"')}const r=t?'data-splide-lazy="'.concat(i,'"'):'src="'.concat(i,'"');return'\n      <li class="'.concat("splide__slide",'" style="').concat(""!==n?"cursor: pointer;":"",'" ').concat(n,'>\n        <img class="ntv-image" ').concat(r,"></img> \n      </li>\n\n      ")}function E(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const{width:i=100,height:n=60}=l.thumbnailOptions;let r=b.util.applyImageResizer(e.image,null,i,n);r=b.util.applyProtocolToUrl(r);const s=t?'data-splide-lazy="'.concat(r,'"'):'src="'.concat(r,'"');return'\n      <li class="'.concat("splide__slide",'">\n        <img ').concat(s,"></img> \n      </li>\n\n      ")}function w(e,t){let i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n="";for(var r=0;r<e.length;r++){const t=e[r];t.enabled&&(n+=i?E(t,!!l.thumbnailOptions.lazyLoad):y(t,!!l.galleryOptions.lazyLoad))}const s=t?'id="'.concat(t,'"'):"";return"<div ".concat(s,' class="').concat("splide",'"><div class="').concat("splide__track",'"><ul class="').concat("splide__list",'">').concat(n,"</ul></div></div>")}function T(e,t){return ntv.query(t,e).andSelf().filter(t)}function S(){const e=b.util.getElementDimensions(v);b.util.setElementDimensions(v,e,v.parent().width())}function A(){v.attr("frameBorder",0).attr("scrolling","no").attr("border","1px solid #000");let e=v.contents()[0]||v[0].contentWindow.document;e.open();let t='<link rel="stylesheet" type="text/css" href="'.concat(l.galleryCss,'"/>\n       <style>\n        body {\n          margin: 0;\n          padding: 0;\n        }\n       </style>\n      ');l.customCss&&(t+="<style>"+l.customCss+"</style>");let i=w(l.slideshow.slides,"ntv-gallery-main");l.secondarySlideParams&&(i+=w(l.slideshow.slides,"ntv-gallery-thumbnail",!0)),e.write('<html style="overflow: hidden"><head>'.concat(t,"</head><body>").concat(i,"</body></html>")),e.close();let n=e.defaultView||e.parentWindow;b.util.appendScript(l.galleryJS,(function(){let e=ntv.MediaExtra.initializeGallery("#ntv-gallery-main",l.galleryOptions,"#ntv-gallery-thumbnail",l.thumbnailOptions);ntv.MediaExtra.onSlideChange(e,P,l),u(n).bind("resize",S),function(e){P(e,!0),S()}(e)}),"ntv-gallery",e)}function I(e){if(e)try{return JSON.parse(e)}catch(e){}}function P(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=e.index,n=l.slideshow.slides[i];if(c&&k(i,n),b.util.insertTracking(g(_e.g9.gallery),l.thirdPartyTracking,1),t&&l.refreshCompanionAssets){var r=ntv.PostRelease.articleCache.get(l.adVersionPlacement);if(u(".ntv-companion").remove(),C(r))for(var s=0;s<r.articleTemplate.fragments.length;s++){var o=r.articleTemplate.fragments[s];if(new RegExp("\\bTOP\\b|\\bRIGHTRAIL\\b|\\bBOTTOMb\\b").test(o.Type)){if(1==o.Mode&&(o.InjectNode=ntv.query(o.Selector).first()),3==o.Mode&&"object"==typeof o.RenderHtml&&void 0!==o.RenderHtml.length&&o.RenderHtml.length>0){for(var a="",d=0;d<o.RenderHtml.length;d++)a+=void 0!==o.RenderHtml[d]&&o.RenderHtml[d]instanceof HTMLElement?o.RenderHtml[d].outerHTML:o.RenderHtml[d].data;o.RenderHtml=a}ntv.PostRelease.InsertAd(o)}}}if("function"==typeof onNativoSlideChange)try{onNativoSlideChange()}catch(e){window.console&&window.console.log&&window.console.log(e.message)}}function C(e){var t;return!(null===(t=adResponse)||void 0===t||null===(t=t.articleTemplate)||void 0===t||!t.fragments)}function k(e,t){l.showHeadline&&T(c,"".concat(s("headline","."))).html(t.headline),T(c,"".concat(s("currentSlide","."))).html(e+1),T(c,"".concat(s("totalSlides","."))).html(l.slideshow.slides.length),l.showDesc&&T(c,"".concat(s("description","."))).html(t.description).children(":not([style*=text-align])").each((e,t)=>{t.style.textAlign="left"}),l.showDate||l.showCredit?(l.showDate&&T(c,"".concat(s("date","."))).html(t.date),l.showCredit&&T(c,"".concat(s("photoCredit","."))).html(t.photoCredit)):T(c,"".concat(s("detailInfo","."))).css("display","none")}this.init=function(){for(let t=0;t<l.slideshow.slides.length;t++){var e=l.slideshow.slides[t];e.headline&&(l.showHeadline=!0),e.description&&(l.showDesc=!0),e.date&&(l.showDate=!0),e.photoCredit&&(l.showCredit=!0)}if(l.useLegacyFooter){var t=b.util.getElementDimensions(v);v.replaceWith('<div id="'.concat(a("gallery-wrapper","","-"),'">')+v.prop("outerHTML")+'<div class="'.concat(r("footer"),'">')+function(e){return'\n      <table style="width: 100%"><tbody><tr>\n      <td class="'.concat(r("date"),'"></td>\n      <td style="text-align: right" class="').concat(r("photoCredit"),'"></td>\n    </tr></tbody><tbody><tr>\n        <td class="').concat(r("headline"),'"></td>\n        <td style="text-align: right" class="').concat(r("currentSlide"),'">\n        <span class="').concat(r("currentSlide"),'"></span> / <span class="').concat(r("totalSlides"),'"></span></td>\n      </tr></tbody></table>\n      <p class="').concat(r("description"),'"></p>\n      <table class="').concat(r("detailInfo"),'" ').concat(e.showDate||e.showCredit?"":'style="display: none;"',"></table>\n      ")}(l)+"</div></div>"),v=u(f,m),b.util.setElementDimensions(v,t);v.width();u("#".concat(a("gallery-wrapper","","-")),m).css("margin-left",v[0].style.marginLeft).css("margin-right",v[0].style.marginRight).css("text-align","center"),v.css("width","100%"),v.css("display","inline-block"),c=u("".concat(s("footer",".")),m),b.util.ntvAppendStylesheet("ntv-gallery",p),A()}else b.util.retryQuery(u,"".concat(s("metadata",".")),m,50,2e3).then(e=>{c=e}).finally(()=>{A()})},b.util.runWithFirefoxIframeProtection(v,(function(){l.init();const e=(0,ht.R)(l.baseTrackingUrl,"ARTICLE",l.adVersionPlacement);(0,ht.qS)(v[0],e)}))}var ft=i(1941),mt=i(1538),vt=i(3021),gt=i(3221),yt=i(6046),bt=i(970),Et=i(6937);!function(e){!function(e,t){t.Manager=function(){const i=C.U.Types,n=b.util.runWithFirefoxIframeProtection;function r(){let t=this.playerType==e.CONSTS.NATIVO_PLAYER||this.playerType==e.CONSTS.VAST_PLAYER,i=this.playerType==e.CONSTS.YOUTUBE_PLAYER;this.state={firstClick:!1,firstPauseIgnored:!1,firstPauseButtonClick:null,isAutoPlay:!!this.autoPlayParams,isPaused:null,isPlaying:null,isPreRollPaused:null,isPreRollPlaying:null,isStarted:null,isEnded:null,isMuted:null,isFullScreen:null,isVideoInView:null,videoPlaying:null,vastAsMainSource:this.vastAsMainSource,canPlayInline:this.renderingParams.mobile&&e.Util.is("b",document.createElement("video").playsInline),isPreRoll:void 0!==this.vastUrl&&this.vastUrl.length>0&&!this.vastAsMainSource,prerollPlaying:null,mainContentPlaying:null,currentPreRollAdFetchState:null,ignoreResumeForMoat:null,preRollUnMuteTrackedOnMainContent:null,previousVolumeLevel:null,unMuteOnReplay:null,resume_pause_check_UserClickedOnPlayer:null,fullscreenButtonClickedWhileMuted:null,preloadingVastState:null,preloadVastStateBeginTimestamp:null,preloadVastStateEndTimestamp:null,returnedMetricValue:null,firstClickOnAutoPlayVideo:null,autoPlayTracker:null,pauseButtonFirstClicked:null,userInteracted:null,onAutoPlayerUserInteraction:null,minViewableArea:.5,clickedBeforeRendering:null,NativoPlayer:t,YouTubePlayer:i,dontShowOverlay:!1,ignoredFirstPaused:null,ignoredFirstPause:null,ignoreFistPlay:null,ignoreFirstClick:!0,ignoreFirstResume:!0,autoPlayCheck:!1,autoPlayOn:!1,defaultVolume:0,autoPlayStopWatch:null,initializedModules:[],preRollFetchStatus:null,videoRenderingInitialized:!1,windowScrollHandler:null,renderVideoDelayOffset:800,currentTime:null,duration:null,viewableImpressionFired:!1,isDFP:this.isDFP?this.isDFP:!!this.renderingParams.isDFP&&this.renderingParams.isDFP,IFU:{showHiddenWrappers:this.renderingParams.autoplay&&this.renderingParams.article,isExpandableTogglable:!!this.autoPlayParams,useIframeId:this.renderingParams.autoplay&&this.renderingParams.article&&this.NativoPlayer},Skin:{useIframeId:this.NativoPlayer&&this.renderingParams.article,permanentlyShowControls:1==this.renderingParams.article,isNativoPlayer:t,isYouTubePlayer:i,showPreviewImageAtEnd:t},Player:{previousPrerollVolume:null}},Object.seal(this.state)}function s(t){this.stopWatch.reset(),function(t){if(!t.adID||0===t.adID)return;if(t.trackTimeOnContent){let i=PostRelease.ampMode?e.Util.getTopWindow():g.core.topWindow;t.tos_w_hidden=(new e.Tracking.Time).ntvStopWatch().ntvTimeOnContentStopWatch(t,34).addStopWatchEventHandlers({node:PostRelease.ampMode?i:i.document,type:"visibilitychange",handler:function(){this.preventResume=i.document.hidden,i.document.hidden&&this.stop(),!i.document.hidden&&this.parent.state.isPlaying&&this.resume()}})}}(this),this.player=b.util.is("o",t.data)?t.data:null;let i=this.parameters;i.clickedBeforeRendering=this.state.clickedBeforeRendering,i.renderingParams.IFU=this.state.IFU,i.renderingParams.Skin=this.state.Skin,i.renderingParams.Player=this.state.Player,this.privateEvent.publish(e.Events.Types.Modules.EXECUTE,i)}function o(){let e=void 0;switch(this.playerType){case l.z1.YOUTUBE_PLAYER:e=this.player.element;break;case l.z1.VAST_PLAYER:case l.z1.NATIVO_PLAYER:e=this.player.el_||this.player.L;break;default:console.error("Error: A video player type was not provided.")}const t={"[video_width]":e.clientWidth,"[video_height]":e.clientHeight},i=this.tracker.videoTracking.map;let n;Object.keys(this.tracker.videoTracking.map).forEach(e=>{n=i[e],n.hasOwnProperty("third")&&(n.third=b.util.insertMacrosIntoString(n.third,t))})}function a(e){e.privateEvent.subscribe(i.Player.Publish.General.PLAYER_READY,t=>{s.call(e,t),o.call(e,t)})}function c(t){!function(t){t.iframe=t.iframe||b.util.domQuery("iframe#"+e.Util.getVideoSelectorName()+"Iframe"+t.adID),t.renderingParams.article&&!isNaN(t.iframeIndex)&&t.iframe[t.iframeIndex]&&(t.iframe=b.util.domQuery(t.iframe[t.iframeIndex]))}(t),t.iframeDoc=e.Util.writeIframe(t.iframe,'style="overflow: hidden"',t.iframeHead+"<style>.VPAIDContainer iframe{display:none !important;}</style>",t.iframeBody),t.iframe.setAttribute("scrolling","no"),t.iframeContent=t.iframeDoc,t.iframeBodyElement=b.util.domQuery("body",t.iframeContent)}function u(e){let t=e.parameters;if(t.isPreRoll=e.state.isPreRoll,t.isAutoPlay=e.state.isAutoPlay,t.iframeContent=e.iframeContent,t.iframe=e.iframe,t.iframeBodyElement=e.iframeBodyElement,t.isShadow=!!e.isShadow,t.inDesignBlock=null!=e.designBlock,t.wrapper=e.wrapper,e.state.videoRenderingInitialized=!0,e.privateEvent.publish(i.Player.Subscribe.RENDER_VIDEO_PLAYER,t),t.renderingParams.autoplay){const e=b.util.domQuery("video",t.iframeBodyElement);e&&(e.setAttribute("playsinline",""),e.setAttribute("muted",""))}}function d(e){let t=e||this;if(!t.initializedPlayerContainer)try{if(c(t),function(e){new((0,mt.hI)({useObserverViewability:!0}))({minimumAreaViewable:.01,element:e.iframe}).pubSub.subscribeOnce(vt._.IN_VIEW,()=>{u(e)})}(t),t.iframeBodyElement&&(t.videoElement=t.iframeBodyElement.querySelector("video"),t.renderingParams.autoplay&&t.videoElement&&(t.videoElement.setAttribute("playsinline",""),t.videoElement.setAttribute("muted","")),function(e){if(!e.videoElement||!e.wrapper)return;const t=(0,gt.Pk)(e.videoElement);t&&(e.wrapper.style.aspectRatio=t,(0,yt.c)(e,t)),e.iframe.style.height="100%"}(t)),t.iframe instanceof HTMLIFrameElement&&(0,bt.uB)(t.iframe,t.adID))try{const e=(0,ht.R)(t.videoTracking.baseTrackingUrl,Et.Z9.CLICK_TO_PLAY_VIDEO,t.adVersionPlacement);(0,ht.qS)(t.iframe,e)}catch(e){console.warn("[Video Heavy Ad Intervention] Failed to setup observer:",e)}t.initializedPlayerContainer=!0}catch(e){console.error("Video initialization error:",e),t.privateEvent.publish(i.Player.Publish.General.PLAYER_ERROR,new Error("Video initialization failed: ".concat(e.message)))}}function h(t){let i=t||this;!function(t){let i=t||this;i.doc=b.util.domQueryUp("."+i.renderingParams.outerCssClass,document),i.iframe=b.util.domQuery(1==i.renderingParams.article?"iframe[id='"+i.renderingParams.iframeId+"']":"iframe[id='"+e.Util.getVideoSelectorName()+"Iframe"+i.adID+"']",i.doc)}(i),a(i),n(i.iframe,()=>{d(i)},()=>{d(i)})}function p(e){let t=e||this;a(t),function(e){const t=b.util.toDomElement(e.rootNode);if(!t)return;const i=document.createElement("ntv-shadow-video"),n=i.attachShadow({mode:"open"}),r=document.createElement("div");r.classList.add("ntv-shadow-content"),f.forEach(e=>{t.hasAttribute(e)&&r.setAttribute(e,t.getAttribute(e))}),r.classList.add(...t.classList.values()),n.appendChild(r);const s=document.createRange().createContextualFragment(e.iframeBody);r.insertAdjacentHTML("beforeend",e.iframeHead),r.append(s),t.replaceWith(i),e.isShadow=!0,e.iframe=n.firstChild,e.iframeContent=r,e.iframeBodyElement=e.iframeContent,e.videoElement=e.iframeBodyElement.querySelector("video")}(t),u(t)}const f=[];return class{constructor(i,n,s){this.id=i,b.util.copyProperties(n,this),this.parameters=n,r.call(this),this.createPubSubs(),this.setupBusinessLogic(t.Logic.Business),this.registerDependencies(s),this.stopWatch=(new e.Tracking.Time).ntvStopWatch(),this.tracker=new e.Tracking.TrackingUrl(this,this),this.setupVideoByType()}setupVideoByType(){var e;const t=".".concat(this.renderingParams.outerCssClass),i=b.util.domQueryUp(t);this.wrapper=b.util.domQueryUp(".ntv-video-wrapper"),this.rootNode=b.util.domQuery("ntv-video",i),this.designBlock=b.util.getDesignBlock(this.rootNode);const n=null===(e=this.rootNode)||void 0===e?void 0:e.tagName;n&&"NTV-VIDEO"===n?p(this):h(this)}registerDependencies(e){(e instanceof Array||Array.isArray(e))&&e.forEach(e=>{"function"==typeof e&&e(this.privateEvent)})}registerSubscription(e,t){this.privateEvent.subscribe(e,t)}setupBusinessLogic(e){e.forEach(e=>{var t,i;(t=this).registerSubscription((i=e).event,function(e,t){if(function(e,t,i){let n=void 0;if(i.handlers)for(var r=0;r<i.handlers.length&&(n=i.handlers[r](e,t,i),!n);r++);}(this,e,i),"a"==e.tagName&&e.target.getAttribute&&(null==e.target.getAttribute("href")||!e.target.getAttribute("href")||"#"==e.target.getAttribute("href"))){if("function"!=typeof e.preventDefault)return!1;e.preventDefault()}}.bind(t))})}createPubSubs(){this.publicEvent=e.Events.PubSub,this.privateEvent=e.Events.SecurePubSub()}executePlayerCommand(e,t){return this.executePlayerCommand=this.player?function(e,t){if(b.util.is("u",this.player[e]))return;let i=this.player[e](t);return i||!isNaN(i)&&0==i?i:void 0}:function(e,t){this.privateEvent.publish(i.Player.Subscribe[e.toUpperCase()],t)},this.executePlayerCommand(e,t)}canShowRenderingOverlays(){return!this.state.autoPlayTracker||this.state.pauseButtonFirstClicked||this.state.userInteracted}}}()}(e,e.Video||(e.Video={}))}(ntv||(ntv={}));var wt=i(5998);!function(e){!function(e,t){!function(e,t){t.Behavior=function(){const t=C.U.Types,i=C.U.Data;let n,r,s;function o(e){return!!(e.autoPlayParams.onOutOfScreen===wt.R.PLAY&&e.state.viewableImpressionFired||e.state.firstPauseButtonClick&&!e.state.firstClick&&e.player.paused())}function a(e){!function(e){try{const t=(0,mt.QP)({useObserverViewability:!0});n=new t({minimumAreaViewable:e.state.minViewableArea,element:e.iframe}),r=t=>{try{if(o(e))return;b.util.isOnFocus()?(e.state.isVideoInView=!0,e.state.firstClick||!e.state.autoPlayOn||e.state.isPlaying||h.play(e,null,!0),e.state.autoPlayStopWatch.resume(),e.state.isVideoInView=!0):e.state.autoPlayStopWatch.reset()}catch(e){b.util.postError(e)}},s=t=>{try{if(o(e))return;e.state.autoPlayStopWatch.eventFired=!1,(e.state.isPlaying||e.player.playing)&&(e.state.isVideoInView=!1,l.onPlayerOutOfScreen(e))}catch(e){b.util.postError(e)}},n.addViewableEventListener(vt._.IN_VIEW,r),n.addViewableEventListener(vt._.OUT_OF_VIEW,s),e.state.onAutoPlayerUserInteraction=n.checkViewability.bind(n);["ready.autoPlay","load.autoPlay","ntvOnFocusChange.autoPlay"].forEach(t=>{const i=b.util.getTopWindow();i.removeEventListener(t,e.state.onAutoPlayerUserInteraction),i.addEventListener(t,e.state.onAutoPlayerUserInteraction)})}catch(e){b.util.postError(e)}}(e),setTimeout(e.state.onAutoPlayerUserInteraction,100)}function c(e){return e.type.toLowerCase().split(":")}const l={checkAutoplay(e){if(l.isNotAutoPlay(e)||e.ampMode)return!0},updatePlayerReference(e,t){b.util.is("u",e.player)&&b.util.is("f",t.data.play)&&(e.player=t.data)},setAutoPlayState(e){e.state.autoPlayCheck=!0,e.state.isAutoPlay=!0,e.executePlayerCommand("mute"),h.setMutedState(e)},isAutoPlay:e=>e.state.autoPlayCheck&&e.state.isAutoPlay,verifyAutoPlayIsOff:e=>!l.isAutoPlay(e),bindHandlers(e){a(e)},hidePreviewImage(e){e.privateEvent.publish(t.Skin.HIDE_PREVIEW_IMAGE)},isNotAutoPlay:e=>!e.autoPlayParams||8!=e.renderingParams.videoExecution,copyParamsToScope(e){e.lastVolume=e.player?e.player.getVolume():.5,e.autoPlayParams&&(e.autoPlayParams.playerElement=e.iframe[0],e.state.autoPlayOn=!0),b.util.copyProperties(e.autoPlayParams,this)},notShowEndScreenOrShowEndScreenAndDidntPlayOnce(e){const t=1;return e.onVideoEnd!=t||e.onVideoEnd==t&&!playedOnce},stopWatch(t,i){const n=t.player&&"function"==typeof t.player.play?t.player:b.util.is("o",i.data)&&"function"==typeof i.data.play?i.data:null;t.state.autoPlayStopWatch=e.Tracking.Time().ntvStopWatch((function(){l.notShowEndScreenOrShowEndScreenAndDidntPlayOnce(t)&&(!n.userInteracted&&n.videoRendering&&n.videoRendering.hideControlBar(),n.play())}),t.autoPlayParams?t.autoPlayParams.minViewableAreaTime:0)},onPlayerOutOfScreen(e){h.pause(e)},turnOffAutoPlay(e,i){var o;e.state.firstPauseButtonClick&&!e.state.firstClick||!e.state.autoPlayOn||(o=e,n.removeViewableEventListener(vt._.IN_VIEW,r),n.removeViewableEventListener(vt._.OUT_OF_VIEW,s),r=null,s=null,["ready.autoPlay","load.autoPlay","ntvOnFocusChange.autoPlay"].forEach(e=>{b.util.getTopWindow().removeEventListener(e,o.state.onAutoPlayerUserInteraction)}),o.state.onAutoPlayerUserInteraction=null,e.state.autoPlayOn=!1,i.data&&(!i.data||i.data.keepMuted)||i.type==t.Player.Publish.Content.VIDEO_END?i.type==t.Player.Publish.Content.VIDEO_END&&(e.state.unMuteOnReplay=!0):(e.player.setVolume(e.state.defaultVolume),e.privateEvent.publish(t.Manager.UNMUTE)),i.type!=t.Player.Publish.Content.VIDEO_END&&i.type!=t.Player.Publish.Content.CLICK&&e.privateEvent.publish(t.Manager.PLAY))},firstClick(e,t){let i=e.state;if(!i.firstClickOnAutoPlayVideo&&i.isAutoPlay)return i.firstClickOnAutoPlayVideo=!0,e.executePlayerCommand("unmute"),!0},ignoreFirstClick(e,t){if(t.data&&"button"==t.data.tagName.toLowerCase()&&e.state.isAutoPlay&&e.state.NativoPlayer&&!e.state.ignoredFirstPaused&&t.data.classList.contains("vjs-playing"))return e.state.ignoredFirstPause=!0,e.state.dontShowOverlay=!0,!0},shouldSuppressShareOverlay:(t,i)=>!!t.vpaidVideoUrl||-1==t.state.initializedModules.indexOf(e.Events.Types.Skin.INITIALIZED),checkClick(e,t){if(e.state.autoPlayCheck){if(b.util.is("s",t.data)&&t.data==i.PAUSE_BUTTON)return e.state.firstPauseButtonClick=!0,!0;e.state.firstClick=!0,e.player.setVolume(1)}},checkPause:(e,t)=>!!(e.state.isEnded||e.player.ended&&e.player.ended())||!(e.state.autoPlayCheck&&e.state.autoPlayOn&&e.autoPlayParams.onOutOfScreen===wt.R.PAUSE&&e.isAutoPlayTriggered)&&(e.state.autoPlayCheck&&e.state.isPlaying?(e.state.firstPauseButtonClick=!0,!1):!(!e.state.autoPlayCheck||e.state.firstPauseButtonClick||e.state.firstClick)),checkResume:(e,t)=>(!e.state.autoPlayCheck||e.autoPlayParams.onOutOfScreen!==wt.R.PAUSE||!e.isAutoPlayTriggered)&&(!(e.state.autoPlayCheck&&e.state.isPaused&&e.state.firstPauseButtonClick)&&(e.state.autoPlayCheck&&e.state.ignoreFirstResume?(e.state.ignoreFirstResume=!1,!e.state.firstPauseButtonClick&&!e.state.firstClick):!(!e.state.autoPlayCheck||e.state.firstPauseButtonClick||e.state.firstClick)||!(!e.vastAsMainSource||e.executePlayerCommand("getCurrentTime")&&null!==e.executePlayerCommand("getCurrentTime"))))},u={trackPreRollAdFetch(e,t,i){let n=e.state;n.preloadingVastState=t,n.preloadVastStateEndTimestamp=(new Date).valueOf(),n.returnedMetricValue=n.preloadVastStateEndTimestamp-n.preloadVastStateBeginTimestamp},preRollAdRequest(e,t){e.state.preRollFetchStatus="sending",u.trackPreRollAdFetch(e,"sending","PREROLL_FETCH_AD_REQUEST")},disableVastPlugin(e){e.player.vastPlayer.disable()},prerollAdReturned(e,t){e.state.preRollFetchStatus="done",u.trackPreRollAdFetch(e,"done","PREROLL_FETCH_AD_RETURNED")},prerollAdCancel(t,i){if(t.state.isPreRoll){const i=e.Util.getTopWindow(),n=new CustomEvent("ntvVideoCanceled",{detail:[t.adID,t.player.getVolume()]});i.dispatchEvent(n),u.disableVastPlugin(t)}t.state.preRollFetchStatus="cancelled",u.trackPreRollAdFetch(t,"cancelled","PREROLL_FETCH_AD_CANCEL")},prerollAdError(e,t){e.state.isPreRoll&&u.disableVastPlugin(e),e.state.preRollFetchStatus="error",u.trackPreRollAdFetch(e,"error","PREROLL_FETCH_AD_ERROR")},fullscreen(e,i){e.privateEvent.publish(t.Skin.FULLSCREEN,!0)},exitFullscreen(e,i){e.privateEvent.publish(t.Skin.EXIT_FULLSCREEN,!1)},renderPreRollSkin(i,n){n.data&&n.data.clickthrough&&(n.data.clickThrough=function(t,i){return t.tracker.getUrl(95)+"&"+e.CONSTS.QUERY_PARAM_KEYS.REDIRECT+"="+i}(i,n.data.clickthrough)),i.privateEvent.publish(t.Skin.RENDER_PREROLL_SKIN,n.data)},removePreRollSkin(e,i){e.privateEvent.publish(t.Skin.REMOVE_PREROLL_SKIN,i.data)},disabledTracking(e,t){e.trackingEnabled=!e.vastAsMainSource},enableTracking(e,t){e.trackingEnabled=e.vastAsMainSource},preRollLearnMoreClicked(e,i){e.privateEvent.publish(t.Player.Subscribe.Preroll.LEARN_MORE_CLICKED,i.data)},setPreRollPlaying(e,t){e.state.prerollPlaying=!0},unsetPreRollPlaying(e,t){e.state.prerollPlaying=!1,e.state.AOLPlayer||(e.state.Player.previousPrerollVolume=e.executePlayerCommand("getVolume"))},trackAsVastAsMainSource(e,t){if(h.isVastAsMainSource(e))return e.privateEvent.publish(t.type.replace("preroll","content"),t.data),!0},checkMuteForPlay(e,t){if(e.state.autoPlayCheck){if(!e.state.firstClick&&!e.state.firstClickOnAutoPlayVideo&&!e.state.pauseButtonFirstClicked&&e.state.ignoreFirstClick&&e.state.isPreRoll)return!0}else{if(e.state.preRollFetchStatus&&("cancelled"==e.state.preRollFetchStatus||"error"==e.state.preRollFetchStatus)&&e.state.isPreRoll&&0==e.executePlayerCommand("getCurrentTime"))return!0;if(e.state.isPreRoll&&!e.state.prerollPlaying&&e.state.preRollFetchStatus&&"done"==e.state.preRollFetchStatus)return!0}},isVpaidStart:e=>e.state.NativoPlayer&&!e.executePlayerCommand("isMuted")&&!e.executePlayerCommand("getCurrentTime")&&e.state.isPreRoll&&"done"===e.state.preRollFetchStatus&&e.player.vast&&e.player.vast.adUnit&&"VPAID"===e.player.vast.adUnit.type,isVpaidAutoplayStart:e=>u.isVpaidStart(e)&&e.state.isAutoPlay,checkUnmuteForPlay:(e,t)=>!(!e.state.preRollFetchStatus||"cancelled"!=e.state.preRollFetchStatus&&"error"!=e.state.preRollFetchStatus||!e.state.isPreRoll||0!=e.executePlayerCommand("getCurrentTime"))||(u.isVpaidAutoplayStart(e)?(e.executePlayerCommand("mute"),!0):void 0)},d={showOverlay(e,i){l.shouldSuppressShareOverlay(e,i)||e.vastAsMainSource||e.privateEvent.publish(t.Skin.SHOW_OVERLAY)},showVideoEndImage(e,i){e.privateEvent.publish(t.Skin.SHOW_VIDEO_END_IMAGE)},hideVideoEndImage(e,i){e.privateEvent.publish(t.Skin.HIDE_VIDEO_END_IMAGE)},fullscreen(e,i){e.privateEvent.publish(t.Skin.FULLSCREEN,!0)},exitFullscreen(e,i){e.privateEvent.publish(t.Skin.EXIT_FULLSCREEN,!1)},setVideoStateToPlaying(e,t){isNaN(e.state.Player.previousPrerollVolume)||!e.state.Player.previousPrerollVolume||e.player.isMuted()||e.executePlayerCommand("setVolume",e.state.Player.previousPrerollVolume),e.state.mainContentPlaying=!0},unsetVideoStateToPlaying(e,t){e.state.mainContentPlaying=!1},checkVideoIsPlaying(e,t){if(!e.state.mainContentPlaying)return!0},checkVideoStart(e,t){let i=e.state;if(i.NativoPlayer&&i.isPreRoll&&"done"===i.preRollFetchStatus&&null===i.prerollPlaying)return!0},checkVastAsMainSourceMOATTracking(t,i){t.state.NativoPlayer&&t.state.vastAsMainSource&&i.data.vastAsMainSource&&e.Video.Tracker.InstantiateMOAT&&e.Video.Tracker.InstantiateMOAT(i.data.videoUrl)}},h={fireVideoMangerEvent(e,i){var n=i.type.split(".");e.privateEvent.publish(t.Manager[n=n[n.length-1]],e)},setPlayingState(e,t){e.state.isPlaying=t},toggleVideo(e,t){e.executePlayerCommand("toggle",e.state.isPlaying)},checkVastPreloadState:(e,t)=>(e.player&&e.player.preloadVastExecuted&&null==e.state.preRollFetchStatus||e.state.preRollFetchStatus&&"sending"==e.state.preRollFetchStatus)&&e.state.isPreRoll,play:function e(t,i){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=t,s=i;r.isAutoPlayTriggered=n,h.checkVastPreloadState(r,s)?setTimeout(e,0,r,s):r.state.vastAsMainSource&&!b.util.is("u",r.executePlayerCommand("getCurrentTime"))&&0===r.executePlayerCommand("getCurrentTime")?r.executePlayerCommand("triggerPlay"):r.state.isAutoPlay&&r.state.isPreRoll||r.executePlayerCommand("play")},pause(e,t){e.state.autoPlayCheck&&(e.state.firstPauseButtonClick=!0),e.executePlayerCommand("pause")},resume(e,t){e.state.autoPlayCheck&&(e.state.firstPauseButtonClick=!0),e.executePlayerCommand("resume")},reset(e,t){e.executePlayerCommand("reset")},click(e,t){e.executePlayerCommand("click")},mute(e,t){e.executePlayerCommand("mute"),h.setMutedState(e)},unmute(e,t){e.executePlayerCommand("unmute"),h.unsetMutedState(e)},hidePreviewImage(e,i){e.privateEvent.publish(t.Skin.HIDE_PREVIEW_IMAGE)},showInfoBar(e,i){e.privateEvent.publish(t.Skin.SHOW_INFO_BAR)},hideInfoBar(e,i){b.util.is("s",i.data)&&"fast"==i.data?e.privateEvent.publish(t.Skin.HIDE_INFO_BAR,"fast"):e.privateEvent.publish(t.Skin.HIDE_INFO_BAR)},hideInfoBarFast(e,i){e.privateEvent.publish(t.Skin.HIDE_INFO_BAR,"fast")},setUserActive(e){e.privateEvent.publish(t.Player.Subscribe.USER_ACTIVE,!0)},setUserInactive(e){e.privateEvent.publish(t.Player.Subscribe.USER_INACTIVE,!1)},verifyThatVideoStarted:(e,t)=>null==e.state.isPlaying,startTimeTracking(e,t){h.setPlayingState(e,!0),e.parameters.trackTimeOnContent&&(e.tos&&e.tos.resume(),e.tos_w_hidden&&e.tos_w_hidden.resume(),e.stopWatch.resume())},stopTimeTracking(e,t){h.setPlayingState(e,!1),e.parameters.trackTimeOnContent&&(e.tos&&e.tos.stopAndTrack(),e.tos_w_hidden&&e.tos_w_hidden.stopAndTrack("content"==c(t)[1]&&e.state.isEnded),e.stopWatch.stop())},isVastAsMainSource(e){if(e.state.vastAsMainSource)return!0},forceResize(e,i){e.executePlayerCommand("isFullscreen")&&e.privateEvent.publish(t.Skin.RESIZE)},checkAnchorClick(e,i){let n=i.data;if(b.util.isNotValidHeadlineLink(i.data)){if(!e.state.isPlaying)return;e.privateEvent.publish(t.IFU.TOGGLE_VIDEO,e.state.isPlaying);return(0,Ce.toDomElement)(n).style.cursor="pointer",!0}b.util.isNotValidHeadlineLink(n)||(n&&n.setAttribute("data-ntv-redirect","true"),e.privateEvent.publish(t.IFU.ADHEADLINE_CLICK,n))},updatePlayingState(e,t){let[i,n,r]=c(t);switch(r){case"videoend":case"pause":switch(e.state.isPlaying=!1,r){case"videoend":e.state.isEnded=!0,e.state.isPaused=!1,e.state.isPreRollPlaying=("preroll"!==n||!e.state.isPreRoll)&&null;break;case"pause":e.state.isPaused=!0,e.state.isPreRollPaused=!("preroll"!==n||!e.state.isPreRoll)||null}break;case"videostart":case"resume":case"progress":e.state.isPlaying=!0,e.state.isEnded=!1,e.state.isPaused=!1,e.state.isPreRollPlaying=!("preroll"!==n||!e.state.isPreRoll)||null,e.state.isPreRollPaused=("preroll"!==n||!e.state.isPreRoll)&&null,isNaN(t.data.currentTime)||isNaN(t.data.duration)||(e.state.currentTime=Math.ceil(t.data.currentTime),e.state.duration=Math.floor(t.data.duration))}},openMobileShare(e){e.mobileShareParams&&e.privateEvent.publish(t.Skin.Mobile.OPEN_MOBILE_SHARE,[])},closeMobileShare(e){e.mobileShareParams&&e.privateEvent.publish(t.Skin.Mobile.CLOSE_MOBILE_SHARE,[])},toggleMobileShare(e,i){switch(i.type){case t.Skin.Mobile.MOBILE_SHARE_OPENED:e.state.isPlaying&&e.executePlayerCommand("pause")}},checkReplayState(e,t){e.state.unMuteOnReplay&&(e.executePlayerCommand("unmute"),e.state.unMuteOnReplay=!1)},checkToggle(e,t){if((e.mobile||!e.autoplay)&&e.state.YouTubePlayer)return!0},hideOverlay(e,i){e.privateEvent.publish(t.Skin.HIDE_OVERLAY)},moduleInitialized(e,t){e.state.initializedModules.push(t.type)},setMutedState(e,t){e.state.isMuted=!0},unsetMutedState(e,t){e.state.isMuted=!1},notifyToCleanUp(e,i){let n=e;setTimeout(()=>{n.privateEvent.publish(t.Manager.ClEAN_UP,n)},1e3)},adHeadlineClickRedirect(e,t){let i=t.data;!i.dataset.ntvFired&&i.dataset.ntvRedirect&&i.target&&"_blank"==i.target&&b.util.windowOpen(i.href,i.target)}};return{autoPlay:l,preRoll:u,content:d,general:h}}()}(e,e.Video.Logic||(e.Video.Logic={}))}(e,e.Video||(e.Video={}))}(ntv||(ntv={})),function(e){!function(e,t){!function(e,t){const i=C.U.Types,n=i.Tracking.Events.Preroll,r=i.Tracking.Events.Content,s=i.Tracking.Progress;function o(e){return e.player.isMuted()?0:e.executePlayerCommand("getVolume")}function a(e,t,i){return{NTVEvent:e,contentType:t,eventType:i,volume:o(this)}}function c(e,t){switch(t){case"u":return e.toUpperCase();case"l":return e.toLowerCase();case"c":return(e=e.split(""))[0]=e[0].toUpperCase(),e.join("")}}function l(e,t,i){"object"==typeof t.data&&(t.data.contentType=i,t.data.tos=e.tos,t.data.tos_w_hidden=e.tos_w_hidden,t.data.volume=o(e),t.data.callback=function(t){t(e)},function(e,t){if(!b.util.isEmptyVideoTracking(e)){var i=e.videoTracking.progress[t.contentType].percentile;for(var n in i)parseInt(n)<=Math.round(100*t.currentTime)/Math.round(t.duration)&&t.currentTime!=t.duration&&(t.eventType="progress",t.progressSection="percentile",t.NTVEvent=n,t.volume=o(e),e.publicEvent.publish(e.id+":"+s[c(t.contentType,"c")].PERCENTILE,t))}}(e,t.data),function(e,t){t.eventType="progress",t.progressSection="currentTime",e.publicEvent.publish(e.id+":"+s[c(t.contentType,"c")].CURRENT_TIME,t)}(e,t.data))}t.Tracking=function(){const e=[{metric:"pause",event:"PAUSE"},{metric:"videoStart",event:"VIDEO_START"},{metric:"videoEnd",event:"VIDEO_END"},{metric:"click",event:"CLICK"},{metric:"adHeadlineClick",event:"ADHEADLINE_CLICK"},{metric:"resume",event:"RESUME"},{metric:"mute",event:"MUTE"},{metric:"unmute",event:"UNMUTE"},{metric:"volumechange",event:"VOLUME_CHANGE"},{metric:"fullscreen",event:"FULLSCREEN"},{metric:"exitFullscreen",event:"EXIT_FULLSCREEN"}],t={prerollFetchAdRequest(e,t){let i;switch(e.state.preloadingVastState){case"sending":i="PREROLL_FETCH_AD_REQUEST";break;case"done":i="PREROLL_FETCH_AD_RETURNED";break;case"cancelled":i="PREROLL_FETCH_AD_CANCEL";break;case"error":i="PREROLL_FETCH_AD_ERROR"}e.publicEvent.publish(e.id+":"+n[i],[e.state.returnedMetricValue])},progress(e,t){l(e,t,"preroll")}};e.forEach(e=>{t[e.metric]=function(t,i){t.publicEvent.publish(t.id+":"+n[e.event],a.call(t,e.metric,"preroll","events"))}});const i={progress(e,t){l(e,t,"content")},fireVastError(e,t){const{error:i}=t.data,{code:n}=i,s=a.call(e,"vastError","content","events");s.vastErrorCode=n,e.publicEvent.publish(e.id+":"+r.VAST_ERROR,s)}};e.forEach(e=>{i[e.metric]=function(t,i){t.publicEvent.publish(t.id+":"+r[e.event],a.call(t,e.metric,"content","events"))}});const s={click(e,t){e.publicEvent.publish(e.id+":"+r.CLICK,a.call(e,"click","content","events"))},adHeadlineClick(e,n){e.state.isPreRoll&&e.state.prerollPlaying?t.adHeadlineClick(e,n):i.adHeadlineClick(e,n)},notifyPublicPlayerIsReady(e,t){e.publicEvent.publish("ntvVideoRenderingReady",[e.placementID+"_"+e.adID,e.iframeContent])},notifyPublicMobilePlayerIsReady(e,t){e.publicEvent.publish("ntvMobileShareReady")},checkVideoEnd(e){if(null===e.state.currentTime||isNaN(e.state.currentTime)||isNaN(e.state.duration)||e.state.currentTime<e.state.duration-1)return!0}};return{autoPlay:{},preRoll:t,content:i,general:s}}()}(0,e.Video.Logic||(e.Video.Logic={}))}(e,e.Video||(e.Video={}))}(ntv||(ntv={})),function(e){!function(e,t){!function(e,t){const i=C.U.Types,n=C.U.Types.Player.Publish,r=n.Content,s=n.Preroll,o=n.General,a=C.U.Types.Manager,c=i.IFU,l=i.Skin,u=e.Video.Logic.Behavior,d=e.Video.Logic.Tracking;t.Business=[{event:s.PREROLL_FETCH_AD_REQUEST,handlers:[u.preRoll.trackAsVastAsMainSource,u.preRoll.preRollAdRequest,d.preRoll.prerollFetchAdRequest]},{event:s.PREROLL_FETCH_AD_RETURNED,handlers:[u.preRoll.trackAsVastAsMainSource,u.preRoll.prerollAdReturned,d.preRoll.prerollFetchAdRequest]},{event:s.PREROLL_FETCH_AD_CANCEL,handlers:[u.preRoll.trackAsVastAsMainSource,u.preRoll.prerollAdCancel,d.preRoll.prerollFetchAdRequest]},{event:s.PREROLL_FETCH_AD_ERROR,handlers:[u.preRoll.trackAsVastAsMainSource,u.preRoll.prerollAdError,d.preRoll.prerollFetchAdRequest]},{event:s.ADHEADLINE_CLICK,handlers:[u.preRoll.trackAsVastAsMainSource,u.autoPlay.firstClick,u.general.toggleVideo]},{event:s.VIDEO_END,handlers:[u.preRoll.trackAsVastAsMainSource,u.general.stopTimeTracking,u.preRoll.disabledTracking,u.preRoll.removePreRollSkin,u.preRoll.unsetPreRollPlaying,u.general.updatePlayingState,u.general.openMobileShare,d.general.checkVideoEnd,d.preRoll.videoEnd]},{event:s.VIDEO_START,handlers:[u.preRoll.trackAsVastAsMainSource,u.general.hidePreviewImage,u.preRoll.enableTracking,u.preRoll.renderPreRollSkin,u.preRoll.setPreRollPlaying,u.general.updatePlayingState,u.general.closeMobileShare,d.preRoll.videoStart]},{event:s.PROGRESS,handlers:[u.preRoll.trackAsVastAsMainSource,u.general.hideOverlay,u.general.updatePlayingState,d.preRoll.progress]},{event:s.PAUSE,handlers:[u.preRoll.trackAsVastAsMainSource,u.general.updatePlayingState,u.autoPlay.checkPause,u.general.openMobileShare,d.preRoll.pause]},{event:s.BUFFERING,handlers:[]},{event:s.CLICK,handlers:[u.preRoll.trackAsVastAsMainSource,u.autoPlay.checkClick,u.autoPlay.turnOffAutoPlay,d.preRoll.click]},{event:s.CTA_CLICK,handlers:[u.preRoll.trackAsVastAsMainSource]},{event:s.VOLUME_CHANGE,handlers:[u.preRoll.trackAsVastAsMainSource,d.preRoll.volumechange]},{event:s.IGNORE_FIRST_CLICK,handlers:[u.preRoll.trackAsVastAsMainSource]},{event:s.MUTE,handlers:[u.preRoll.trackAsVastAsMainSource,u.preRoll.checkMuteForPlay,d.preRoll.mute]},{event:s.UNMUTE,handlers:[u.preRoll.trackAsVastAsMainSource,u.preRoll.checkUnmuteForPlay,d.preRoll.unmute]},{event:s.RESUME,handlers:[u.preRoll.trackAsVastAsMainSource,u.general.hidePreviewImage,u.autoPlay.checkResume,u.general.updatePlayingState,u.general.closeMobileShare,d.preRoll.resume]},{event:s.FULLSCREEN,handlers:[u.preRoll.trackAsVastAsMainSource,u.preRoll.fullscreen,d.preRoll.fullscreen]},{event:s.EXIT_FULLSCREEN,handlers:[u.preRoll.trackAsVastAsMainSource,u.preRoll.exitFullscreen,d.preRoll.exitFullscreen]},{event:s.PREROLL_AD_CANCELED,handlers:[u.preRoll.trackAsVastAsMainSource,u.preRoll.disabledTracking]},{event:s.PREROLL_AD_ERROR,handlers:[u.preRoll.trackAsVastAsMainSource,u.preRoll.disabledTracking]},{event:s.RESIZE,handlers:[u.general.forceResize]},{event:r.ADHEADLINE_CLICK,handlers:[]},{event:r.VIDEO_END,handlers:[u.content.showVideoEndImage,u.autoPlay.turnOffAutoPlay,u.content.checkVideoIsPlaying,u.content.unsetVideoStateToPlaying,u.general.updatePlayingState,u.general.stopTimeTracking,u.general.openMobileShare,d.content.videoEnd]},{event:r.VIDEO_START,handlers:[u.content.checkVideoStart,u.general.hidePreviewImage,u.general.hideOverlay,u.content.setVideoStateToPlaying,u.general.checkReplayState,u.general.updatePlayingState,u.general.closeMobileShare,d.content.videoStart]},{event:r.REPLAY,handlers:[u.content.hideVideoEndImage]},{event:r.PROGRESS,handlers:[u.general.verifyThatVideoStarted,u.general.startTimeTracking,u.general.hideOverlay,u.general.updatePlayingState,d.content.progress]},{event:r.PAUSE,handlers:[u.autoPlay.checkPause,d.content.pause,u.content.showOverlay,u.general.hideInfoBarFast,u.general.stopTimeTracking,u.general.updatePlayingState,u.general.openMobileShare]},{event:r.BUFFERING,handlers:[u.general.stopTimeTracking]},{event:r.CLICK,handlers:[u.autoPlay.turnOffAutoPlay,u.autoPlay.checkClick,d.content.click]},{event:r.VOLUME_CHANGE,handlers:[d.content.volumechange]},{event:r.IGNORE_FIRST_CLICK,handlers:[]},{event:r.MUTE,handlers:[u.preRoll.checkMuteForPlay,d.content.mute]},{event:r.UNMUTE,handlers:[u.preRoll.checkUnmuteForPlay,d.content.unmute]},{event:r.RESUME,handlers:[u.general.hidePreviewImage,u.autoPlay.checkResume,d.content.resume,u.general.updatePlayingState,u.general.closeMobileShare]},{event:r.FULLSCREEN,handlers:[u.content.fullscreen,d.content.fullscreen]},{event:r.EXIT_FULLSCREEN,handlers:[u.content.exitFullscreen,d.content.exitFullscreen]},{event:r.RESIZE,handlers:[u.general.forceResize]},{event:r.CAN_PLAY,handlers:[u.content.checkVastAsMainSourceMOATTracking]},{event:r.VAST_ERROR,handlers:[d.content.fireVastError]},{event:o.PLAYER_READY,handlers:[u.autoPlay.checkAutoplay,u.autoPlay.updatePlayerReference,u.autoPlay.copyParamsToScope,u.autoPlay.setAutoPlayState,u.autoPlay.stopWatch,u.autoPlay.bindHandlers,u.autoPlay.hidePreviewImage]},{event:o.USER_ACTIVE,handlers:[u.general.showInfoBar]},{event:o.USER_INACTIVE,handlers:[u.general.hideInfoBar]},{event:l.INITIALIZED,handlers:[u.general.moduleInitialized]},{event:l.INFO_BAR_CLICK,handlers:[u.general.toggleVideo]},{event:l.CLICK,handlers:[u.autoPlay.turnOffAutoPlay,u.general.click]},{event:l.PLAY,handlers:[u.general.play]},{event:l.PAUSE,handlers:[u.general.pause]},{event:l.RESUME,handlers:[u.general.resume]},{event:l.USER_INACTIVE,handlers:[u.general.setUserInactive]},{event:l.USER_ACTIVE,handlers:[u.general.setUserActive]},{event:l.PREVIEW_IMAGE_CLICK,handlers:[d.general.click]},{event:l.Preroll.LEARN_MORE_CLICKED,handlers:[u.preRoll.preRollLearnMoreClicked]},{event:l.READY,handlers:[d.general.notifyPublicPlayerIsReady]},{event:l.USER_ACTIVE,handlers:[u.general.setUserActive]},{event:l.Mobile.MOBILE_SHARE_CLOSED,handlers:[]},{event:l.Mobile.MOBILE_SHARE_OPENED,handlers:[u.general.toggleMobileShare]},{event:c.INITIALIZED,handlers:[]},{event:c.READY,handlers:[]},{event:c.EXPANDED,handlers:[u.general.play]},{event:c.COLLAPSED,handlers:[u.general.pause,u.general.hideOverlay]},{event:c.TOGGLE_VIDEO,handlers:[u.general.toggleVideo,u.autoPlay.turnOffAutoPlay,u.autoPlay.verifyAutoPlayIsOff]},{event:c.CLICK,handlers:[u.general.fireVideoMangerEvent]},{event:c.ANCHOR_CLICK,handlers:[u.general.checkAnchorClick]},{event:c.ADHEADLINE_CLICK,handlers:[d.general.adHeadlineClick,u.general.adHeadlineClickRedirect]},{event:a.PLAY,handlers:[u.general.play]},{event:a.PAUSE,handlers:[u.general.pause]},{event:a.RESUME,handlers:[u.general.resume]},{event:a.RESET,handlers:[u.general.reset]},{event:a.MUTE,handlers:[u.general.mute]},{event:a.UNMUTE,handlers:[u.general.unmute]},{event:a.TOGGLE_VIDEO,handlers:[u.general.toggleVideo]},{event:a.USER_INACTIVE,handlers:[u.general.setUserInactive]},{event:a.USER_ACTIVE,handlers:[u.general.setUserActive]},{event:a.PREVIEW_IMAGE_CLICK,handlers:[d.general.click]},{event:a.ClEAN_UP,handlers:[]}],Object.seal(t.Business)}(e,e.Video.Logic||(e.Video.Logic={}))}(e,e.Video||(e.Video={}))}(ntv||(ntv={}));class Tt{constructor(){this.configData={fill:!0,preload:"auto",html5:{vhs:{enableLowInitialPlaylist:!0}},bigPlayButton:!1,textTrackSettings:!1,controlBar:{playToggle:{},progressControl:{seekBar:{mouseTimeDisplay:!1,playProgressBar:{timeTooltip:!1}}},currentTimeDisplay:{},timeDivider:{},durationDisplay:{},volumePanel:{inline:!1,volumeControl:{volumeBar:{children:["volumeLevel"]}}},fullscreenToggle:{},liveDisplay:!1,seekToLive:!1,remainingTimeDisplay:!1,pictureInPictureToggle:!1,subsCapsButton:!0,children:["playToggle","progressControl","currentTimeDisplay","timeDivider","durationDisplay","subsCapsButton","volumePanel","fullscreenToggle"]},inactivityTimeout:1e3,userActions:{click:!1}}}setControlBarOptions(e){this.configData.controlBar=e}}class St extends Tt{constructor(){super(),this.configData.html5.vhs.enableLowInitialPlaylist=!1,this.configData.fluid=!0}}var At=i(1311);var It=i(2505);!function(e){!function(e,t){!function(e,t){t.Nativo=function(){const t=C.U.Types,i=t.Player.Publish,n=t.Player.Subscribe;function r(r){let s,o,a;const c=r;function u(e){void 0!==this.titleClicked&&this.titleClicked&&e.play()}function d(){let e=s.player;e.getVolume=()=>s.player.volume(),e.setVolume=e=>{s.player.volume(e)},e.toggle=()=>{s.playing?s.player.pause():s.player.play()},e.resume=s.player.play,e.unMute=()=>{s.player.muted(!1)},e.unmute=s.player.unMute,e.mute=()=>{s.player.muted(!0)},e.isMuted=()=>s.player.muted(),e.reset=s.player.reset,e.triggerPlay=()=>{s.player.trigger("play")},e.toggleFullscreen=()=>(e.isFullscreen()?e.exitFullscreen():e.requestFullscreen(),e.isFullscreen()),e.getCurrentTime=()=>s.player.vpaidProgress?s.player.vpaidProgress:s.player.vpaidEnded&&s.player.vpaidEndTime?s.player.vpaidEndTime:s.player.currentTime()}function h(e,t){b.util.is("b",s.prerollPlaying)&&s.prerollPlaying?c.publish(i.Preroll[e],t):c.publish(i.Content[e],t)}function p(){return s.renderingParams.mobile&&b.util.is("b",document.createElement("video").playsInline)}function f(){s.vastClickTrackings&&s.vastClickTrackings.forEach(e=>{b.util.appendImage(e)})}function m(e){(function(e){return null!==e.target.closest(".vjs-control-bar, .vjs-control")})(e)||(s.player.paused()?s.player.play():(s.state&&(s.state.firstClick=!0),s.player.pause(),h("CLICK",null),f(),s.ctaUrl&&!/(ntv_r=null)/i.test(s.ctaUrl)&&b.util.windowOpen(s.ctaUrl,"_blank")))}function v(e){s.startX=e.touches[0].pageX||document.body.scrollTop,s.startY=e.touches[0].pageY||document.body.scrollLeft}function g(e){s.endX=e.touches[0].pageX||document.body.scrollTop,s.endY=e.touches[0].pageY||document.body.scrollLeft,s.touchMoved=!0}function y(e){(s.startX==s.endX&&s.startY==s.endY||!s.touchMoved)&&s._debouncedClickHandler&&s._debouncedClickHandler(e),s.endX=0,s.endY=0,s.startX=0,s.startY=0,s.touchMoved=!1}function E(){if(void 0===s.previousPosition){if(s.previousPosition=s.player.currentTime(),isNaN(s.player.currentTime()))return!0}else{if(s.previousPosition==s.player.currentTime()&&s.buffering)return!0;s.buffering=!1}return s.previousPosition=s.player.currentTime(),!1}function T(){return!isNaN(s.player.duration())&&s.player.duration()>0}function S(){s.playerStarted=!0,s.playerEnded=!1}function A(){s.playerStarted=!1,s.playerEnded=!0}function I(){return b.util.is("b",s.playerStarted)&&s.playerStarted}function P(){return b.util.is("b",s.playerEnded)&&s.playerEnded}function C(e,t){let i=b.util.domQuery("div.video-js",s.iframeBodyElement);e.data?(i.classList.remove("vjs-user-inactive"),i.classList.add("vjs-user-active"),s.player.trigger("useractive"),s.player.userActive(e.data),t&&t.active.forEach(e=>{e.classNames.forEach(t=>{e.node.classList.add(t)})})):(i.classList.remove("vjs-user-active"),i.classList.add("vjs-user-inactive"),s.player.trigger("userinactive"),t&&t.inactive.forEach(e=>{e.classNames.forEach(t=>{e.node.classList.remove(t)})}))}function k(){c.subscribe(t.Player.Subscribe.PLAY,s.player.play),c.subscribe(t.Player.Subscribe.USER_ACTIVE,C),c.subscribe(t.Player.Subscribe.USER_INACTIVE,C)}function R(){c.publish(t.Player.Publish.General.PLAYER_READY,s.player)}function D(){return s.vastAsMainSource}function O(){return s.isPreRoll}function _(){return s.vpaidPlaying}function L(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];s.prerollPlaying=e,s.vpaidPlaying=t}function N(){let e=[];const t=(0,Ce.toDomElement)(s.iframe);e.push(...(null!=t.contentWindow?t.contentWindow.document:t).querySelectorAll("video"));for(let t of e)t.setAttribute("preload","auto");if(!s.vastUrl||0==s.vastUrl.length){s.vastUrl=void 0;var i=s.vastXML;s.vastXML=function(e){setTimeout((function(){e(null,i)}),0)}}}function x(){const e=""!==document.createElement("video").canPlayType('video/webm; codecs="vp8, vorbis"');let t=b.util.getElementDimensions(s.iframe);const i={adTagUrl:b.util.is("s",s.vastUrl)&&s.vastUrl.length?s.vastUrl.replace("[video_width]",t.w).replace("[video_height]",t.h):null,adTagXML:s.vastXML,playAdAlways:!0,isPreRoll:O(),adsEnabled:!0,autoResize:!0,adCancelTimeout:2e4,ntvVastAsMainSource:s.vastAsMainSource};e&&(i.preferredTech="video/webm"),s.vastPlayer=s.player.vastClient(i)}function V(){(s.vastUrl||s.vastXML&&s.vastAsMainSource)&&s.vastPlayer&&s.vastPlayer.preLoadVast&&(s.pubSub=c,s.preRollRequestEvents=e.Events.Types.Player.Publish.Preroll,s.player.preloadVastExecuted=!0,s.player.vastPlayer=s.vastPlayer,s.vastPlayer.preLoadVast(s))}function M(e){if(b.util.is("s",e.advertiser))return e.advertiser;if(!(e.ads instanceof Array&&e.ads.length))return"Advertisement";{let t=e.ads.filter(e=>inLine&&inLine.advertiser);if(t&&t.length)return t[0].inLine.advertiser}}function U(){s.vastAsMainSource&&s.player.on("canplay",(function(e){c.publish(i.Content.CAN_PLAY,{vastAsMainSource:s.vastAsMainSource,videoUrl:s.player.src()})}))}function j(){let r=this,s=r.player;if(r.playing=!1,r.trackingEnabled=!r.vastAsMainSource,r.resize&&r.resize(),d(),r.vastUrl.length>0||r.vastXML){N(),x(),U(),V();const t=b.util.domQuery(".ntv-headline");t&&function(e,t){e.addEventListener("click",()=>{let e=t.vastClickTrackings;e&&e.forEach(e=>{b.util.appendImage(e)})})}(t,r),s.on("vast.adStart",(function(t){var o=function(){let t;s.off("timeupdate",o),r.playing=!0,L(),s.isPreRoll=!0,s.vast.vastResponse.clickThrough?t=s.vast.vastResponse.clickThrough:s.vast.vastResponse.clickThroughURLTemplate&&(t=VASTUtil.resolveURLTemplates([s.vast.vastResponse.clickThroughURLTemplate],{CACHEBUSTER:Math.round(1e10*Math.random()),CONTENTPLAYHEAD:s.vastTracker.progressFormated()})[0]);const a=(0,Ce.toDomElement)(r.iframeBodyElement);if(t){PostRelease.clickThrough=t;let i=e.Util.domQueryAll(".ntvClickOut a",r.context),n=e.Util.domQueryAll("a",a),s=[];for(let e=0;e<i.length;e++)s.push(i[e]);for(let e=0;e<n.length;e++)s.push(n[e]);s.forEach(e=>{e&&e.getAttribute("href")&&e.setAttribute("href",e.getAttribute("href").replace(/@redirectUrl/gi,t))})}S(),c.subscribe(n.Preroll.LEARN_MORE_CLICKED,()=>{s.vastTracker.trackURLs([clicktrackers])}),D()?c.publish(i.Content.VIDEO_START):c.publish(i.Preroll.VIDEO_START,{clickThrough:r.player.vast.vastResponse.clickThrough,advertiser:M(r.player.vast.vastResponse),ad:r.player.vast.vastResponse.ads[0],clickthrough:t,clickTrackers:s.vast.vastResponse.clickTrackers})};s.on("timeupdate",o)})),s.on("vast.adsCancel",(function(){L(!1),c.publish(i.Preroll.PREROLL_AD_CANCELED,{playerElement:s.el()})})),s.on("vast.adError",(function(e){r.autoPlayParams?(s.pause(),s.play()):(S(),c.publish(i.Content.VIDEO_START)),c.publish(i.Preroll.PREROLL_AD_ERROR,{playerElement:s.el()}),c.publish(i.Content.VAST_ERROR,e)})),s.on("vast.adEnd",(function(){s.isPreRoll=!1,r.playing=!1,L(!1),r.playerStarted=!1,D()?(A(),r.vastAsMainSourceEnded=!0,c.publish(i.Content.VIDEO_END)):c.publish(i.Preroll.VIDEO_END,{playerElement:s.el()});var e=s.L||s.el();"video"==e.tagName.toLowerCase()||(e=e.firstElementChild),e.setAttribute("playsinline","true"),e.setAttribute("muted","true"),e.onloadstart=function(e){r.autoPlayParams&&(e.target.volume=0,e.target.muted=!0),r.wasMuted||(e.target.volume=1,e.target.muted=!1),D()||e.target.play()}})),s.on("vast.contentStart",e=>{r.wasMuted&&s.mute()}),s.on("vpaid.AdClickThru",()=>{h("CLICK",null),f()}),s.lastTimeupdate=null,s.on("vpaid.AdVideoStart",t=>{r.vpaidVideoUrl=s.src(),s.isPreRoll=!0,L(!0,!0);let n=r.iframe.contentWindow.document,o=n.querySelector(".vjs-control-bar"),a=e.Util.domQuery(".VPAID-Container",n),l=[],u={active:[{node:o.parentElement,classNames:["vjs-has-started"]}],inactive:[{node:o.parentElement,classNames:["vjs-has-started"]}]},d=()=>{C({data:!0},u)};Array.prototype.slice.call(a.querySelectorAll("iframe")).forEach((e,t)=>{e.contentWindow.document.body.addEventListener("mousemove",d.bind(this,l,t))}),S(),c.publish(i.Preroll.VIDEO_START,{clickThrough:r.player.vast.vastResponse.clickThrough,advertiser:M(r.player.vast.vastResponse),ad:r.player.vast.vastResponse.ads[0],clickthrough:"",clickTrackers:s.vast.vastResponse.clickTrackers})}),s.on("vpaid.AdVideoComplete",e=>{r.vpaidVideoUrl&&s.src(r.vpaidVideoUrl),r.vpaidVideoUrl=null,s.isPreRoll=!1,L(!1),s.vpaidEnded=!0,s.vpaidEndTime=s.lastTimeupdate,s.lastTimeupdate=null}),s.on("vpaid.AdPaused",e=>{r.playing=!1,h("PAUSE",{playing:!1,vpaid:!0})}),s.on("vpaid.AdPlaying",e=>{r.playing=!0,h("RESUME",{playing:!0,vpaid:!0})}),s.on("vpaid.AdVideoFirstQuartile",e=>{h("PROGRESS",{playing:r.playing,duration:100,currentTime:26})}),s.on("vpaid.AdVideoMidpoint",e=>{h("PROGRESS",{playing:r.playing,duration:100,currentTime:51})}),s.on("vpaid.AdVideoThirdQuartile",e=>{h("PROGRESS",{playing:r.playing,duration:100,currentTime:76})})}!function(n){if(n.bound)return;n.bound=!0,n._debouncedClickHandler||(n._debouncedClickHandler=(0,It.Ds)(m,300)),k();var r=n.player;r.muted()&&(n.wasMuted=!0);const s=()=>"https://s.ntv.io/video/empty.mp4"==r.src()||null==r.src();r.on("volumechange",(function(){T()&&(r.muted()?(h("MUTE"),n.wasMuted=!0):r.muted()||1!=n.wasMuted||(h("UNMUTE"),n.wasMuted=!1),h("VOLUME_CHANGE"))})),r.on("seeking",()=>{c.publish(t.Skin.SEEK)}),r.on("play",(function(){if(s())return;if(0==r.duration()&&D())return;let e=r.currentTime();n.playing=!0,n.state&&n.state.autoPlayCheck&&e>0&&(n.state.firstPauseButtonClick=!0),P()&&h("REPLAY"),!isNaN(e)&&0!=e&&e!=n.player.duration()&&I()||D()?_()||h("RESUME"):(S(),c.publish(i.Content.VIDEO_START)),this.isFullscreen()&&h("RESIZE")})),r.on("pause",(function(){s()||(n.playing=!1,n.state&&n.state.autoPlayCheck&&(n.state.firstPauseButtonClick=!0),_()||h("PAUSE",{playing:!1}))})),r.on("ended",(function(){s()||D()&&!n.vastAsMainSourceEnded||(n.playing=!1,n.autoPlayTracker&&n.autoPlayParams&&n.autoPlayTracker.turnOffAutoPlay(!0,!0),O()&&!n.firstClickOnAutoPlayVideo&&n.autoPlayParams?r.muted()?r.muted(!0):r.muted(!1):!O()||n.firstClickOnAutoPlayVideo||n.autoPlayParams||n.clickToMute||(r.muted()?r.muted(!0):r.muted(!1)),A(),h("VIDEO_END",{playing:!1}))})),n.player.on("timeupdate",(function(){s()||E()||(n.prerollPlaying&&(Math.ceil(n.curpos)<Math.floor(r.currentTime())&&n.player.currentTime(n.curpos),Math.floor(n.curpos)>Math.ceil(r.currentTime())&&r.currentTime(n.curpos),n.curpos=r.currentTime()),!isNaN(r.currentTime())&&r.currentTime()>0&&r.currentTime()<r.duration()&&h("PROGRESS",{playing:n.playing,duration:r.duration(),currentTime:r.currentTime()}))})),r.on("useractive",(function(e){s()||c.publish(i.General.USER_ACTIVE)})),r.on("userinactive",(function(){s()||c.publish(i.General.USER_INACTIVE)})),r.on("fullscreenchange",e.Util.debounce(()=>{if(!s())if((0,w.eO)()&&(0,At.kp)(r),r.isFullscreen()){const e=r.el().querySelector("video");e&&(e.style.width="100%",e.style.height="100%"),h("FULLSCREEN")}else{const e=r.el().querySelector("video");e&&(e.style.removeProperty("width"),e.style.removeProperty("height")),h("EXIT_FULLSCREEN")}},100)),r.on("prerollAdRequest",()=>{c.publish(i.Preroll.PREROLL_FETCH_AD_REQUEST)}),r.on("prerollAdReturned",()=>{c.publish(i.Preroll.PREROLL_FETCH_AD_RETURNED)}),r.on("prerollAdCancel",()=>{c.publish(i.Preroll.PREROLL_FETCH_AD_CANCEL)}),r.on("prerollAdError",()=>{c.publish(i.Preroll.PREROLL_FETCH_AD_ERROR)}),n.player.on("touchstart",v),n.player.on("touchmove",g),n.player.on("touchend",y),n.player.on("click",n._debouncedClickHandler),n.player.on("waiting",()=>{n.buffering=!0,h("BUFFERING")}),n.player.on("stalled",()=>{n.buffering=!0,h("BUFFERING")}),n.player.on("suspend",()=>{n.buffering=!0,h("BUFFERING")}),n.player.on("loadedmetadata",e=>{var t;const i=n.player.videoWidth()/n.player.videoHeight(),r=null===(t=n.videoPlayers)||void 0===t?void 0:t[n.videoId];r&&(0,yt.c)(r,i),W(n,!0)})}(r),function(e,t){setTimeout(()=>{const e=t.el().querySelector(".vjs-duration-display");let i=e.childNodes&&e.childNodes.length>1?t.el().querySelector(".vjs-duration-display").childNodes[1].textContent:t.el().querySelector(".vjs-duration-display").textContent;i=i.trim(),"0:00"==i&&t.duration()>0&&t.duration(Math.floor(t.duration()))},0)}(0,s),u.call(r,s),R()}function F(){a=a||window;let e=this;const i=e.renderingParams.videoNodeId,n=e.ntvVideoCLP?new St:new Tt;(async function(e){return e.reduce((function(e,t){return e.then(null,(function(){return t()}))}),Promise.reject())})([b.DK.bind(null,"ntv_videojs",a),b.DK.bind(null,"ntv_videojs",b.util.getTopWindow())]).then(t=>{var r;let s=a.document.getElementById(i);s||(s=null==e?void 0:e.iframeBodyElement.querySelector("#".concat(i))),b.util.is("u",null===(r=s)||void 0===r||null===(r=r.attributes)||void 0===r?void 0:r.controls)&&s.setAttribute("controls",!0),p()&&!b.util.is("u",e.autoPlayParams)&&(s.setAttribute("playsinline",!0),s.setAttribute("muted",!0)),t(s,n.configData).ready((function(t){e.player=this,e.vastAsMainSource&&e.player.controlBar.hide(),e.isShadow&&W(e),b.util.adBlocker&&e.player.hls&&function(e){e.player.hls.xhr.beforeRequest=function(e){let t=e.uri.replace(b.util.adBlockerDomain,l.z1.ASSETS_DOMAIN);return e.uri="https://".concat(b.util.adBlockerDomain,"/").concat(b.util.encryptUrl("proxyTracking/".concat(t))),e}}(e),b.util.is("b",this.el().children[0].playsInline)&&this.pause(),j.call(e)}))}).catch(e=>{He.Z.postError(new ze.X("ntv_videojs not found")),c.publish(t.Player.Publish.General.PLAYER_ERROR,new Error("VideoJS library not found"))})}function B(e){a=e.iframe.contentWindow,o=a.document,function(e){e.playerCssUrl&&ntvAppendStylesheet("ntvPlayerCss",e.playerCssUrl,o);a.VIDEOJS_NO_DYNAMIC_STYLE=!0,e.iframe.removeAttribute("height"),b.util.appendScript(e.videojsUrl,F.bind(e),"ntv-videojs",o)}(e)}function W(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const i=e.renderingParams.iframeId,n=b.util.domQuery(".vjs-styles-defaults"),r=b.util.domQueryAll(".vjs-styles-dimensions").filter(e=>-1!==e.textContent.indexOf(i))[0];if(n&&H(e.iframeContent,n),r){if(t){const t=b.util.domQuery(".vjs-styles-dimensions",e.iframeContent);t&&t.remove()}H(e.iframeContent,r)}}function H(e,t){let i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];t&&e.append(t.cloneNode(i))}return{init:function(e){s=e.data,s.preRollRequest=c,s.context=b.util.toDomElement(s.iframe).ownerDocument,b.util.loadFontFromBase64("VideoJS","data:application/font-woff;charset=utf-8;base64,d09GRgABAAAAABDkAAsAAAAAG6gAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAABHU1VCAAABCAAAADsAAABUIIslek9TLzIAAAFEAAAAPgAAAFZRiV3hY21hcAAAAYQAAADaAAADPv749/pnbHlmAAACYAAAC3AAABHQZg6OcWhlYWQAAA3QAAAAKwAAADYZw251aGhlYQAADfwAAAAdAAAAJA+RCLFobXR4AAAOHAAAABMAAACM744AAGxvY2EAAA4wAAAASAAAAEhF6kqubWF4cAAADngAAAAfAAAAIAE0AIFuYW1lAAAOmAAAASUAAAIK1cf1oHBvc3QAAA/AAAABJAAAAdPExYuNeJxjYGRgYOBiMGCwY2BycfMJYeDLSSzJY5BiYGGAAJA8MpsxJzM9kYEDxgPKsYBpDiBmg4gCACY7BUgAeJxjYGS7wTiBgZWBgaWQ5RkDA8MvCM0cwxDOeI6BgYmBlZkBKwhIc01hcPjI+FGJHcRdyA4RZgQRADK3CxEAAHic7dFZbsMgAEXRS0ycyZnnOeG7y+qC8pU1dHusIOXxuoxaOlwZYWQB0Aea4quIEN4E9LzKbKjzDeM6H/mua6Lmc/p8yhg0lvdYx15ZG8uOLQOGjMp3EzqmzJizYMmKNRu27Nhz4MiJMxeu3Ljz4Ekqm7T8P52G8PP3lnTOVk++Z6iN6QZzNN1F7ptuN7eGOjDUoaGODHVsuvU8MdTO9Hd5aqgzQ50b6sJQl4a6MtS1oW4MdWuoO0PdG+rBUI+GejLUs6FeDPVqqDdDvRvqw1CfhpqM9At0iFLaAAB4nJ1YDXBTVRZ+5/22TUlJ8we0pHlJm7RJf5O8F2j6EymlSPkpxaL8U2xpa3DKj0CBhc2IW4eWKSokIoLsuMqssM64f+jA4HSdWXXXscBq67IOs3FXZ1ZYWVyRFdo899yXtIBQZ90k7717zz3v3HPPOfd854YCCj9cL9dL0RQFOqCbGJnrHb5EayiKIWN8iA/hWBblo6hUWm8TtCDwE80WMJus/irwyxOdxeB0MDb14VNJHnXYoLLSl6FfCUYO9nYPTA8Epg9090LprfbBbZ2hY0UlJUXHQp3/vtWkS6EBv8+rPMq5u9692f/dNxJNiqwC1xPE9TCUgCsSdQWgE3XQD25lkG4CN2xmTcOXWBOyser6RN6KnGbKSbmQ3+d0OI1m2W8QzLLkI2sykrWAgJJEtA8vGGW/2Q+CmT3n8zS9wZwu2DCvtuZKZN3xkrLh36yCZuUomQSqGpY8t/25VfHVhw8z4ebGBtfLb0ya9PCaDc+8dGTvk2dsh6z7WzvowlXKUSWo9MJ15a3KrEP2loOr2Ojhw6iW6hf2BDdEccQvZGpaAy7YovSwq8kr7HGllxpd71rkS6G0Sf11sl9OvMK1+jwPPODxjUwkOim9CU3ix1wNjXDfmJSEn618Bs6lpWwUpU+8PCqLMY650zjq8VhCIP17NEKTx3eaLL+s5Pi6yJWaWjTHLR1jYzPSV9VF/6Ojdb/1kO3Mk3uhHC0x6gc1BjlKQ+nQFxTYdaJkZ7ySVxLBbhR1dsboNXp1tCYKW2LRaEzpYcIx2BKNxaL0ZaUnSqfFoiNhHKR/GkX6PWUSAaJelQaqZL1EpoHNsajSEyPSoJ9IjhIxTdjHLmwZvhRDOiFTY/YeQnvrVZmiTQtGncECXtFTBZLOVwwMRgoXHAkXzMzPn1nAJJ8jYSbMDaqN2waGLzNhih/bZynUBMpIWSg7VYi7DRx2m8ALkIdRCJwI6ArJx2EI8kaDWeTQKeAFk9fjl/1AvwktjQ1P7NjyMGQyfd4vjipX6M/i52D7Cq80kqlcxEcGXRr/FEcgs0u5uGgB4VWuMFfpdn2Re6Hi3PqzmxWKsz6+ae2Pn9hXXw/fqM859UiGC0oKYYILJBqJrsn1Z1E5qOs9rQCiUQRREjm8yJcbHF5cUJufX1vAHlefw0XgUoboS3ETfQlTxBC4SOtuE8VPRJTBSCQSjZCpk7Gqzu+masaZ2y7Zjehho4F3g82BNDkAHpORG4+OCS+f6JTPmtRn/PH1kch6d04sp7AQb25aQ/pqUyXeQ8vrebG8OYQdXOQ+585u0sdW9rqalzRURiJ+9F4MweRFrKUjl1GUYhH1A27WOHw5cTFSFPMo9EeUIGnQTZHIaJ7AHLaOKsOODaNF9jkBjYG2QEsQ2xjMUAx2bBEbeTBWMHwskBjngq56S/yfgkBnWBa4K9sqKtq2t1UI8S9He5XuBRbawAdatrQEAi30Aks2+LM8WeCbalVZkWNylvJ+dqJnzVb+OHlSoKW8nPCP7Rd+CcZ2DdWAGqJ2CBFOphgywFFCFBNtfAbGtNPBCwxvygHeYMZMY9ZboBqwq/pVrsbgN5tkv152ODlbMfiqwGMBgxa4Exz3QhovRIUp6acqZmQzRq0ypDXS2TPLT02YIkQETnOE445oOGxOmXAqUJNNG7XgupMjPq2ua9asrj5yY/yuKteO1Kx0YNJTufrirLe1mZnat7OL6rnUdCWenpW6I8mAnbsY8KWs1PuSovCW9A/Z25PQ24a7cNOqgmTkLmBMgh4THgc4b9k2IVv1/g/F5nGljwPLfOgHAzJzh45V/4+WenTzmMtR5Z7us2Tys909UHqrPY7KbckoxRvRHhmVc3cJGE97uml0R1S0jdULVl7EvZtDFVBF35N9cEdjpgmAiOlFZ+Dtoh93+D3zzHr8RRNZQhnCNMNbcegOvpEwZoL+06cJQ07h+th3fZ/7PVbVC6ngTAV/KoLFuO6+2KFcU651gEb5ugPSIb1D+Xp8V4+k3sEIGnw5mYe4If4k1lFYr6SCzmM2EQ8iWtmwjnBI9kTwe1TlfAmXh7H02by9fW2gsjKwtv0aaURKil4OdV7rDL1MXIFNrhdxohcZXYTnq47WisrKitaObbf5+yvkLi5J6lCNZZ+B6GC38VNBZBDidSS/+mSvh6s+srgC8pyKMvDtt+de3c9fU76ZPfuM8ud4Kv0fyP/LqfepMT/3oZxSqpZaTa1DaQYLY8TFsHYbWYsPoRhRWfL5eSSQbhUGgGC3YLbVMk6PitTFNGpAsNrC6D1VNBKgBHMejaiuRWEWGgsSDBTJjqWIl8kJLlsaLJ2tXDr6xGfT85bM2Q06a46x2HTgvdnV8z5YDy/27J4zt6x2VtkzjoYpkq36kaBr4eQSg7tyiVweWubXZugtadl58ydapfbORfKsDTuZ0OBgx4cfdjCf5tbWNITnL120fdOi1RV1C3uKGzNdwYLcMvZ3BxoPyTOCD1XvXTp7U10gWCVmTV9b3r2z0SkGWovb2hp9I89O8a2smlyaO8muMU+dRmtzp60IzAoFpjLr1n388boLyf0dRvxhsHZ0qbWqDkwqvvpkj4l0fY6EIXRi5sQSrAvsVYwXRy4qJ2EVtD1AN7a0HWth9ymvL1xc3WTUKK/TAHA/bXDVtVWfOMfuGxGZv4Ln/jVr9jc3j1yMv0tndmyt9Vq88Y9gH1wtLX3KWjot5++jWHgAoZZkQ14wGQ20Fli71UmKJAy4xKMSTGbVdybW7FDDAut9XpD5AzWrYO7zQ8qffqF8+Ynd/clrHcdyxGy3a/3+mfNnzC/cBsveTjnTvXf1o6vzOlZw7WtqtdmPK/Errz/6NNtD72zmNOZfbmYdTGHfoofqI79Oc+R2n1lrnL6pOm0Up7kwxhTW12Amm7WYkXR2qYrF2AmgmbAsxZjwy1xpg/m1Je2vrp8v/nz2xpmlBg4E9hrMU341wVpTOh/OfmGvAnra8q6uctr60ZQHV3Q+WMQJykMj8ZsWn2QBOmmHMB+m5pDIpTFonYigiaKAhGEiAHF7EliVnQkjoLVIMPtJpBKHYd3A8GYH9jJzrWwmHx5Qjp7vDAX0suGRym1vtm/9W1/HyR8vczfMs6Sk8DSv855/5dlX9oQq52hT8syyp2rx5Id17IAyAM3wIjQPMOHzytEB64q6D5zT91yNbnx3V/nqnd017S9Y0605k3izoXLpsxde2n38yoOV9s1LcjwzNjbdX6asnBVaBj/6/DwKwPkpcqbDG7BnsXoSqWnUAmottYF6jMSdVyYZh3zVXCjwTiwwHH6sGuRiEHQGzuRX6whZkp123oy1BWE2mEfJ/tvIRtM4ZM5bDXiMsPMaAKOTyc5uL57rqyyc5y5JE5pm1i2S2iUX0CcaQ6lC6Zog7JqSqZmYlosl2K6pwNA84zRnQW6SaALYZQGW5lhCtU/W34N6o+bKfZ8cf3/Cl/+iTX3wBzpOY4mRkeNf3rptycGSshQWgGbYt5jFc2e0+DglIrwl6DVWQ7BuwaJ3Xk1J4VL5urnLl/Wf+gHU/hZoZdKNym6lG+I34FaNeZKcSpJIo2IeCVvpdsDGfKvzJnAwmeD37Ow65ZWwSowpgwX5T69s/rB55dP5BcpgDKFV8p7q2sn/1uc93bVzT/w6UrCqDTWvfCq/oCD/qZXNoUj8BL5Kp6GU017frfNXkAtiiyf/SOCEeLqnd8R/Ql9GlCRfctS6k5chvIBuQ1zCCjoCHL2DHNHIXxMJ3kQeO8lbsUXONeSfA5EjcG6/E+KdhN4bP04vBhdi883+BFBzQbxFbvZzQeY9LNBZc0FNfn5NwfDn6rCTnTw6R8o+gfpf5hCom33cRuiTlss3KHmZjD+BPN+5gXuA2ziS/Q73mLxUkpbKN/eqwz5uK0X9F3h2d1V4nGNgZGBgAOJd776+iue3+crAzc4AAje5Bfcg0xz9YHEOBiYQBQA8FQlFAHicY2BkYGBnAAGOPgaG//85+hkYGVCBMgBGGwNYAAAAeJxjYGBgYB8EmKOPgQEAQ04BfgAAAAAAAA4AaAB+AMwA4AECAUIBbAGYAcICGAJYArQC4AMwA7AD3gQwBJYE3AUkBWYFigYgBmYGtAbqB1gIEghYCG4IhAi2COh4nGNgZGBgUGYoZWBnAAEmIOYCQgaG/2A+AwAYCQG2AHicXZBNaoNAGIZfE5PQCKFQ2lUps2oXBfOzzAESyDKBQJdGR2NQR3QSSE/QE/QEPUUPUHqsvsrXjTMw83zPvPMNCuAWP3DQDAejdm1GjzwS7pMmwi75XngAD4/CQ/oX4TFe4Qt7uMMbOzjuDc0EmXCP/C7cJ38Iu+RP4QEe8CU8pP8WHmOPX2EPz87TPo202ey2OjlnQSXV/6arOjWFmvszMWtd6CqwOlKHq6ovycLaWMWVydXKFFZnmVFlZU46tP7R2nI5ncbi/dDkfDtFBA2DDXbYkhKc+V0Bqs5Zt9JM1HQGBRTm/EezTmZNKtpcAMs9Yu6AK9caF76zoLWIWcfMGOSkVduvSWechqZsz040Ib2PY3urxBJTzriT95lipz+TN1fmAAAAeJxtkMl2wjAMRfOAhABlKm2h80C3+ajgCKKDY6cegP59TYBzukAL+z1Zsq8ctaJTTKPrsUQLbXQQI0EXKXroY4AbDDHCGBNMcYsZ7nCPB8yxwCOe8IwXvOIN7/jAJ76wxHfUqWX+OzgumWAjJMV17i0Ndlr6irLKO+qftdT7i6y4uFSUvCknay+lFYZIZaQcmfH/xIFdYn98bqhra1aKTM/6lWMnyaYirx1rFUQZFBkb2zJUtoXeJCeg0WnLtHeSFc3OtrnozNwqi0TkSpBMDB1nSde5oJXW23hTS2/T0LilglXX7dmFVxLnq5U0vYATHFk3zX3BOisoQHNDFDeZnqKDy9hRNawN7Vh727hFzcJ5c8TILrKZfH7tIPxAFP0BpLeJPA=="),s.isShadow?function(e){const t=e.iframeContent;e.playerCssUrl&&b.util.appendStylesheetToContext(e.playerCssUrl,t,"ntvPlayerCss"),b.util.appendScriptToContext(e.videojsUrl,t,{onReadyEvent:F.bind(e),id:"ntv-videojs"})}(s):B(s)}}}return function(e){let i=r(e);e.subscribe(t.Player.Subscribe.RENDER_VIDEO_PLAYER,i.init.bind(this))}}()}(e,e.Video.Player||(e.Video.Player={}))}(e,e.Video||(e.Video={}))}(ntv||(ntv={})),function(e){!function(e,t){!function(e,t){t.YouTube=function(){const t=C.U.Types,i=t.Player.Publish;function n(n){let r,s,o,a,c,l;const u=n,d=e.Util;function h(){u.publish(t.Player.Publish.General.PLAYER_READY,r)}function p(e,t){e.data==YT.PlayerState.ENDED&&(l=!0,u.publish(i.Content.VIDEO_END),function(e){e.clearProgressTimeout=!0,setTimeout(()=>{e.clearProgressTimeout=!1})}(t))}function f(e,t){if(e.data==YT.PlayerState.PLAYING)if(c)c=!1,u.publish(i.Content.RESUME),t.mouseover&&u.publish(i.Content.CLICK);else if((d.is("u",c)||l)&&(l=!1,u.publish(i.Content.VIDEO_START),function e(t){c||l||t.getCurrentTime()==t.getDuration()||u.publish(i.Content.PROGRESS,{playing:!0,duration:t.getDuration(),currentTime:t.getCurrentTime()}),t.clearProgressTimeout||setTimeout(e,0,t)}(t),t.renderingParams.isHybridYouTube&&t.renderingParams.overlayIframeId)){const e=s.getElementById(t.renderingParams.overlayIframeId);e&&(e.style.pointerEvents="none",e.style.opacity="0",e.style.transition="opacity 0.3s")}}function m(e){f(e,this),YT,p(e,this),function(e,t){e.data==YT.PlayerState.PAUSED&&(c=YT.PlayerState.PAUSED,u.publish(i.Content.PAUSE),t.mouseover&&u.publish(i.Content.CLICK))}(e,this)}function v(e){a.addEventListener("onStateChange",m.bind(r),!1)}function g(){u.subscribe(t.Player.Subscribe.PLAY,r.play)}function y(){try{const e=r.youtubeIframe||r.iframe;if(e){const t=parseInt(e.width)||640,i=parseInt(e.height)||390;e.style.aspectRatio=t/i}}catch(e){}}function b(){r.isPaused=function(){return r.isPlayerPaused},r.play=function(){a.playVideo(),r.videoPlaying=!0},r.resume=r.play,r.pause=function(){a.pauseVideo(),r.videoPlaying=!0},r.reset=function(){a.seekTo(0),a.pauseVideo()},r.toggle=function(e){r.togglePlayState(e)},r.togglePlayState=function(e){e&&isNaN(r.getCurrentTime())?r.play():e?r.pause():r.play()},r.isSeeking=function(){return 2!=state},r.isFullScreen=!1,r.setUserActive=function(e){r.triggerEvent(e?"ntvUserActive":"ntvUserInactive")},r.getCurrentTime=function(){return a.getCurrentTime()||NaN},r.getDuration=function(){return a.getDuration()||NaN},r.mute=function(){r.clickToMute=!0,a.mute()},r.unMute=function(){r.clickToMute=!1,a.unMute()},r.unmute=r.unMute,r.setVolume=function(e){a.setVolume(100*e)},r.getVolume=function(){return a.getVolume?a.getVolume()/100:100},r.isMuted=()=>!r.getVolume(),r.bindAutoPlayerUserInteraction=function(e){r.autoPlayerUserInteractionHandler=e,s.addEventListener("ntvUserInteracted",e)},r.unbindAutoPlayerUserInteraction=function(){s.removeEventListener("ntvUserInteracted",r.autoPlayerUserInteractionHandler)}}function E(){let e=this;if(!d.is("u",a))return;const t="#".concat(e.renderingParams.videoNodeId);if(e.element=d.domQuery(t,s),!e.element)return;const n={events:{onReady:function(t){try{const t=a.getIframe();e.renderingParams.isHybridYouTube?e.youtubeIframe=t:e.iframe=t,t&&(t.style.height="auto"),y(),b(),v(),g(),h(),function(e){const t=e.youtubeIframe||e.iframe;t&&(["mouseenter","mouseover"].forEach(n=>{t.addEventListener(n,(function(){u.publish(i.General.USER_ACTIVE),e.mouseover=!0}))}),["mouseout","mouseleave"].forEach(n=>{t.addEventListener(n,(function(){u.publish(i.General.USER_INACTIVE,"fast"),e.mouseover=!1}))}))}(e),function(e){const t=e.youtubeIframe||e.iframe;t&&(t.style.visibility="visible")}(e),e.renderingParams.isHybridYouTube&&e.renderingParams.overlayIframeId&&function(e){const t=s.getElementById(e.renderingParams.overlayIframeId);if(t)try{const i=t.contentDocument||t.contentWindow.document;i&&i.addEventListener("click",(function(i){t.style.pointerEvents="none",t.style.opacity="0",t.style.transition="opacity 0.3s",e.play&&e.play(),i.preventDefault()}))}catch(e){}}(e),1===e.playerVarsAutoPlay&&e.play()}catch(e){}},onError:function(e){}}};a=new YT.Player(e.element,{events:n.events}),e.videoPlayers={[e.renderingParams.videoNodeId]:a}}function w(){let e=this;"undefined"!=typeof YT?YT.ready(E.bind(e)):setTimeout(w.bind(e),100)}function T(e){s=e.renderingParams.isHybridYouTube&&e.contextDoc?e.contextDoc:e.iframeContent||document,o=s.defaultView||s.parentWindow,e.playerCssUrl&&ntvAppendStylesheet("ntvPlayerCss",e.playerCssUrl,s);const t=d.getTopWindow();d.appendScript("https://www.youtube.com/player_api",w.bind(e),"ntv-yt-api",t.document)}return{init:function(e){r=e.data,T(r)}}}return function(e){const i=n(e);e.subscribe(t.Player.Subscribe.RENDER_VIDEO_PLAYER,i.init.bind(this))}}()}(e,e.Video.Player||(e.Video.Player={}))}(e,e.Video||(e.Video={}))}(ntv||(ntv={})),function(e){!function(e,t){!function(e,t){t.IFU=function(){const t=C.U.Types;function i(i){let n,r,s,o,a,c,l,u;const d=i,h=e.Util,p=4,f=8,m=h.getTopWindow().document;function v(){u.style.visibility="visible"}function g(){n.classList.contains("ntvExpanded")?(n.removeClass("ntvExpanded"),d.publish(t.IFU.COLLAPSED,[])):(n.classList.add("ntvExpanded"),setTimeout((function(){n.classList.contains("ntvExpanded")?d.publish(t.IFU.EXPANDED,[]):d.publish(t.IFU.COLLAPSED,[])}),1e3),d.publish(t.IFU.EXPANDED,[])),d.publish(t.IFU.CLICK)}function y(){n.classList.add("ntvExpanded"),d.publish(t.IFU.EXPANDED,[])}function b(){n.classList.remove("ntvExpanded"),d.publish(t.IFU.COLLAPSED,[])}return{init:function(i){r=i.data,n=h.domQuery("."+r.renderingParams.outerCssClass,m),s=h.domQueryAll("."+r.renderingParams.linkCssClass,n),o=r.iframe?r.iframe:h.domQuery(r.renderingParams.IFU.useIframeId?"iframe[id='"+r.renderingParams.iframeId+"']":"iframe[id='"+e.Util.getVideoSelectorName()+"Iframe"+r.adID+"']",m),c=r.isShadow?document:o.contentDocument,a=c.defaultView||c.parentWindow,l=r.iframeBodyElement,u=h.domQuery(".ntv-video-wrapper"+r.adID,n)||n;const E=h.clientUtils.generateAdPlacementId(r.adID,r.placementID),w=(0,_e.x2)(E),T=(0,_e.LZ)(w.responseId);switch(r.isArticleVideo=T.responseType===Et.UN.ARTICLE||T.responseType===Et.UN.CONTENT_HUB,r.renderingParams.videoExecution){case f:v(),r.isArticleVideo||s.forEach(e=>{e.setAttribute("target","_blank");const i=e.hasAttribute("onclick")&&e.hasAttribute("onmouseover");e.addEventListener("click",n=>{d.publish(t.IFU.ANCHOR_CLICK,e),i&&n.preventDefault()})}),r.clickedBeforeRendering&&d.publish(t.IFU.TOGGLE_VIDEO,[]),l.addEventListener("click",(function(e){d.publish(t.IFU.CLICK,e.target)}));break;case p:!function(){n.classList.add("ntvExpandable");const e=h.domQuery(".ntv-video-frame",n);e&&(e.style.transitionDuration=r.renderingParams.expandSpeed,e.style.webkitTransitionDuration=r.renderingParams.expandSpeed);const t=u?u.parentElement:null;t&&t.classList.contains("ntv-video-container")&&(t.style.height="inherit",t.style.paddingBottom="inherit"),v(),s.forEach(e=>{h.isNotValidHeadlineLink(e)&&(e.removeAttribute("onclick"),e.addEventListener("click",e=>{g(),e.preventDefault()}))}),r.clickedBeforeRendering&&g()}()}r.renderingParams.IFU.showHiddenWrappers&&(v(),d.publish(t.IFU.EXPANDED,[])),d.subscribe(t.IFU.EXPAND,y),d.subscribe(t.IFU.COLLAPSE,b),d.publish(t.IFU.READY,r)}}}return function(e){let n=i(e);e.subscribe(t.Modules.EXECUTE,n.init.bind(this)),e.publish(t.IFU.INITIALIZED,["initialized"])}}()}(e,e.Video.Render||(e.Video.Render={}))}(e,e.Video||(e.Video={}))}(ntv||(ntv={})),function(e){!function(e,t){!function(e,t){t.Mobile=function(){const t=C.U.Types;function i(i){let n,r,s,o,a,c,l,u=0;const d=i,h=e.Util,p=h.getTopWindow().document;function f(e){90==window.orientation||-90==window.orientation?p.body.scrollTop=u:e.preventDefault()}function m(e){a.contentWindow.document.body["bind"===e?"addEventListener":"removeEventListener"]("touchmove",f)}function v(i){m("unbind"),a.style.display="none",p.body.style.overflow="inherit",p.querySelector("#"+e.Util.getVideoSelectorName()+"Iframe"+n.adID).scrollIntoView(!0),p.body.scrollTop-=window.screen.availHeight/2,d.publish(t.Skin.Mobile.MOBILE_SHARE_CLOSED)}function g(){!function(){let e=h.domQuery("meta[name=viewport]",p);if(e)return;e=p.createElement("meta"),e.setAttribute("name","viewport"),e.setAttribute("id","ntvviewport"),e.setAttribute("content",""),p.head.insertAdjacentElement("beforeend",e)}(),u=p.body.scrollTop,m("bind"),p.body.style.overflow="hidden",a.style.display="block",d.publish(t.Skin.Mobile.MOBILE_SHARE_OPENED)}return{init:function(i){i.data.mobileShareParams&&(function(e){n=e.data,r=n.iframe,s=n.iframeWindow,o=n.iframeContent;let t=h.getTopWindow().document;a=h.domQuery("#ntvShareIframe"+n.adID,t)||n.iframeContent.find("#ntvShareIframe"+n.adID)[0]}(i),h.getTopWindow().document.body.appendChild(a),c=h.writeIframe(a,"",n.mobileShareParams.headHtml,n.mobileShareParams.bodyHtml),function(){const e=h.domQuery("#ntv_cancel",c),t=h.domQuery("#ntv-share-background",c);e&&e.addEventListener("click",v),t&&t.addEventListener("click",v),l=h.domQuery("body",c),h.domQueryAll("#ntv_video, .ntv_video-title, .fa-play").forEach((function(e){e.addEventListener("click",v)}))}(),d.subscribe(t.Skin.Mobile.CLOSE_MOBILE_SHARE,v),d.subscribe(t.Skin.Mobile.OPEN_MOBILE_SHARE,g),function(){d.publish(t.Skin.Mobile.READY),e.Events.PubSub.publish("ntvMobileShareReady",[n.placementID+"_"+n.adID,l]);const i=new CustomEvent("ntvMobileShareReady",{detail:[n.placementID+"_"+n.adID,l]});n.iframeContent.dispatchEvent(i)}())}}}return function(e){let n=i(e);e.subscribe(t.Modules.EXECUTE,n.init.bind(this)),e.publish(t.Skin.Mobile.INITIALIZED,["initialized"])}}()}(e,e.Video.Render||(e.Video.Render={}))}(e,e.Video||(e.Video={}))}(ntv||(ntv={}));var Pt=i(296);var Ct=i(4784),kt=i(3081);function Rt(e,t,i){Dt(e,t),t.set(e,i)}function Dt(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Ot(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function _t(e,t){return e.get(Nt(e,t))}function Lt(e,t,i){return e.set(Nt(e,t),i),i}function Nt(e,t,i){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:i;throw new TypeError("Private element is not present on this object")}const xt=[{className:"width-small",dimension:"width",value:400},{className:"width-medium",dimension:"width",value:560},{className:"width-large",dimension:"width",value:640},{className:"height-small",dimension:"height",value:200},{className:"height-medium",dimension:"height",value:250},{className:"height-large",dimension:"height",value:340}],Vt="<",Mt=">",Ut={active:!1,comparison:Vt},jt=function(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Vt;return i===Mt?e>t:e<t};var Ft=new WeakMap,Bt=new WeakMap,Wt=new WeakSet;class Ht{constructor(e,t,i){!function(e,t){Dt(e,t),t.add(e)}(this,Wt),Ot(this,"element",void 0),Ot(this,"applyToElements",void 0),Rt(this,Ft,void 0),Rt(this,Bt,void 0),this.element=e,this.applyToElements=i,Lt(Ft,this,t),Nt(Wt,this,zt).call(this),Nt(Wt,this,Yt).call(this),Nt(Wt,this,Gt).call(this)}}function zt(){Lt(Ft,this,_t(Ft,this).map(e=>({...Ut,...e})))}function Gt(){new ResizeObserver(e=>{const t=e[0],{width:i,height:n}=t.contentRect,r=new kt.pw(i,n);this.applyToElements.forEach(e=>(0,Ct.g)(e,r));for(const e in _t(Bt,this))r[e]&&Nt(Wt,this,qt).call(this,_t(Bt,this)[e],r[e])}).observe(this.element)}function qt(e,t){for(const i of e){const{className:e,comparison:n,value:r,action:s}=i,o=jt(t,r,n);o&&!i.active?(""!==e&&this.applyToElements.forEach(t=>t.classList.add(e)),s&&s(),i.active=!0):!o&&i.active&&(""!==e&&this.applyToElements.forEach(t=>t.classList.remove(e)),i.active=!1)}}function Yt(){Lt(Bt,this,{});for(const e of _t(Ft,this))void 0!==e.dimension&&(_t(Bt,this)[e.dimension]=Qt(_t(Ft,this),e.dimension))}function Qt(e,t){return e.filter(e=>e.dimension===t)}function Kt(e,t,i){Zt(e,t),t.set(e,i)}function Zt(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Xt(e,t){return e.get($t(e,t))}function Jt(e,t,i){return e.set($t(e,t),i),i}function $t(e,t,i){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:i;throw new TypeError("Private element is not present on this object")}var ei=new WeakMap,ti=new WeakMap,ii=new WeakSet;class ni{constructor(e,t){!function(e,t){Zt(e,t),t.add(e)}(this,ii),Kt(this,ei,void 0),Kt(this,ti,void 0),Jt(ei,this,e),Jt(ti,this,t);const i=xt;$t(ii,this,ri).call(this,i);const n=Xt(ei,this),r=Xt(ti,this).shadowRoot;this.applyToElements=b.util.domQueryAll("#ntv-survey",r)||[n],this.ElementBreakpointHandler=new Ht(n,i,this.applyToElements)}}function ri(e){e.push({className:"",dimension:"width",comparison:Vt,value:340,action:$t(ii,this,si).bind(this)}),e.push({className:"",dimension:"width",comparison:Mt,value:340,action:$t(ii,this,oi).bind(this)})}function si(){this.applyToElements.forEach(e=>{e.classList.add("too-small")})}function oi(){this.applyToElements.forEach(e=>{e.classList.remove("too-small")})}var ai=i(8792);class ci extends class{constructor(e){this.element=e}hide(){}show(){}}{constructor(e){super(e),this.element.style.visibility="",this.element.style.display="",this.surveyContainer=e.querySelector("ntv-survey")||e.querySelector("#ntv-survey"),this.breakpointHandler=new ni(this.element,this.surveyContainer),this.displayController=new ai.$(e),this.displayController.bindShowHideMethods(this),this.displayController.hide(),this.surveyContainer.addEventListener(Le.s.CONTENT_COMPLETE,()=>{this.hide(!0)})}get completed(){return this.surveyContainer.surveyCompleted}}!function(e){!function(e,t){!function(e,t){t.Skin=function(){const t=C.U.Types;function i(i){let n,r,s,o,a,c,l,u,d,h,p,f=0,m=0;const v=i,g=4,y=e.Util,b=y.getTopWindow(),E=b.document;function w(e,i,n){l.style.transition="none",clearTimeout(l.timeoutId),e?(l.style.transition="opacity ".concat(n,"ms"),l.style.opacity=i,l.timeoutId=setTimeout(()=>{l.style.display=1===i?"inline-block":"none",i?v.publish(t.Skin.INFO_BAR_SHOWN,"inline-block"===l.style.display):v.publish(t.Skin.INFO_BAR_HIDDEN,"none"===l.style.display)},n)):(l.style.opacity=i,l.style.display=1===i?"inline-block":"none",i?v.publish(t.Skin.INFO_BAR_SHOWN,"inline-block"===l.style.display):v.publish(t.Skin.INFO_BAR_HIDDEN,"none"===l.style.display))}function T(e){v.publish(e?t.Skin.USER_ACTIVE:t.Skin.USER_INACTIVE)}function S(){l&&w(!1,1,0)}function A(e){l&&w(!0,0,null!=e&&y.is("s",e.data)&&"fast"==e.data?0:1100)}function I(){null!=d&&(d.style.display="none",v.publish(t.Skin.CONTROLBAR_HIDDEN,"none"===d.style.display))}function P(){null!=d&&(d.style.display="flex",v.publish(t.Skin.CONTROLBAR_SHOWN,"flex"===d.style.display))}function C(){null!=u&&(u.style.display="none",v.publish(t.Skin.PREVIEW_IMAGE_HIDDEN,"none"===u.style.display))}function k(){var e;_(),u&&(u.style.display="none"),p&&p.hide(),A(),v.publish(t.Skin.ALL_OVERLAYS_HIDDEN,"none"===(null===(e=u)||void 0===e?void 0:e.style.display)&&l&&"none"===l.style.display)}function R(e){k(),v.publish(t.Skin.PLAY,e)}function D(){k(),v.publish(t.Skin.RESUME,!0),r.iframeMouseEventsBound||(r.iframe.addEventListener("mouseenter",()=>{T(!0)}),r.iframe.addEventListener("mouseleave",()=>{T(!1)}),r.iframe.addEventListener("mousemove",e=>{T(!(!e.target.tagName&&!e.relatedTarget))})),r.iframeMouseEventsBound=!0,v.publish(t.Skin.VIDEO_RESUMED,r.iframeMouseEventsBound)}function O(e){h.style.display=e}function _(){null!=h&&"none"!==h.style.display&&(O("none"),v.publish(t.Skin.OVERLAY_HIDDEN,!0))}function L(){null!=h&&"inline-block"!==h.style.display&&(O("inline-block"),v.publish(t.Skin.OVERLAY_SHOWN,!0))}function N(){if(r.vastAsMainSource)return void v.publish(t.Skin.PREVIEW_IMAGE_VIDEO_END_SHOWN,!1);!function(){if(p&&!p.completed&&(p.show(),S()),r.vastAsMainSource||y.domQueryAction(".share-overlay",c,e=>{e.style.zIndex="999",e.style.display="inline"}),u){u.style.visibility="visible",u.style.display="block";y.domQuery("a",u).style.display="none"}const e=y.domQuery("div.share-overlay > div.center-table > div > table > tbody > tr:nth-child(4) td",c);e&&(e.style.display="block");const t=y.domQuery("div.share-overlay > div.center-table > div > table > tbody > tr:nth-child(4) td div.video-rewind",c);t&&(t.style.display="block"),r.isVideoEndImageSetup=!0}();const e=y.domQuery("#"+r.renderingParams.videoNodeId+" > div.vjs-control-bar",c);e&&(e.style.visibility="visible",e.style.display="flex",e.style.opacity="1"),v.publish(t.Skin.PREVIEW_IMAGE_VIDEO_END_SHOWN,!0)}function x(){const e=y.domQuery("#"+r.renderingParams.videoNodeId+" > div.vjs-control-bar",c);e&&e.removeAttribute("style")}function V(){return void 0===r.isFullScreen&&(r.isFullScreen=!1),r.isFullScreen}function M(e){r.isFullScreen=!r.isFullScreen;const i=V()?"none":"inline-block";y.domQueryAll("div.share-btn-bottom",c).forEach(e=>{e.classList.contains("top-share-btn")||(e.style.display=i)});y.domQueryAll(".control-spliter",c).forEach(e=>{"right"===e.style.float&&(e.style.display=i)}),v.publish(t.Skin.FULLSCREEN_CHANGED,{isFullscreen:V(),overlayDisplay:i})}function U(){y.domQueryAction(r.infoButtonSelector,c,e=>{e.addEventListener("click",e=>{showOverlay(),e.stopImmediatePropagation(),v.publish(t.Skin.INFO_BUTTON_CLICKED,!0)})})}function j(){s.style.position="relative",f=s.getAttribute("width")||s.clientWidth,m=s.getAttribute("height")||s.clientHeight,0==f&&0==m&&(f=16,m=9),s.setAttribute("width","100%")}function F(){u=y.domQuery("div[class*='video-preview-img']",c),h=y.domQuery(".share-overlay",c);const e=y.domQuery(".survey-overlay",c);e&&(p=new ci(e))}function B(e){const t=y.domQuery(".vjs-captions-button",e),i=r.iframe.getAttribute("video-closed-caption")||!!r.captionUrl,n=null==r.captionsEnabled||r.captionsEnabled;if(t){const s=r.player.textTracks()[0];i&&s&&n?(s.mode="showing",t.classList.add("vjs-ntv-caption-on")):(s&&(s.mode="disabled"),t.classList.add("vjs-ntv-caption-off")),t.style.display="inline-block";let o=t.querySelector(".vjs-captions-button > .vjs-menu");if(o&&t.removeChild(o),!function(e){const t=y.domQuery("track",e);return t&&t.src!==window.location.href}(e))return void t.classList.add("vjs-ntv-no-caption");t.addEventListener("click",e=>{e.stopPropagation(),"showing"===s.mode?(s.mode="hidden",t.classList.remove("vjs-ntv-caption-on"),t.classList.add("vjs-ntv-caption-off")):(s.mode="showing",t.classList.remove("vjs-ntv-caption-off"),t.classList.add("vjs-ntv-caption-on"))})}}function W(){var e;if(B(y.domQuery("#".concat(r.renderingParams.videoNodeId),c)),!r.renderingParams.cssUrl)return;y.ntvAppendStylesheet("ntvSharingCss",r.renderingParams.cssUrl,a);const i=y.domQuery(".video-wrapper",c);null!=r.renderingParams.html&&i.insertAdjacentHTML("beforeend",r.renderingParams.html),F(),r.renderingParams.videoExecution!=g||r.renderingParams.article||(u.style.visibility="hidden");const n=y.domQuery(".replayIcon",c);if(n&&(n.classList.remove("replayIcon"),n.classList.add("playIcon")),r.handleResize=!r.inDesignBlock,r.handleResize&&j(),r.renderingParams.infoButtonSelector=".info-btn a",r.renderingParams.overrideInfoIcon){const e=y.domQuery(".info-btn",c);if(e){const t=y.domQuery("a",e);t&&t.remove(),e.classList.remove("info-btn"),e.classList.add("img-info-btn");var s=e.clientWidth;e.insertAdjacentHTML("afterbegin",'<img id="aut-info-btn" src="'+r.renderingParams.advertiserLogoUrl+"?mode=max&width="+(s=s>480?100:50)+'&height=30">')}r.infoButtonSelector=".img-info-btn"}U();const o=y.domQuery(".share-overlay",c);o&&o.addEventListener("click",e=>{(e.target.style.cssText&&-1==e.target.style.cssText.indexOf("ntvLearnMore")||e.target.classList.contains("btn-bkg"))&&D()});const l=y.domQuery("div.share-btn-bottom",c);null==l||l.addEventListener("click",e=>(L(),e.stopImmediatePropagation(),!1));const d=y.domQuery("div[class ~='video-preview-img'] a",c);null==d||d.addEventListener("click",e=>{e.preventDefault()});y.domQueryAll("a[class ~='play'], div.share-close-btn a, div.info-close-btn a",c).forEach(e=>{e.addEventListener("click",e=>{D(),e.preventDefault()})}),null===(e=u)||void 0===e||e.addEventListener("click",e=>{R(e.target),v.publish(t.Skin.PREVIEW_IMAGE_CLICK)});y.domQueryAll("div[class ~='video-preview-img'], div[class ~='video-preview-img'] a",c).forEach(e=>{e.addEventListener("click",e=>{R(e.target)})});const h=y.domQuery("div.vjs-volume-menu-button",c),p=y.domQuery("#ntv-video-info",c);null==h||h.addEventListener("mouseenter",()=>{p.style.transition="opacity 0.15s",p.style.opacity=0}),null==h||h.addEventListener("mouseleave",()=>{p.style.opacity=1}),function(e,i){if(u&&"hidden"!==u.style.visibility){let n=u.style.display,s=document.createElement("img"),o=y.applyImageResizer(r.renderingParams.previewImage,r.renderingParams.resizeMode,e,i,r.applySmartCropping);o=y.applyProtocolToUrl(o),s.onload=Y,s.onerror=Y,s.src=o,u.style.backgroundImage="url('"+y.applyProtocolToUrl(o)+"')",u.style.backgroundRepeat="no-repeat",u.style.backgroundSize="cover",u.style.display=n,u.style.zIndex=1,u.addEventListener("click",()=>{v.publish(t.Skin.CLICK)},!1)}}(c.clientWidth,c.clientHeight)}function H(){if(!r.renderingParams.Skin.isNativoPlayer)return;let e=a;if(!("#document-fragment"===s.nodeName?s.firstElementChild:s).classList.contains("ntvCLPVideo")){if(y.domQueryAction(".ntv-headline",n,e=>{e.addEventListener("click",i=>{setTimeout((function(){v.publish(t.Skin.PAUSE,!0)}),0),PostRelease.ampMode?e.click():(0,Pt.QB)(e)||y.windowOpen(e.href)})}),r.isAutoPlay){const t=y.domQuery(".vjs-volume-level",e);t&&(t.style.height="0")}if(r.isAutoPlay){let t=!1,i=y.domQuery(".vjs-unmute-icon",e);y.domQuery(".vjs-control-bar",e).insertAdjacentHTML("beforebegin",'<div class="vjs-unmute-icon"></div>'),e.clientWidth<360&&(i.style.top="10px"),e.addEventListener("click",()=>{t||(t=!0,i=y.domQuery(".vjs-unmute-icon",e),i&&i.remove(),r.player.setVolume(1))})}y.domQuery(".vjs-fullscreen-control",e).insertAdjacentHTML("afterend",'<div class="control-spliter" style="float:right"></div><div class="share-btn-bottom vjs-control"></div><div class="control-spliter" style="float:right"></div>');const i=y.domQuery(".vjs-big-play-button",e),s=y.domQuery(".top-share-btn",e);i&&i.remove(),s&&s.remove()}(r.renderingParams.Skin.permanentlyShowControls||r.renderingParams.article)&&P()}function z(e){e.preventDefault()}function G(e){if(!r.renderingParams.Skin.isNativoPlayer)return;if(r.prerollSkinRendered)return;let i=a,n=y.applyImageResizer(r.renderingParams.previewImage,"crop",100,62);const s=y.domQuery(".info-bar",i);r.postPreRollInfoBar=s?s.innerHTML:"";var o='<div id="ntv-video-info"><div><p> Up Next </p></div><img src="'+n+'"></div>';const c=y.domQuery(".vjs-play-control",i),l=c?c.parentElement:null;c&&l&&l.insertAdjacentHTML("beforeend",o);var u=e.data.advertiser;const d=y.domQueryAll(".info-bar div.info-txt div.title",i);d&&d.length>1&&(d[1].textContent="");const p=y.domQueryAll(".info-bar div.info-txt div.advertiser",i);p&&p.length>1&&(p[1].textContent=u,p[1].classList.add("advertiser-preroll"));const f=y.domQueryAll(".info-bar .info-btn",i);f&&f.length>1&&(f[1].style.visibility="hidden",f[1].classList.add("preroll-advertiser")),s.classList.add("adverstier-preroll-infobar");s.parentElement.insertAdjacentElement("beforeend",h);const m=y.domQuery('a[class~="ntvLearnMore"]',i);if(m&&(r.mainVideoClickThrough=m.href),e.data.clickThrough){y.domQueryAll("a.vast-blocker",i).forEach(e=>{e.addEventListener("click",z)}),m&&(m.href=e.data.clickThrough)}const g=y.domQuery("video",i).parentElement;g.classList.add("preroll"),g.parentElement.classList.add("preroll");const b=y.domQuery(".vast-skip-button",i);b&&(b.style.zIndex=10,b.style.cursor="pointer",b.style.position="absolute"),m&&m.addEventListener("click",()=>{v.publish(t.Skin.Preroll.LEARN_MORE_CLICKED)});const E=y.domQuery("video",i).classList.contains("preroll");v.publish(t.Skin.PREROLL_SKIN_RENDERED,E),r.prerollSkinRendered=!0}function q(){if(!r.renderingParams.Skin.isNativoPlayer)return;if(!r.prerollSkinRendered)return;let e=a;const i=y.domQuery('a[class~="ntvLearnMore"]');i&&i.setAttribute("href",r.mainVideoClickThrough);const n=y.domQuery("video",e).parentElement;n.classList.remove("preroll");const s=n.parentElement;if(s&&s.classList.remove("preroll"),!y.is("u",r.postPreRollInfoBar)){y.domQueryAll(".info-bar",e).forEach(e=>{e.classList.remove("adverstier-preroll-infobar"),e.innerHTML=r.postPreRollInfoBar}),U()}const o=y.domQuery("#ntv-video-info",c);if(o&&o.remove(),V()){y.domQuery("video",r.iframeBodyElement).style.cssText=""}const l=n.classList.contains("preroll");v.publish(t.Skin.PREROLL_SKIN_REMOVED,!l),r.prerollSkinRendered=!1}function Y(){y.domQueryAction(".ntv-video-wrapper"+r.adID,n,e=>{e.style.height="auto",e.style.backgroundImage="none",r.isImageLoaded=!0})}return{init:function(i){!function(t){r=t.data,r.isImageLoaded=!1,n=y.domQuery("."+r.renderingParams.outerCssClass,E),s=r.iframe?r.iframe:y.domQuery(r.renderingParams.Skin.useIframeId?"iframe[id='"+r.renderingParams.iframeId+"']":"iframe[id='"+e.Util.getVideoSelectorName()+"Iframe"+r.adID+"']",E),a=r.isShadow?s:s.contentDocument,o=r.isShadow?b:a.defaultView||a.parentWindow,c=r.iframeBodyElement,d=y.domQuery(".vjs-control-bar",c)}(i),y.retryQuery(y.domQuery,".video-wrapper > .info-bar",a).then(e=>{l=e,l&&!r.infoBarHandlerSet&&(l.style.zIndex="1",l.addEventListener("click",e=>{e.target.classList.contains("btn-bkg")&&v.publish(t.Skin.INFO_BAR_CLICK,!0)}).mouseenter.forEach(e=>{l.parentNode.addEventListener(e,()=>{v.publish(t.Skin.USER_ACTIVE,!0)})}),r.infoBarHandlerSet=!0)}).catch(e=>{}),function(){if(r.renderingParams.videoExecution)W();else{if(F(),!r.handleResize)return;j()}}(),y.domQueryAll("a.btn-bkg",c).forEach(e=>{e.addEventListener("click",e=>{R(e.target)})}),y.domQueryAll("div.center-table",c).forEach(e=>{e.addEventListener("click",e=>{(e.target.classList.contains("center-table")||e.target.classList.contains("center-cell")||e.target.classList.contains("info-txt")||"td"==e.target.tagName.toLowerCase())&&D()})}),v.subscribe(t.Skin.SHOW_INFO_BAR,S),v.subscribe(t.Skin.HIDE_INFO_BAR,A),v.subscribe(t.Skin.SHOW_CONTROL_BAR,P),v.subscribe(t.Skin.HIDE_CONTROL_BAR,I),v.subscribe(t.Skin.SHOW_OVERLAY,L),v.subscribe(t.Skin.HIDE_OVERLAY,_),v.subscribe(t.Skin.SEEK,k),v.subscribe(t.Skin.HIDE_ALL_OVERLAYS,k),v.subscribe(t.Skin.FULLSCREEN,M),v.subscribe(t.Skin.EXIT_FULLSCREEN,M),v.subscribe(t.Skin.HIDE_PREVIEW_IMAGE,C),v.subscribe(t.Skin.SHOW_VIDEO_END_IMAGE,N),v.subscribe(t.Skin.HIDE_VIDEO_END_IMAGE,x),v.subscribe(t.Skin.RENDER_PREROLL_SKIN,G),v.subscribe(t.Skin.REMOVE_PREROLL_SKIN,q),H(),v.publish(t.Skin.READY,["ready"])}}}return function(e){let n=i(e);e.subscribe(t.Modules.EXECUTE,n.init.bind(this)),e.publish(t.Skin.INITIALIZED,["initialized"])}}()}(e,e.Video.Render||(e.Video.Render={}))}(e,e.Video||(e.Video={}))}(ntv||(ntv={})),function(e){!function(e,t){!function(e,t){t.YouTubeSkin=function(){const t=C.U.Types;function i(i){let n,r,s,o,a,c,l,u,d;const h=i,p=e.Util,f=p.getTopWindow().document;return{init:function(i){!function(t){r=t.data,r.isImageLoaded=!1,n=p.domQuery("."+r.renderingParams.outerCssClass,f),s=p.domQuery("."+r.renderingParams.linkCssClass,n),o=r.iframe?r.iframe:p.domQuery(r.renderingParams.Skin.useIframeId?"iframe[id='"+r.renderingParams.iframeId+"']":"iframe[id='"+e.Util.getVideoSelectorName()+"Iframe"+r.adID+"']",f),c=r.isShadow?o:o.contentDocument,a=c.defaultView||c.parentWindow,l=r.iframeBodyElement,u=p.domQuery("div[class*='video-preview-img']",l),d=p.domQuery("div.share-overlay",c)}(i),function(){if(!r.renderingParams.autoplay){const e=p.domQuery(".video-preview-img",c);e&&(e.style.display="none")}}(),function(){const e=p.domQuery("div.center-table",d);if(e){e.classList.add("YT");const t=p.domQuery("div.center-cell",e);t&&t.classList.add("YT");const i=p.domQuery("div > table > tbody > tr:nth-child(3)",e);i&&(i.style.display="table-row")}}(),function(){const e=p.domQuery(".video-wrapper .share-overlay + .info-bar",l);e&&e.addEventListener("click",e=>{e.target.classList.contains("btn-bkg")&&h.publish(t.Skin.PAUSE)})}()}}}return function(e){let n=i(e);e.subscribe(t.Modules.EXECUTE,n.init.bind(this)),e.publish(t.Skin.YouTube.INITIALIZED,["initialized"])}}()}(e,e.Video.Render||(e.Video.Render={}))}(e,e.Video||(e.Video={}))}(ntv||(ntv={})),function(e){!function(e,t){!function(e,t){function i(t,i){let n,r,s;const o=e.Events,a=e.Util,c=a.getTopWindow(),l=t,u=i.adID,d=o.PubSub,h=o.Types.Tracking;function p(e,t){const i=new CustomEvent(e,{detail:t});c.dispatchEvent(i)}function f(e,t){let i=function(e){let t;return t=e.type.split(":"),{eventType:t[2],contentType:t[3],NTVEvent:t[4]}}(e);var o;if(o=i.contentType,!n&&o&&(n=o),function(e){return n==e}(i.contentType))switch(i.NTVEvent){case"click":p("ntvVideoClick",[u,e.data.volume]);break;case"videoStart":if(void 0!==r||void 0!==s||"boolean"==typeof r&&"boolean"==typeof s&&r&&!s)return;r=!0,s=!1,p("ntvVideoStart",[u,e.data.volume]);break;case"videoEnd":if("boolean"==typeof r&&"boolean"==typeof s&&!r&&s)return;r=!1,s=!0,p("ntvVideoComplete",[u,e.data.volume]);break;case"pause":p("ntvVideoPause",[u,e.data.volume]);break;case"mute":case"unmute":case"volumechange":p("ntvVideoVolumeChange",[u,e.data.volume]);break;case"resume":p("ntvVideoResume",[u,e.data.volume]);break;case"prerollAdCancel":p("ntvVideoCanceled",[u,e.data.volume]);break;case"percentile":switch(e.data.NTVEvent){case"25":p("ntvVideoFirstQuartile",[u,e.data.volume]);break;case"50":p("ntvVideoMidpoint",[u,e.data.volume]);break;case"75":p("ntvVideoThirdQuartile",[u,e.data.volume])}}}return{registerMOATEvents:function(){for(let t in h)for(let i in h[t])for(let n in h[t][i])d.subscribe(l.toString()+":"+e.Events.Types.Tracking[t][i][n],f);return this}}}t.MOAT=function(e,t){i(e,t).registerMOATEvents()}}(e,e.Video.Tracker||(e.Video.Tracker={}))}(e,e.Video||(e.Video={}))}(ntv||(ntv={}));var li=i(9492);!function(e){!function(e,t){!function(e,t){function i(t,i){const n={map:{vastError:{first:[(r=i,0===r.adId||0===r.adID?li.a.vastErrorOpenProgrammatic:li.a.vastError)],freq:0}},events:{content:{vastError:["vastError"]}}};var r;let s,o,a=!0;const c=e.Util,u=[[],[],[]],d=[],h=[],p=i,f=t,m=e.Events.PubSub,v=e.Events.Types.Tracking;function g(t,i,n){var r;(t.firstPartyTrackingJoined.indexOf("68")>=0||t.firstPartyTrackingJoined.indexOf("845")>=0)&&n((function(e){e.state.viewableImpressionFired=!0})),e.Tracking.Record((r=p.baseTrackingUrl+t.firstPartyTrackingJoined,(p.adVersionPlacement.length>0||p.adID>=1e5)&&(r+="&"+e.CONSTS.AVP+"="+p.adVersionPlacement),(r+=c.setURLCache())+t.qs),t.third||"",1,null,i)}function y(e){if("object"!=typeof e||!p[e.eventType]||!p[e.eventType][e.contentType])return[];var t,i=p[e.eventType][e.contentType][e.progressSection]||p[e.eventType][e.contentType],n=[];if(!(i=i[e.NTVEvent]))return[];for(var r=0;r<i.length;r++)p.map[i[r]]&&((t=p.map[i[r]]).firstPartyTrackingJoined=t.first.join(","),n.push(t));return n}p.isVast&&(p.map=Object.assign(n.map,p.map),p.events.content=Object.assign(n.events.content,p.events.content));function b(e,t,i){setTimeout(()=>{!function e(t,i,n,r,s){s[t]&&(1e3*r<=s[t].totalTime+s[t].duration()?(s.eventType=i,s.progressSection=n,s.NTVEvent=r,T(s,!0)):setTimeout(()=>{e(t,i,n,r,s)},100))}("tos_w_hidden","progress","userActiveCumulative",e,t)},0)}function E(e){if(-1==h.indexOf(e.contentType)){var t=p.progress[e.contentType];!function(e,t){let i=0,n=e.length;do{if(e[i])for(var r in e[i])b(r,t)}while(++i<n)}([t.userActiveCumulative,t.cumulative],e),h.push(e.contentType)}}function w(e){e.playing&&("percentile"!==e.progressSection?(!function(e){var t=p.progress[e.contentType].position;for(var i in t)parseInt(i)<=Math.round(e.currentTime)&&e.currentTime!=e.duration&&Math.round(e.currentTime)<parseInt(i)+1&&(e.eventType="progress",e.progressSection="position",e.NTVEvent=i,T(e,!0))}(e),function(e){a?(s=d[d.length-1],a=!1):s=o?new Date:s||new Date;var t,i=(t=s,(new Date-t)/1e3),n=p.progress[e.contentType].continuous;for(var r in n)parseInt(r)<=i&&(e.eventType="progress",e.progressSection="continuous",e.NTVEvent=r,T(e,!0))}(e),E(e)):T(e,!0))}function T(e,t){let i=t?e:function(e){let t;return"object"==typeof e.data&&e.data.eventType&&"progress"==e.data.eventType?w(e.data):(t=e.type.split(":"),{eventType:t[2],contentType:t[3],NTVEvent:t[4]})}(e);if(!i)return;let n=[],r=[],s="",o=i instanceof Array?i:i instanceof Object?y.call(this,i):[];if(o.length){for(var a=0;a<o.length;a++)if(null!==o[a].freq&&(!u[o[a].freq].length||-1==u[o[a].freq].indexOf(o[a].firstPartyTrackingJoined))){var c;n.push(o[a].firstPartyTrackingJoined),o[a].third&&r.push(o[a].third),o[a].qs&&(s+=o[a].qs),o[a].rtv&&!isNaN(i.returnedMetricValue)&&(s+="&ntv_mv="+i.returnedMetricValue.toString(),delete i.returnedMetricValue),e.duration&&e.currentTime&&(s+="&ntv_duration="+e.duration+"&ntv_position="+e.currentTime),null!=e&&null!==(c=e.data)&&void 0!==c&&c.vastErrorCode&&(s+="&".concat(l.xc.VAST_ERROR,"=").concat(e.data.vastErrorCode)),o[a].freq&&u[o[a].freq].push(o[a].firstPartyTrackingJoined)}if(n.length){let t={placementID:p.placementID,adID:p.adID};g({firstPartyTrackingJoined:n.join(","),third:r.join(","),qs:s},t,e.callback)}}}return{registerNativoEvents:function(){for(let t in v)for(let i in v[t])for(let n in v[t][i])m.subscribe(f.toString()+":"+e.Events.Types.Tracking[t][i][n],T);return this},bindTrackerHandlersToEvents:function(){return m.subscribe(f.toString()+":"+v.Events.Content.VIDEO_END,()=>{o=void 0,u[2].length=0}),m.subscribe(f.toString()+":"+v.Events.Content.VIDEO_START,()=>{o=!1,d.push(new Date)}),m.subscribe(f.toString()+":"+v.Events.Content.RESUME,()=>{o=!1,a=!0,d.push(new Date)}),m.subscribe(f.toString()+":"+v.Events.Content.CLICK,()=>{void 0===a&&(a=!0)}),m.subscribe(f.toString()+":"+v.Events.Content.PAUSE,()=>{o=!0}),m.subscribe(f.toString()+":"+v.Events.Preroll.VIDEO_START,()=>{0===d.length&&d.push(new Date)}),this}}}t.Nativo=function(e,t){i(e,t).registerNativoEvents().bindTrackerHandlersToEvents()}}(e,e.Video.Tracker||(e.Video.Tracker={}))}(e,e.Video||(e.Video={}))}(ntv||(ntv={}));var ui=i(8256),di=i(8589),hi=i(5798),pi=i(749),fi=i(85),mi=i(6671),vi=i(276),gi=i(2614);function yi(e,t,i){try{(0,hi.fC)(e).then(i=>{const n=(0,fi.wb)(e);n.slideAssetsFromParsedDynamicAssets(i);const r=new pi.Z(n);r.initializeTrackingWhenReady();new vi.T(r.storiesViewer),new gi.X(r.storiesViewer),new mi.Z(r.storiesViewer,n.trackingConfig);return t&&"function"==typeof t&&t(r),r}).catch(e=>{i&&"function"==typeof i&&i(e),b.util.postError(e)})}catch(e){i&&"function"==typeof i&&i(e),b.util.postError(e)}}var bi=i(9549),Ei=i(7746);function wi(e,t,i,n){const r="<html ".concat(t,">\n    <head>\n      ").concat(i,"\n    </head>\n    <body>\n      ").concat(n,"\n    </body>\n  </html>");if(!e)return r;let s;try{if(s=(0,Ei.M)(e),"IFRAME"!==s.nodeName)throw new Error("Not a valid Iframe")}catch(e){var o;return void(null!==(o=window.ntv)&&void 0!==o&&null!==(o=o.Util)&&void 0!==o&&o.postError?window.ntv.Util.postError(new Error("writeIframe failed. No valid Iframe target")):console.error("writeIframe failed. No valid Iframe target",e))}const a=s.contentWindow.document;if(a){try{const e=nt(s.contentWindow);s.setAttribute("data-ntv-custom-elements-registered","true"),s.setAttribute("data-ntv-custom-elements",rt()),s.setAttribute("data-ntv-registration-method","writeIframe"),!e.success&&e.errors.length>0&&s.setAttribute("data-ntv-custom-elements-error",e.errors.join("; "))}catch(e){console.warn("[Custom Elements] Failed to register in writeIframe:",e)}(0,bt.un)()||a.open(),a.write(r),(0,bt.un)()||a.close()}return a}function Ti(e,t,i,n){const r="<html ".concat(t,">\n    <head>\n      ").concat(i,"\n    </head>\n    <body>\n      ").concat(n,"\n    </body>\n  </html>");if(!e)return r;let s;try{if(s=(0,Ei.M)(e),"IFRAME"!==s.nodeName)throw new Error("Not a valid Iframe")}catch(e){var o;return void(null!==(o=window.ntv)&&void 0!==o&&null!==(o=o.Util)&&void 0!==o&&o.postError?window.ntv.Util.postError(new Error("writeIframeSrcDoc failed. No valid Iframe target")):console.error("writeIframeSrcDoc failed. No valid Iframe target",e))}return s.srcdoc=r,s.contentDocument}var Si=i(5016),Ai=i(2151),Ii=i(1251);function Pi(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window;const t=(0,U.W)("StoriesAds"),i=t.get("instances")||t.set("instances",{});e.ntv=e.ntv||{},e.ntv.Stories=e.ntv.Stories||{},e.ntv.Stories._instances=i}let Ci=window;Ci.ntv=Ci.ntv||{};const ki=()=>{let e=b.util.getTopWindow();if(e.ntvToutAds=e.ntvToutAds||{},e.ntv&&e.ntv.initialized){var t;(null===(t=e.ntv.query(":root"))||void 0===t||null===(t=t.context)||void 0===t?void 0:t.defaultView)||(e.ntv.query=ntv.query)}else e.ntv=e.ntv?Object.assign(ntv,e.ntv):ntv,e.PostRelease=ntv.PostRelease,function(e){const t=(0,U.W)("state");if(t.get("isTopWindowReadyHandled"))return;function i(t){e.removeEventListener("ready",i),e.removeEventListener("DOMContentLoaded",i),e.ntv.internalPuSub&&e.ntv.internalPuSub.publish(l.xu.TOP_WINDOW_READY,t)}e.addEventListener("ready",i),e.addEventListener("DOMContentLoaded",i),t.set("isTopWindowReadyHandled",!0)}(e);return(!(0,w.eO)()||!e.ntv&&(0,w.eO)())&&(e.ntv=Ci.ntv,e.PostRelease=Ci.PostRelease,e.prdom=Ci.prdom,g.core.topPubSub=e.PostRelease.internalPubSub,function(e){const t=["ntvArticleTracker","ntvViewableImpressionTracker","ntvjQueryInit"];for(const i of t)e[i]=window[i]}(e)),e};const Ri=()=>{let e=g.core.setting.autoStart;return Ci.ntvConfig&&Ci.ntvConfig.retry&&Ci.ntvConfig.ptd&&(e=!0),e},Di=()=>g.core.setting.integrationType;!function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window;try{var t;if(ntv.PostRelease)return;y.o.performance.responsivenessTracking(),e.ntv.Tracking=_e.nH,e.PostRelease=g.core,e.ntv.PostRelease=g.core,e.ntv.DFP=A,e.ntv.CONSTS=l.z1,e.ntv.Util=b.util,e.ntv.Util.writeIframe=wi,e.ntv.Util.writeIframeSrcDoc=Ti,e.ntv.Events=C.U,e.ntv.metric=y.o,e.ntv.Gallery=pt,e.ntv.Media=e.ntv.Media||{},e.ntv.CompanionAsset=dt,e.ntv.ContentScroller=Ai.f,e.ntv.ISIScroller=Ii.Z,e.ntv.bindClickIframe=ut,e.ntv.bindClick=Ce.bindClick,e.ntv.createSafeFrame=Te,e.ntv.createIframe=Se,e.ntv.Media.ContentWidget=O,e.ntv.Media.Gallery=pt,e.ntv.iframe=ye,e.ntv.createSlideshowViewer=yi,e.ntv.initialized=!0,e.ntv.version="5.1.1+0",Pi(e);const i=ki();v(i),null!=i&&null!==(t=i.ntv)&&void 0!==t&&null!==(t=t.PostRelease)&&void 0!==t&&t.internalPuSub&&(g.core.internalPubSub=i.ntv.PostRelease.internalPuSub),g.core.safeFrame=(0,ft.ZP)(i),(0,ui.Mv)(g.core.setting.sdk),(0,di.Y)(),b.util.ntvInitOnFocusTracking();Ri()&&g.core.Start(),[void 0,null,0].includes(Di())&&((0,bi._)(),Si.tv.Initialize()),nt(window),ot(),y.o.performance.set("init"),b.util.rewriteAdBlockedAssets(),c()}catch(e){b.util.postError(e)}}()},296:(e,t,i)=>{"use strict";i.d(t,{IJ:()=>m,Me:()=>h,QB:()=>d,ft:()=>u,qQ:()=>f,yF:()=>l,yy:()=>p});i(1057),i(6801),i(560),i(1195),i(6409),i(4043),i(7267),i(6265),i(8730),i(9979),i(9307),i(8858),i(1318),i(3228);var n=i(8477),r=i(1311),s=i(5902),o=i(6101),a=i(1611);function c(e,t){let i=function(e){if(e.dataset.ntvClickTracker){const t=e.dataset.ntvClickTracker;return delete e.dataset.ntvClickTracker,t}return e.href}(e);const s=a.util.getWindow(e)||window;if((0,n.eO)()){var c;null===(c=event)||void 0===c||c.preventDefault(),(0,r.yv)(!1,t,i)}else{if(e.target)return void s.open(i,e.target);switch(a.util.resolveIframeType(e)){case o.z1.IFRAME_TYPES.FRIENDLY:try{const t=new URL(window.top.location.href);v(e,t.hostname)}catch(e){}break;case o.z1.IFRAME_TYPES.SAFE_NO_API:case o.z1.IFRAME_TYPES.SAFE_W_API:e.target="_blank"}s.open(i,e.target||"_top")}}function l(e,t,i,n,r){r&&r.preventDefault&&r.preventDefault();let o=(0,s.x2)(n);if(i.hasAttribute("sync-tracking"))return function(e,t){let i=(0,s.x2)(t),n=e.getAttribute("sync-tracking")||{},r=i?i.toutClick3rdPartyTracking:[];if(r.push(n),e.isClicked)return;"_blank"!=e.target&&e.addEventListener("click",e=>{e.preventDefault()});(function(e){const t=[];for(const i of e){navigator.sendBeacon(i)||t.push(i)}return t.length>0?function(e){const t=[];for(const i of e)t.push(new Promise((e,t)=>{const n=setTimeout(()=>{t(i)},2e3);a.util.appendIframe(i,()=>{clearTimeout(n),e()})}));return Promise.allSettled(t).then(e=>{const t=e.filter(e=>null!=e.reason).map(e=>e.reason);return new Promise((e,i)=>{0===t.length&&e("All sync tracker urls appended successfully"),a.util.postError(new Error("Failed to append sync tracking urls: [".concat(t.join(", "),"]"))),i("Failed to append sync tracking urls: [".concat(t.join(", "),"]"))})})}(t).then(()=>Promise.resolve("All sync tracker urls queued or appended successfully")):Promise.resolve("All sync tracking urls queued successfully")})(r).finally(()=>{c(e,t)})}(i,n);if(i.dataset.ntvFired)return c(i,n);if(n&&o){p(i),f(o);let e=i.getAttribute("ntv-click-bypass");if(e)return void a.util.appendImage(e,o.obfuscateTracking);c(i,n)}}function u(e,t,i){var n;if(!i.hasAttribute("sync-tracking")){!function(e){if(function(e){return e.dataset.ntvDefaultPrevented}(e))return;null!=e.onclick&&d(e)&&(e.addEventListener("click",e=>{e.preventDefault()}),e.dataset.ntvDefaultPrevented=!0)}(i);var r=t?e+(a.util.isOnFocus()?"":"&"+o.z1.FRAUD):e,s=this.clickThrough?r.replace(/@redirectUrl/gi,this.clickThrough):r;-1===(null===(n=i.href)||void 0===n?void 0:n.indexOf("tel:"))?i.dataset.ntvClickTracker=r:(i.setAttribute("target","_self"),i.setAttribute("ntv-click-bypass",s)),i.setAttribute("onmousedown","")}}function d(e){return e.getAttribute("onclick").includes("PostRelease.GetHrefUrlClick")}function h(e){var t;return!(null===(t=e.dataset)||void 0===t||!t.ntvFired)}function p(e){e&&e.setAttribute&&e.setAttribute("data-ntv-fired",!0)}function f(e,t){if(!e)return;const{toutClick3rdPartyTracking:i,obfuscateTracking:n}=e;if(i)for(let e=0;e<i.length;e++)a.util.appendImage(i[e],n);if(t&&t.attributes){var r;const e=null===(r=t.attributes["sync-tracking"])||void 0===r?void 0:r.value;null!=e&&a.util.appendIframe(e,()=>{})}}const m=(e,t)=>{e&&e.length&&e.length>0&&e.forEach(e=>{v(e)})},v=(e,t)=>{if(!e.hasAttribute||e.hasAttribute("ntv-force-target"))return;let i=a.util.extractDomain(a.util.getQS("ntv_r","",e.href));i||(i=a.util.extractDomain(e.href)),e.setAttribute("aria-label","3rd party ad, opens in a new window");const n=new URL(window.top.location.href);(t||n.hostname).indexOf(i)>=0?e.setAttribute("target","_top"):e.setAttribute("target","_blank")}},5150:(e,t,i)=>{"use strict";i.d(t,{Rt:()=>Nn,core:()=>Hn,dZ:()=>Wn});i(560),i(278),i(4043),i(5847);var n=i(6101),r=i(1611),s=i(2505);let o=!0;try{window.sessionStorage.getItem("foo")}catch(e){o=!1}const a=function(e){return o?window.sessionStorage.getItem(e):(0,s.ej)(e)},c=function(e,t){o?window.sessionStorage.setItem(e,t):(0,s.d8)(e,t,365)};var l=i(3204),u=i(6330),d=i(4862);const{checkIfExistAndAppendQS:h,getQS:p,qetQueryStringParams:f,fowardQS:m}=r.util,v=(0,d.W)("settings"),g=(e,t)=>{t&&"object"==typeof t&&Object.keys(t).forEach(i=>{switch(i){case"ntvPubInjection":case"cfg.pubInjection":case"pubInjection":e.pubInjection=!0;break;case"ntvSetNoAutoStart":case"cfg.SetNoAutoStart":case"preventAutoStart":e.autoStart=!1;break;case"ntvArticle":case"ntvClickoutTracking":case"trackClickout":case"cfg.ClickOutTracking":e.measurement=y(t[i]);break;case"ntvRequestUrl":case"requestUrl":case"cfg.RequestUrl":e.requestUrl=r.util.ntvTrim(t[i]);break;case"ntvDebug":case"debug":case"cfg.Debug":e.debugMode=!0;break;case"ntvAmp":case"googleAmp":case"cfg.Amp":e.ampMode=!0;break;case"ntvServerDomain":case"adBlockerDomain":case"cfg.ServerDomain":v.set("adBlockerDomain",t[i]),v.set("adBlocker",1);break;case"experiment":case"ntvExperiment":e.experiment=t[i];break;case"mraid":case"ntvMraid":e.MRAID=!0;break;case"ntvEdge":e.isEdge=!0;break;case"ntvAds":e.ads=y(t[i]);break;case"ptd":e.ptd=t[i];break;case"retry":e.retry=!0;break;case"customAudience":e.customAudience=t[i];break;case"liveRamp":e.liveRamp=t[i];break;case"ntvSdk":case"sdk":e.sdk=y(t[i]);break;case"flags":case"cfg.flags":e.flags=t;break;case"ntvIntegrationType":e.integrationType=t[i]?Number(t[i]):null}})};function y(e){return"false"!==e.toLowerCase()}const b=(e,t)=>{let i=h(e.advid,n.z1.ADV_ID)+h(e.adversionplacementid,n.z1.AVP)+h(e.placementid,n.z1.PLC_ID)+m(n.z1.OVERIDE_ARTICLE)+m(n.z1.ABA)+m(n.z1.RENDER_MODE)+m(n.z1.ARTICLE_TMPL)+m(n.z1.PASS_PREVIEW)+m(n.z1.IP)+t;30==e.rt&&(i+="&"+n.z1.FRAUD),e.debugMode&&(i+="&"+n.z1.DEBUG_MODE),document.referrer.length>0&&(i+=h(document.referrer,n.z1.PAGE_REF));let s=(o="",window.STR&&(o+="1,"),window._tlModuleLoader&&(o+="5,"),window.AdsNative&&(o+="21,"),window.Connatix&&(o+="2,"),o.length>0&&(o=o.substring(0,o.length-1)),o);var o;s.length>0&&(i+="&"+n.z1.TRACK_MEDIATION+"="+s),a("ntvAds")&&(i+="&"+n.z1.SEEN_ADS+"="+a("ntvAds")),("playsInline"in document.createElement("video")||r.util.isAndroidPhone()&&"autoplay"in document.createElement("video")||r.util.isAndroidTablet())&&(i+="&ntv_mvi");let c=r.util.getKeyValuePairs();return c&&(i+="&"+n.z1.KEY_VALUE_PAIRS+"="+c),r.util.isPublisherLoadedInTopWindow()||(i+="&"+n.z1.PUBLISHER_IN_IFRAME+"=1"),e.experiment&&(i+="&"+n.z1.EXPERIMENT+"="+e.experiment),e.retry&&e.ptd&&(i+="&"+n.z1.RETRY+"&"+n.z1.PTD_FILTER+"="+encodeURIComponent(e.ptd),delete e.ptd),i},E=e=>e?Array.prototype.slice.apply(e.attributes).filter(e=>/(^ntv-)(.*)/.test(e.name)).reduce((e,t)=>(e[l(t.name)]=t.value,e),{}):{},w=()=>{let e=(()=>{const e=f();return{autoStart:!0,requestUrl:window.location,rt:1,makeAdRequest:!0,debugMode:!1,ampMode:!1,experiment:"",needsMRAID:!1,adversionplacementid:"",placementid:"",retry:!1,ptd:"",baseURL:e.base,qs:e.params,pubInjection:!1,sdk:!1,recordEngagements:!0,useObserverViewability:!0,flags:u.D9,adPreferencesString:""}})();var t;return ntv.attrValues=(()=>{const e=r.util.domQuery("script[src*='//s.ntv.io/serve/load.js']")||r.util.domQuery("script[src*='//a.postrelease.com/serve/load.js']")||r.util.domQuery("script.ntv-client-script");if(!e)return{};return{...E(e),...e.dataset}})(),g(e,ntv.attrValues),window._prx&&g(e,(t=window._prx,Array.isArray(t)?t.reduce((e,t)=>(e[t[0]]=t[1]||"",e),{}):t)),window.ntvConfig&&g(e,window.ntvConfig),(e=>{e.measurement&&(e.measurement=Boolean(e.qs[n.z1.ARTICLE_TMPL]||e.qs[n.z1.AVP])),e.makeAdRequest=function(e){var t;return e.measurement?!!e.ads&&e.ads:null===(t=e.ads)||void 0===t||t}(e)})(e),function(e){let t=p(n.z1.ADV_ID),i=p(n.z1.AVP),r=p(n.z1.PLC_ID);t&&(e.advid=t),i&&(e.adversionplacementid=i),r&&(e.placementid=r),e.qs[n.z1.FRAUD]&&(e.rt=30)}(e),e},T=e=>{let t={};return t.selector=window,t.adVersionPlacement=e.adversionplacementid,t.baseTrackingUrl=r.util.getProtocol()+"//"+r.util.getServerDomain()+"/trk.gif?"+n.z1.AT+"=",t.secondaryImpressionTags="",t.moatEnabled=!1,t.trackTimeOnContent=!0,t.recordType=1,t.clickoutTracking=1,t};i(6265),i(7267);var S=i(9294);i(1057),i(8730),i(9979),i(9307),i(8858),i(1318),i(3228),i(6801);const A={17000001:"permutive"};function I(){if(!Hn.setting||!Hn.setting.customAudience)return{};let e=Hn.setting.customAudience;if(Array.isArray(e))return e.length<1?[]:[{[n.z1.CUSTOM_AUDIENCE_SEGMENTS]:audienceQS.concat(e.join())}];{if(!e||!r.util.is("n",e)&&!r.util.is("s",e))return"";let t=function(e){let t=A[e],i=t&&ntvConfig&&ntvConfig.keyValues&&ntvConfig.keyValues[t];if(i)return i.substr(1,i.length-2)}(e);return t?{[n.z1.CUSTOM_AUDIENCE_VENDOR]:e,[n.z1.CUSTOM_AUDIENCE_SEGMENTS]:t}:{}}}var P=i(9549),C=i(5016);function k(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function R(e,t){return e.get(D(e,t))}function D(e,t,i){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:i;throw new TypeError("Private element is not present on this object")}var O=new WeakMap,_=new WeakSet;class L{constructor(e){var t,i;k(t=this,i=_),i.add(t),function(e,t,i){k(e,t),t.set(e,i)}(this,O,void 0),function(e,t,i){e.set(D(e,t),i)}(O,this,e),D(_,this,N).call(this),Object.defineProperty(this,"params",{get:()=>R(O,this)})}mergeSearchParams(e){this.addSearchParams(e.entries())}addSearchParamsFromObject(e){this.addSearchParams(Object.entries(e))}addSearchParams(e){for(const[t,i]of e)this.addSearchParam(t,i)}addDefinedSearchParam(e,t){this.addConditionalSearchParam(null!=t&&t.toString&&""!==t.toString().trim(),e,t)}addConditionalSearchParam(e,t,i){e&&this.addSearchParam(t,i)}addSearchParam(e,t){void 0!==e&&void 0!==t?R(O,this).set(e,t):console.error("[AdServerRequest] addSearchParam key or value is undefined: ".concat(e,", ").concat(t))}resolveNtvUrlValue(e){let t=Hn.setting.ampMode&&Hn.setting.requestUrl&&document.referrer.toString().includes(Hn.setting.requestUrl)?document.referrer:Hn.setting.requestUrl.toString();if(e&&e.length>0&&(t=r.util.removeQueryKeyValuePairs(e,t)),0===t.indexOf("http://webcache.googleusercontent.com"))try{t=r.util.domQuery("div#google-cache-hdr div a").href}catch(e){}return encodeURIComponent(t)}}function N(){const e=new URLSearchParams(Hn.setting.prx_rtparam||"");this.mergeSearchParams(e),this.addDefinedSearchParam(n.xc.FIRST_PARTY_COOKIE,Hn.firstPartyCookie),this.addDefinedSearchParam(n.z1.US_PRIVACY,Hn.setting.usprivacy),this.addDefinedSearchParam(n.z1.GPP_STRING_KEY,C.tv.getGPPStringFromStorage()),this.addDefinedSearchParam(n.z1.OPT_OUT_SOURCE,Hn.setting.oos),this.addSearchParamsFromObject(I()),this.addConditionalSearchParam(!Hn.setting.recordEngagements,n.z1.REQ_OPTIONS,"s"),this.addDefinedSearchParam(n.z1.PB_EID,(0,P.j)()),this.addDefinedSearchParam(n.xc.WEB_CHOICES,Hn.webChoices.adPreferencesString);this.addSearchParam(n.z1.REQ_URL_NTV,this.resolveNtvUrlValue(Hn.setting.measurement?[n.z1.ARTICLE_TMPL,n.z1.AVP]:[]));const{pcid:t,pcidDate:i}=Hn.intentIq.getData();this.addDefinedSearchParam(n.xc.INTENTIQ_PCID,t),this.addDefinedSearchParam(n.xc.INTENTIQ_PCIDDATE,i)}function x(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class V{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"".concat(r.util.getProtocol(),"//").concat(n.z1.JDOMAIN,"/t");x(this,"url",void 0),x(this,"searchParams",void 0),this.setUrlFromString(e)}setUrlFromString(e){this.setUrl(new URL(e))}setUrl(e){this.url=e,this.searchParams=new L(this.url.searchParams)}makeRequest(){return new Promise((e,t)=>{const i=r.util.appendScript(this.url.toString());i.addEventListener("load",()=>{e()}),i.addEventListener("error",()=>{t()})})}}class M extends V{constructor(){super("".concat(r.util.getProtocol(),"//").concat(n.z1.JDOMAIN,"/t.json"))}makeRequest(){return new Promise(e=>{fetch(this.url.toString(),{credentials:"include"}).then(e=>e.json()).then(t=>{e(t)}).catch(e=>{console.error("Error fetching ad server JSON:",e)})})}}const U=window.win||window,j=r.util.debounce;async function F(e,t){const i=new M;!function(e,t){e.searchParams.addSearchParam(n.z1.PLC_ID,encodeURIComponent(t.placement)),e.searchParams.addSearchParam(n.z1.PTD_FILTER,encodeURIComponent(t.placement)),e.searchParams.addDefinedSearchParam(n.z1.AD_FILTER,PostRelease.adsToFilter.join()),e.searchParams.addDefinedSearchParam(n.z1.CMP_FILTER,PostRelease.campaignsToFilter.join()),e.searchParams.addDefinedSearchParam(n.z1.ADV_FILTER,PostRelease.advertisersToFilter.join()),e.searchParams.addSearchParamsFromObject(r.util.getURLCacheSearchKVP())}(i,e);try{t(await i.makeRequest())}catch(e){t()}}function B(e,t){t.containsInfScrollPlacements=!0,e.passbackHandler(t),PostRelease.ProcessResponse(t)}class W{constructor(e,t,i,n){this.selector=e,this.currentPosition=t,this.placement=i,this.interval=n}hasNextNode(){return!!ntv.query(this.getNextSelector())[0]}getNextSelector(){return this.selector.replace("%p%",this.currentPosition+this.interval)}getSelector(){return this.selector.replace("%p%",this.currentPosition)}increaseInterval(){this.currentPosition+=this.interval}}i(8324);var H=i(1435);class z extends H.f{constructor(e,t){super(n.z1.GDPR_QS_KEY),this.name=n.z1.GDPR,this.consentData=t.consentData||{}}getConsentData(){return this.consentData}consentDataToQueryValue(){return this.consentData.consentString}static async Initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window;const t=await Y();return new z(e,{consentData:t})}}const G=(e,t)=>!!q[e]&&q[e](t),q={v1:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window;return e.__cmp&&"function"==typeof e.__cmp},v2:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window;return e.__tcfapi&&"function"==typeof e.__tcfapi}},Y=()=>{const e=(0,s.b3)();return new Promise((t,i)=>{let n=setTimeout(()=>{i()},1e5);(0,C.x5)(C._S.TCF_V2,e).then(e=>Promise.resolve({consentString:e.tcString,apiVersion:e.tcfPolicyVersion})).catch(t=>Z(e)).catch(t=>Q(e)).catch(t=>K(e)).catch(e=>{i()}).then(e=>{clearTimeout(n),t(e)})})},Q=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window;return new Promise((t,i)=>{G("v1",e)?e.__cmp("getVendorConsents",[n.z1.GDPR_VENDOR_ID],(e,r)=>{r&&e&&e.gdprApplies&&e.vendorConsents[n.z1.GDPR_VENDOR_ID]?t({consentString:e.metadata,apiVersion:1}):i()}):i()})},K=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window;return new Promise((t,i)=>{G("v1",e)?e.__cmp("getVendorConsents",n.z1.GDPR_VENDOR_ID,(e,r)=>{r&&e&&e.gdprApplies&&e.vendorConsents[n.z1.GDPR_VENDOR_ID]?t({consentString:e.metadata,apiVersion:1}):i()}):i()})},Z=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window;return new Promise((t,i)=>{G("v2",e)?e.__tcfapi("getTCData",2,(e,r)=>{r&&e&&e.gdprApplies&&e.vendor.consents[n.z1.GDPR_VENDOR_ID]?t({consentString:e.tcString,apiVersion:2}):i()},[n.z1.GDPR_VENDOR_ID]):i()})},X={accountId:"",bidders:[],enabled:!0,timeout:1e3,adapter:"nativoServerBidAdapter",endpoint:"https://dev-prebid-server.internal.nativo.net/openrtb2/auction",syncEndpoint:"http://dev-prebid-elb.internal.nativo.net:8000/cookie_sync"};let J,$=window,ee=2e3,te=[],ie=!0,ne=null;function re(e){te.push(e),function(){let e=r.util.domQuery('script[src*="'.concat("//s.ntv.io/js/prebid5.js",'"]'),$.document);return new Promise(t=>{e&&t(),r.util.appendScript(r.util.getProtocol()+"//s.ntv.io/js/prebid5.js",t.bind(this),"ntv-ntvPbjs")})}().then(se)}function se(){if(ie)ie=!1,ne=null,function(){const e=te.pop(),t=e.params,i=t.adUnits;i.forEach(e=>{e.bids.forEach(e=>{"nativo"===e.bidder&&(e.bidder="nativo_wrapper")})}),t.tmax&&(ee=t.tmax);return i.forEach(e=>{if(0==e.sizes.length&&(e.sizes=[[300,250],[300,600]]),e.mediaTypes={video:{context:"outstream",playerSize:[640,480]},banner:{sizes:e.sizes}},e.videoDivID=""+e.placement,e.resultExtraQS=t.hbExtraQS||"",e.auctionTrackingExtraParams){const t=ce(e.bids,n.z1.BEFORE_AUCTION,e.auctionTrackingExtraParams);r.util.appendImage(t)}}),new Promise((t,i)=>{(function(e){const t=e.params.adUnits||[],i=function(e){const{gdpr:t,usp:i,adUnits:n,pbjsConfig:r,preBidGdpr:s,preBidUsp:o}=e.params;let a,c=r?{...r}:{};if("s2s"===e.type){let e,t=new Set;const i=n.filter(i=>(e=i.bids[0].bidder,!t.has(e)&&(t.add(e),!0))).map(e=>e.bids[0].bidder);c.s2sConfig=Object.assign(X,{bidders:i})}const l=s||t;l&&function(){arguments.length>0&&void 0!==arguments[0]||window;Object.keys(q).some(e=>G(e))}($)&&(a=a||{},a.gdpr={},a.gdpr.cmpApi=l.cmpApi,a.gdpr.timeout=l.timeout||ee,a.gdpr.allowAuctionWithoutConsent=!!l.allowAuctionWithoutConsent);const u=o||i;u&&(a=a||{},a.usp={},a.usp.cmpApi=u.cmpApi,a.usp.timeout=u.timeout||ee);a&&(c.consentManagement=a);return c}(e),n=function(e){const{pbjsBidderConfig:t}=e.params;if(!t)return;const i=t.bidders;if(!(i&&Array.isArray(i)&&i.length>0))return;return t}(e);return new oe(e,t,i,n)})(e).run().then(e=>e.processResponses()).then(t).catch(i)})}().then(()=>{ie=!0}).catch(()=>{ie=!0});else{if(ne)return;ne=setTimeout(()=>se(),100)}}function oe(e,t,i,s){this.spec=e,this.type=e.type,this.adUnits=t,this.config=i,this.processed=!1,this.adUnits.forEach(e=>{if(!e.code){const t=e.bids.find(e=>"nativo_wrapper"===e.bidder);t&&t.params&&t.params.ad&&(e.code=t.params.ad.selector)}}),J=$.ntvPbjs||{},J.que=J.que||[],J.que.push(()=>{J.setConfig(this.config),s&&J.setBidderConfig(s)}),J.trackWinningBid=e=>{let t=function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];for(let i=0;i<J.adUnits.length;i++){const n=J.adUnits[i];if(n.code==e.adUnitCode)for(let e=0;e<n.bids.length;e++){const i=n.bids[e];if(!t||"nativo_wrapper"==i.bidder)return i.params}}}(e.ad,"hb"===this.type);if(!t)return;let i=t.ad;i.id||(i.id=t.placementId);let s=i.tracking,o=ae(e.ad.bidder);!function(e,t,i,s,o,a){r.util.trackReplacedNodeViewableImpression({primaryImpressionURL:i.trackingBaseUrl+n.z1.PB_VCPM_IMP+",304&ntv_a="+i.adVersionPlacement+"&"+s+"="+o,selector:e[0],adID:i.vcpmParams.adID,placementID:t.id,checkMinimumAreaViewable:!0,checkOnFocus:!0,infiniteScroll:a,minimumAreaViewable:.5,minimumExposedTime:1e3,thirdPartyTrackingTags:""})}(e,i,s,n.z1.SUB_AT,o,!!t.ad.infScroll)}}function ae(e){for(let t=0;t<J.adUnits.length;t++){const i=J.adUnits[t];for(let t=0;t<i.bids.length;t++){let n=i.bids[t];if(n.bidder==e)return n.bidderID}}return 0}function ce(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];const s=r?e.filter(e=>"nativo_wrapper"===e.bidder):e;if(!s[0].params.ad)return;const{trackingBaseUrl:o,adVersionPlacement:a}=s[0].params.ad.tracking;return o+t+"&"+n.z1.AVP+"="+a+i}oe.prototype.run=function(){return new Promise(e=>{this.prebidTimeout=setTimeout(()=>{e(this)},ee+200),J.que.push(()=>{J.addAdUnits(this.adUnits),J.requestBids({timeout:ee,bidsBackHandler:()=>{this.prebidTimeout&&clearTimeout(this.prebidTimeout),e(this)}})})})},oe.prototype.processResponses=function(){this.processed||(this.processed=!0,this.setNativoTargetingAndRender())},oe.prototype.setNativoTargetingAndRender=function(){const e=[];this.adUnits.forEach(t=>{let i=0;t.bids.forEach(e=>{"s2s"!==this.type&&"nativo_wrapper"!==e.bidder||(i=e.params.ad.injectionMode)}),this.targeting=J.getNativoWinningBids(t.code),this.checkForSelectorAndRender(t,e,i)}),e.length&&this.renderClientAd(e)},oe.prototype.checkForSelectorAndRender=function(e,t,i){if(!this.targeting)return;let s=this.targeting.winner;const o=e.auctionTrackingExtraParams;let a=this.resolveSelector(e);if(a&&r.util.domQuery(a)&&("nativo_wrapper"===s.bidder?(t.push(s.ad),this.trackBidRendering(s,e)):(!function(e,t){if(t.passback){let i=t.passback.Providers||[],n=t.params.adUnits.filter(t=>t.code===e.adUnitCode).map(e=>e.placement)[0];i.forEach((function(e){e.Placements=e.Placements.filter(e=>e.Placement!=n)})),t.passback.Providers=i.filter(e=>!0===e.PlacementSpecific)}}(s,this.spec),s.adUnitCode=a,J.onEvent("bidWon",this.trackBidRendering.bind(this,s,e),e.code),J.renderNativoAd(s,i)),o)){const t=ce(e.bids,n.z1.AFTER_AUCTION,o);r.util.appendImage(t)}},oe.prototype.trackBidRendering=function(e,t){if("hb"===this.type){const e=r.util.getProtocol()+"//"+r.util.getServerDomain()+"/hb.gif";r.util.ajax({method:"POST",contentType:"application/x-www-form-urlencoded",url:e,payload:t.resultExtraQS+"&t="+r.util.encryptUrl(JSON.stringify(this.targeting.auction))+r.util.buildExperimentUrl(Hn.setting.experiment,!1)})}else{let i=ae(e.bidder),r=e.params[0].qsParams||"";r+="&"+n.z1.SUB_AT+"="+i,this.firePrimaryImpression(t,r)}},oe.prototype.resolveSelector=function(e){return"s2s"===this.type&&e.bids[0].params&&e.bids[0].params.ad?e.bids[0].params.ad.selector:e.code},oe.prototype.renderClientAd=function(e){if(e&&0!==e.length){var t={};t.placements=e,t.passback=this.spec.passback,t.passback&&t.passback.Providers.length&&t.passback.Providers[0].Placements.length>0&&t.passback.Providers[0].Placements[0].Locator&&function(e){e.passback.Providers.forEach(t=>{!function(e,t){e.Placements.forEach((e,i)=>{t.placements[i].selector=e.Locator,t.placements[i].prebid=!0})}(t,e)})}(t),Hn.ProcessResponse(t,{callByPreBid:!0})}else setTimeout(()=>this.renderClientAd(e,this.spec),0)},oe.prototype.firePrimaryImpression=function(e,t){r.util.appendImage(ce(e.bids,n.z1.PB_CPM_IMP,e.auctionTrackingExtraParams,!1)+"&".concat(t))};i(2003),i(8518);const le=(e,t)=>{const i={providerID:e.ProviderID,rateType:e.RateType,amount:e.Amount,adVersionPlacement:e.AdVersionPlacement,completed:!1,skipLog:e.SkipLog};return t&&(i.id=Math.round(1e3*Math.random()).toString().concat((new Date).valueOf().toString()),i.selector=t.Selector,i.locator=t.Locator,i.adVersionPlacement=t.AdVersionPlacement),i},ue=e=>{const t=e.providerID;1!=t&&3!=t&&22!=t||(e.autoFillDetection=!0,ntv.query(window).bind("message",(function(t){const i=t.originalEvent&&t.originalEvent.origin?t.originalEvent.origin:t.origin;i&&i.indexOf("btlr.sharethrough.com")>=0&&setTimeout(()=>(e=>{let t=ntv.query(e.locator)[0];if(t){"true"==t.getAttribute("data-str-visited-flag")&&(e.autoFillDetection=!0)}})(e),200)})))},de=(e,t,i)=>{e==n.z1.PB_ATT&&t.skipLog&&(e=n.z1.PB_ATT_SKIP_LOG);let s="";return(e==n.z1.PB_CPM_IMP&&2==t.rateType||e==n.z1.PB_VCPM_IMP&&3==t.rateType)&&(s="&"+n.z1.VALUE+"="+t.amount),t.skipLog&&e!=n.z1.PB_ATT_SKIP_LOG&&(s="&"+n.z1.REQ_OPTIONS+"=s"),i+e+"&"+n.z1.AVP+"="+t.adVersionPlacement+"&"+n.z1.SUB_AT+"="+t.providerID+s+r.util.setURLCache()},he=(e,t,i)=>{r.util.ntvAppendPixelImage(de(e,t,i))},pe=(e,t,i,s,o)=>{i<0?he(n.z1.PB_NOT_FIL,t,s):((e,t)=>{let i=!1,n=!1;if(e.locator){let t=r.util.domQuery(e.locator);if(t){const{width:r,height:s}=t.getBoundingClientRect();r>0&&s>1?(i=!0,n=!0):e.autoFillDetection&&(i=!0,n=!1)}else i=!1,n=!1}else i=!0,n=!1;t(i,n)})(t,(a,c)=>{a?c?(he(n.z1.PB_CPM_IMP,t,s),((e,t,i)=>{const s={primaryImpressionURL:de(n.z1.PB_VCPM_IMP,e,i),thirdPartyTrackingTags:"",selector:ntv.query(e.locator)[0],minimumAreaViewable:t.minimumAreaViewable,minimumExposedTime:t.minimumExposedTime,checkOnFocus:t.checkOnFocus,checkMinimumAreaViewable:t.checkMinimumAreaViewable,infiniteScroll:!1,placementID:t.placementID};r.util.trackReplacedNodeViewableImpression(s)})(t,o,s)):he(n.z1.PB_NOT_FIL,t,s):setTimeout(()=>pe(e,t,i-1,s,o),100)})},fe=(e,t,i,r,s)=>{let o=le(t,i);ue(o),((e,t,i,r)=>{var s;(s=t).selector=s.Selector,s.html=s.BodyTag,s.injectionMode=s.InjectionMode,e.isEdge&&0==e.index?he(n.z1.PB_ATT,i,r):$e(t,e=>{t.injectNode=e,ot(t),he(n.z1.PB_ATT,i,r)},50)})(e,i,o,r),pe(e,o,30,r,s)},me=(e,t,i)=>{const r=e.Providers,s=r[e.index];let o=le(s||r[0]);e.index!=r.length?(s.HeaderTag.length>0&&(e.isEdge&&0==e.index||ntv.query("head").append(s.HeaderTag)),s.Placements.length?s.Placements.forEach(n=>{fe(e,s,n,t,i)}):he(n.z1.PB_ATT,o,t),e.index+=1):he(n.z1.PB_NOT_FIL,o,t)},ve=function(e,t){let i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!e)return;const n=e.TrackingUrl;void 0===e.index&&(e.index=0),i&&(e.isEdge=!0),me(e,n,t)};function ge(e){return e.selector+(e.page?'[page="'.concat(e.page,'"]'):"")}const ye=(e,t)=>{let i=ntv.query(e.selector),s=e.cpmExtraQS||"";i.length||e.foundOnEdge?(e.inventoryTracked||(e.inventoryTracked=!0,r.util.appendImage(e.url+"303&"+n.z1.AVP+"="+e.adVersionPlacement+r.util.setURLCache()+s),new ntvViewableImpressionTracker(e.vcpmParams),S.o.performance.trackAfterRender({adVersionPlacement:e.adVersionPlacement,trackingBaseUrl:e.url},1)),e.passback&&i.length&&(e.selector=i,e.passback.Providers.forEach((function(e){e.Placements.length>0&&!e.Placements[0].Selector&&(e.Placements[0].Selector=i)})),e.passback.TrackingUrl=e.url,t.hb||ve(e.passback,e.vcpmParams))):"complete"!==document.readyState&&setTimeout(()=>ye(e,t),100)};var be=i(5798),Ee=i(8721),we=i(726);const Te={0:function(e,t){return t.before(e)},1:function(e,t){return t.replaceWith(e)},2:function(e,t){return t.after(e)},3:function(e,t){return t.prepend(e)},4:function(e,t){return t.before(e),r.util.hide(t),e}};function Se(e){let{node:t,target:i,mode:n}=e;if(void 0===t)throw new Error("Injection node is not defined");if(void 0===i)throw new Error("Injection target is not defined");if(void 0===n)throw new Error("Injection mode is not defined");if(!Te[n])throw new Error("Injection mode ".concat(n," is not supported"));return Te[n](t,i),t}var Ae=i(5902),Ie=i(1389),Pe=i(8258);function Ce(e,t){const i=(0,Ae.x2)(e);if(!i||!Array.isArray(t))return;const n=t.map(e=>e.trackers);i.dynamicAdTracking=n}function ke(e){const t=Re(e);if(null==t)return;const i=e.querySelectorAll("a");if(0===i.length)return;const{url:n}=t,r=Array.from(i).filter(e=>function(e,t){return e===t||(e.indexOf(t)>0||!!e.indexOf(encodeURIComponent(t)>0))}(e.href,n));for(const t of r)t.dataset.ntvDynamicElementId=e.id,t.addEventListener("click",De)}function Re(e){const t=(0,Ae.x2)(e.dataset.ntvId);if(null==(null==t?void 0:t.dynamicAdTracking))return;const i=Number(e.dataset.ntvDynamicAssetIndex);return null!=i?t.dynamicAdTracking[i].clickTrackingData:void 0}function De(e){const t=r.util.domQuery("#".concat(e.currentTarget.dataset.ntvDynamicElementId));if(null==t)return;const i=Re(t);if(null==i)return;const{clicktrackers:n}=i;for(const e of n)r.util.appendImage(e)}var Oe=i(3804);function _e(e,t,i){const n=[e],o=r.util.breakOutIframe();o&&n.push(e=o);let a=t;for(;e.parentNode&&a>0&&(a--,null!=(e=Le(e)));)n.push(e);return(0,Oe.Pj)((0,s.b3)()),(0,Oe.wI)().then(e=>{var t;null===(t=e.breakout)||void 0===t||t.registerBreakOutChain(n,i)}),e}function Le(e){return null==e.parentNode?function(e){if(r.util.isInIframe(e))return r.util.getContainingIframe(e);return}(e):e.parentNode}var Ne=i(1171),xe=i(970),Ve=i(3160),Me=i(3798),Ue=i(5481);const je="No selector found",Fe="EDGE",Be="SAFEFRAME",We="EXTENDED",He="DEFAULT",ze={[Fe]:50,[Be]:100,[We]:250,[He]:100},Ge=e=>Hn.setting.isEdge?Fe:Hn.inSafeFrame?Be:Ye(e)?We:He,qe=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return ze[Ge(e)]},Ye=e=>e>=300,Qe=(e,t)=>{try{const{baseUrl:i,ntvAValue:n,ntvFlValue:r,ntvUiValue:s}=t,o=new URL(e);if(o.origin+o.pathname!==i)return!1;const a=o.searchParams.get("ntv_a"),c=o.searchParams.get("ntv_fl"),l=o.searchParams.get("ntv_ui");return a===n&&c===r&&l===s}catch(e){return!1}},Ke=(e,t,i,n)=>{const r=e.getAttribute(t);if(r)try{let s=r.match(/((?:https?:)?\/\/[^\s'"]+)/g);if(s){let o=r;s.forEach(e=>{let t=e;e.startsWith("//")&&(t="https:"+e),Qe(t,i)&&(o=o.replace(e,n))}),o!==r&&e.setAttribute(t,o)}}catch(e){Ue.Z.postErrorMsg("replaceUrlInAttribute: Failed to process ".concat(t," attribute: ").concat(e.message))}},Ze=(e,t,i)=>{if(t&&i)try{e.querySelectorAll("a[href]").forEach(e=>{try{Qe(e.href,t)&&(e.href=i),Ke(e,"onclick",t,i),Ke(e,"onmousedown",t,i)}catch(e){Ue.Z.postErrorMsg("replaceDFPClickUrls: Failed to process anchor: ".concat(e.message))}})}catch(e){r.util.postError(new Error("Failed to replace DFP click URLs: ".concat(e.message)))}},Xe=function(e){let t,{selector:i,dfpType:n,parentCount:o,isBreakOut:a,uid:c}=e,l=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!i)return;let u=document;try{if(2==n&&r.util.isInIframe()){u=r.util.breakOutIframe().document}t=r.util.domQuery(i,u)}catch(e){r.util.postError(new Error("getInjectNode() Injection node not found. Selector:".concat(i," in context").concat(u,", Cause:").concat(e.message)))}return a&&(t=_e(t,o,"".concat(c))),!t&&l&&Hn.safeFrame&&Hn.safeFrame.api&&(t=document.body),!_e&&t&&((0,Oe.Pj)((0,s.b3)()),(0,Oe.wI)().then(e=>{var i;null===(i=e.breakout)||void 0===i||i.registerBreakOutChain([t],"".concat(c))})),t};function Je(e,t){return e&&2!=t}const $e=function(e,t,i){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,s=arguments.length>4?arguments[4]:void 0;if(n>6e4)return void s("".concat(je,": ").concat(e.selector));const o=Ye(n);e.isBreakOut=Je(e.parentCount,e.dfpType);let a=Xe(e,o);if(n+=i,a)return t(a);r.util.setTimeout(()=>{$e(e,t,qe(n),n,s)},i)},et=["preview","html","tracking","tracker","privacyUrl","toutClickTracker","toutClick3rdPartyTracking"],tt=function(){let e=[],t=0,i=0,n=0;return{renderInit:(n,r)=>{e=r,t=e.length,i=n},renderComplete:(s,o)=>{if(!e)return;let a=e.indexOf(o.adId);-1!==a&&(n+=s?0:1,e.splice(a,1),((e,t)=>{const i=t.adId,n=t.placementId,s=(0,Ne.gu)(t,...et);r.util.firePubSubEvent("adRenderingComplete",{success:e,placement:n,id:i,adData:s})})(s,o),0===e.length&&(()=>{if(r.util.firePubSubEvent("allAdsRenderingComplete",{success:0===n,adCount:t,placementCount:i}),ntv.postAdsRenderingCallbacks&&Array.isArray(ntv.postAdsRenderingCallbacks))for(;ntv.postAdsRenderingCallbacks.length>0;){ntv.postAdsRenderingCallbacks.pop()()}})())}}}();function it(e,t){const i=r.util.clientUtils.generateAdPlacementId(e.id,t.id);e.adVersionPlacement=Ve.cg.fromIdValues(e.id,null,t.id),e.timestamp=Date.now(),e.adPlacementId=i,e.placementId=t.id,e.uid=function(e,t){const i=new RegExp("ntv".concat(t,"-(\\d+)")).exec(e)||[];return i.length>0?i[0].slice(3):null}(e.preview.html,i)||"".concat(e.adPlacementId,"-").concat(t.responseId),e.responseId=t.responseId}const nt=e=>{let t=!1;r.util.onDOMContentLoaded(()=>{let i=Xe(e);e.injectNode=i,function(){if(!t){var i;let n=null==e||null===(i=e.injectNode)||void 0===i?void 0:i.length,s={id:e.id,adLocation:e.selector,injectNode:n?e.injectNode[0]:null};setTimeout(()=>{r.util.firePubSubEvent("noAd",s),r.util.firePubSubEvent("noad",s)},0),t=!0}}()})},rt=(e,t)=>{if(!r.util.ampModeHandler(Hn.ampMode)&&(nt(e),!e.isABA&&e.tracking)){((e,t)=>{Hn.inventoryTrackers.push(e);for(let e=0;e<Hn.inventoryTrackers.length;e++){const i=Hn.inventoryTrackers[e];Hn.inventoryTrackersHistory[i.placementID+"_"+i.selector]||(ye(i,t),Hn.inventoryTrackersHistory[i.placementID+"_"+i.selector]=!0)}})(((e,t)=>{let i=e.tracking||{};var n=i.vcpmParams||{},r={};return n.thirdPartyTrackingTags="",n.selector=ge(e),n.placementID=e.id,n.isInvTracking=!0,r.url=i.trackingBaseUrl,r.selector=ge(e),r.placementID=e.id,r.prebid=e.prebid,r.adVersionPlacement=i.adVersionPlacement,r.passback=t.passback?t.passback:e.passback,r.vcpmParams=n,r.cpmExtraQS=e.tracking?e.tracking.cpmExtraQS:"",r.foundOnEdge=e.foundOnEdge,r})(e,t),t)}},st=e=>{var t,i,n=[],r=[];if(!(e instanceof HTMLElement))return n;i=e.getBoundingClientRect(),t={offsetWidth:e.offsetWidth,offsetHeight:e.offsetHeight,scrollTop:e.scrollTop,scrollLeft:e.scrollLeft,getBoundingClientRect:function(){return i}};for(let t=0;t<e.children.length;t++)r.push(...st(e.children[t]));return t.children=function(){return r},n.push(t),n},ot=function(e){let t;try{Hn.referencePlacementPositions[e.selector]=st(r.util.domQuery(e.selector)),t=(0,Pe.htmlStringToElement)(e.html),ct(e),lt(e);try{Se({mode:e.injectionMode,target:e.injectNode,node:t})}catch(e){return void r.util.postError(e)}if(e.element=r.util.toDomElement(t),at(e),e.dfpMatchCriteria&&e.dfpReplacementUrl&&Ze(e.element,e.dfpMatchCriteria,e.dfpReplacementUrl),Hn.isPreviewReq&&!Hn.autoScrolling){const e=r.util.getQS(n.z1.CLIENT_OPTIONS);-1!==e.indexOf("s")&&(Hn.autoScrolling=!0,(0,Ee.s)(t,e).then(()=>{Hn.autoScrolling=!1}))}e.toRegister&&(Hn.adsMap[r.util.clientUtils.generateAdPlacementId(e.id,e.placementId)]={responseId:e.responseId,node:e.element,type:"ad"}),e.element.dataset.ntvId=e.adPlacementId,tt.renderComplete(void 0!==e.element,e)}catch(e){r.util.postError(e)}finally{return t}};function at(e){0!=e.breakOut&&(0,Oe.wI)().then(t=>{var i;t.breakout.removeElementOnAdRemoval(e.element,e.uid),null===(i=t.heavyAdIntervention)||void 0===i||i.removeAdMonitoring(e.uid)})}function ct(e){e.isBreakOut&&1==e.injectionMode&&1==e.injectionMode&&(e.injectionMode=4)}function lt(e){e.injectNode.length&&(e.injectNode=e.injectNode[0])}const ut=e=>new Promise((t,i)=>$e(e,i=>{e.injectNode=i;try{if((0,xe.uB)(i,e.uid)){var o;if(r.util.resolveIframeType(null===(o=i.ownerDocument)||void 0===o?void 0:o.defaultView)===n.z1.IFRAME_TYPES.FRIENDLY){const t=r.util.getContainingIframe(i);t&&((0,Oe.Pj)((0,s.b3)()),(0,Oe.wI)().then(i=>{var r;const s="".concat(e.tracking.trackingBaseUrl).concat(n.z1.HEAVY_AD_INTERVENTION_IFU,"&").concat(n.z1.AVP,"=").concat(e.uid);null===(r=i.heavyAdIntervention)||void 0===r||r.registerAdForMonitoring(e.uid,t,s,!1)}))}}}catch{}t(ot(e))},qe(),0,e=>{i(e)})),dt=e=>{const{tracking:t}=e;var i;(i=e).thirdPartyJSViewableImpTrackers=r.util.trackImpressionsInViewability(i.viewableWhiteList,i.thirdPartyJSViewableImpTrackers,i.selector),i.thirdpartyJSImpTrackers=r.util.trackImpressionsInViewability(i.viewableWhiteList,i.thirdpartyJSImpTrackers,i.selector),(e=>{e.viewableWhiteList&&(Hn.viewableWhiteList=e.viewableWhiteList),e.whiteListedThirdpartyDomains&&(e.thirdPartyJSViewableImpTrackers&&(Hn.thirdPartyJSViewableImpTrackers[e.placementId]={whitelist:e.whiteListedThirdpartyDomains,thirdparty:e.thirdPartyJSViewableImpTrackers}),e.thirdpartyJSImpTrackers&&e.thirdpartyJSImpTrackers.length&&r.util.filterScripts(e.whiteListedThirdpartyDomains,e.thirdpartyJSImpTrackers))})(e),t&&S.o.performance.trackAfterRender(t,1),(()=>{if(r.util.isInSafeIframe())return;const e=r.util.domQueryAll(".ntvClickOut",Hn.topWindow.document),t=r.util.queryAllChildren(e,"a"),i=r.util.queryAllChildren(e,".ntv_clickout_icon");Hn.setupClickOut([...t],[...i])})()},ht=e=>{let t=Hn.PlacementResponseCache[e];if(t)return t.ads?(t.responseId=r.util.generateUniqueId(1e7),void pt.renderAds(t)):void re({type:"s2s",params:{adUnits:[t]}})};let pt={renderAds:e=>{e.ads.forEach(t=>{let i=!e.infScroll;it(t,e),i&&Hn.adsMap[t.adPlacementId]&&e.responseId&&Hn.adsMap[t.adPlacementId].responseId&&Hn.adsMap[t.adPlacementId].responseId!==e.responseId||((e=>{var t;e.adId=e.id,e.campaignId=e.campaignID,e.advertiserId=null===(t=e.advertiser)||void 0===t?void 0:t.id,e.html=e.preview.html})(t),((e,t)=>{e.placementId=t.id,e.selector=t.selector,e.injectionMode=t.injectionMode,t.infScroll||(e.parentCount=t.parentCount),e.dfpType=t.dfpType||0,e.tracking=t.tracking,e.tracker=t.tracker,e.integrationType=t.integrationType||0})(t,e),t.tracking.toutClickTracker=t.toutClickTracker,t.tracking.toutClick3rdPartyTracking=t.toutClick3rdPartyTracking,t.type=n.oT.TOUT,t.toRegister=i,t.adTracker=new Me.f({...e.tracking,adVersionPlacement:t.adVersionPlacement.value}),(0,Ae.Ps)(t.adPlacementId,t,t.responseId),Hn.setFilteringByLevel(t),(e=>{const t=e.selector,i=(0,Ae.x2)(e.adPlacementId).toutClickTracker;if(window.Nativo){if(null!=i){let n;if(Nativo.tpc&&Nativo.tpc[t]?n=Nativo.tpc[t]+i:Nativo.thirdPartyClickUrl&&(n=Nativo.thirdPartyClickUrl+i),n){e.dfpReplacementUrl=n;try{const t=new URL(i),n=t.searchParams.get("ntv_a"),s=t.searchParams.get("ntv_fl"),o=t.searchParams.get("ntv_ui");n&&s&&o?e.dfpMatchCriteria={baseUrl:t.origin+t.pathname,ntvAValue:n,ntvFlValue:s,ntvUiValue:o}:r.util.postError(new Error("DFP integration: dfpReplacementUrl is set but matching criteria cannot be created for adPlacementId ".concat(e.adPlacementId,". Missing parameters:")+(n?"":" ntv_a")+(s?"":" ntv_fl")+(o?"":" ntv_ui")+". URL: ".concat(i)))}catch(e){r.util.postError(new Error("Failed to parse click URL for DFP integration: ".concat(e.message,". URL: ").concat(i)))}}}Nativo.atf&&Nativo.atf.indexOf(e.id)<0&&Nativo.atf.push(e.id)}})(t),((e,t,i)=>{Hn.topWindow.ntvToutAds||(Hn.topWindow.ntvToutAds={});const n=r.util.clientUtils.generateAdPlacementId(t,e);Hn.topWindow.ntvToutAds[n]=i,(0,d.W)("ads").set(i.uid,i)})(e.id,t.id,t),(e=>{e.viewableWhiteList&&(Hn.viewableWhiteList[e.placementId]=e.viewableWhiteList)})(t),pt.renderAd(t).then(()=>{}).catch(e=>{console.error("[Ad Render Failure]",e)}),(e=>{if(r.util.isiOS()){var t=[];for(a("ntvAds")&&(t=a("ntvAds").split(",")),t.push(e);t.length>10;)t.shift();c("ntvAds",t.join(","))}})(t.id))})},renderAd:e=>(0,be.Ao)(e).then(t=>{if("DCO"!==t.type&&"OUTBRAIN"!==t.type)try{Hn.EnhancedAdPipeline.cacheDynamicAssets(t)}catch(e){console.error("Failed to cache enhanced ad:",e)}return e.dynamicAssets.processed=!0,Ce(e.adPlacementId,t),ut(e).then(i=>{"DCO"!==t.type&&(0,we.ZP)(i,e,t);const n=(0,Pe.toDomElement)(i);n.dataset.ntvDynamicAssetIndex=0,ke(n)}).catch(t=>{console.error("Error rendering ad ".concat(e.id,":"),t)})}).catch(t=>{if(t!==Ie.Q4.NO_RENDER)return ut(e)})};i(385);function ft(e){if(!(0,d.W)("pubRenderCallback").initialized){const e={callback:e=>{if(e.origin!==location.origin)return;if(!e.data.action||"ntv-pub-inject-complete"!==e.data.action)return;const t=r.util.domQuery("#".concat(e.data.id));if(null==t)return;if(t.dataset.ntvIframeProcessed)return;t.dataset.ntvIframeProcessed=!0;const i=(0,d.W)("articles");if(!i)return;const n=i.getEntryValues();0!=n.length&&n[0].articleTracker.processArticleIframe(t)},initialized:!0};r.util.getTopWindow().addEventListener("message",e.callback)}!function(e){const t=r.util.getTopWindow();ntv.PostRelease.pubIframeData||(ntv.PostRelease.pubIframeData=[]);ntv.PostRelease.pubIframeData.push(...e),e.forEach(e=>{t.postMessage({action:"ntv-pub-inject",payload:e},t.location.origin)})}(function(e){let t,i,n=[];const r=e=>{if(!e.querySelectorAll)return;let r=[...e.querySelectorAll("iframe")].filter(e=>!!e.getAttribute("src")&&"about:blank"!==e.getAttribute("src")).map((e,n)=>{i=[];let r,s="ntv-iframe-parent-".concat(n),o=0;for(;o<e.attributes.length;o++)r=e.attributes.item(o),i.push({name:r.name,value:r.value});return i.push({name:"ntv-pub-injected",value:""}),t={element:"iframe",attributes:i,classes:[...e.classList].join(),id:e.id,selector:".".concat(s)},e.parentNode.classList.add(s),e.parentNode.removeChild(e),t});n.push(...r)};if(e.length)for(let t=0;t<e.length;t++)r(e[t]);else r(e);return n}(e))}var mt=i(1422);function vt(e,t){(function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")})(e,t),t.add(e)}function gt(e,t,i){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:i;throw new TypeError("Private element is not present on this object")}var yt=new WeakSet;class bt{constructor(e){vt(this,yt);const{ntvSideTabAutoOpen:t,ntvSideTabAutoCloseDelay:i,ntvSideTabAutoOpenTrigger:n,ntvSideTabAutoOpenTriggerValue:s}=e.dataset;this.shouldAutoOpen="true"===t||!0===t,this.shouldAutoOpen&&(this.autoOpenTrigger=n,this.autoOpenTriggerValue=s,this.defaultTimerTrigger=2e4,this.autoOpenTimer=setTimeout(this.open.bind(this),this.defaultTimerTrigger),this.autoOpenTrigger=wt(this.autoOpenTrigger,this.autoOpenTriggerValue,this.open.bind(this))),this.autoCloseDelay=1e3*+i,this.tabElement=e,this.content=r.util.domQuery("div.ntv-side-tab--content",this.tabElement),this.closeButton=r.util.domQuery("button.ntv-side-tab--close-button",this.tabElement),this.tabButton=r.util.domQuery("button.ntv-side-tab--tab-button",this.tabElement),this.closeButton.addEventListener("click",this.close.bind(this)),this.tabButton.addEventListener("click",this.open.bind(this)),this.autoCloseTimer=void 0,this.content.addEventListener(mt.s.CONTENT_COMPLETE,()=>{this.autoCloseTimer=setTimeout(this.close.bind(this),this.autoCloseDelay)})}close(){null!=this.autoCloseTimer&&clearTimeout(this.autoCloseTimer),clearTimeout(this.autoOpenTimer),this.tabElement.classList.remove("open"),this.tabElement.classList.add("close"),gt(yt,this,Et).call(this,mt.s.NOTICE_CONTAINER_CLOSE)}open(){this.autoOpenTrigger&&(clearTimeout(this.autoOpenTimer),this.autoOpenTrigger.disable()),this.tabElement.classList.add("open"),this.tabElement.classList.remove("close"),gt(yt,this,Et).call(this,mt.s.NOTICE_CONTAINER_OPEN)}}function Et(e){for(const t of this.content.children)t.dispatchEvent(new Event(e))}const wt=(e,t,i)=>{if("scroll"===e)return new Tt(t,i)};class Tt{constructor(e,t){this.threshold=Number(e)||.75,this.onTrigger=t,this.onScrollHandler=this.onScroll.bind(this),this.enable()}onScroll(e){(0,Pe.getDocumentScrollRatio)(e.data.target)>=this.threshold&&(this.trigger(),this.disable())}enable(){Hn.internalPubSub.subscribe(n.xu.TOP_WINDOW_SCROLL,this.onScrollHandler)}disable(){Hn.internalPubSub.unsubscribe(n.xu.TOP_WINDOW_SCROLL,this.onScrollHandler)}trigger(){this.triggered||(this.onTrigger&&"function"==typeof this.onTrigger&&this.onTrigger(),this.triggered=!0)}}var St=i(4315);function At(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class It{constructor(e){At(this,"value",void 0),At(this,"next",null),this.value=e}}class Pt{constructor(){At(this,"head",null),At(this,"tail",null),At(this,"length",0)}append(e){const t=new It(e);this.head?(this.tail&&(this.tail.next=t),this.tail=t):(this.head=t,this.tail=t),this.length++}prepend(e){const t=new It(e);this.head?(t.next=this.head,this.head=t):(this.head=t,this.tail=t),this.length++}delete(e){if(!this.head)return;for(;this.head&&this.head.value===e;)this.head=this.head.next,this.length--;let t=this.head;for(;t&&t.next;)t.next.value===e?(t.next=t.next.next,this.length--):t=t.next;this.tail&&this.tail.value===e&&(this.tail=t)}find(e){if(!this.head)return null;let t=this.head;for(;t;){if(t.value===e)return t;t=t.next}return null}toArray(){const e=[];let t=this.head;for(;t;)e.push(t.value),t=t.next;return e}}function Ct(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class kt{constructor(){Ct(this,"list",new Pt)}get length(){return this.list.length}enqueue(e){this.list.append(e)}dequeue(){if(null===this.list.head)return null;const e=this.list.head.value;return this.list.head=this.list.head.next,null===this.list.head&&(this.list.tail=null),this.list.length--,e}isEmpty(){return 0===this.list.length}clear(){this.list.head=null,this.list.tail=null,this.list.length=0}}var Rt=i(4402),Dt=i(3506);const Ot=/<iframe([^>]*(?:youtube\.com|youtube-nocookie\.com|prx_full_ad_video)[^>]*)>/gi;function _t(e,t){this.ad=t,this.selector=e.Selector,this.fragmentTemplate=e.FragmentTemplate,this.html=void 0,this.type=e.Type,this.injectionMode=e.Mode,this.injectNode=void 0,this.index=void 0}const Lt=e=>{if("SIDE_TAB"===e.type)return function(e){const t=e.documentFragment.querySelector("ntv-side-tab");if(null!=t)return new bt(t)}(e)},Nt=e=>e.injectNode?Promise.resolve({fragment:e,success:!0}):function(e){return r.util.retryQuery(r.util.domQueryUp.bind(r.util),e.selector,document,10,200)}(e).then(t=>(t.shadowRoot&&(t=r.util.domQuery(St.dC,t.shadowRoot)),e.injectNode=t,Vt(e),function(e){if(!e.html)return;e.html=(t=e.html,t?t.replace(Ot,(e,t)=>{const i=t.match(/src=["']([^"']*)["']/);if(i&&i[1]){const t=i[1];if(-1===t.indexOf("enablejsapi=1")){const i=t.indexOf("?")>-1?"&":"?";return e.replace(t,t+i+"enablejsapi=1")}}return e}):t),e.documentFragment=(0,Pe.htmlStringToFragment)(e.html);var t}(e),Lt(e),function(e){Hn.setting.pubInjection&&ft(e.documentFragment);const t=Mt(e);if(null!=t)for(const i of e.documentFragment.children)i.classList.add(t);try{Se({mode:e.injectionMode,target:e.injectNode,node:e.documentFragment})}catch(e){r.util.postError(e)}}(e),new Wt(e,!0))).catch(t=>{const i=new Rt.X('Failed to get article fragment inject node "'.concat(e.selector,'"'),{cause:t});return new Wt(e,!1,i)});const xt=e=>e.fragmentTemplate&&e.fragmentTemplate.indexOf("@Content")>-1;const Vt=e=>{e.fragmentTemplate&&e.ad&&(e.html=function(e,t){if(null==t)return e;const i=[],n=function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";const r=(0,Dt.L3)(t,e);return null==r||null==r?(i.push(e),n):r},r=n("advertiser.logo")?'<img src="'.concat(n("advertiser.logo"),'" border="0">'):"",s=e.replace(/@Title/g,n("article.title")).replace(/@Datetime/g,n("articleTemplate.displayDate")).replace(/@AuthorLogo/g,r).replace(/@Author/g,n("advertiser.name")).replace(/@Preview/g,n("preview.text")).replace(/@Content/g,n("article.body")?'<div id="'.concat(n("id"),'" class="').concat(n("id"),'">').concat(n("article.body"),"</div>"):"").replace(/@BottomArticle/g,"").replace(/@TopArticle/g,"").replace(/@RightRail/g,"");if(i.length>0){const e=new Rt.X("Failed to replace some tokens");e.data={failedReplacements:i},Ue.Z.postError(e)}return s}(e.fragmentTemplate,e.ad))},Mt=e=>{if(t=e,new RegExp("\\bTOP\\b|\\bRIGHTRAIL\\b|\\bBOTTOMb\\b").test(t.type)&&1!=t.injectionMode){if(3===e.injectionMode&&new RegExp("\\bTOP\\b").test(e.type))return"ntv-companion"}else if("SLIDEMETADATA"==e.type)return"ntv-gallery-metadata";var t};async function Ut(e){try{await jt(e,Nt)}catch(e){Ue.Z.postError(new Rt.X("Error rendering article",{cause:e}))}}const jt=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Nt;const{fragments:i,ad:n}=e;if(!i||!n)return Promise.reject("No fragments or ad found");const s=new kt,o=i.map((e,i)=>{const r=new _t(e,n);return r.index=i,Bt(r)?{render:t.bind(void 0,r)}:{render:()=>Promise.resolve(new Wt(r,!1,new Rt.X("Invalid fragment data")))}});o.forEach(e=>s.enqueue(e));try{const t=o.length<=0?Promise.reject("No valid article fragments to render"):Ft(s,t=>{var i;xt(t)&&(e.prxContainerElement=null===(i=r.util.domQuery("#"+n.id))||void 0===i?void 0:i.parentNode)}),i=new Promise((e,t)=>{setTimeout(()=>{t("Article fragment injection taking too long, unblocking article post processing")},1e3)});return await Promise.race([i,t]).then(e=>(0==e.success&&console.warn(e),"Article fragment rendering attempted: [".concat(e.map(e=>e.success),"]"))).catch(e=>e)}catch(e){r.util.postError(new Error("[Fragment Rendering Error] ".concat(e)))}};async function Ft(e,t){const i=new Array(e.length),n=new Map;function r(e){const{fragment:n}=e;i[n.index]=e,t(n)}function s(t,r){const s=n.get(r)||0;if(s<5)n.set(r,s+1),e.enqueue(r);else{const{fragment:e,error:n}=t;i[e.index]=t,n&&Ue.Z.postError(n)}}for(;!e.isEmpty();){const t=e.dequeue();await t.render().then(e=>{e.success?r(e):s(e,t)})}return i}function Bt(e){return e&&e.selector}class Wt{constructor(e,t,i){this.fragment=e,this.success=t,this.error=i,this.error.data={selector:e.selector,mode:e.injectionMode}}}var Ht=i(4957);function zt(e){e=e||Yt();const t="ntv-session-".concat(e),i=new Date;this.existingSession=Ht.K.getData(t)||{};0===Object.keys(this.existingSession).length&&(this.existingSession=Gt(t,qt(t,i)));Boolean(this.existingSession.sessionExperation<i.getTime())&&(this.existingSession=Gt(t,qt(t,i)))}function Gt(e,t){return t?(Ht.K.saveData(e,t),t):{}}function qt(e,t){const i=new Date(t.getTime());return i.setHours(i.getHours()+1),{url:window.location.origin,id:e,lastInteraction:t.getTime(),sessionStart:t.getTime(),sessionExperation:i.getTime()}}function Yt(){return function(e){if(null==e)return r.util.postError(new Error("URL is not defined. Cannot convert to cookie name")),"";return e=(e=function(e){return e.replace(/^(http(s)?:\/\/)|(\/\/)/,"")}(e)).replace(/\//g,"_")}(window.location.origin+window.location.pathname)}zt.prototype.incrementRefreshes=function(){if(!this.existingSession.hasOwnProperty("refreshes"))return this.existingSession.refreshes=0,void(this.existingSession=Gt("ntv-session-".concat(Yt()),this.existingSession));this.existingSession.refreshes>=3?Hn.setting.recordEngagements=!1:(this.existingSession.refreshes++,this.existingSession=Gt("ntv-session-".concat(Yt()),this.existingSession))};var Qt=i(9795),Kt=i(8477),Zt=i(1311),Xt=i(2287);function Jt(e){var t;window.prx_show_disclaimer=()=>{const e=r.util.domQuery("#ntv-content-modal-body-wrapper"),t=r.util.domQuery("#prx_disclaimer_modal");e.prepend(t),t.style.display="flex"},function(){const e=r.util.domQuery("#ntv-content-modal-body-wrapper");if(null===r.util.domQuery('script[src*="embed.typeform.com"]',e))return;(0,Pe.waitUntilExistsInElement)(".tf-v1-sidetab",document.body).then(t=>{e.prepend(t)})}();const i=r.util.domQueryUp("#ntv-content-modal");if(!i)return;const n=e.replace("-","_");ntv.Events.PubSub.publish("ntvContentModalOpen",[n,i]);let s=(0,d.W)().get("ntvContentModal");null==s||null===(t=s.modalComponent)||void 0===t||t.publish(Xt.E.OPEN_COMPLETE)}var $t=i(7730);let ei=r.util.setTimeout;function ti(e){this.ad=e,this.article=e.article,this.responseId=e.responseId,this.preview=e.preview,this.advertiser=e.advertiser,this.articleTemplate=e.articleTemplate,this.replaced=!1,this.prxContainerElement=void 0,this.adId=e.id,this.isWebview=e.isWebview,this.adPlacementId=e.adPlacementId,e.article&&(this.paginationNextUrl=e.article.paginationNextUrl,this.paginationPreviousUrl=e.article.paginationPreviousUrl,this.title=e.article.title,this.body=e.article.body),e.articleTemplate&&(this.removals=e.articleTemplate.removals,this.fragments=e.articleTemplate.fragments)}function ii(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const i=[];for(let t=0;t<e.length;t++){const n=e[t],s=r.util.domQuery(n.Selector);if(s)switch(n.Type){case 1:s.remove();break;case 2:s.style.display="none"}else i.push(n)}i.length>0&&t>0&&(t--,ei(()=>ui.executeRemoval(i,t),100))}function ni(e,t){e&&(t&&""!=t?(e.setAttribute("href",t),e.setAttribute("style","display:inline-block")):e.setAttribute("style","display:none"))}function ri(e){const{type:t,selector:i,rangeStart:n,articleId:s}=e;let o=r.util.domQueryAll(i,document);const a=r.util.domQueryAll("ntv-shadow",document).map(e=>e.shadowRoot).filter(e=>null!==e).flatMap(e=>Array.from(e.querySelectorAll(i)));if(o=[...o,...a],!o||0===o.length)return;const c=(0,Ae.x2)(s);let l,u=0;for(;u<o.length;u++){l=o[u];let e=Number(l.dataset.ntvCustomCta||l.dataset.ntvCustomWidget);if(isNaN(e))break;if(e+=n,"cta"===t||!c){if("A"===l.nodeName){si(l,e);continue}l.querySelectorAll("a").forEach(t=>si(t,e));continue}const i=()=>{c.adTracker.fireTracking([e])};l.addEventListener("click",i,!0),r.util.domQueryAll("iframe",l).forEach(e=>{(0,Qt.J)({frame:e,callback:i})})}}function si(e,t){e.href=e.href.replace(/(ntv_at)=(\d*\,?)*/,e=>"ntv_at=".concat(r.util.removeDuplicates(r.util.modifyQSParamValues(e,String(t),Ae.g9.cta)).join()))}function oi(e){arguments.length>1&&void 0!==arguments[1]||window;if(ai(e),e.ad.isLightbox&&Jt(e.adPlacementId),e.removals&&e.removals.length>0)try{ii(e.removals,100)}catch(e){}Wn(e.ad.id)}function ai(e){if(e){if((0,Kt.eO)())try{(0,Zt.wI)(document)}catch(e){r.util.postErrorMsg("Error handling mraid post article render",e)}!function e(t,i){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:document;const{paginationNextUrl:s,paginationPreviousUrl:o}=t;if(void 0!==i&&i<100&&++i>=100)return;if(s||o){let i=r.util.domQuery("a.prx_pagination_next"),n=r.util.domQuery("a.prx_pagination_previous");return i||n?(ni(i,s),void ni(n,o)):void ei(()=>e(t),100)}let a=r.util.domQuery(".prx_pagination_wrapper");if(a||0!=/loaded|complete/.test(n.readyState)){if(!a&&/loaded|complete/.test(n.readyState))return void 0===i&&(i=0),void ei(()=>e(t,i),100);a.setAttribute("style","display:none !important")}else ei(()=>e(t),100)}(e),ei(()=>{ri({type:"cta",selector:"a[data-ntv-custom-cta]",rangeStart:n.z1.CUSTOM_CTA_RANGE_START,articleId:e.adPlacementId,responseId:e.responseId}),ri({type:"widget",selector:"[data-ntv-custom-widget]",rangeStart:n.z1.CUSTOM_WIDGET_RANGE_START,articleId:e.adPlacementId,responseId:e.responseId})},0)}}const ci=async e=>{const[t,i]=(0,$t.Y)(()=>(0,be.Ao)(e));if(t)return Ue.Z.postErrorMsg("Error initiating dynamic assets processing for article > ",t),void li(e);const[n,r]=await(0,$t.Z)(()=>i);if(n)Ue.Z.postErrorMsg("Error processing dynamic assets for article > ",n);else if(Ce(e.adPlacementId,r),"DCO"!==r.type&&"OUTBRAIN"!==r.type)try{Hn.EnhancedAdPipeline.cacheDynamicAssets(r)}catch(t){console.error("Failed to cache enhanced ad:",t)}li(e)},li=e=>{(0,Ae.Ps)(e.adPlacementId,e,e.responseId),(new zt).incrementRefreshes();const t=new ti(e);!function(e,t){Hn.articleCache.set(e,t)}(t.ad.adPlacementId,t.ad),ui.render(t)};const ui={render:async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window.document;t.title=e.title,await Ut(e),oi(e)},executeRemoval:ii},di=(e,t)=>{((e,t)=>{let{placements:i}=e;i.length||r.util.ampModeHandler(t)})(e,t),tt.renderInit(e.placements.length,e.placements.filter(e=>e.selector&&e.ads&&e.ads.length).map(e=>e.ads[0].id)),e.placements.forEach(t=>{if(t.responseId=e.responseId,t.tracking&&(t.tracker=new Me.f(t.tracking)),t.selector||t.parentCount)((e,t)=>{Hn.tout=!0,e.ads&&e.ads.length>0?pt.renderAds(e):rt(e,t)})(t,e);else{let i=t.ads[0];if(!i)return;it(i,t),i.tracking=t.tracking,i.tracker=t.tracker,i.isWebview=e.isWebview||!1,i.adTracker=new Me.f({...t.tracking,adVersionPlacement:i.adVersionPlacement.value}),(e=>{e&&(Hn.articleCache.has(e.adPlacementId)||(e.dynamicAssets&&!e.dynamicAssets.processed?ci(e):li(e)))})(i)}S.o.performance.trackBeforeRender(t.tracking)})};i(1195);var hi=i(4882);const pi=e=>{const{consentUrl:t}=e;if(!t)return;const i=[],s=[],o={};!function(e,t,i){const{usPrivacyApplies:r,gdprApplies:s,gppApplies:o}=e;o?fi(C.tv.Initialize,n.z1.GPP,e.gppConsentString,t,i):(r&&fi(hi.pF.Initialize,n.z1.US_PRIVACY,e.usPrivacyConsent,t,i),s&&fi(z.Initialize,n.z1.GDPR,e.gdprConsentString,t,i))}(e,i,o),Promise.allSettled(i).then(e=>{for(const t of e)"fulfilled"===t.status&&s.push(t.value);if(0===s.length)return;const i=function(e,t){const i=e.filter(e=>{if(null==e)return!1;const i=e.consentDataToQueryValue();return""!==i&&!function(e,t,i){return null!=i[t]&&i[t]===e}(i,e.name,t)}).map(e=>e.getQueryString());if(0===i.length)return;let n=i[0];for(let e=1;e<i.length;e++)n+="&".concat(i[e]);return n}(s,o);if(void 0===i)return;!function(e){r.util.ajax({method:"get",url:e,success:e=>{},error:t=>{r.util.postError(new Error("Failed to send consent strings to ad server. ".concat(e)))}})}(t+i)})};function fi(e,t,i,n,r){n.push(e());i&&(r[t]=i)}var mi=i(4956),vi=i(9891);function gi(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}const yi=[.01];const bi=new class{constructor(){gi(this,"batch",[]),gi(this,"atf",[]),gi(this,"config",{}),gi(this,"placements",[]),gi(this,"smartLoadObserver",void 0),gi(this,"initialized",!1),this.resizeListener=this.resizeListener.bind(this)}init(e){var t,i;if(this.initialized)return;if(!e.hasOwnProperty("lazyLoadingConfig")||!e.hasOwnProperty("placements"))return;this.initialized=!0,this.config=e.lazyLoadingConfig,this.placements=e.placements,this.config.triggerThreshold.value=Number(null===(t=this.config.triggerThreshold)||void 0===t?void 0:t.value),this.config.groupingRange.value=Number(null===(i=this.config.groupingRange)||void 0===i?void 0:i.value);const n=this.constructMarginString(this.config.triggerThreshold),s=this.convertGroupingRange(this.config.triggerThreshold,this.config.groupingRange),o=new vi.po({onThreshold:this.handlePlacementIntersection.bind(this)});this.smartLoadObserver=new vi.pE({threshold:[.01],rootMargin:n},s),window.addEventListener("resize",this.resizeListener),this.placements.map(e=>{(0,r.br)(e.selector).then(t=>{t&&(t.placementId=e.id,this.smartLoadObserver.addTarget(t,o))})})}release(){window.removeEventListener("resize",this.resizeListener)}resizeListener(){this.smartLoadObserver.groupingRange=this.convertGroupingRange(this.config.triggerThreshold,this.config.groupingRange)}constructMarginString(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{value:1.5,unit:"viewport"};switch(e.unit){case"viewport":const t=100*e.value;return"".concat(t,"% 0% ").concat(t,"% 0%");case"pixel":return"".concat(e.value,"px 0px ").concat(e.value,"px 0px");case"percentage":return"".concat(e.value,"% 0% ").concat(e.value,"% 0%")}}convertGroupingRange(e,t){let i={value:0,unit:"pixel"};return i.value+="viewport"===t.unit?this.viewportToPixel(t.value):"percent"===t.unit?this.percentToPixel(t.value):t.value,i.value+="viewport"===e.unit?this.viewportToPixel(e.value):"percent"===e.unit?this.percentToPixel(e.value):e.value,i}handlePlacementIntersection(e,t){const i=this.constructMarginString(t.groupingRange);if(t.removeTarget(e.target),t.primaryObserver)t.primaryObserver.removeTarget(e.target);else{const e=Array.from(t.primaryObserver?t.primaryObserver.targetOptions.keys():t.targetOptions.keys());if(e.length>0){const n=new vi.po({onThreshold:this.handlePlacementIntersection.bind(this)}),r=new vi.pE({THRESHOLD:yi,rootMargin:i},t.groupingRange);r.primaryObserver=t.primaryObserver?t.primaryObserver:t,e.map(e=>{r.addTarget(e,n)}),setTimeout(()=>{r.observer.disconnect()},500)}}this.addToBatch(e.target.placementId)}viewportToPixel(e){return window.innerHeight*e}percentToPixel(e){return window.innerHeight*(.01*e)}startBatch(e){setTimeout(()=>{const e=this.generateBatchList(this.batch),t=this.generateBatchList(this.atf),i=new M,s={};s[n.z1.AD_FILTER]=t,s[n.z1.PTD_FILTER]=e;const o=r.util.getKeyValuePairs();o&&(s[n.z1.KEY_VALUE_PAIRS]=o),i.searchParams.addSearchParamsFromObject(s),i.makeRequest().then(e=>this.processBatchResponse(e)),this.batch=[]},e)}addToBatch(e){0===this.batch.length&&this.startBatch(arguments.length>1&&void 0!==arguments[1]?arguments[1]:500),this.batch.push(e)}processBatchResponse(e){e.smartLoading=!0;for(let t of e.placements)for(let e of t.ads){if(e.filteringLevel===Nn.NO_FILTERING)break;this.atf&&this.atf.indexOf(e.id)<0&&this.atf.push(e.id)}xi(e)}generateBatchList(e){return[...new Set(e)].join(",")}},Ei={toutClick3rdPartyTracking:"placements[0].ads[0].toutClick3rdPartyTracking"},wi=/^%%[A-Z_]+%%$/;function Ti(e,t,i){const n=(0,Dt.L3)(e,t);if(void 0!==n)if(Array.isArray(n)&&Array.isArray(i)){const r=[...n,...i];(0,Dt.rk)(e,t,r)}else if("object"!=typeof n||null===n||"object"!=typeof i||null===i||Array.isArray(n)||Array.isArray(i))typeof n==typeof i?(console.warn("Replacing existing value at path ".concat(t,". Old: ").concat(n,", New: ").concat(i)),(0,Dt.rk)(e,t,i)):Ue.Z.postErrorMsg("Type conflict at path ".concat(t,". Cannot merge ").concat(typeof n," with ").concat(typeof i),new Error("Type conflict in macro merging"),!1);else{const r={...n,...i};(0,Dt.rk)(e,t,r)}else(0,Dt.rk)(e,t,i)}function Si(e){return"string"==typeof e&&wi.test(e)}function Ai(e,t){const i={};for(const[n,r]of Object.entries(t)){if(null==r)continue;const t=Ei[n];t&&("string"==typeof r&&Si(r)?i[n]=r:Array.isArray(r)&&r.some(e=>"string"==typeof e&&Si(e))?i[n]=JSON.stringify(r):(!t.startsWith("placements[")||e.placements&&0!==e.placements.length)&&Ti(e,t,r))}Object.keys(i).length>0&&Ue.Z.postErrorMsg("Found unreplaced tokens in macros: ".concat(JSON.stringify(i)),new Error("Unreplaced tokens in macros"),!1)}let Ii=!1;const Pi=new class{constructor(){this.ISManager={},this.nodesInserted=[]}trackPlacement(e){const t=()=>{!function e(t,i){i.hasNextNode()&&!t.processing&&(t.processing=!0,S.o.performance.set("sendRequest"),F(i,n=>{if(i.increaseInterval(),n&&n.placements&&n.placements.length){let e=n.placements.filter(e=>e.id===i.placement);e.length&&(e=e[0],e.selector=i.getSelector(),B(t,n))}else if(n&&n.hb&&n.hb.adUnits&&n.hb.adUnits.length){const e=n.hb.adUnits[0],r=i.getSelector(),s=e.bids.filter(e=>"nativo"===e.bidder);s&&s.length&&(s[0].params.ad.selector=r),e.code=r,B(t,n)}t.processing=!1,e(t,i)}))}(this,this.ISManager[e])};U.addEventListener("load",j(t,20)),Hn.internalPubSub.subscribe(n.xu.TOP_WINDOW_SCROLL,t),t()}placementHandler(e){e.placements.filter(e=>e.infScroll&&e.infScroll.interval>0&&e.selector.indexOf("%p%")>0).forEach(t=>{this.setManager(t,e),e.containsInfScrollPlacements=!0})}hbHandler(e){const t=e.hb;t&&t.adUnits&&t.adUnits.forEach(t=>{for(let i=0;i<t.bids.length;i++){let n=t.bids[i];if("nativo"===n.bidder&&n.params&&n.params.ad&&n.params.ad.infScroll&&n.params.ad.selector.indexOf("%p%")>0&&(e.containsInfScrollPlacements=!0,this.setManager(n.params.ad,e)))return void(t.code=this.getManager(t.placement).getSelector())}})}passbackHandler(e){e.passback&&e.containsInfScrollPlacements&&e.passback.Providers.forEach(e=>{e.Placements.filter(e=>this.ISManager[e.Placement]).forEach(e=>e.Selector=this.ISManager[e.Placement].getSelector())})}setManagers(e){this.placementHandler(e),this.hbHandler(e),this.passbackHandler(e)}setManager(e,t){const{infScrollReset:i}=Hn,{id:n,infScroll:r,selector:s}=e;if(null==this.ISManager[n]){const{position:i,interval:o}=r,a=new W(s,i,n,o);return t.placements.filter(e=>void 0!==e.ads).forEach(e=>e.ads.filter(e=>void 0!==e.filteringLevel).forEach(e=>Hn.setFilteringByLevel({filteringLevel:e.filteringLevel,adId:e.id,campaignId:e.campaignID,advertiserId:e.advertiser.id}))),this.ISManager[n]=a,this.trackPlacement(n),e.selector=this.ISManager[n].getSelector(),!0}return i?this.ISManager[n].currentPosition=r.position:this.ISManager[n].increaseInterval(),e.selector=this.ISManager[n].getSelector(),!1}getManager(e){if(!(this.ISManager[e]&&this.ISManager[e].interval<=0))return this.ISManager[e]}};(0,mi.QP)("infiniteScrollManager",Pi);const Ci=function(e){let{placementForTracking:t,trackUserSessionTime:i}=e,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];n||(0,Kt.eO)()||!t||Hn.sessionMgmt.initializeSession(t,i)},ki=e=>{let{safeIframe:t}=e;t&&ntv.Tracking.Record()},Ri=e=>{Pi.setManagers(e)},Di=e=>{const{trackingCode:t}=e;if(t){let i=ntv.query("body");i.length?i.append(t):r.util.setTimeout(()=>Di(e),100)}},Oi=e=>{let t={};return e.passback&&(t.passback=e.passback),e.hb?{type:"hb",params:e.hb,...t}:e.s2s?{type:"s2s",params:e.s2s,...t}:void 0},_i=e=>{let{placements:t,isHeaderBidding:i=!1,containsInfScrollPlacements:n=!1}=e;if(0===t.length)return;!(0===t.filter(e=>e.ads&&e.ads.length).length)||i||n||r.util.onDOMContentLoaded(()=>{const e=t.length;r.util.firePubSubEvent("noAds",e),r.util.firePubSubEvent("noads",e)})},Li={useMraidViewability:function(e){e||(0,d.W)().set(Kt.$r,!1)}};function Ni(e){if(null!=e)for(const[t,i]of Object.entries(e))Li[t]&&Li[t](i)}function xi(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{if(Ii)return Ii=!1,void setTimeout(()=>{xi(e,t)},8e3);const{ampMode:i}=ntv.PostRelease,{callByPreBid:n,...s}=t;Ai(e,s),Ci(e,i),e.responseId=r.util.generateUniqueId(1e7),r.util.runWhenDOMIsReady(()=>{e.hasOwnProperty("smartLoading")||bi.init(e)}),S.o.performance.sendResponsivenessRequest(e.placementForTracking,e.trackUserSessionTime),n||S.o.performance.set("getResponse"),(0,Ae.s2)(e.responseId,(0,Ne.gu)(e,"placements")),(0,u.Nz)(e.responseId,e.flags),Ni(e.flags),ki(e),Ri(e),(0,d.W)().get(Kt.$r)?(0,Zt.XN)(Vi.bind(this,e,i)):Vi(e,i)}catch(e){r.util.postError(e)}_i(e)}function Vi(e,t){di(e,t),Di(e),(e=>{let t=Oi(e);t&&t.params.adUnits&&t.params.adUnits.length&&re(t)})(e),function(e){const{responseConsent:t}=e;if(!t)return;pi(t),(e=>{if(!e)return;const{gdprConsentUrl:t}=e;t&&(r.util.breakOutIframe(),Y().then(e=>{const i=void 0!==e.apiVersion?"&ntv_gdpr_version=".concat(e.apiVersion):"";r.util.appendImage(t+(e.consentString||"")+i)}).catch(e=>{r.util.appendImage(t)}))})(t),!t.usPrivacyApplies||(0,hi.fI)().catch(e=>{})}(e)}var Mi=i(5998);const Ui=e=>{e.isDFP=(e=>{let t=Hn.viewableImpressionTrackers,i=0,n=e.placementID+"-"+e.adID;if(t instanceof Array&&t.length)do{if(window.ntvToutAds&&n in window.ntvToutAds&&window.ntvToutAds[n].dfpType&&window.ntvToutAds[n].ParentCount)return!0}while(++i<t.length);return!1})(e),e.ampMode=Hn.ampMode,function(e){if(r.util.adBlocker&&(e.playerCssUrl&&e.renderingParams&&e.renderingParams.cssUrl&&(e.renderingParams.cssUrl=e.renderingParams.cssUrl.replace("sharing-skin-v5.css","sharing-skin-v5.1.css")),e.iframeBody)){e.iframeBody=e.iframeBody.replace(/ntvVideo/g,"prxVideo"),e.renderingParams.iframeTag&&(e.renderingParams.iframeTag=e.renderingParams.iframeTag.replace(/ntvVideo/g,"prxVideo"));r.util.domQueryAll('iframe[id^="ntvVideo"]').forEach(e=>{e.id=e.id.replace("ntv","prx")})}}(e);let t,i=e.renderingParams,s=r.util.domQuery("."+i.outerCssClass,Hn.topWindow.document);if(s||(s=r.util.domQuery("."+i.outerCssClass,document)),r.util.domQueryAction("a.prx_viewable_title"+e.placementID,s,t=>{t.addEventListener("click",()=>{e.titleClicked=!0})}),r.util.domQueryAction("a.ntv-headline-anchor"+e.placementID,s,t=>{t.addEventListener("click",()=>{e.titleClicked=!0})}),i.videoExecution==Mi.k.PRE_EXPANDED_VIDEO_TEMPLATE){const t=r.util.domQuery(".ntv-play-overlay",s);t&&t.remove(),r.util.adBlocker&&(i.previewImage=i.previewImage.replace(n.z1.ASSETS_PREFIX+r.util.getServerDomain(),r.util.getServerDomain()));let o=i.previewImage;-1==i.previewImage.indexOf("fetch")&&(o=i.previewImage.replace("//"+n.z1.ASSETS_DOMAIN+"/",""),o=o.replace(/(^\w+:|^)/,""));let a=r.util.domQuery("img[src*='"+o+"']",s)||r.util.domQuery("img[src*='"+encodeURIComponent(o)+"']",s);if(a){const t=a.parentElement,n=t.parentElement;n.matches("a")&&n.replaceWith(t),t.matches("a")&&t.replaceWith(a),0===a.naturalWidth&&0===a.naturalHeight&&(a.onload=()=>{e.previewImageRatio=a.naturalWidth/a.naturalHeight}),a.insertAdjacentHTML("afterend",i.iframeTag),a.remove()}}const o=ntv.Video,a=o.Player,c=o.Render,l=o.Tracker;switch(e.playerType){case n.z1.YOUTUBE_PLAYER:t=r.util.generateVideo(e,[a.YouTube,c.IFU,c.Skin,c.YouTubeSkin,c.Mobile],[o.Tracker.Nativo]);break;case n.z1.NATIVO_PLAYER:case n.z1.VAST_PLAYER:t=r.util.generateVideo(function(e){const t=e.captionUrl||"",i=document.createElement("div");i.innerHTML=e.iframeBody;const n=r.util.domQuery("video",i);return""!==t&&(n.setAttribute("crossorigin","anonymous"),n.insertAdjacentHTML("beforeend",'<track kind="captions" src="'.concat(t,'" srclang="en" label="English">'))),e.iframeBody=i.innerHTML,e}(e),[a.Nativo,c.IFU,c.Skin,c.Mobile],[l.Nativo,l.MOAT])}Hn.videoPlayers.push(t);const u=r.util.domQueryAll("."+i.linkCssClass,s);t.clickedBeforeRendering=!1;for(const e of u)r.util.isNotValidHeadlineLink(e)&&(e.addEventListener("click",()=>(t.clickedBeforeRendering=!0,!1)),e.style.cursor="pointer")};const ji=["click","keypress","focus"],Fi=(e,t,i)=>"&"+n.z1.USER_SESSION_ID+"="+e+"&"+n.z1.SESSION_PL_ID+"="+t+r.util.buildExperimentUrl(i);class Bi{constructor(){this.trackUserSessionTime=!1,this.baseTrackingUrl=r.util.getBaseUrl()}initializeSession(e,t){this.requestNewSessionIfExpired(e,t),this.bindEvents()}didSessionEnd(){let e=Ht.K.getData("ntvSession");const t=!e||!Object.keys(e).length,i=e&&(new Date).getTime()>=e.sessionEndDate,n=e&&(new Date).getTime()-e.lastInteraction>18e5;return!!t||!(!i&&!n)&&(this.recordSession(),!0)}createSession(e,t){try{let i=new Date;Ht.K.deleteData("ntvSession");const s=r.util.generateUniqueId(1e7),o=Hn.setting.experiment||"";Ht.K.saveData("ntvSession",{id:s,placementID:e,lastInteraction:i.getTime(),sessionStart:i.getTime(),sessionEndDate:new Date(i.getFullYear(),i.getMonth(),i.getDate()+1).getTime(),trackUserSessionTime:t,experiment:o}),r.util.appendImage(this.baseTrackingUrl+n.z1.AT+"=394"+Fi(s,e,o))}catch(e){}}recordSession(){const e=Ht.K.getData("ntvSession");if(!e||!e.trackUserSessionTime)return;const t=this.baseTrackingUrl+n.z1.AT+"=395&"+n.z1.USER_SESSION_DURATION+"="+(e.lastInteraction-e.sessionStart)+Fi(e.id,e.placementID,e.experiment);r.util.appendImage(t)}bindEvents(){const e=()=>{r.util.debounce(()=>{const t=Ht.K.getData("ntvSession"),{placementID:i,trackUserSessionTime:r}=t||{};this.requestNewSessionIfExpired(i,r)||(t.lastInteraction=(new Date).getTime(),Ht.K.saveData("ntvSession",t)),Hn.internalPubSub&&Hn.internalPubSub.unsubscribe(n.xu.TOP_WINDOW_SCROLL,e)},200)};ji.forEach(t=>{document.addEventListener(t,e)}),Hn.internalPubSub&&Hn.internalPubSub.subscribe(n.xu.TOP_WINDOW_SCROLL,e)}requestNewSessionIfExpired(e,t){return!!this.didSessionEnd()&&(this.createSession(e,t),!0)}}function Wi(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:window.open;i(e,t,"status=1,width=600,height=400")}const Hi=e=>Wi(e,"share_facebook"),zi=e=>Wi(e,"share_twitter"),Gi=e=>Wi(e,"share_linkedin"),qi=e=>Wi(e,"share_google"),Yi=e=>Wi(e,"share_pinterest"),Qi=e=>Wi(e,"share_stumbleupon"),Ki=(e,t)=>window.location="mailto:?subject="+encodeURIComponent(e)+"&body="+encodeURIComponent(t);var Zi=i(8589),Xi=i(9942),Ji=i(296);const $i={removeNewTabTargets(){const e=window.document.getElementsByClassName("ntv-amp-ad");for(let t of e){const e=t.getElementsByTagName("a");for(let t of e){const e=t.getAttribute("onclick");e&&e.includes("PostRelease.OpenContentModal")&&t.removeAttribute("target")}}},firePageView(e){const t=new URL(e);t.searchParams.set(n.z1.AT,Ae.g9.secondaryImpressionActionType.toString()),t.searchParams.delete(n.xc.REDIRECT),r.util.appendImage(t.toString())},fireTrackers(e,t,i){(0,Ji.Me)(t)||(e&&r.util.appendImage(e),(0,Ji.qQ)(i,t),(0,Ji.yy)(t))},generateHash:e=>JSON.stringify(e),createMockResponse(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const{tracking:i,placementId:n}=e;e.isLightbox=!0;let s=r.util.getTopWindow();s.ntvContentModalFragments||(s.ntvContentModalFragments=[]);let o={id:n,injectionMode:2,ads:[e],tracking:i,type:0},a=!1;for(let e of o.ads)e.articleTemplate.fragments&&e.articleTemplate.fragments.length>0&&"WRAPPER"===e.articleTemplate.fragments[0].type&&(a=!0),e.articleTemplate.fragments=this.processFragments(e.articleTemplate.fragments,e.adPlacementId),t&&(e.articleTemplate.fragments=e.articleTemplate.fragments.filter(e=>{const t=$i.generateHash(e);return!s.ntvContentModalFragments[t]&&(s.ntvContentModalFragments[t]=e,!0)}));return{placements:[o],placementForTracking:n,usp:1,isWebview:!1,wrapperFragmentFound:a}},processFragments(e,t){for(let i of e)i&&(i.Selector&&!i.Selector.includes("#ntv-content-modal")&&(i.Selector="".concat(i.Selector)),i.Selector="#ntv-modal-".concat(t," ").concat(i.Selector));const i=e=>e&&e.Type&&("TOP"===e.Type||"RIGHTRAIL"===e.Type||"BOTTOM"===e.Type)?1:0;return e.sort((e,t)=>i(e)-i(t)),e}};function en(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class tn{constructor(e){en(this,"topWin",void 0),en(this,"topDoc",void 0),en(this,"state",void 0),en(this,"modalComponent",void 0),en(this,"adId",void 0),en(this,"articleTrackerName",void 0),this.topWin=(0,Kt.eO)()?window:r.util.getTopWindow(),this.topDoc=(0,Kt.eO)()?document:this.topWin.document,this.state={articleTitle:"",open:!1},this.modalComponent=new Xt.Z({id:e||"clp-content",selectorPrefix:"ntv",useAnimations:!1});const t=this.topDoc.createElement("div");t.id="ntv-content-modal",this.modalComponent.appendContent(t);const i=this.topDoc.createElement("style");i.innerHTML="\n      .ntv-modal { background: white !important; }\n      .ntv-modal-content { overflow: auto !important; }\n      .ntv-modal.with-effects { transition: opacity 0s ease !important; } \n    ",this.modalComponent.appendContent(i),this.topDoc.body.append(this.modalComponent.element),this.modalComponent.element.addEventListener(Xt.E.CLOSE,()=>{this.state.open&&this.close()})}open(){this.state.open=!0,this.state.articleTitle&&(this.topDoc.title=this.state.articleTitle),this.modalComponent.open(),this.topDoc.body.style.overflow="hidden"}close(){this.state.open=!1,this.modalComponent.close(),this.topDoc.body.style.overflow="",this.stopArticleTracking()}buildContentFromCachedData(e){const t=$i.createMockResponse(e);this.state.wrapperFragmentFound=t.wrapperFragmentFound,this.setArticleIdentification(t);setTimeout(()=>xi(t),250),this.attachScrollTracking()}attachScrollTracking(){const e=r.util.debounce(e=>{Hn.internalPubSub.publish(n.xu.CONTENT_MODAL_SCROLL,e)},100);(0,r.br)("#ntv-content-modal-body-wrapper",this.modalComponent.element).then(t=>{t.addEventListener("scroll",e,!1)})}setArticleIdentification(e){const t=e.placements[0].ads[0];this.adId=t.id,this.articleTrackerName="ntvAT".concat(t.id)}clearArticleIdentification(){this.adId=void 0,this.articleTrackerName="ntvAT".concat(void 0)}resumeArticleTracking(){const e=window[this.articleTrackerName];e&&(window[this.articleTrackerName]=e,e.disabled=!1,e.resume(),e.onArticleExpand())}stopArticleTracking(){const e=window[this.articleTrackerName];e&&(this.state.tracker=e,e.onArticleCollapse(),e.stop(),window[this.articleTrackerName]=void 0)}}var nn=i(9803);(e=>{if("function"==typeof e)void 0===ntv.postAdsRenderingCallbacks&&(ntv.postAdsRenderingCallbacks=[]),ntv.postAdsRenderingCallbacks.push(e)})($i.removeNewTabTargets);const rn=(e,t)=>{var i;t&&t.preventDefault&&t.preventDefault();const n=(0,Kt.eO)()&&(0,Zt.yv)(!0,e.adPlacementId),{adPlacementId:r}=e;let s=(0,d.W)().get("ntvContentModals");null==s&&(s=(0,d.W)().set("ntvContentModals",new Map));let o=s.get(r);if(!(n||null!==(i=o)&&void 0!==i&&null!==(i=i.state)&&void 0!==i&&i.open)){const[t]=(0,$t.Y)(()=>{const{clickTracker:t,context:i}=e;if($i.firePageView(t),o)o.resumeArticleTracking();else{const e=nn.d.getAd(r);if(!e)return;s.set(r,new tn(r)),o=s.get(r),o.state.adPlacementId=r,$i.fireTrackers(t,i,e),o.buildContentFromCachedData(e)}window.location.hash="#ntv-lightbox".concat(o.state.adPlacementId),(0,d.W)().set("currentNtvContentModal",o),o.open()});if(t)return Ue.Z.postErrorMsg("Error opening content modal",t)}};function sn(e){const t=(0,d.W)().get("currentNtvContentModal");if(t){try{t.close(),(0,d.W)().set("currentNtvContentModal",void 0)}catch(e){console.error(e)}e&&"function"==typeof e&&e();try{!function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window;if(null==e)return;try{if(e.location&&e.location.toString){let t=e.location.toString();if(t.indexOf("#")>0){let i=t.substring(0,t.indexOf("#"));e.history.replaceState({},document.title,i)}}}catch(e){console.error(e)}}(window.top)}catch(e){}}}function on(e,t,i){(function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")})(e,t),t.set(e,i)}function an(e,t,i){return e.set(ln(e,t),i),i}function cn(e,t){return e.get(ln(e,t))}function ln(e,t,i){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:i;throw new TypeError("Private element is not present on this object")}const un="ExtensionLoaded",dn="GetAdPreferences",hn="AdPreferences";var pn=new WeakMap,fn=new WeakMap;const mn=new class{constructor(){on(this,pn,void 0),on(this,fn,void 0),window.addEventListener("message",e=>{e.data.type===un&&this.getAdPreferences()},{once:!0}),Object.defineProperty(this,"adPreferencesString",{get:()=>cn(pn,this)})}async getAdPreferences(){return cn(fn,this)&&cn(fn,this).abort(),an(fn,this,new AbortController),void 0!==cn(pn,this)?Promise.resolve(cn(pn,this)):new Promise((e,t)=>{!function(e,t,i){null==i||i.addEventListener("abort",r);const n=setTimeout((function(){null==i||i.removeEventListener("abort",r),e("TIME OUT")}),t);function r(){clearTimeout(n)}}(t,100,cn(fn,this).signal),window.addEventListener("message",t=>{t.data&&t.data.type===hn&&(cn(fn,this).abort(),an(pn,this,t.data.data),e(cn(pn,this)))},{signal:cn(fn,this).signal}),window.postMessage({type:dn},"*")})}};var vn=i(9601);function gn(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function yn(e,t,i){return e.set(En(e,t),i),i}function bn(e,t){return e.get(En(e,t))}function En(e,t,i){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:i;throw new TypeError("Private element is not present on this object")}var wn=new WeakMap,Tn=new WeakSet;class Sn{constructor(){var e,t;gn(e=this,t=Tn),t.add(e),function(e,t,i){gn(e,t),t.set(e,i)}(this,wn,void 0)}getData(){return null==bn(wn,this)&&yn(wn,this,En(Tn,this,In).call(this)),bn(wn,this)||{}}appendScript(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document.head;const t=()=>{try{const e=new window.IntentIqSyncObject({partner:456059511});En(Tn,this,An).call(this,e.firstPartyData)}catch(e){i()}},i=()=>{En(Tn,this,An).call(this,En(Tn,this,In).call(this))};if(e.querySelector("script#".concat("ntv_iiq_script")))return t(),this;const n=document.createElement("script");return n.onload=t,n.onerror=i,n.async=!0,n.defer=!0,n.src="https://agent.intentiq.com/Agent/GA/UniversalID-Sync/IIQUniversalID-sync.js",n.id="ntv_iiq_script",e.appendChild(n),this}}function An(e){null!=e&&(yn(wn,this,e),Ht.K.saveData("iiq",bn(wn,this)))}function In(){return Ht.K.getData("iiq")}var Pn=i(7200),Cn=i(7625),kn=i(7002);const Rn=new class{constructor(){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:kn.x;this.pipeline=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pn.X,this.cache=e}processAndCache(e){const t=this.pipeline.transform(e);return{key:this.cache.store(t),data:t}}getCached(e){return this.cache.retrieve(e)}canCreateFromCache(e){return this.cache.has(e)}};var Dn=i(3980);const On=r.util.setTimeout;r.util.getTopWindow();function _n(e,t,i,n,s){var o;if(e&&(!e.hasOwnProperty("length")||0!==e.length)){e=r.util.toDomElement(e),t=r.util.toDomElement(t);var a=i+"-"+n;null!==(o=e)&&void 0!==o&&o.insertBefore&&(e.insertBefore(t.parentNode,e.childNodes[0]),t.style.position="absolute",t.style.zIndex="9998",t.classList.add(a),t.style.right="0px",t.style.top="0px",On(()=>t.style.visibility="visible",5e3),"undefined"==!s&&(ntv.query(window).on(" ready load resize",_n(e,t,i,n,!0)),ntv.query(e).ready(()=>_n(e,t,i,n,!0)),ntv.query(document).ready(()=>_n(e,t,i,n,!0)),On((function(){"undefined"!=ntv.PostRelease.adChoiceTracksNodeCount&&document.body.children.length==ntv.PostRelease.adChoiceTracksNodeCount||(ntv.PostRelease.adChoiceTracksNodeCount=document.body.children.length,_n(e,t,i,n,!0))}),150)))}}function Ln(e){this.infScrollReset=!1,e&&e instanceof Object&&(this.infScrollReset=e.infScrollReset||!1,delete e.infScrollReset);const t=!!this.setting.adversionplacementid;this.ampMode=this.setting.ampMode,this.requestUrl=this.setting.requestUrl,Hn.inventoryTrackersHistory={},Hn.inventoryTrackers=[],Hn.viewableImpressionTrackers=[],Hn.adsMap={},this.setting.makeAdRequest||(0,Kt.eO)()?(!function(e){(0,hi.DY)().then(t=>{Hn.setting.usprivacy=t,Hn.setting.prx_rtparam=((e,t)=>b(e,(e=>{let t="";if(void 0!==e)for(var i in e)t+="&ntv_"+i+"="+e[i];return t})(t)))(Hn.setting,e),(async()=>{const e=Hn.topWindow.document.head||document.body;Hn.intentIq=(new Sn).appendScript(e);(new V).makeRequest().then(()=>{S.o.performance.set("sendRequest")}).catch(()=>{r.util.firePubSubEvent("adRequestError")})})()})}(e),this.setting.measurement&&ntv.Tracking.startTrackingArticle(T(this.setting))):t&&ntv.Tracking.startTrackingArticle(T(this.setting))}const Nn={ADVERTISER:0,CAMPAIGN:1,AD:2,NO_FILTERING:4},xn={[Nn.ADVERTISER]:e=>{Hn.advertisersToFilter.indexOf(e)<0&&Hn.advertisersToFilter.push(e)},[Nn.CAMPAIGN]:e=>{Hn.campaignsToFilter.indexOf(e)<0&&Hn.campaignsToFilter.push(e)},[Nn.AD]:e=>{Hn.adsToFilter.indexOf(e)<0&&Hn.adsToFilter.push(e)}},Vn={[Nn.ADVERTISER]:"advertiserId",[Nn.CAMPAIGN]:"campaignId",[Nn.AD]:"adId"},Mn=e=>{const{filteringLevel:t}=e;if(!Vn[t])return;let i=e[Vn[t]];Un(i)&&i&&jn(t,i)},Un=e=>r.util.is("s",e)||r.util.is("n",e),jn=(e,t)=>{xn[e]&&xn[e](t)};function Fn(e){Ht.K.saveData(n.z1.NTV_UID,e)}function Bn(){Ht.K.deleteData(n.z1.NTV_UID)}function Wn(e){Hn.executeShares&&"function"==typeof Hn.executeShares[e]&&Hn.executeShares[e]()}let Hn=ntv.PostRelease||new function(){try{this.setting=w(),this.webChoices=async function(){return mn.getAdPreferences().catch(e=>{console.warn("Unable to get WebChoices Preferences",e)}),mn}(),this.ntvUrlVars=r.util.getUrlVars(),this.firstPartyCookie=Ht.K.getData(n.z1.NTV_UID),this.adsToFilter=[],this.campaignsToFilter=[],this.advertisersToFilter=[],this.viewableImpressionTrackers=[],this.videoViewableTrackers=[],this.inventoryTrackers=[],this.videoPlayers=[],this.articleCache=(0,d.W)("articles"),this.ampMode=!1,this.requestUrl="",this.referencePlacementPositions=[],this.inventoryTrackersHistory={},this.thirdPartyJSViewableImpTrackers=[],this.viewableWhiteList={},this.isPreviewReq="s"===r.util.getQS(n.z1.REQ_OPTIONS),this.InsertAd=ot,this.PlacementResponseCache={},this.LazyRenderPlacement=ht,this.postRender=dt,this.articlePostRender=ai,this.activateISI=Ee.j,this.getTopWindow=r.util.getTopWindow,this.topWindow=r.util.getTopWindow(),this.GetHrefUrlClick=Ji.yF.bind(this),this.GetHrefUrlDown=Ji.ft.bind(this),this.positionAdChoice=_n,this.OpenShareFacebook=Hi,this.OpenShareTwitter=zi,this.OpenShareLinkedIn=Gi,this.OpenShareGoogle=qi,this.OpenSharePinterest=Yi,this.OpenShareStumbleUpon=Qi,this.OpenShareEmail=Ki,this.OpenContentModal=rn,this.CloseContentModal=sn,this.ProcessResponse=xi,this.setupClickOut=Ji.IJ,this.setupVideo=Ui,this.checkIsAdVisible=vn.c9,this.setFilteringByLevel=Mn,this.filterAdByFilteringLevel=jn,this.Start=Ln.bind(this),this.sessionMgmt=new Bi,this.Passback=ve,this.trackFirstPartyCookie=Fn,this.deleteFirstPartyCookie=Bn,this.WindowOpen=r.util.windowOpen,this.adsMap={},this.sdkAPI=new Zi.ZP,this.internalPubSub=Xi.U.SecurePubSub(),this.id=r.util.generateUniqueId(1e7),this.ErrorLogger=Ue.Z,this.intentIq=(new Sn).appendScript(this.topWindow.document.head),this.disableAdsFromElement=()=>{},this.processDynamicAssets=be.fC,this.EnhancedAdPipeline={processDynamicAssets:Pn.X.processDynamicAssets.bind(Pn.X),cacheDynamicAssets:Pn.X.cacheDynamicAssets.bind(Pn.X),getCached:Rn.getCached.bind(Rn),canCreateFromCache:Rn.canCreateFromCache.bind(Rn),generateEventTrackerMaps:Dn.r},this.EnhancedAdFactory={createDirect:Cn.r.createDirect.bind(Cn.r),create:Cn.r.create.bind(Cn.r),canCreate:Cn.r.canCreate.bind(Cn.r),getCachedType:Cn.r.getCachedType.bind(Cn.r)}}catch(e){r.util.postError(e)}}},9942:(e,t,i)=>{"use strict";i.d(t,{U:()=>c});i(560);var n=i(8913),r=i(1611);window.win||window;ntv.events||(ntv.events=new n.q$,"function"!=typeof Object.create&&(Object.create=function(e){function t(){}return t.prototype=e,new t}));let s=r.util.getTopWindow().document,o=s.createElement("div"),a=[];const c={PubSub:{subscribe(e,t){(e=e.split(" ")).forEach(e=>{-1==(this.unpublishList||a).indexOf(e)&&(r.util.is(t,Array)?t.forEach(t=>{(this.univNode||o).addEventListener(e,t,!1)}):(this.univNode||o).addEventListener(e,t,!1))})},subscribeOnce(e,t){const i=n=>{t(n),this.unsubscribe(e,i)};this.subscribe(e,i)},unsubscribe(e,t){(this.univNode||o).removeEventListener(e,t,!1)},publish(e,t){this.publish=r.util.is("f",Event)&&"Event"==Event.prototype.constructor.name&&Event.hasOwnProperty("BUBBLING_PHASE")?function(e,t){if(-1!=(this.unpublishList||a).indexOf(e))return;let i=new Event(e);i.data=t||{},(this.univNode||o).dispatchEvent(i,t)}:function(e,t){if(-1!=(this.unpublishList||a).indexOf(e))return;let i=s.createEvent("Event");i.data=t||{},i.initEvent(e,!0,!0),(this.univNode||o).dispatchEvent(i,t)},this.publish(e,t)},unpublish(e){a.push(e)}},SecurePubSub(){function e(){this.doc=r.util.getTopWindow().document,this.univNode=s.createElement("div"),this.unpublishList=[]}return e.prototype.subscribe=c.PubSub.subscribe,e.prototype.unsubscribe=c.PubSub.unsubscribe,e.prototype.on=e.prototype.subscribe,e.prototype.trigger=e.prototype.publish=c.PubSub.publish,e.prototype.subscribeOnce=function(e,t){const i=n=>{t(n),this.unsubscribe(e,i)};this.subscribe(e,i)},new e},Types:{Player:{Publish:{Preroll:{ADHEADLINE_CLICK:"player:preroll:adHeadlineCick",VIDEO_END:"player:preroll:videoEnd",VIDEO_START:"player:preroll:videoStart",PROGRESS:"player:preroll:progress",PAUSE:"player:preroll:pause",CLICK:"player:preroll:click",CTA_CLICK:"player:preroll:ctaClick",VOLUME_CHANGE:"player:preroll:volumechange",IGNORE_FIRST_CLICK:"player:preroll:ignoreFirstclick",MUTE:"player:preroll:mute",UNMUTE:"player:preroll:unmute",RESUME:"player:preroll:resume",FULLSCREEN:"player:preroll:fullscreen",EXIT_FULLSCREEN:"player:preroll:exitFullscreen",PREROLL_FETCH_AD_REQUEST:"player:preroll:prerollAdRequest",PREROLL_FETCH_AD_RETURNED:"player:preroll:prerollAdReturned",PREROLL_FETCH_AD_CANCEL:"player:preroll:prerollAdCancel",PREROLL_FETCH_AD_ERROR:"player:preroll:prerollAdError",PREROLL_AD_CANCELED:"player:preroll:videoCanceled",PREROLL_AD_ERROR:"player:preroll:videoError",RESIZE:"player:preroll:resize",BUFFERING:"player:preroll:buffering"},Content:{ADHEADLINE_CLICK:"player:content:adHeadlineCick",VIDEO_END:"player:content:videoEnd",VIDEO_START:"player:content:videoStart",PROGRESS:"player:content:progress",PAUSE:"player:content:pause",CLICK:"player:content:click",VOLUME_CHANGE:"player:content:volumechange",IGNORE_FIRST_CLICK:"player:content:ignoreFirstclick",MUTE:"player:content:mute",UNMUTE:"player:content:unmute",RESUME:"player:content:resume",FULLSCREEN:"player:content:fullscreen",EXIT_FULLSCREEN:"player:content:exitFullscreen",RESIZE:"player:content:resize",BUFFERING:"player:content:buffering",CAN_PLAY:"player:content:canPlay",REPLAY:"player:content:replay",VAST_ERROR:"player:content:vastError"},General:{PLAYER_READY:"player:general:playerReady",PLAYER_ERROR:"player:general:playerError",USER_ACTIVE:"player:general:userAcitve",USER_INACTIVE:"player:general:userInacitve"}},Subscribe:{RENDER_VIDEO_PLAYER:"player:cmd:renderVideoPlayer",VOLUME_CHANGE:"player:cmd:volumeChange",SEEK:"player:seek",PLAY:"player:cmd:play",PAUSE:"player:cmd:pause",RESUME:"player:cmd:resume",RESET:"player:cmd:reset",MUTE:"player:cmd:mute",UNMUTE:"player:cmd:unmute",TOGGLE:"player:cmd:toggle",USER_ACTIVE:"player:cmd:userAcitve",USER_INACTIVE:"player:cmd:userInacitve",Preroll:{LEARN_MORE_CLICKED:"player:cmd:prerollLearnMorenClicked"},Content:{LEARN_MORE_CLICKED:"player:cmd:learnMorenClicked"},PREROLL_LEARN_MORE_CLICKED:"player:cmd:prerollLearnMorenClicked"}},Tracking:{Events:{Preroll:{ADHEADLINE_CLICK:"tracking:events:preroll:adheadlineCick",VIDEO_END:"tracking:events:preroll:videoEnd",VIDEO_START:"tracking:events:preroll:videoStart",PAUSE:"tracking:events:preroll:pause",CLICK:"tracking:events:preroll:click",CTA_CLICK:"tracking:events:preroll:ctaClick",VOLUME_CHANGE:"tracking:events:preroll:volumechange",IGNORE_FIRST_CLICK:"tracking:events:preroll:ignoreFirstclick",MUTE:"tracking:events:preroll:mute",UNMUTE:"tracking:events:preroll:unmute",RESUME:"tracking:events:preroll:resume",FULLSCREEN:"tracking:events:preroll:fullscreen",EXIT_FULLSCREEN:"tracking:events:preroll:exitFullscreen",PREROLL_FETCH_AD_REQUEST:"tracking:events:preroll:prerollAdRequest",PREROLL_FETCH_AD_RETURNED:"tracking:events:preroll:prerollAdReturned",PREROLL_FETCH_AD_CANCEL:"tracking:events:preroll:prerollAdCancel",PREROLL_FETCH_AD_ERROR:"tracking:events:preroll:prerollAdError",PREROLL_AD_CANCELED:"tracking:events:preroll:videoCanceled",PREROLL_AD_ERROR:"tracking:events:preroll:videoError"},Content:{ADHEADLINE_CLICK:"tracking:events:content:adheadlineCick",VIDEO_END:"tracking:events:content:videoEnd",VIDEO_START:"tracking:events:content:videoStart",PAUSE:"tracking:events:content:pause",CLICK:"tracking:events:content:click",VOLUME_CHANGE:"tracking:events:content:volumechange",IGNORE_FIRST_CLICK:"tracking:events:content:ignoreFirstclick",MUTE:"tracking:events:content:mute",UNMUTE:"tracking:events:content:unmute",RESUME:"tracking:events:content:resume",FULLSCREEN:"tracking:events:content:fullscreen",EXIT_FULLSCREEN:"tracking:events:content:exitFullscreen",VAST_ERROR:"tracking:events:content:vastError"}},Progress:{Preroll:{CUMULATIVE:"tracking:progress:preroll:cumulative",POSITION:"tracking:progress:preroll:position",PERCENTILE:"tracking:progress:preroll:percentile",USERACTIVECUMULATIVE:"tracking:progress:preroll:userActiveCumulative",CURRENT_TIME:"tracking:progress:preroll:currentTime"},Content:{CUMULATIVE:"tracking:progress:content:cumulative",POSITION:"tracking:progress:content:position",PERCENTILE:"tracking:progress:content:percentile",USERACTIVECUMULATIVE:"tracking:progress:content:userActiveCumulative",CURRENT_TIME:"tracking:progress:content:currentTime"}}},Modules:{EXECUTE:"modules:execute"},Skin:{READY:"skin:ready",INITIALIZED:"skin:initialized",UPDATE_INFO_BAR:"skin:updateInfoBar",SHOW_INFO_BAR:"skin:showInfoBar",HIDE_INFO_BAR:"skin:hideInfoBar",SHOW_CONTROL_BAR:"skin:showControlBar",HIDE_CONTROL_BAR:"skin:hideControlBar",SHOW_OVERLAY:"skin:showOverlay",HIDE_OVERLAY:"skin:hideOverlay",HIDE_ALL_OVERLAYS:"skin:hideAllOverlays",FULLSCREEN:"skin:fullscreen",EXIT_FULLSCREEN:"skin:exitFullscreen",HIDE_PREVIEW_IMAGE:"skin:hidePreviewImage",SHOW_VIDEO_END_IMAGE:"skin:showVideoEndImage",HIDE_VIDEO_END_IMAGE:"skin:hideVideoEndImage",INFO_BAR_CLICK:"skin:infoBarClicked",CLICK:"skin:click",PAUSE:"skin:pause",PREVIEW_IMAGE_CLICK:"skin:previewImageClick",RENDER_PREROLL_SKIN:"skin:renderPrerollSkin",REMOVE_PREROLL_SKIN:"skin:removePrerollSkin",PLAY:"skin:play",SEEK:"skin:seek",USER_ACTIVE:"skin:userActive",USER_INACTIVE:"skin:userInactive",RESUME:"skin:resume",INFO_BAR_SHOWN:"skin:infoBarShown",INFO_BAR_HIDDEN:"skin:infoBarHidden",OVERLAY_SHOWN:"skin:overlayShown",OVERLAY_HIDDEN:"skin:overlayHidden",PREVIEW_IMAGE_VIDEO_END_SHOWN:"skin:previewImageVideoEndShown",FULLSCREEN_CHANGED:"skin:fullScreenChanged",INFO_BUTTON_CLICKED:"skin:infoButtonClicked",CONTROLBAR_HIDDEN:"skin:controlbarHidden",CONTROLBAR_SHOWN:"skin:controlbarShown",PREVIEW_IMAGE_HIDDEN:"skin:previewImageHidden",ALL_OVERLAYS_HIDDEN:"skin:allOverlayHidden",PREROLL_SKIN_RENDERED:"skin:preRollSkinRendered",PREROLL_SKIN_REMOVED:"skin:preRollSkinRemoved",VIDEO_RESUMED:"skin:videoResumed",RESIZE:"skin:resize",Preroll:{LEARN_MORE_CLICKED:"skin:prerollLearnMorenClicked"},Content:{LEARN_MORE_CLICKED:"skin:learnMorenClicked"},PREROLL_LEARN_MORE_CLICKED:"skin:prerollLearnMorenClicked",YouTube:{INITIALIZED:"skin:youTube:initialized",READY:"skin:youTube:ready"},Mobile:{INITIALIZED:"skin:mobile:initialized",READY:"skin:mobile:ready",MOBILE_SHARE_CLOSED:"skin:mobileShareClosed",MOBILE_SHARE_OPENED:"skin:mobileShareOpened",CLOSE_MOBILE_SHARE:"skin:closeMobileShare",OPEN_MOBILE_SHARE:"skin:openMobileShare"}},IFU:{READY:"ifu:ready",INITIALIZED:"ifu:initialized",EXPANDED:"ifu:expanded",COLLAPSED:"ifu:collapsed",TOGGLE_VIDEO:"ifu:toggleVideo",ANCHOR_CLICK:"ifu:anchorClick",COLLAPSE:"ifu:collapse",EXPAND:"ifu:expand",CLICK:"ifu:click",ADHEADLINE_CLICK:"ifu:adHeadlinClick"},Manager:{TOGGLE_VIDEO:"manager:toggleVideo",PLAY:"manager:play",RESUME:"manager:resume",PAUSE:"manager:pause",USER_ACTIVE:"manager:userActive",USER_INACTIVE:"manager:userInactive",PREVIEW_IMAGE_CLICK:"manager:previewImageClick",CLICK:"manager:click",MUTE:"manager:mute",UNMUTE:"manager:unmute",RESET:"manager:reset",ClEAN_UP:"manager:cleanUpRemainingLogic"}},Data:{PLAY_BUTTON:"player:button:play",PAUSE_BUTTON:"player:button:pause",SEEK_BAR:"player:button:seek",VOLUME_SLIDER:"player:slider:volume",MUTE_BUTTON:"player:button:mute",UNMUTE_BUTTON:"player:button:unmute",FULLSCREEN_BUTTON:"player:button:fullscreen",EXIT_FULLSCREEN_BUTTON:"player:button:exitFullscreen",INFO_BUTTON:"player:button:info"}};Object.freeze(c)},6330:(e,t,i)=>{"use strict";i.d(t,{Cb:()=>a,D9:()=>s,Nz:()=>o});i(5847);var n=i(4862),r=i(5150);const s={useObserverViewability:!1};function o(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e||!t)return;const i=(0,n.W)("responseFlags");i.set(e,Object.assign({},s,t))}function a(e){if(!e)return r.core.setting.flags||s;return(0,n.W)("responseFlags").get(e)||{}}},9294:(e,t,i)=>{"use strict";i.d(t,{o:()=>l});i(560);var n=i(5150),r=i(6101),s=i(1611);const o=[25,50,75,100],a={},c=[];const l={performance:new function(){this.set=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(new Date).getTime();var i={};i[e]=t,c.push(i)},this.get=function(e){if(e){for(let t=c.length-1;t>=0;t--)if(c[t][e])return c[t][e];return null}return c},this.sendRequest=function(e,t){let i=2==t||Math.random()<=.1;n.core.setting.experiment&&0==n.core.setting.experiment.indexOf("1*")&&(i=!0),i&&s.util.appendImage(e)},this.validInt=function(e){return!isNaN(e)&&e>=0&&e<6e4},this.trackBeforeRender=function(e){if(this.sentTrackBeforeRender)return;let t=this.get("getResponse"),i=this.get("sendRequest"),r=window.ntvLoadStart-window.performance.timing.navigationStart,o=this.get("init")-window.ntvLoadStart,a=t-i;if(n.core.setting.isEdge&&(i||(a=0)),!e)return;let c=e.trackingBaseUrl+"321,322,333&ntv_a="+e.adVersionPlacement+"&ntv_jlt="+r+"&ntv_jad="+a+"&ntv_jte="+o+s.util.buildExperimentUrl(n.core.setting.experiment);a>=0&&this.validInt(a)&&this.validInt(r)&&this.validInt(o)&&(this.sentTrackBeforeRender=!0,this.sendRequest(c))},this.trackAfterRender=function(e,t){let i=this.get("getResponse"),r=new Date-i,o=e.trackingBaseUrl+(1==t?"323":"324")+"&ntv_a="+e.adVersionPlacement+"&"+(1==t?"ntv_jtr":"ntv_jar")+"="+r+s.util.buildExperimentUrl(n.core.setting.experiment);n.core.setting.isEdge&&(i||(r=0)),this.validInt(r)&&this.sendRequest(o,t)},this.setStart=function(){this.get("preStart")||this.set("preStart",new Date-this.get("init")),this.set("start")},this.responsivenessTracking=function(){const e=(new Date).getTime(),t=e-window.performance.timing.navigationStart,i=(n,r,s,c,l)=>{let u=(new Date).getTime(),d=u-c-200;if(5===n){let c=l/n;if(o.forEach(i=>{a[i]||(c<=i?a[i]=s[0]-e-200+t:u-e>15e3&&(a[i]=15e3))}),Object.keys(a).length===o.length)return;{let e=r.shift();r.push(d),s.shift(),s.push(u),setTimeout(()=>{i(n,r,s,u,l-e+d)},200)}}else r.push(d),s.push(u),setTimeout(()=>{i(n+1,r,s,u,l+d)},200)};setTimeout(()=>{i(0,[],[],e,0)},200)},this.sendResponsivenessRequest=function(e,t){if(t&&!this.sent)if(Object.keys(a).length===o.length){const t=s.util.getBaseUrl()+r.z1.AT+"=386,387,388,389&"+r.z1.RESPONSIVENESS_1OO+"="+a[100]+"&"+r.z1.RESPONSIVENESS_75+"="+a[75]+"&"+r.z1.RESPONSIVENESS_50+"="+a[50]+"&"+r.z1.RESPONSIVENESS_25+"="+a[25]+"&"+r.z1.SESSION_PL_ID+"="+e+s.util.buildExperimentUrl(n.core.setting.experiment);s.util.appendImage(t),this.sent=!0}else setTimeout(()=>this.sendResponsivenessRequest(e,t),200)}}}},8721:(e,t,i)=>{"use strict";i.d(t,{j:()=>y,s:()=>g});i(1057),i(6265);var n,r,s,o=i(8258),a=i(1611),c=i(4862),l=i(1251),u=i(2505);class d{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.callback=e,this.options={debounceTime:100,minSizeChange:5,trackSizeHistory:!0,...t},this.elements=new Map,this.debouncer=(0,u.Ot)(this.options.debounceTime),this.previousDimensions=new Map,this.resizeCount=new Map,this.observer=new ResizeObserver(this.handleResize.bind(this))}observe(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!e)return;this.elements.set(e,t),this.observer.observe(e);const i=e.getBoundingClientRect();this.previousDimensions.set(e,{width:i.width,height:i.height}),this.resizeCount.set(e,0),0!==i.width&&0!==i.height||setTimeout(()=>{if(this.elements.has(e)){var i,n;const r=e.getBoundingClientRect();0!==(null===(i=this.previousDimensions.get(e))||void 0===i?void 0:i.width)&&0!==(null===(n=this.previousDimensions.get(e))||void 0===n?void 0:n.height)||this.previousDimensions.set(e,{width:r.width,height:r.height}),(r.width>0||r.height>0)&&this.callback({element:e,data:t,dimensions:r})}},300)}unobserve(e){e&&(this.elements.delete(e),this.previousDimensions.delete(e),this.resizeCount.delete(e),this.observer.unobserve(e),this.debouncer.cancel(e))}disconnect(){this.elements.clear(),this.previousDimensions.clear(),this.resizeCount.clear(),this.observer.disconnect(),this.debouncer.cancelAll()}isSizeChangeSignificant(e,t){if(!this.options.trackSizeHistory)return!0;const i=this.previousDimensions.get(e);if(!i)return!0;const n=Math.abs(t.width-i.width),r=Math.abs(t.height-i.height);return n>=this.options.minSizeChange||r>=this.options.minSizeChange}handleResize(e){for(const t of e){const e=t.target;if(!this.elements.has(e))continue;const i=this.elements.get(e);if(!this.isSizeChangeSignificant(e,t.contentRect))continue;const n=this.resizeCount.get(e)||0;this.resizeCount.set(e,n+1),n>=this.MAX_RESIZE_LOOP_THRESHOLD?(console.warn("Potential resize loop detected, skipping resize event for element:",e),this.resizeCount.set(e,0),this.debouncer.cancel(e)):(this.previousDimensions.set(e,{width:t.contentRect.width,height:t.contentRect.height}),this.debouncer.debounce(e,()=>{this.elements.has(e)&&(this.resizeCount.set(e,0),this.callback({element:e,data:i,dimensions:t.contentRect}))}))}}}n=d,s=10,(r=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(r="MAX_RESIZE_LOOP_THRESHOLD"))in n?Object.defineProperty(n,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):n[r]=s;var h=i(3221),p=i(6046);window;const f=.5,m=.4;function v(){return new Promise(e=>{let t=window.scrollY,i=0,n=0;requestAnimationFrame((function r(){const s=window.scrollY;if(Math.abs(s-t)<1){if(n++,n>=5)return void e()}else n=0,t=s;i>180?e():(i++,requestAnimationFrame(r))}))})}const g=async function(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:window.document,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{initialTimeout:150,startWaitTime:500,scrollIncrement:40,timeoutThreshold:15,lastTimeout:750,isPreview:!0,completionDelay:1e3};if("complete"!==i.readyState)return void a.util.setTimeout(()=>g(e,t),0);if(!e)return;let r=e;if(r.length&&(r=r.length>1?r[0].parentNode:r[0]),r=a.util.isInIframe(r)?r.ownerDocument.defaultView.frameElement||r:a.util.findLargestChild(r),!r)return;a.util.getTopWindow();if(-1!==t.indexOf("h")){let e=r.getAttribute("style")||"";r.setAttribute("style","transition: box-shadow ".concat(.15,"s ease-in-out, outline ").concat(.15,"s ease-in-out; box-shadow: 0px 0px 0px 10000px rgba(0,0,0,0.2); outline: 5px dashed lightblue; z-index: 9999999; position: relative;")+e),r.dataset.prevStyle=e}if(r.scrollIntoView({behavior:"smooth",block:"center"}),await v(),-1!==t.indexOf("h")){await new Promise(e=>setTimeout(e,n.completionDelay)),r.style.boxShadow="0px 0px 0px 10000px rgba(0,0,0,0)",r.style.outline="5px dashed transparent",await new Promise(e=>setTimeout(e,300));let e=r.dataset.prevStyle||"";delete r.dataset.prevStyle,r.setAttribute("style",e)}};const y=(e,t,i,n)=>{let r;if("string"==typeof e?r=e:e.selector?r=e.selector:e.nodeType&&1===e.nodeType&&(r=function(e){if(!e)return"";let t=e.tagName.toLowerCase();if(e.id)t="#"+e.id;else{const i=[...e.classList];i.length>0&&(t+="."+i.join("."))}return t}(e)),!R(e)){const s=r;if(s&&!R(e=a.util.domQueryUp("".concat(s,":not(.").concat("ntv-isi-activated",")")))){const e=(0,c.W)("failedISIRenders");if(e.has(t))return;return e.set(t,{id:t,scrollSpeed:i,...n}),void a.util.delayPostError(t,new Error("activateISI() target node not found. targetSelector:".concat(s,", isi_id:").concat(t)))}}let s=function(e){if(!e)return;if(!e.length)return e.dataset.ntvIsi="true",e;let t=0;for(;t<e.length&&e[t].dataset.ntvIsi;t++);if(t>=e.length)return;return e[t].dataset.ntvIsi="true",e[t]}(e);if(!s)return;s.classList.add("ntv-isi-activated");(function(e){return"IMG"===e.tagName?b:"VIDEO"===e.tagName||e.classList.contains("ntv-video-wrapper")?E:w})(s)(s,t,i,n)};function b(e,t,i,n){(0,o.onImageLoad)(e,()=>{const r=function(e){const t=(0,o.getFirstNonZeroHeightAncestor)(e);"static"===getComputedStyle(t).position&&(t.style.position="relative");return t}(e);k(e,t,i,n,r)})}function E(e,t,i,n){let r=e;if(!e.classList.contains("ntv-video-wrapper")){let t=e.parentNode;for(;t&&!t.classList.contains("ntv-video-wrapper");)t=t.parentNode;if(t&&t.classList.contains("ntv-video-wrapper"))r=t;else{const t=e.querySelector(".ntv-video-wrapper");t&&(r=t)}}k(e,t,i,n,r)}function w(e,t,i,n){k(e,t,i,n,e)}function T(e,t){let i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const n=16/9;let r;if(e.classList.contains("ntv-video-wrapper")){const t=e.dataset.ntvVideoAspectRatio;if(t){const e=parseFloat(t);if(!isNaN(e)&&e>0)return e}const i=e.querySelector("video");if(i){const e=(0,p.j)(i);if(e){const t=parseFloat(e);if(!isNaN(t)&&t>0)return t}}}return r=(0,h.n3)(e,i),r&&r>0?r:n}function S(e,t,i){return e?t:i&&i>0&&i<20?i:t}function A(e,t,i,n,r){const s=(null==e?void 0:e.height)>0?e.height:t;return{mediaHeight:s,isiHeight:s*i,topPosition:function(e,t){const i=e.getBoundingClientRect(),n=t.getBoundingClientRect(),r=window.getComputedStyle(t),s=parseFloat(r.borderTopWidth)||0,o=parseFloat(r.paddingTop)||0;return i.top-n.top-s-o}(n,r)+s*(1-i)}}function I(e,t){return{mediaHeight:e*(1-t),isiHeight:e*t,topPosition:void 0}}function P(e,t,i,n){let r=arguments.length>4&&void 0!==arguments[4]&&arguments[4];const s=(0,o.getElementDimensions)(e),a=(0,o.getElementDimensions)(t);if(!s||s.width<=0)return null;const c=T(t,e,r);let l=null;s.height>0&&(l=s.width/s.height);const u=S(n,c,l),d=s.width/u;(0,h.Xv)(t,u);const p=n?A(a,d,i,t,e):I(d,i);return{containerDimensions:s,nodeDimensions:a,totalHeight:d,mediaHeight:p.mediaHeight,isiHeight:p.isiHeight,topPosition:p.topPosition,aspectRatio:u,usingContainerAspectRatio:!n&&l&&l>0}}function C(e,t,i,n,r,s,o){if(t.setAttribute("style",""),i.setAttribute("style",""),e.setAttribute("style",""),t.style.width="100%",t.style.maxWidth="100%",t.style.boxSizing="border-box",t.style.overflow="hidden",t.style.display="block",null!=n&&n.aspectRatio?e.dataset.aspectRatio=n.aspectRatio:console.warn("NTV ISI: Could not determine aspect ratio for layout",o),e.classList.add("ntv-isi-container"),e.style.setProperty("--isi-height-ratio",s),r){if(e.appendChild(i),i.classList.add("ntv-isi-overlay"),!n||!n.nodeDimensions||n.nodeDimensions.height<=0){const n=a.util.getOverflowDimensions(t,e).h;n>0?(i.style.height="".concat(Math.ceil(n*s),"px"),i.style.top="".concat(Math.ceil(n*(1-s)),"px")):(console.warn("NTV ISI: Using fallback height for overlay ISI",o),i.style.height=Math.max(.1*e.clientHeight,40),i.style.bottom="0")}else i.style.height="".concat(Math.ceil(n.isiHeight),"px"),i.style.top="".concat(Math.ceil(n.topPosition),"px");t.style.maxHeight="none"}else{e.classList.add("ntv-isi-grid-container"),e.appendChild(i);const r=1-s;if(e.style.display="grid",n&&n.containerDimensions&&n.containerDimensions.width>0&&n.aspectRatio>0){const t=n.containerDimensions.width/n.aspectRatio,i=Math.ceil(t*r),o=Math.max(40,Math.ceil(t*s));e.style.gridTemplateRows="".concat(i,"px ").concat(o,"px"),e.style.height="".concat(i+o,"px"),e.style.minHeight="auto",e.style.maxHeight="none"}else console.warn("NTV ISI: Using fractional units for grid layout due to missing size info",o),e.style.gridTemplateRows="".concat(r,"fr ").concat(s,"fr"),e.style.height="auto";if(t.classList.add("ntv-isi-grid-item"),i.classList.add("ntv-isi-grid-item"),t.style.gridRow="1",t.style.minHeight="100px",t.style.maxHeight="none",t.style.objectFit="cover",i.style.gridRow="2",i.style.height="100%",i.style.minHeight="40px",i.style.display="block",e.classList.contains("ntv-video-wrapper")){const t=e.querySelector("iframe[id^='ntvVideoIframe']");t&&(t.style.gridRow="1",t.style.width="100%",t.style.height="100%",t.style.alignSelf="stretch",t.style.display="block")}}i.classList.add("ntv-isi-wrapper-visible")}function k(e,t,i,n,r){let s=n.context||e.ownerDocument;r=r||e.parentNode;const{isOverlay:o=!0,heightRatio:c=(o?m:f)}=n;let u=a.util.domQuery("#"+t+"-wrapper",s),h=a.util.domQuery("#"+t,s);if(!u||!h||null==h.getAttribute("data-ntv-body"))return void console.error("NTV ISI: Missing ISI wrapper, iframe, or body content for",t);const p=e.getRootNode();let v;if(v=p instanceof ShadowRoot?p:p.head?p.head:document.head,v&&!v.querySelector("#ntv-isi-styles"))if(v instanceof ShadowRoot)fetch("https://s.ntv.io/css/isi.css").then(e=>e.text()).then(e=>{const t=document.createElement("style");t.id="ntv-isi-styles",t.textContent=e,v.appendChild(t)}).catch(e=>{console.error("NTV ISI: Failed to load CSS for shadow DOM",e);const t=document.createElement("style");t.id="ntv-isi-styles",v.appendChild(t)});else{const e=document.createElement("link");e.id="ntv-isi-styles",e.rel="stylesheet",e.href="https://s.ntv.io/css/isi.css",v.appendChild(e)}const g=P(r,e,c,o);C(r,e,u,g,o,c,t);const{scrollContainer:y}=function(e,t,i,n){e.setAttribute("style",""),e.classList.add("ntv-isi-iframe"),e.classList.add("ntv-isi-iframe-visible");let r=null,s=null;return e.onload=()=>{try{var o;const a=e.contentDocument||(null===(o=e.contentWindow)||void 0===o?void 0:o.document);if(!a)return void console.error("NTV ISI: Could not access iframe document for",n);r=a.querySelector("#ntv-isi-content"),r?s=new l.Z(r,{speed:10*t,...i}):console.warn("NTV ISI: Could not find #ntv-isi-content in iframe",n)}catch(e){console.error("NTV ISI: Error accessing or initializing iframe content for",n,e)}},a.util.writeIframeSrcDoc(e,"",unescape(e.getAttribute("data-ntv-header")),unescape(e.getAttribute("data-ntv-body"))),e.removeAttribute("data-ntv-header"),e.removeAttribute("data-ntv-body"),{scrollContainer:r,isiScrollerInstance:s}}(h,i,n,t),b=r,{cleanup:E}=function(e,t,i,n,r,s){let o=e.clientWidth||0,a=e.clientHeight||0,c=!1,l=Date.now();const u=new d(e=>{let{dimensions:u}=e;if(c)return;const d=u.width,h=u.height,p=Math.abs(d-o)>=5,f=Math.abs(h-a)>=5;if(!p&&!f)return;const m=Date.now();if(m-l<100)return;l=m,c=!0,o=d,a=h;const v=P(t,i,r,s,!0);v?requestAnimationFrame(()=>{C(t,i,n,v,s,r,null),setTimeout(()=>{c=!1},50)}):c=!1},{debounceTime:150,minSizeChange:5,trackSizeHistory:!0});return u.observe(e),{observer:u,cleanup:()=>{u.disconnect()}}}(b,r,e,u,c,o);return u._observerCleanup=E,{isiWrapper:u,scrollContainer:y,cleanup:()=>{"function"==typeof u._observerCleanup&&(u._observerCleanup(),delete u._observerCleanup)}}}function R(e){return!(null==e||!a.util.isElement(e)&&function(e){const t=e.hasOwnProperty("length"),i=t&&0===e.length;return!t||i}(e))}},8256:(e,t,i)=>{"use strict";i.d(t,{Mv:()=>a,zY:()=>l});var n=i(6101),r=i(1611),s=i(5150),o=i(8477);function a(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];s.core.isPageScrollHandled||(e||c(),s.core.isPageScrollHandled=!0)}function c(){if(!s.core.isPageScrollHandled)try{const e=(0,o.eO)()?document:r.util.getTopWindow().document;e.addEventListener("scroll",u,!1),e.addEventListener("ampScroll",u,!1)}catch(e){}}function l(e,t,i,n){i-=n,s.core.sdkAPI.viewportDimensions={width:window.screen?screen.width:window.clientWidth,height:e},s.core.sdkAPI.scrollRect={x:0,y:i,left:0,top:i,right:0,bottom:i+e,width:0,height:t},s.core.sdkAPI.contentOffsetY=i,s.core.sdkAPI.contentHeight=t,d()}const u=r.util.debounce(d,100);function d(e){s.core.internalPubSub.publish(n.xu.TOP_WINDOW_SCROLL,e)}},1435:(e,t,i)=>{"use strict";i.d(t,{f:()=>r});var n=i(6410);class r{constructor(e){this.queryStringParameter=new n.Qb(e),this.consentData={}}getConsentData(){}consentDataToQueryValue(){return""}getQueryString(){return this.getConsentData(),this.queryStringParameter.value=this.consentDataToQueryValue(),this.queryStringParameter.toString()}}},5016:(e,t,i)=>{"use strict";i.d(t,{_S:()=>c,tv:()=>l,x5:()=>u});i(6265);var n=i(6101),r=i(1435),s=i(4957),o=i(1611),a=i(7730);const c={TCF_V2:"tcfeuv2",USP_V1:"uspv1"};class l extends r.f{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(n.z1.GPP_STRING_KEY),this.name=n.z1.GPP,this.api=e.__gpp,this.version=t.version,this.getConsentData()}getConsentData(){this.api("ping",e=>{this.consentData=e.gppString,s.K.saveData(n.z1.GPP_STRING_KEY,this.consentData)})}consentDataToQueryValue(){return this.consentData.gppString}getSectionData(e){d(this.api,e)}static getGPPStringFromStorage(){return s.K.getData(n.z1.GPP_STRING_KEY)}static async Initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window;const[t,i]=await(0,a.Z)(async()=>(await(0,o.DK)("__gpp",e,100,5e3),await h(e.__gpp)));if(!t&&i)return new l(e,{version:i.gppVersion})}}function u(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window;if(!e||!t.__gpp||"function"!=typeof t.__gpp)return Promise.reject();const i=t.__gpp;return h(i).then(()=>new Promise((t,n)=>{d(i,e).then(e=>{t(e)}).catch(()=>{n("GPP section ".concat(e," is not supported or unavailable"))})})).catch(e=>Promise.reject(e))}function d(e,t){let i=!1;return e("hasSection",e=>{i=e&&!1},t),i?new Promise((i,n)=>{e("getSection",e=>{null==e&&n(),i(e)},t)}):Promise.reject()}function h(e){let t;return e("ping",i=>{"error"===i.cmpStatus&&(t=Promise.reject()),t=function(e,t){const{cmpStatus:i,cmpDisplayStatus:n}=t;if("loaded"!=i)return new Promise((t,r)=>{const s={listenerId:void 0,isLoaded:p(i),isAwaitingInput:f(n),error:!1},o=e("addEventListener",e=>{const{eventName:i,listenerId:n,pingData:o}=e;s.listenerId==n&&("error"!==i&&"error"!==o.cmpState?(!function(e,t){t.isLoaded=p(e.cmpStatus),t.isAwaitingInput=f(e.cmpDisplayStatus)}(o,s),function(e){return e.isLoaded&&!e.isAwaitingInput}(s)&&t(o)):r())});s.listenerId=o.listenerId});return Promise.resolve()}(e,i)}),t}function p(e){return"loaded"===e}function f(e){return"visible"===e}},4882:(e,t,i)=>{"use strict";i.d(t,{yK:()=>h,pF:()=>d,fI:()=>f,DY:()=>y});var n=i(2505),r=i(4957),s=i(6101),o=i(5016);const a={true:"Y",false:"N"},c=(e,t)=>t?e.substr(0,h.OPT_OUT_SALE)+a[t]+e.substr(h.OPT_OUT_SALE+1):e;var l=i(5150),u=i(1435);class d extends u.f{constructor(e,t){super(s.z1.US_PRIVACY),this.name="usprivacy",this.consentData=t.consentString||""}getConsentData(){return this.consentData}consentDataToQueryValue(){return this.consentData}static async Initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window;const t=await y();return new d(e,{consentString:t})}}const h={VERSION:0,EXPLICIT_NOTICE:1,OPT_OUT_SALE:2,LSPA_COVERED:3},p=()=>{const e=(0,n.b3)();return new Promise((t,i)=>{const n=setTimeout((function(){i()}),100);return(0,o.x5)(o._S.USP_V1,e).then(e=>{clearTimeout(n),t(m(e.uspString))}).catch(e=>{i()})})},f=()=>{const e=(0,n.b3)();return new Promise((t,i)=>{if(e.__uspapi&&"function"==typeof e.__uspapi){const n=setTimeout((function(){i()}),100);e.__uspapi("getUSPData",1,(e,r)=>{clearTimeout(n),r?t(m(e.uspString)):i()})}else i()})};function m(e){return g(e),e}const v=()=>r.K.getData(s.z1.US_PRIVACY_STORAGE_KEY),g=e=>{r.K.saveData(s.z1.US_PRIVACY_STORAGE_KEY,e)},y=()=>(()=>{(0,n.b3)();return p().catch(()=>f()).catch(()=>v()).then(e=>{if(e)return e})})().then(e=>{if(!e)return;if("-"===(e=>e[h.OPT_OUT_SALE])(e))return e;if((e=>"Y"===e[h.OPT_OUT_SALE]||"N"===e[h.LSPA_COVERED])(e))return l.core.setting.oos=0,e;const t=navigator.globalPrivacyControl;return t?(l.core.setting.oos=1,c(e,t)):e})},5246:(e,t,i)=>{"use strict";i.d(t,{O:()=>n,OH:()=>r,RW:()=>s});const n="ntv-satellite",r="ntvSatellite",s={INITIALIZING:"initializing",READY:"ready",ERRORED:"errored"}},8011:(e,t,i)=>{"use strict";i.d(t,{P:()=>n});const n={LOAD_COMPLETE:"ntv-satellite-load-complete",LOAD_ERROR:"ntv-satellite-load-error",READY:"ntv-satellite-ntv-satellite-ready"}},8589:(e,t,i)=>{"use strict";i.d(t,{Y:()=>o,ZP:()=>s});var n=i(5150),r=i(8256);function s(){this.viewportDimensions={},this.scrollRect={},this.ext={scroll:r.zY},Object.defineProperty(this,"clientHeight",{get:()=>this.viewportDimensions.height}),Object.defineProperty(this,"scrollHeight",{get:()=>this.viewportDimensions.height})}function o(){const e=()=>{!function(e,t){window.webkit&&function(e,t){const i=window.webkit.messageHandlers[e];if(!i)return;i.postMessage(t||"")}(e,t);window.nativoSDK&&function(e,t){const i=window.nativoSDK[e];if(!i)return;i(t)}(e,t)}(a.TRACKING_STOPPED),n.core.internalPubSub.unsubscribe("tracking-fired-viewableImpression",e)};n.core.internalPubSub.subscribe("tracking-fired-viewableImpression",e)}s.prototype.getBoundingClientRect=function(){return{x:0,y:-this.contentOffsetY,left:0,top:-this.contentOffsetY,right:0,bottom:-this.contentOffsetY+this.viewportDimensions.height,width:0,height:this.contentHeight}};const a={TRACKING_STOPPED:"stoptrack"}},7626:(e,t,i)=>{"use strict";i.d(t,{K:()=>b,m:()=>w});i(1057),i(560),i(6265),i(8730),i(9979),i(9307),i(8858),i(1318),i(3228);var n=i(1611),r=i(1498);function s(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var o=i(6101);i(278);function a(e,t){(function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")})(e,t),t.add(e)}function c(e,t,i){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:i;throw new TypeError("Private element is not present on this object")}class l{handleClick(e,t){throw new Error("handleClick must be implemented by subclass")}}var u=new WeakSet;class d extends l{constructor(){super(...arguments),a(this,u)}handleClick(e,t){const i=c(u,this,h).call(this,e,t);c(u,this,p).call(this,i,t),t.publishEvent(b.SURVEY_CHOICE_CLICK);setTimeout(()=>{t.publishEvent(b.SURVEY_COMPLETE)},1500)}}function h(e,t){const i=Array.from(t.choices).map(t=>{const i=c(u,this,f).call(this,t);return{button:t,count:t===e?i+1:i}}),n=i.reduce((e,t)=>e+t.count,0);let r=i.map(e=>({button:e.button,percentage:Math.round(e.count/n*100)})),s=r.reduce((e,t)=>e+t.percentage,0);for(;100!==s;){const e=r[Math.floor(Math.random()*r.length)];s>100?(e.percentage-=1,s--):(e.percentage+=1,s++)}return r}function p(e,t){t.element.classList.add("survey-answered"),e.forEach(e=>{const i="survey-button-".concat(e.percentage);t.style.sheet.insertRule(".survey-answered .".concat(i,'::after {content: "').concat(e.percentage,'%" !important;}')),t.style.sheet.insertRule(".survey-answered .".concat(i,"::before {width: ").concat(e.percentage,"% !important;}")),e.button.classList.add(i),e.button.disabled=!0})}function f(e){const t=parseInt(e.getAttribute("data-response-count"));return isNaN(t)||t<=0?1:t}class m extends l{handleClick(e,t){if(e.disabled)return;const i=t.element.querySelector(".ntv-answer-explanation");if((null==i?void 0:i.getAttribute("data-ntv-correct-id"))===e.getAttribute("data-id")){if(t.element.classList.add("quiz-completed"),e.classList.add("correct"),e.disabled=!0,Array.from(t.choices).forEach(t=>{t!==e&&(t.classList.add("incorrect"),t.classList.remove("highlighted"),t.disabled=!0)}),i){const e=i.getAttribute("data-ntv-survey-quiz-answer-banner-label")||"You are correct!";i.setAttribute("data-banner-label",e),i.style.setProperty("--banner-label",'"'.concat(e,'"')),i.style.display="block"}t.publishEvent(b.SURVEY_CHOICE_CLICK),t.publishEvent(b.SURVEY_COMPLETE)}else e.classList.add("incorrect","highlighted"),e.disabled=!0,t.publishEvent(b.SURVEY_CHOICE_CLICK)}}var v=i(5797);function g(e,t){(function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")})(e,t),t.add(e)}function y(e,t,i){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:i;throw new TypeError("Private element is not present on this object")}new class{constructor(e){s(this,"datasetKey",void 0),s(this,"attribute",void 0),this.datasetKey=e,this.attribute="data-".concat((0,r.lk)(e))}}("ntvAvp");const b={SURVEY_CLOSE:"survey_close",SURVEY_COMPLETE:"survey_complete",SURVEY_CHOICE_CLICK:"survey_choice_click"};var E=new WeakSet;class w{constructor(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;g(this,E),this.element="ntv-survey"===e.id?e:e.querySelector("#".concat("ntv-survey")),this.surveyId=t,this.injectionTarget=i,this.surveyCompleted=!1,y(E,this,T).call(this)}publishEvent(e){this.element.dispatchEvent(new CustomEvent(e,{bubbles:!0,composed:!0,detail:{element:this.element}}))}get choicesContainer(){return this.element.querySelector(".ntv-choices")}get choices(){return this.choicesContainer.getElementsByTagName("button")}get completed(){return this.surveyCompleted}addEventListener(e,t){this.element.addEventListener(e,t)}setCompleted(){this.surveyCompleted=!0,this.publishEvent(b.SURVEY_COMPLETE)}}function T(){y(E,this,P).call(this),y(E,this,A).call(this),y(E,this,S).call(this),y(E,this,C).call(this)}function S(){const e=null!==this.element.querySelector(".ntv-answer-explanation");this.answerBehavior=e?new m:new d}function A(){this.style=document.createElement("style"),this.style.className="survey-styles",this.element.appendChild(this.style)}function I(){if(n.util.isInShadow(this.element)){let e=this.element;for(;e;){if(e instanceof ShadowRoot)return e;e=e.parentNode||e.host}}return this.element}function P(){const e=null!==this.element.querySelector(".ntv-answer-explanation")?o.z1.DEPENDENCIES.SURVEY_RESPONSES_QUIZ_CSS:o.z1.DEPENDENCIES.SURVEY_RESPONSES_PERCENTAGE_CSS,t=[],i=this.injectionTarget||y(E,this,I).call(this);return i&&(11===i.nodeType||n.util.isInShadow(this.element))&&t.push({type:"style",url:"https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap",target:i}),t.push({type:"style",url:e,target:i,id:"survey-response-type-styles"}),(0,v._)(t)}function C(){this.element.onclick=function(e){e.target.matches("button")&&y(E,this,k).call(this,e.target)}.bind(this)}function k(e){y(E,this,R).call(this,e),this.answerBehavior.handleClick(e,this)}function R(e){const t=e.getAttribute("data-id");if(!new URL(this.element.dataset.ntvSurveyClickTracker))return void console.error("[Survey ".concat(this.surveyId,"] No click tracker URL found on survey element"));const i=new URL(this.element.dataset.ntvSurveyClickTracker);i.searchParams.set(o.xc.SURVEY_RESPONSE_ID,t),this.surveyId&&i.searchParams.append(o.xc.SURVEY_ID,this.surveyId);const n=i.toString(),r=document.createElement("img");r.src=n,r.style.display="none",document.body.append(r)}},4477:(e,t,i)=>{"use strict";i.d(t,{gl:()=>J,yK:()=>X});i(6801),i(560),i(3383),i(4043),i(7267),i(6265);var n=i(1611),r=i(6101),s=i(9163),o=i(6396),a=i(5150),c=(i(2003),i(8518),i(5902));function l(e,t,i){const s=["ntv_az","ntv_ak","ntv_al"];let o=[];const a=/(ntv_at=)(\d*\,?)*/,l=[c.g9.cta,c.g9.companionCta];let u=r.z1.CUSTOM_CTA_RANGE_START+1;for(;u<=r.z1.CUSTOM_CTA_RANGE_END;u++)l.push(u);for(u=r.z1.CUSTOM_WIDGET_RANGE_START+1;u<=r.z1.CUSTOM_WIDGET_RANGE_END;u++)l.push(u);const d=new RegExp("(ntv_at=)((?:(?:".concat(l.join("|"),"),?)+)"));let h=!1,p=!1,f=!1,m=!1;const v=()=>f&&m,g=(e,t)=>(e=e.replace("ntv_at=".concat(t),"ntv_at=".concat(t,",").concat(r.z1.CPE_SCROLL_50)),i&&(e=e.concat(i)),e);function y(){this.fired=!1,this.CPEEngagementEnabled=!!e,this.CPEEngagementEnabled&&(this.defaultEngagementHandler=e.trackEngagement.bind(e)),this.CPEScrollEnabled=!!t,this.CPEScrollEnabled&&(this.defaultScrollInitHandler=t.trackScrollInit.bind(t),this.defaultScrollDepthPercentageHandler=t.trackScrollDepthCheckpoint.bind(t))}return y.prototype.initializeTrackingCPEMetrics=function(){h||(this.CPEEngagementEnabled&&this.addEngagementMetric(),this.CPEScrollEnabled&&this.addScrollMetric(),h=!0)},y.prototype.initializeDOMCPEMetrics=function(){p||(this.addCTAMetric(),p=!0)},y.prototype.removeAllCPEMetrics=function(){this.removeCTAMetric(),this.CPEEngagementEnabled&&this.removeEngagementMetric(),this.CPEScrollEnabled&&this.removeScrollMetric()},y.prototype.addCTAMetric=function(){if(this.fired)return;const e=l.map(e=>String(e)),t=[String(r.z1.CPE_CTA_CLICK)],s=n.util.domQueryUp(".ntv-body");if(null==s)return;o=[...n.util.domQueryAll("a",s.ownerDocument)].filter(i=>{const r=n.util.getActionTypesFromURL(i.href),s=n.util.doesArrayContainElements(r,e),o=n.util.doesArrayContainElements(r,t);return s&&!o}),o.forEach(e=>{e.href=e.href.replace(d,e=>"".concat(e,",").concat(r.z1.CPE_CTA_CLICK)),e.href=function(e,t){if(!t)return e;if(-1===e.indexOf("ntv_r=")&&-1===e.indexOf("prx_r="))return e.concat(t);t=n.util.stripLeadingCharacters(t,"&");const i=n.util.qetQueryStringParams("?".concat(t)),r=n.util.qetQueryStringParams(e);return n.util.buildQueryStringFromKeyValuePairs(Object.assign(i.params,r.params),r.base)}(e.href,i),e.handleCTAFired=this.handleCTAMetricFired.bind(this),e.addEventListener("click",e.handleCTAFired,{once:!0})})},y.prototype.removeCTAMetric=function(){o&&(o.forEach(e=>{e.href=e.href.replace(a,e=>"ntv_at=".concat(n.util.modifyQSParamValues(e,[],[r.z1.CPE_CTA_CLICK]).join())),e.href=n.util.removeQueryKeyValuePairs(s,e.href),e.removeEventListener("click",e.handleCTAFired,{once:!0}),delete e.handleCTAFired}),o=[])},y.prototype.handleCTAMetricFired=function(){this.fired||(this.fired=!0,requestAnimationFrame(()=>{this.removeAllCPEMetrics()}))},y.prototype.addEngagementMetric=function(){this.fired||(e.trackEngagement=e=>{const t=function(e){if(15e3===e.time)return e.actionType=[e.actionType,r.z1.CPE_ENGAGEMENT_15s],i&&(e.qsParams=i),!0;return!1}(e);this.defaultEngagementHandler(e),t&&(this.fired=!0,this.removeAllCPEMetrics())})},y.prototype.removeEngagementMetric=function(){e.trackEngagement=this.defaultEngagementHandler},y.prototype.addScrollMetric=function(){this.fired||(t.trackScrollInit=()=>{f=!0;let e=this.defaultScrollInitHandler();return v()?(this.fired=!0,this.removeAllCPEMetrics(),g(e,r.z1.CLP_SCROLL_INITIATED)):e},t.trackScrollDepthCheckpoint=e=>{let t=this.defaultScrollDepthPercentageHandler(e);return 50===e&&(m=!0,v())?(this.fired=!0,this.removeAllCPEMetrics(),g(t,r.z1.CLP_VIEW_DEPTH_50_PERCENT)):t})},y.prototype.removeScrollMetric=function(){t.trackScrollInit=this.defaultScrollInitHandler,t.trackScrollDepthCheckpoint=this.defaultScrollDepthPercentageHandler},new y}var u=i(8747),d=i(667);var h=i(4862),p=i(8258),f=i(1746),m=i(1171),v=i(3798);i(1057);function g(e,t,i){y(e,t),t.set(e,i)}function y(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function b(e,t){return e.get(w(e,t))}function E(e,t,i){return e.set(w(e,t),i),i}function w(e,t,i){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:i;throw new TypeError("Private element is not present on this object")}const T={START:"start",QUARTILE_25:"viewed to 25%",QUARTILE_50:"viewed to 50%",QUARTILE_75:"viewed to 75%",COMPLETE:"complete"};var S=new WeakMap,A=new WeakMap,I=new WeakMap,P=new WeakSet;function C(e){b(S,this).fireTracking(e)}function k(e,t,i){(function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")})(e,t),t.set(e,i)}function R(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function D(e,t){return e.get(_(e,t))}function O(e,t,i){return e.set(_(e,t),i),i}function _(e,t,i){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:i;throw new TypeError("Private element is not present on this object")}const L={25:T.QUARTILE_25,50:T.QUARTILE_50,75:T.QUARTILE_75};var N=new WeakMap;class x extends class{constructor(e,t){var i,n;y(i=this,n=P),n.add(i),g(this,S,void 0),g(this,A,void 0),g(this,I,void 0),E(S,this,e),E(A,this,t),E(I,this,new Map(Object.values(T).map(e=>[e,!1])))}handleEvent(e){!0!==b(I,this).get(e)&&b(A,this).has(e)&&(w(P,this,C).call(this,b(A,this).get(e)),b(I,this).set(e,!0))}}{constructor(e,t){super(e,t),R(this,"progressIterator",void 0),R(this,"progressPercentageArray",void 0),k(this,N,void 0),this.progressPercentageArray=Object.keys(L).map(e=>Number(e)),this.progressIterator=this.videoProgressPercentageIterator(),O(N,this,this.progressIterator.next())}handleVideoProgressPercentage(e){for(;!D(N,this).done&&e>=D(N,this).value[0];)this.handleEvent(D(N,this).value[1]),O(N,this,this.progressIterator.next())}*videoProgressPercentageIterator(){for(const e of this.progressPercentageArray)yield[e,L[e]]}}var V=i(9492);function M(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function U(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function j(e,t){return e.get(F(e,t))}function F(e,t,i){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:i;throw new TypeError("Private element is not present on this object")}var B=new WeakMap,W=new WeakSet;class H{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window;var i,n;M(i=this,n=W),n.add(i),U(this,"tracker",void 0),U(this,"context",void 0),U(this,"eventListener",void 0),U(this,"trackerResolutionMap",void 0),function(e,t,i){M(e,t),t.set(e,i)}(this,B,new Map),this.tracker=e,this.context=t,this.eventListener=this.handleEvent.bind(this),this.trackerResolutionMap={VEV_PAGE_LOAD:()=>this.fireTracking([V.a.VEV_PAGE_LOAD]),VEV_LINK_CLICK:()=>this.fireTracking([V.a.VEV_LINK_CLICK]),VEV_VIDEO_PLAY:this.processVevVideoPlay.bind(this),VEV_VIDEO_END:this.processVideoEnd.bind(this),VEV_VIDEO_PROGRESS:this.processVevVideoProgress.bind(this)},this.enable()}handleEvent(e){const t=e.detail,{type:i,data:n}=t;this.trackerResolutionMap.hasOwnProperty(i)&&this.trackerResolutionMap[i](n)}fireTracking(e){const t=e.map(e=>e.toString());this.tracker.fireTracking(t)}processVevVideoPlay(e){const t=F(W,this,z).call(this,e),i=F(W,this,G).call(this,t);null==i||i.handleEvent(T.START)}processVideoEnd(e){const t=F(W,this,z).call(this,e),i=F(W,this,G).call(this,t);null==i||i.handleEvent(T.COMPLETE)}processVevVideoProgress(e){const{percentagePlayed:t}=e,i=F(W,this,z).call(this,e),n=F(W,this,G).call(this,i);null==n||n.handleVideoProgressPercentage(t)}enable(){this.context.addEventListener("vev.track",this.eventListener)}disable(){this.context.removeEventListener("vev.track",this.eventListener)}}function z(e){return e.videoName||e.videoUrl}function G(e){if(!j(B,this).has(e)){const t=new Map([[T.START,[V.a.VEV_VIDEO_PLAY.toString()]],[T.COMPLETE,[V.a.VEV_VIDEO_COMPLETE.toString()]],[T.QUARTILE_25,[V.a.VEV_VIDEO_QUARTILE_25.toString()]],[T.QUARTILE_50,[V.a.VEV_VIDEO_QUARTILE_50.toString()]],[T.QUARTILE_75,[V.a.VEV_VIDEO_QUARTILE_75.toString()]]]);j(B,this).set(e,new x(this.tracker,t))}return j(B,this).get(e)}var q=i(5481),Y=i(4402),Q=i(6937),K=i(3081);function Z(e){const t=n.util.toDomElement(e);return!!t&&(!function(e){return null!=e&&null!=e.classList&&e.classList.contains("ntv-do-not-resize")}(t)&&!function(e){return null!=e&&null!=e.closest&&null!=e.closest(r.z1.BLOCK_QUERY_SELECTOR)}(t))}function X(e,t){n.util.copyProperties(e,this),this.parent=t,this.secondaryImpressionActionType=2,this.clickActionType=3,this.videoStartActionType=56,this.videoEndActionType=23,this.videoProgress25PercentActionType=39,this.videoProgress50PercentActionType=40,this.videoProgress75PercentActionType=41,this.videoHeadlineClick=48,this.clickToUnMute=55,this.readAndClickActionTypes="2,3",this.articlePageViewActionType=52,this.videoView=22,this.videoBillableView=58,this.videoPlayed15SecondsType=60,this.videoPlayed30SecondsType=61,this.prerollVideoStartType=62,this.prerollVideoEndType=63,this.optVideoByClick=65,this.getUrl=function(e){var t=this.baseTrackingUrl+e;return(this.adVersionPlacement.length>0||this.adID>=1e5)&&(t+="&"+r.z1.AVP+"="+this.adVersionPlacement),t+=n.util.setURLCache()}}function J(e){n.util.copyProperties(e,this),this.element=null,this.tracker=new X(e,this),this.baseTracker=new v.f(e),this.resetTimeOnContentVars(),this.maxArticleWidth=0,this.trackType="article",this.init(),function(e){const{adID:t,placementID:i}=e,n=(0,f.l)(t,i),r=(0,c.x2)(n);null!=r&&((0,m.QD)(r,e),!r.tracker&&r.baseTrackingUrl&&(r.tracker=new v.f(r)))}(e);const t=n.util.clientUtils.generateAdPlacementId(this.adID,this.placementID),i=(0,h.W)("articles");if(i&&i.has(t)){const e=i.get(t);e.articleTracker=this,i.set(t,e)}}function $(e,t){const i=e.getAttribute("data-original");i&&function(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{cropMode:null,width:null,height:null};i.width>0&&(t=n.util.applyImageResizer(t,i.cropMode,i.width),e.setAttribute("src",t),e.style.width="auto",e.style.height="auto",e.removeAttribute("data-original"))}(e,i,t)}J.prototype.resetTimeOnContentVars=function(){this.trackTimeOnContent&&(this.tos_w_hidden=(0,s.q)(!0).ntvStopWatch().ntvTimeOnContentStopWatch(this,34).addStopWatchEventHandlers({node:n.util.getTopWindow(),type:"visibilitychange",handler:function(){this.preventResume=n.util.getTopWindow().document.hidden,n.util.getTopWindow().document.hidden&&this.stop(),n.util.getTopWindow().document.hidden||this.resume()}}))},J.prototype.init=function(){let e=this.selector;"string"==typeof this.selector&&(e=this.selector.match(/prdom.query\('([^'\)]*)/),e=e&&e.length?e[1]:this.selector),this.adPlacementId=n.util.clientUtils.generateAdPlacementId(this.adID,this.placementID),this.element=e===window?e:n.util.domQuery(e),this.contextWin=window,this.contextDoc=document,this.element||(this.element=n.util.domQuery(e,n.util.getTopWindow().document),this.contextWin=n.util.getTopWindow(),this.contextDoc=this.contextWin.document);let t,i=this;if(i.videoPlayers={},this.element){this.trackTimeOnContent&&a.core.internalPubSub.subscribe(r.xu.TOP_WINDOW_SCROLL,(function(){i.trackTime()})),this.contextWin.addEventListener("resize",(function(){i.resize()})),t=this.processArticleIframes();n.util.domQueryAll("ntv-video",this.contextDoc).forEach(e=>{i.renderNativoVideo(e,++t)}),this.trackTime(),this.trackScroll(),this.trackWidgets(),this.resize(),this.processArticleImages(),this.cpe=new l(i.tos_w_hidden,i.scrollTracker,this.cpeSpentQS),this.cpe.initializeTrackingCPEMetrics();n.util.runWhenDOMIsReady(()=>{i.resize(),i.cpe.initializeDOMCPEMetrics()}),setTimeout((function(){i.resize()}),0)}else setTimeout((function(){i.init()}),100)},J.prototype.processArticleIframes=function(){let e=0;return n.util.domQueryAll("iframe").forEach(t=>{e++,t.dataset.ntvIframeIndex=e,this.processArticleIframe(t)}),e},J.prototype.processArticleIframe=function(e){let t=e;"prx_full_ad_video"===t.id||t.classList.contains("prx_full_ad_video")||t.classList.contains("ntvCLPVideo")?"prx_full_ad_video"===t.id||t.classList.contains("prx_full_ad_video")?this.postProcessIframe(this.renderYouTubeVideo(t,t.dataset.ntvIframeIndex)):this.postProcessIframe(this.renderNativoVideo(t,t.dataset.ntvIframeIndex)):this.postProcessIframe(t)},J.prototype.processArticleImages=function(){let e=[...document.getElementsByClassName("ntv-body")].map(e=>[...e.getElementsByTagName("IMG")]).flat();for(let t of e)$(t,{width:this.maxArticleWidth})},J.prototype.resume=function(){this.disabled||(this.trackTimeOnContent=this.resumeTrackTimeOnContent,this.tos_w_hidden.resume(),this.scrollTracker&&this.scrollTracker.enable())},J.prototype.stop=function(){this.resumeTrackTimeOnContent=this.trackTimeOnContent,this.trackTimeOnContent=!1,this.tos_w_hidden.stopAndTrack(),this.tos_w_hidden.reset(),this.scrollTracker&&(this.scrollTracker.disable(),this.scrollTracker.stopScrollTracking()),this.cerosTracker&&this.cerosTracker.disable(),this.disabled=!0},J.prototype.postProcessIframe=function(e){if(e&&(void 0===e.length||0!==e.length)&&(e.length&&(e=e[0]),n.util.isChrome())){const t=(0,u.R)(this.baseTrackingUrl,Q.Z9.ARTICLE,this.adVersionPlacement);(0,u.qS)(e,t)}},J.prototype.renderNativoVideo=function(e,t){e.style.visibility="visible",e.style.display="block",this.setMaxArticleWidth();var i,s,o=Math.floor(1e6*Math.random()+1),a="video-wrapper"+this.adID+"_"+o,c=n.util.getVideoSelectorName()+this.adID+"_"+o,l=e.getAttribute("ntv-video-sources"),u=e.getAttribute("video-closed-caption"),d=e.getAttribute("src"),h=n.util.getElementDimensions(e),f=Object.assign({},this),m={width:"100%",height:"auto"};let v;f.trackTimeOnContent=!1,f.tos=null,Z(e)&&(h=function(e,t){const{w:i,aspectRatio:n}=t,r=Math.min(i,e);return{w:r,h:r/n,aspectRatio:n}}(this.maxArticleWidth,h));try{v=JSON.parse(l)}catch(e){v=[]}var g;if((g=document.createElement("div")).setAttribute("class","ntv-video-wrapper"+this.adID+" "+a+" ntv-video-wrapper"),n.util.wrap(e,g),e.setAttribute("allowfullscreen",!0),e.setAttribute("id",c),e.setAttribute("frameborder","0"),m=(0,p.copyElementStyles)(e,{blacklist:["visibility","display"],defaultStyles:m}),e.setAttribute("allowfullscreen",!0),e.setAttribute("id",c),e.setAttribute("frameborder","0"),f.renderingParams={outerCssClass:a,previewImage:e.getAttribute("video-preview-img")?e.getAttribute("video-preview-img"):"",resizeMode:e.getAttribute("resize-mode")?e.getAttribute("resize-mode"):"max",applySmartCropping:!e.getAttribute("apply-smart-cropping")||e.getAttribute("apply-smart-cropping"),article:1,iframeId:c,videoNodeId:"".concat(c).concat("-node")},(i=document.createElement("video")).id=f.renderingParams.videoNodeId,v.forEach((function(e){var t=document.createElement("source");t.src=window.location.protocol+e.url,t.type=e["content-type"],i.width=h.w,i.height=h.h,i.appendChild(t),t=null})),i.width=h.w,i.height=h.h,i.classList.add("video-js"),u){const e=document.createElement("track");e.src=u,e.label="English",e.kind="captions",e.srclang="en",i.appendChild(e),i.crossOrigin="anonymous"}f.iframeBody='<div class="video-wrapper">',f.iframeBody+=f.renderingParams.previewImage?"<div class='video-preview-img' style='height:100%;'><a href='#'></a></div>":"",f.iframeBody+=i.outerHTML+"</div>",f.iframeHead="<style>body{top:0px;left:0px;margin:0;}</style>",f.renderingParams.cssUrl=f.sharingSkinUrl,f.vastUrl="",f.renderingParams.videoExecution=8,f.renderingParams.autoplay=!1,f.renderingParams.ntvCLPVideo=!0,f.renderingParams.mobile=n.util.isMobile(),f.videoId=o;return n.util.domQuery("body",e)||e.appendChild(i),f.ntvVideoCLP=!0,(d&&d.indexOf("&autoplay=1")>0||e.getAttribute("data-ntvautoplay")&&"true"==e.getAttribute("data-ntvautoplay"))&&(f.autoPlayParams={},f.renderingParams.videoExecution=8),f.iframeIndex=t,f.playerType=r.z1.NATIVO_PLAYER,f.contextWin=this.contextWin,f.contextDoc=this.contextDoc,s=ntv.Video,n.util.generateVideo(f,[s.Player.Nativo,s.Render.IFU,s.Render.Skin,s.Render.Mobile],[s.Tracker.Nativo]).then(e=>(this.videoPlayers[i.id]=e,this.resize(),e.iframe)).catch(e=>{const t=new Y.X("Nativo Video initialization failed");t.data={adID:this.adID,placementID:this.placementID,adVersionPlacement:this.adVersionPlacement,selector:this.selector},q.Z.postError(t)}),i.setAttribute("width","100%"),i.setAttribute("height","auto"),e},J.prototype.renderYouTubeVideo=function(e,t){e.style.visibility="visible",this.setMaxArticleWidth();var i=Math.floor(1e6*Math.random()+1),s="ntv-video-wrapper"+this.adID+"_"+i,o=n.util.getVideoSelectorName()+"Iframe"+s,a=e.getAttribute("src"),c=n.util.getElementDimensions(e),l=c.w>0?c.w:this.maxArticleWidth;const u=e.getAttribute("video-preview-img"),d=e.getAttribute("resize-mode"),h=e.getAttribute("apply-smart-cropping"),p="true"===e.getAttribute("data-ntvautoplay"),f=function(e){if(!e)return null;const t=[/[?&]v=([^&#]+)/,/(?:youtube\.com|youtube-nocookie\.com)\/embed\/([^?&#]+)/,/youtu\.be\/([^?&#]+)/,/(?:youtube\.com|youtube-nocookie\.com)\/v\/([^?&#]+)/];for(const i of t){const t=e.match(i);if(t&&t[1]){const e=t[1];if(e.length>=10&&e.length<=12)return e}}return null}(a);if(e.referrerPolicy="strict-origin-when-cross-origin",!f){const t=new Y.X("Failed to extract YouTube video ID from URL");t.data={videoUrl:a,originalUrl:e.getAttribute("src"),adID:this.adID,placementID:this.placementID},q.Z.postError(t)}const m=e,v="".concat(o).concat("-node"),g=document.createElement("div");g.className="ntv-video-wrapper ".concat(this.adID," ").concat(s," ntv-video-wrapper"),g.style.position="relative",g.style.width="100%",g.style.maxWidth="".concat(l,"px"),g.style.aspectRatio="16 / 9";const y=document.createElement("iframe");y.id="".concat(o,"-overlay"),y.style.position="absolute",y.style.top="0",y.style.left="0",y.style.width="100%",y.style.height="100%",y.style.border="none",y.style.zIndex="10",y.setAttribute("data-youtube-overlay","true"),m.replaceWith(g),m.id=v,m.removeAttribute("width"),m.removeAttribute("height"),m.style.width="100%",m.style.height="100%",m.style.display="block",g.appendChild(m),g.appendChild(y);var b=Object.assign({},this);b.trackTimeOnContent=!1,b.tos=null,a&&a.indexOf("&autoplay=1")>0&&(a=a.replace("&autoplay=1",""),b.playerVarsAutoPlay=1),b.renderingParams={outerCssClass:s,previewImage:u||"",resizeMode:d||"max",applySmartCropping:h||!0,article:1,iframeId:"".concat(o,"-overlay"),videoNodeId:"".concat(o).concat("-node"),overlayIframeId:"".concat(o,"-overlay"),youtubeTargetId:"".concat(o).concat("-node"),isHybridYouTube:!0},b.iframeBody='<div class="video-wrapper">',b.iframeBody+=b.renderingParams.previewImage?"<div class='video-preview-img' style='height:100%;'><a href='#' data-youtube-play></a></div>":"",b.iframeBody+="</div>",b.iframeHead='<meta name="referrer" content="strict-origin-when-cross-origin" /><style>body{top:0px;left:0px;margin:0;}</style>',b.videoId=i,b.youtubeVideoId=f,b.youtubeVideoUrl=a,b.iframe=y,b.youtubeIframeElement=m,b.contextDoc=this.contextDoc,b.contextWin=this.contextWin,(a&&a.indexOf("&autoplay=1")>0||p)&&(b.autoPlayParams={},b.renderingParams.videoExecution=8);let E=ntv.Video;b.iframeIndex=t,b.playerType=r.z1.YOUTUBE_PLAYER,function(e){window.addEventListener("resize",()=>{const t=n.util.domQuery("iframe."+n.util.getVideoSelectorName()+e);if(t){t.style.maxHeight=t.clientWidth/(16/9)+"px"}},!1)}(i),n.util.generateVideo(b,[E.Player.YouTube,E.Render.IFU,E.Render.YouTubeSkin,E.Render.Mobile],[E.Tracker.Nativo]).then(e=>{this.videoPlayers[b.renderingParams.videoNodeId]=e,this.resize()}).catch(e=>{const t=new Y.X("YouTube Video initialization failed");t.data={adID:this.adID,placementID:this.placementID,adVersionPlacement:this.adVersionPlacement,selector:this.selector},q.Z.postError(t)})},J.prototype.trackTime=function(){if(!this.disabled){if(n.util.canExecute((function(){}),"ntvArticleTrackerTrackTime",100))if(this.trackTimeOnContent){if(this.expandableUnit)return;this.tos_w_hidden.resume(),this.trackSecondaryImpression()}else this.trackSecondaryImpression()}},J.prototype.trackSecondaryImpression=function(){if(!this.trackedSecondaryImpression){this.trackedSecondaryImpression=!0;var e=null,t=null;null!=(e=this.expandableUnit?[this.tracker.readAndClickActionTypes,this.tracker.articlePageViewActionType]:this.clickoutTracking?[this.tracker.secondaryImpressionActionType,this.tracker.articlePageViewActionType]:this.trackTimeOnContent?[this.tracker.articlePageViewActionType]:null)&&(a.core.setting.isEdge&&!e.includes(this.secondaryImpressionActionType)&&this.tracker.baseTrackingUrl.indexOf("ntv_tpvcs")>0&&e.push(this.tracker.secondaryImpressionActionType),t=this.tracker.getUrl(e.join())),n.util.insertTracking(t,this.secondaryImpressionTags,1)}},J.prototype.articleUrlChange=function(){this.disabled||(this.urlActive?(this.trackTime(),this.executeMoat(!0)):(this.tos_w_hidden.onLeave(),this.resetTimeOnContentVars(),this.trackedSecondaryImpression=!1,this.executeMoat(!1)))},J.prototype.executeMoat=function(e){try{if(this.moatEnabled)var t=n.util.domQuery("."+this.moatClass)(e)?t.initMoatTracking():t.stopMoatTracking()}catch(e){}},J.prototype.setMaxArticleWidth=function(){this.maxArticleWidth=this.element.offsetWidth;var e=!window.orientation||90!=window.orientation&&-90!=window.orientation?screen.width:screen.height;(-20==this.maxArticleWidth||this.maxArticleWidth>e)&&(this.maxArticleWidth=e-20),this.maxArticleWidth>1200&&(this.maxArticleWidth=1200),this.maxArticleWidth=Math.ceil(this.maxArticleWidth)},J.prototype.resize=function(){if(this.disabled)return;this.setMaxArticleWidth();var e=this;n.util.domQueryAll('iframe:not([class*="ntv-do-not-resize"])',this.element).forEach((function(t){if(t.closest(r.z1.BLOCK_QUERY_SELECTOR))return;t.style.float="none",t.style.clear="both";const i=t.parentElement,s=i?e.maxArticleWidth:Math.min(e.maxArticleWidth,i.offsetWidth);var o=n.util.getElementDimensions(t);const a=()=>{const i=t.getAttribute("id");if(i&&e.videoPlayers)for(const n in e.videoPlayers)if(n.includes(i)||i.includes(n)){const i=e.videoPlayers[n];if(i.iframe&&i.iframe.style){const n=i.iframe.style.aspectRatio;if(n){const i=parseFloat(n);if(!isNaN(i)&&i>0){const n=s,r=Math.ceil(n/i);return t.setAttribute("height",r),t.setAttribute("width",n),t.style.width=n+"px",t.style.height=r+"px",e.setVideoContainerSize(t),{success:!0}}}}}let n=null;try{var r;const e=null===(r=t.contentWindow)||void 0===r?void 0:r.document;e&&(n=e.querySelector("video"))}catch(e){return{success:null}}if(n){const i=(0,K.Fh)(n);return i.width>0&&i.height>0?(e.setVideoSize(t,s,i),e.setVideoContainerSize(t),{success:!0}):{success:!1,videoElement:n}}return{success:null}};try{const e=a();if(!1===e.success&&e.videoElement){const t=e.videoElement;t.hasAttribute("data-ntv-resize-pending")||(t.setAttribute("data-ntv-resize-pending","true"),function(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const{pollingInterval:n=100,maxAttempts:r=50}=i;let s=null,o=0,a=!1;function c(){a||(l(),t())}function l(){s&&(clearInterval(s),s=null),e.removeEventListener("loadedmetadata",c),a=!0}e.readyState>=1?setTimeout(c,0):(e.addEventListener("loadedmetadata",c,{once:!0}),s=setInterval(()=>{o++,e.readyState>=1?c():o>=r&&l()},n))}(t,()=>{t.removeAttribute("data-ntv-resize-pending"),a()}))}else if(null===e.success){var c,l=t.getAttribute("id");if(l&&0==l.indexOf(n.util.getVideoSelectorName()+"Iframe"))return void n.util.setElementDimensions(t,o,s);if(l&&0==l.indexOf(n.util.getVideoSelectorName()))return n.util.setElementDimensions(t,o,s),void n.util.setElementDimensions(n.util.domQuery("#".concat(l).concat("-node"),null===(c=t.contentWindow)||void 0===c?void 0:c.document),o,s);n.util.setElementDimensions(t,o,s)}}catch(i){0==o.w&&s>0&&e.setVideoSize(t,s)}e.setVideoContainerSize(t),(0,p.show)(t)}));n.util.domQueryAll("video",this.element).forEach((function(t){t.closest(r.z1.BLOCK_QUERY_SELECTOR)||(0==n.util.getElementDimensions(t).w&&e.maxArticleWidth>0&&e.setVideoSize(t,e.maxArticleWidth),e.setVideoContainerSize(t))}));if(n.util.domQueryAll("img",this.element).forEach((function(t){$(t,{width:e.maxArticleWidth})})),e.videoPlayers)for(var t in e.videoPlayers)e.videoPlayers[t].videoRendering&&e.videoPlayers[t].videoRendering.resizeIframe();ntv.Events.PubSub.publish("articleResizerExecuted",[])},J.prototype.setVideoSize=function(e,t,i){var n,r,s=t;if(i&&i.width>0&&i.height>0)n=[i.width,i.height];else{var o=e.getAttribute("ntv-aspect-ratio");n=null!=o?o.split(":"):[16,9]}r=Math.ceil(n[1]*t/n[0]),e.setAttribute("height",r),e.setAttribute("width",s),e.style.width=s+"px",e.style.height=r+"px"},J.prototype.setVideoContainerSize=function(e){var t=e.parentNode;if(t.classList&&t.classList.contains("ntv-video-wrapper")){var i=e.getAttribute("height"),n=e.getAttribute("width");i>0&&n>0&&(t.style.width=n+"px",t.style.height=i+"px")}},J.prototype.onArticleExpand=function(){for(var e in this.scrollTracker?this.scrollTracker.enable():this.trackScroll(),this.trackWidgets(),this.tos_w_hidden.resume(),this.trackSecondaryImpression(),this.videoPlayers)this.videoPlayers[e].privateEvent.publish(ntv.Events.Types.Manager.PLAY)},J.prototype.onArticleCollapse=function(){for(var e in this.scrollTracker&&this.scrollTracker.disable(),this.tos_w_hidden.stopAndTrack(),this.videoPlayers){this.videoPlayers[e].executePlayerCommand("getCurrentTime")>0&&this.videoPlayers[e].privateEvent.publish(ntv.Events.Types.Manager.PAUSE)}},J.prototype.trackScroll=function(){this.scrollTracker=new o.S({trackElement:this.element.self?null:this.element,waitForRenderEvent:!0,renderEventName:"articleResizerExecuted",renderEventTimeout:5e3,trackScrollInit:()=>this.tracker.getUrl(r.z1.CLP_SCROLL_INITIATED),trackScrollDepth:e=>{let t=this.tracker.getUrl(r.z1.CLP_VIEW_DEPTH_MAX);return t=t.replace("ntv_at=".concat(r.z1.CLP_VIEW_DEPTH_MAX),"ntv_mat=".concat(r.z1.CLP_VIEW_DEPTH_MAX,"*").concat(e)),t},trackScrollDepthCheckpoint:e=>{let t=r.z1["CLP_VIEW_DEPTH_".concat(e,"_PERCENT")];if(t)return this.tracker.getUrl(t)+"&ntv_av=".concat(e)}})},J.prototype.trackWidgets=function(){this.cerosTracker?this.cerosTracker.enable():this.trackCeros(),this.vevTracker?this.vevTracker.enable():this.trackVev()},J.prototype.trackCeros=function(){this.cerosTracker=new d.H({trackClickComponent:()=>this.tracker.getUrl(r.z1.COMPONENT_CLICK_EVENT),trackClickLightbox:()=>this.tracker.getUrl(r.z1.LIGHTBOX_CLICK_EVENT),trackClickLink:()=>this.tracker.getUrl(r.z1.LINK_CLICK_EVENT),trackViewPage:()=>this.tracker.getUrl(r.z1.PAGE_VIEW_EVENT),trackPlayVideo:()=>this.tracker.getUrl(r.z1.VIDEO_PLAY_EVENT)})},J.prototype.trackVev=function(){this.vevTracker=new H(this.baseTracker)},window.ntvArticleTracker=J},5902:(e,t,i)=>{"use strict";i.d(t,{LZ:()=>b,Ps:()=>E,SQ:()=>v,g9:()=>m,nH:()=>f,s2:()=>y,x2:()=>w});i(6265);var n=i(6101),r=i(1611),s=i(4477),o=i(1288),a=i(9163),c=i(6292),l=i(9110),u=i(6396),d=i(4862),h=i(667),p=i(9492);const f={startTrackingArticle(e){new s.gl(e)},startScrollTracking(e){new u.S(e)},startCerosTracking(e){new h.H(e)},Record:o.IM,Time:a.q,TrackImpression:c.wr,Viewability:l.OX,TrackingUrl:s.yK},m=p.a;function v(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",o=e+t;return(s.length>0||i>=1e5)&&(o+="&"+n.z1.AVP+"="+s),o+=r.util.setURLCache(),o}const g=(0,d.W)("trackingMap");function y(e,t){e&&t&&g.set(e,t)}function b(e){return e&&g.get(e)||{}}function E(e,t,i){const s=r.util.pick(t,...n.z1.AD_LEVEL_TRACKING_PROPERTIES);e&&s&&(g.set(e,s),i&&(g.get(e).responseId=i))}function w(e){return e&&g.get(e)||{}}},1288:(e,t,i)=>{"use strict";i.d(t,{HG:()=>l,IM:()=>d,Zz:()=>a});i(1057),i(4043);var n=i(1611),r=i(4477),s=i(5150),o=i(5902);n.util.getTopWindow();const a={IMAGE:1,SCRIPT:2};function c(e){return/(ntv_at=)([0-9,]+)/gi.test(e)?e.match(/(ntv_at=)([0-9,]+)/gi)[0].split("=")[1]:""}function l(e,t,i){let r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const o=u(r);var l={},d=function(){var t;try{switch(i){case a.SCRIPT:t=n.util.appendScript(e);break;case a.IMAGE:default:t=n.util.appendImage(e)}return{type:i,data:t}}catch(e){}},h=function(){var e;try{if(null!=t&&t.length){e=n.util.handleThirdPartyTracking(t,r&&(r.node||s.core.adsMap[r.placementID+" "+r.adID]&&s.core.adsMap[r.placementID+" "+r.adID].node))}return e}catch(e){n.util.postError(new Error("Third Party Tracking Failed: adId:".concat(null==r?void 0:r.adID,", placementId: ").concat(null==r?void 0:r.placementID," on ").concat(document.referrer)))}};const p=(null==o?void 0:o.isProgrammatic)||!1;let f=Math.floor(1e16*Math.random());p||f>5e15?(l.third=h(),l.first=d()):(l.first=d(),l.third=h());var m=c(e);return r&&"object"==typeof r?(r.actionType=m,l.additionalInfo=r):(!isNaN(m)||isNaN(m)&&m.split(",").length)&&(l.additionalInfo={actionType:m}),l}function u(e){const t=null==e?void 0:e.adID,i=null==e?void 0:e.placementID;if(null==t&&null==i)return{};const r=n.util.clientUtils.generateAdPlacementId(t,i);return(0,o.x2)(r)||{}}function d(){var e;return arguments.length<=2?e=r.yK.apply(this,arguments):(e=l.apply(this,arguments),ntv.Events.PubSub.publish("tracking",e.additionalInfo)),e}n.util.insertTracking=l},6396:(e,t,i)=>{"use strict";i.d(t,{S:()=>a});var n=i(5150),r=i(6101),s=i(1611);let o=0;class a{constructor(e){this.startPosition=0,this.scrollInitiated=!1,this.trackScrollInit=()=>{},this.trackScrollDepth=e=>{},this.trackScrollDepthCheckpoint=e=>{},this.waitForRenderEvent=!1,this.renderEventName="articleResizerExecuted",this.renderEventTimeout=3e3,this.renderEventDelay=500,Object.assign(this,e),this.colorIndex=o,o++,this.window=s.util.getTopWindow(),this.document=this.window.document;this.viewElement=(()=>n.core.setting.sdk?n.core.sdkAPI:this.document.scrollingElement||this.document.documentElement)(),this.viewHeight=this.window.innerHeight;this.trackElement=(()=>n.core.setting.sdk?n.core.sdkAPI:this.trackElement?this.trackElement:this.viewElement)(),this.setInitVars(),this.scrollPercentageDeltaThreshold=5,this.scrollTimeoutDuration=100,this.isScrolling=null,this.resizeTimeoutDuration=100,this.isResizing=null,this.heightSettleTime=0,this.heightSettleIntervalDuration=100,this.heightSettleTimeout=1e3,this.nextScrollDepthCheckpoint=()=>this.scrollDepthCheckpoints[0]||null,this.scrollHandler=this.onScroll.bind(this),this.resizeHandler=this.onResize.bind(this),this.waitForRenderEvent?this.delayedInit():this.startImmediateTracking()}setInitVars(){this.contentHeight=0,this.contentLocked=!1,this.scrollViewDepth=0,this.scrollViewDepthPercentage=0,this.maxScrollViewDepth=0,this.maxScrollViewDepthPercentage=0,this.scrollViewDepthDelta=0,this.scrollViewDepthDeltaPercentage=0,this.scrollDepthCheckpoints=[{value:25,buffer:0},{value:50,buffer:0},{value:75,buffer:0},{value:100,buffer:100}],this.scrollInitTracked=!1,this.scrollCompletionTracked=!1,this.enabled=!1}enable(){n.core.internalPubSub.subscribe(r.xu.TOP_WINDOW_SCROLL,this.scrollHandler),n.core.internalPubSub.subscribe(r.xu.CONTENT_MODAL_SCROLL,this.scrollHandler),this.window.addEventListener("resize",this.resizeHandler),this.enabled=!0}disable(){this.window.removeEventListener("resize",this.resizeHandler),this.enabled=!1,this.scrollInitiated&&this.stopScrollTracking()}stopScrollTracking(){n.core.internalPubSub.unsubscribe(r.xu.TOP_WINDOW_SCROLL,this.scrollHandler),n.core.internalPubSub.unsubscribe(r.xu.CONTENT_MODAL_SCROLL,this.scrollHandler)}init(){this.scrollDepthCheckpoints=this.scrollDepthCheckpoints.sort((e,t)=>e.value-t.value)}startImmediateTracking(){this.enable(),this.init(),n.core.setting.sdk||this.waitForContentReady(()=>{this.checkInitScroll()})}waitForContentReady(e){let t=this.getContentHeight(),i=this.getContentHeight();const n=()=>{setTimeout(()=>{if(this.heightSettleTime+=this.heightSettleIntervalDuration,t=this.getContentHeight(),i!==t&&this.heightSettleTime<this.heightSettleTimeout)return i=t,void n();this.lockState(),e()},this.heightSettleIntervalDuration)};if("interactive"===this.document.readyState||"complete"===this.document.readyState)return void n();const r=()=>{"loading"!==this.document.readyState&&(this.document.removeEventListener("readystatechange",r),n())};this.document.addEventListener("readystatechange",r)}delayedInit(){let e=null,t=!1;const i=()=>{if(t)return;t=!0,ntv.Events.PubSub.unsubscribe(this.renderEventName,i),e&&clearTimeout(e);const r=()=>{this.enable(),this.init(),n.core.setting.sdk?this.checkInitScroll():this.waitForContentReady(()=>{this.checkInitScroll()})};this.renderEventDelay>0?setTimeout(r,this.renderEventDelay):r()};ntv.Events.PubSub.subscribe(this.renderEventName,i),e=setTimeout(()=>{i()},this.renderEventTimeout)}checkInitScroll(){this.updateElementRect(),this.startPosition=this.trackElementRect.top,this.checkScrollState(),100===this.scrollViewDepthPercentage&&this.disable()}reset(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.setInitVars(),this.init(),e&&this.enable()}unlockState(){this.contentLocked=!1}lockState(){this.contentLocked=!0}checkScrollState(){this.calculateViewDimensions(),this.updateScrolTracking()}calculateViewDimensions(){this.viewHeight=this.window.innerHeight}updateElementRect(){this.trackElementRect=this.trackElement.getBoundingClientRect()}getRawScrollDistance(){return this.updateElementRect(),this.trackElementRect.top}getScrollDistance(){return this.getRawScrollDistance()-this.startPosition}getContentHeight(){return this.contentLocked||(this.updateElementRect(),this.contentHeight=Math.max(this.trackElementRect.height,this.trackElement.scrollHeight)),this.contentHeight+this.startPosition}updateScrollData(){this.scrollDistance=this.getScrollDistance(),this.scrollViewDepth=this.viewHeight-this.scrollDistance,this.scrollViewDepthPercentage=this.toElementPercentage(this.scrollViewDepth)}toElementPercentage(e){return((e,t)=>isNaN(e)?t:e)(Math.ceil(100*(t=e/this.getContentHeight(),Math.max(0,Math.min(1,t)))),0);var t}updateScrolTracking(){this.updateScrollData(),this.scrollViewDepthPercentage-this.maxScrollViewDepthPercentage<this.scrollPercentageDeltaThreshold&&(100!==this.scrollViewDepthPercentage||100===this.maxScrollViewDepthPercentage)||(this.calculateDeltaAndMax(),this.triggerScrollDepthTracking(),this.checkScrollDepthCheckpoints(),100==this.maxScrollViewDepthPercentage&&(this.scrollCompletionTracked=!0,this.disable()))}calculateDeltaAndMax(){this.scrollViewDepthDelta=this.scrollViewDepth-this.maxScrollViewDepth,this.scrollViewDepthDeltaPercentage=this.scrollViewDepthPercentage-this.maxScrollViewDepthPercentage,this.maxScrollViewDepth=isNaN(this.scrollViewDepthDelta)?this.maxScrollViewDepth:this.scrollViewDepthDelta,this.maxScrollViewDepthPercentage=isNaN(this.scrollViewDepthDelta)?this.maxScrollViewDepthPercentage:this.scrollViewDepthPercentage}onScroll(){this.viewHeight||this.calculateViewDimensions(),this.trackInitScroll(),this.scrollInitiated=!0,this.enabled||this.stopScrollTracking(),clearTimeout(this.isScrolling),this.isScrolling=setTimeout(this.updateScrolTracking.bind(this),this.scrollTimeoutDuration)}onResize(){clearTimeout(this.isResizing),this.isResizing=setTimeout(this.onResizeStop.bind(this),this.resizeTimeoutDuration)}onResizeStop(){this.checkScrollState()}checkScrollDepthCheckpoints(){let e=this.nextScrollDepthCheckpoint();if(!e)return;let t=this.toElementPercentage(e.buffer);e&&this.maxScrollViewDepthPercentage>=e.value-t&&(this.triggerScrollDepthCheckpoint(e.value),this.scrollDepthCheckpoints.shift(),this.checkScrollDepthCheckpoints())}trackInitScroll(){this.scrollInitTracked||(this.scrollInitTracked=!0,this.trackScrollInit&&this.fire(this.trackScrollInit()))}triggerScrollDepthTracking(){this.trackScrollDepth&&this.fire(this.trackScrollDepth(this.scrollViewDepthDeltaPercentage))}triggerScrollDepthCheckpoint(e){this.trackScrollDepthCheckpoint&&this.fire(this.trackScrollDepthCheckpoint(e))}fire(e){s.util.appendImage(e)}}},9163:(e,t,i)=>{"use strict";i.d(t,{q:()=>s});var n=i(1611),r=i(6101);function s(e){return new o(e)}function o(e){this.isArticle=e}o.prototype.ntvStopWatch=function(e,t){return this.startTime=null,this.rval=0,this.event=e,this.triggerTime=t,this.eventFired=!1,this.stop=function(){return null!=this.startTime&&(this.rval+=new Date-this.startTime,this.startTime=null),this},this.reset=function(){return this.startTime=null,this.rval=0,this},this.resume=function(){if(!this.preventResume)return null==this.startTime&&(this.startTime=new Date,this.checkEvent()),this},this.duration=function(){var e=this.rval;return null!=this.startTime&&(e+=new Date-this.startTime),e},this.checkEvent=function(){if(null!=this.event&&null!=this.triggerTime)if(this.duration()>=this.triggerTime&&!this.eventFired)this.event(),this.eventFired=!0;else if(null!=this.startTime){var e=this;setTimeout((function(){e.checkEvent()}),50)}return this},this},o.prototype.ntvTimeOnContentStopWatch=function(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:window;"function"!=typeof this.ntvStopWatch&&this.ntvStopWatch(),this.parent=e,this.cap=6e5,this.totalTime=0,this.sampleTimes=n.util.getSampleTimeArray(this.cap),this.triggerTime=null,this.onLeaveTracked=!1,this.engagements=[{time:5e3,actionType:r.z1.TOC_ENGAGEMENT_5S},{time:15e3,actionType:r.z1.TOC_ENGAGEMENT_15S},{time:3e4,actionType:r.z1.TOC_ENGAGEMENT_30S}],this.nextEngagement=()=>this.engagements[0]||null,this.overridingActionType=t;var s=this;return this.onLeave=function(){s.onLeaveTracked||(s.onLeaveTracked=!0,s.totalTime>0&&s.trackTimeOnContent(!0))},this.init=function(){i.addEventListener("pagehide",this.onLeave)},this.init(),this.checkEvent=function(){if(this.sampleTimes&&this.sampleTimes.length>=0){if(null==this.triggerTime){if(!(this.sampleTimes.length>0))return;this.triggerTime=this.sampleTimes.shift()}let t=this.nextEngagement();if(this.isArticle&&t&&this.totalTime+this.duration()>=t.time&&(this.engagements.shift(),this.trackEngagement(t)),this.duration()>=this.triggerTime)this.trackTimeOnContent(!1),this.triggerTime=null,this.resume();else if(null!=this.startTime){var e=this;setTimeout((function(){e.checkEvent()}),1e3)}}return this},this.trackEngagement=function(e){let t=n.util.is("a",e.actionType)?e.actionType.join():e.actionType,i=this.parent.tracker.getUrl(t);e.qsParams&&n.util.is("s",e.qsParams)&&(i=i.concat(e.qsParams)),n.util.appendImage(i)},this.trackTimeOnContent=function(e){if(this.parent.isPreRoll&&this.parent.prerollPlaying||this.parent.player&&"function"==typeof this.parent.player.getCurrentTime&&(isNaN(this.parent.player.getCurrentTime())||0==this.parent.player.getCurrentTime()))this.reset();else{var t=this.duration();if(this.totalTime+=t,this.totalTime>this.cap&&(t-=this.totalTime-this.cap,this.totalTime=this.cap),(!(t<=0)||e)&&(t<=0&&(t=0),!(t<=100&&0!=t)||e)){var i=this.parent.tracker.getUrl(this.overridingActionType||87);return i+="&"+r.z1.VALUE+"="+t,e&&(i+="&"+r.z1.TOTAL_VALUE+"="+this.totalTime),n.util.appendImage(i),this.reset(),this}}},this.stopAndTrack=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.stop(),this.trackTimeOnContent(e),e&&(s.totalTime=0),this},this},o.prototype.addStopWatchEventHandlers=function(e){let t=this;return document.addEventListener("visibilitychange",(function(i){e.handler.call(t,i)}),!1),this}},6292:(e,t,i)=>{"use strict";i.d(t,{sg:()=>f,wr:()=>p});i(1057),i(560),i(6409),i(4043);var n=i(1611),r=i(5150),s=i(9163),o=i(1538),a=i(3021),c=i(1288),l=i(1941),u=i(6101),d=i(1171);const h=["47","304","809"];function p(e){n.util.copyProperties(e,this),this.id="".concat(this.adID,"-").concat(this.placementID,"-").concat(this.minimumAreaViewable,"-").concat(this.minimumExposedTime),this.element=n.util.domQueryUp(this.selector),this.adPlacementId=n.util.clientUtils.generateAdPlacementId(this.adID,this.placementID);let t=r.core.thirdPartyJSViewableImpTrackers,i=r.core.viewableWhiteList[e.placementID],o=.01===e.minimumAreaViewable&&1===e.minimumExposedTime;const a=this.element.querySelector("ntv-div")||n.util.domQuery("ntv-div"),d=n.util.getActionTypesFromURL(e.primaryImpressionURL).some(e=>h.indexOf(e)>=0);o||(this.thirdPartyTrackingTags=n.util.trackImpressionsInViewability(i,this.thirdPartyTrackingTags,this.selector)),this.stopWatch=(0,s.q)().ntvStopWatch(()=>{try{var i=this.getVideoDimensions();!n.util.is("o",i)||isNaN(i.width)||isNaN(i.height)||(this.primaryImpressionURL+="&ntv_vw="+i.width+"&ntv_vh="+i.height)}catch(e){n.util.postError(new Error("getVideoDimensions failed for tracker ".concat(this.id,", Cause: ").concat(e.message)))}this.primaryImpressionURL+=d?"&".concat(u.z1.IFRAME_QS_ID,"=").concat(function(){try{var e;return null!=r.core&&null!==(e=r.core.safeFrame)&&void 0!==e&&e.api?u.z1.IFRAME_TYPES.SAFE_W_API:n.util.resolveIframeType()}catch(e){n.util.postError(new Error("resolveViewableIframeType(), Cause:".concat(e.message)))}}()):"",(0,c.IM)(this.primaryImpressionURL,this.thirdPartyTrackingTags,1,null,{placementID:e.placementID,adID:e.adID,is70Percent:o,node:document.body||a||this.element}),d&&r.core.internalPubSub.publish("tracking-fired-viewableImpression"),t[this.placementID]&&t[this.placementID].whitelist instanceof Array&&t[this.placementID].thirdparty&&n.util.filterScripts(t[this.placementID].whitelist,t[this.placementID].thirdparty),this.viewabilityMethod.dispose()},this.minimumExposedTime),this.lastCheck=new Date,this.missedCheck=0,this.checkOnFocus&&n.util.onFocusEvents.push(()=>{n.util.isOnFocus()||this.stopWatch.reset()}),r.core.safeFrame?r.core.safeFrame.check.then(()=>{if(r.core.safeFrame.api.init)try{r.core.safeFrame.api.init({selector:e.selector,id:this.id,handlers:{[l.Hv.size]:r.core.checkIsAdVisible,[l.Hv.focus]:e=>{e||this.stopWatch.reset()}}})}catch(e){console.error("SafeFrame API failed to init for id ".concat(this.id,". Falling back to another viewability method. ").concat(e))}}).catch(()=>{}).finally(()=>{this.setupViewabilityTrackingMethod()}):this.setupViewabilityTrackingMethod()}function f(e){if(void 0===e)return;const{primaryImpressionURL:t,thirdPartyTrackingTags:i,placementID:r,adID:s}=e;if((0,d.io)(t,i,r,s))return void n.util.postError(new Error("ntvStandardImpressionTracker: missing required params"));(0,c.IM)(t,i,c.Zz.IMAGE,!1,{placementID:r,adID:s})}p.prototype.setupViewabilityTrackingMethod=function(){this.viewabilityMethod=(0,o.$R)(this),this.viewabilityMethod.addViewableEventListener(a._.IN_VIEW,()=>{this.stopWatch.resume()}),this.viewabilityMethod.addViewableEventListener(a._.OUT_OF_VIEW,()=>{this.stopWatch.stop()}),this.viewabilityMethod.checkViewability()},p.prototype.getVideoDimensions=function(){try{if(!this.selector)return!1;var e=ntv.query(this.selector);if(!e.length)return!1;var t=e.find("iframe");if(t.length&&t[0].contentWindow){if(t[0].src){if(t[0].src.length>0&&(/ntv_at=47/gi.test(this.primaryImpressionURL)||/ntv_at=.*809/gi.test(this.primaryImpressionURL))){var i=ntv.query(t[0]);return{width:i.width(),height:i.height()}}return!1}var r=ntv.query("video",t[0].contentWindow.document);return!(!r.length||!/ntv_at=47/gi.test(this.primaryImpressionURL)&&!/ntv_at=.*809/gi.test(this.primaryImpressionURL))&&{width:r[0].width,height:r[0].height}}return!1}catch(e){return n.util.postError(new Error("getVideoDimensions selector/DOM error for ".concat(this.selector,": ").concat(e.message))),!1}},window.ntvViewableImpressionTracker=p},9110:(e,t,i)=>{"use strict";i.d(t,{OX:()=>m,S3:()=>v,f_:()=>p});i(560),i(6265);var n,r=i(5150),s=i(3742),o=i(7746),a=i(5438),c=i(2505),l=i(566),u=i(5573),d=i(4744),h=i(9601);class p extends d.A{constructor(e){super(e),this.type="ElementViewability",this.elements=[],this.tracker&&this.tracker.viewabilityMethod||(this.tracker.viewabilityMethod=this),r.core.viewableImpressionTrackers.push(this.tracker),this.tracker.enabled&&this.enable(),(0,h.YM)()}checkViewability(e){this.viewabilityData=this.getDefaultViewability(e),this.publishViewabilityChange()}dispose(){super.dispose(),(0,s.s)(r.core.viewableImpressionTrackers,this.tracker),(0,h.Ps)()}getDefaultViewability(e){let t=0,i=0,n=!0;if(this.elements||(this.elements=[],this.element&&this.elements.push(this.element)),0==this.elements.length){if(this.elements=(0,o.k)(this.selector)?[this.selector]:[...(0,a.tT)(this.selector)],0===this.elements.length){const e=r.core.referencePlacementPositions[this.selector];this.elements=e?[...e]:[]}0==this.elements.length&&(this.elements=[...(0,a.tT)(this.selector,(0,c.b3)().document)])}var s=this.elements;if(s.length>0){this.isInvTracking&&(s=[s[0]]);let r=[];for(var l=0;l<s.length;l++)try{var d=s[l];d.level=1,this.getValidViewableElement(d,r)}catch(h){}if(0==r.length){var h=s[0];ntv.query(h).is(":hidden")&&(h=ntv.query(h).next()[0]||ntv.query(h).parent()[0]),r.push(h)}for(l=0;l<r.length;l++){var p=m(r[l],e);t+=p.totalArea,i+=p.ratioInView,n&=p.visible}const o=i/r.length;return new u.$({visible:o>=this.minimumAreaViewable||!this.checkMinimumAreaViewable&&0==t&&n,totalArea:t,ratioInView:o})}return new u.$}getValidViewableElement(e,t){if((0,l.z)(e)){let e=(0,l.c)();if(e)return void t.push(e)}if(e.offsetWidth>0&&e.offsetHeight>0||this.isInvTracking)return void t.push(e);let i=this;ntv.query(e).children().each((function(){this.level=e.level+1,this.level<=5&&i.getValidViewableElement(this,t)}))}}let f=ntv.query;function m(e,t,i){try{if(r.core.safeFrame&&r.core.safeFrame.api&&r.core.safeFrame.api.ready)return r.core.safeFrame.api.getViewability()}catch(e){}if(!e)return new u.$;let n,s,o,a,c,l,d,h;Object.getPrototypeOf(e).nquery&&(e=e[0]);try{const t=function(e){if(!e||!e.getBoundingClientRect)return{};if(!r.core.setting.sdk)return e.getBoundingClientRect();if(!r.core.sdkAPI.scrollRect)return;const t=e.getBoundingClientRect();return{y:t.y-r.core.sdkAPI.scrollRect.y,y:t.x,top:t.top-r.core.sdkAPI.scrollRect.y,right:t.right,bottom:t.bottom-r.core.sdkAPI.scrollRect.y,left:t.left,width:t.width,height:t.height}}(e);n={top:t.top,right:t.right,bottom:t.bottom,left:t.left,width:t.width,height:t.height,x:t.x,y:t.y}}catch(e){return new u.$}if(n.width||(n.width=e.offsetWidth),n.height||(n.height=e.offsetHeight),0==n.top&&0==n.right&&0==n.bottom&&0==n.left&&0==n.width&&0==n.height&&0==n.x&&0==n.y)return new u.$;s=v(e),o=s.width,a=s.height+(i||0),c=0,l=0,c=n.top>=0?n.bottom>a?n.height-(n.bottom-a):n.height:n.height+n.top,n.left>=0?l=n.right>o?n.width-(n.right-o):n.width:(n.right>o&&(l=n.width-(n.right-o)),l+=n.width+n.left),d=0,l>0&&c>0&&(d=l*c),h=d>0||(n.top>=0&&n.top<=a||n.bottom>=0&&n.bottom<=a)&&(n.left>=0&&n.left<=o||n.right>=0&&n.right<=o)||void 0!==t&&void 0!==t.target&&void 0!==t.target.scrollingElement&&t.target.scrollingElement.scrollTop+s.height>=n.top&&t.target.scrollingElement.scrollTop+s.height<=n.top+s.height&&t.target.scrollingElement.scrollTop-s.height<n.top&&t.target.scrollingElement.scrollLeft+s.width>=n.left&&t.target.scrollingElement.scrollLeft+s.width<=n.left+s.width&&t.target.scrollingElement.scrollLeft-s.width<n.left&&0==e.offsetHeight;let p=n.width*n.height,f=d/p;return isNaN(f)&&(f=h?1:0),new u.$({visible:h,totalArea:p,ratioInView:f,xInView:l>0?l/n.width:0,yInView:c>0?c/n.height:0})}function v(e){const t=screen&&screen.availWidth,i=screen&&screen.availHeight,n=e&&e.ownerDocument?e.ownerDocument.defaultView:window,r=n.innerWidth?n.innerWidth:f(n).width(),s=n.innerHeight?n.innerHeight:f(n).height();return{width:t?Math.min(t,r):r,height:i?Math.min(i,s):s}}window.ntvGetElementViewability=m,void 0!==(null===(n=window.ntv)||void 0===n?void 0:n.Util)&&(window.ntv.Util.getElementViewability=m)},3021:(e,t,i)=>{"use strict";i.d(t,{_:()=>n});const n={VIEWABLE_CHANGE:"VIEWABLE_CHANGE",IN_VIEW:"IN_VIEW",OUT_OF_VIEW:"OUT_OF_VIEW"}},1538:(e,t,i)=>{"use strict";i.d(t,{$R:()=>A,hI:()=>P,QP:()=>I});var n=i(9110),r=(i(560),i(4744)),s=i(5150),o=i(1611),a=i(5573);var c=i(9601);var l=i(9891);var u=i(6330),d=i(5902),h=(i(1057),i(7608)),p=i(1311),f=i(8477),m=i(1498);function v(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}const g="AmpViewability",y="SafeFrameViewability",b="ObserverViewability",E="ElementViewability",w="MRAIDViewability",T={[g]:class extends r.A{constructor(e){super(e),this.type="AmpViewability",s.core.viewableImpressionTrackers.push(this.tracker)}checkViewability(){const e=s.core.checkAmpViewability?s.core.checkAmpViewability():0;this.viewabilityData.visible=e>this.minimumAreaViewable,this.viewabilityData.ratioInView=e,this.publishViewabilityChange()}dispose(){super.dispose(),o.util.removeElementFromArray(s.core.viewableImpressionTrackers,this.tracker),(0,c.Ps)()}},[y]:class extends r.A{constructor(e){super(e),this.type="SafeFrameViewability",s.core.viewableImpressionTrackers.push(this.tracker)}checkViewability(){let e=s.core.safeFrame.api.getViewability();this.viewabilityData=new a.$({ratioInView:e.ratioInView,totalArea:e.totalArea,visible:e.ratioInView>=this.minimumAreaViewable||!this.checkMinimumAreaViewable&&0==e.totalArea&&e.viewable}),this.publishViewabilityChange()}dispose(){super.dispose(),o.util.removeElementFromArray(s.core.viewableImpressionTrackers,this.tracker),s.core.safeFrame&&s.core.safeFrame.api&&s.core.safeFrame.api.removeHandlers(this.id)}},[b]:class extends r.A{constructor(e){super(e),this.type="ObserverViewability",this.observerOptions=new l.po({onAnyThreshold:e=>{this.viewabilityData=(0,l.Ff)(e),this.publishViewabilityChange()}}),this.clientObserver=new l.N3({threshold:[this.minimumAreaViewable]}),this.tracker.enabled&&this.enable()}checkViewability(){return this.publishViewabilityChange(),this.viewabilityData}dispose(){this.disable(),super.dispose()}enable(){super.enable(),this.clientObserver.addTarget(this.element,this.observerOptions)}disable(){super.disable(),this.clientObserver.removeTarget(this.element)}},[E]:n.f_,[w]:class extends r.A{constructor(e){super(e),v(this,"boundViewableChange",void 0),v(this,"boundExposeChange",void 0);try{this.type="MRAIDViewability",this.subscribeToMraidEvents(),this.viewabilityData.visible=p.gj.isViewable(),this.viewabilityData.ratioInView=p.gj.isViewable()?1:0}catch(e){o.util.postErrorMsg("Failed to construct MRAIDViewability. env: "+(0,m.ye)((0,f.jo)()),e)}}checkViewability(){this.publishViewabilityData()}handleViewableChange(e){const t=e.data.isViewable;this.viewabilityData=new a.$({visible:t,ratioInView:t?1:0}),this.publishViewabilityData()}handleExposeChange(e){try{const{exposedPercentage:t=0,visibleRectangle:i,occlusionRectangles:n}=e.data;n&&o.util.postErrorMsg("OcclusionRectangles detected: ".concat((0,m.ye)(n)," visibleRect: ").concat((0,m.ye)(i)," env: ").concat((0,m.ye)((0,f.jo)())));const{x:r=0,y:s=0,width:c=0,height:l=0}=i||{};this.viewabilityData=new a.$({visible:t>0,ratioInView:t/100,totalArea:c*l,xInView:r,yInView:s}),this.publishViewabilityData()}catch(e){o.util.postErrorMsg("Failed to handle MRAID ExposureChange event. env: "+(0,m.ye)((0,f.jo)()),e)}}subscribeToMraidEvents(){this.boundViewableChange=this.handleViewableChange.bind(this),this.boundExposeChange=this.handleExposeChange.bind(this),window.ntv.Events.PubSub.subscribe(h.c.ViewableChange,this.boundViewableChange),window.ntv.Events.PubSub.subscribe(h.c.ExposureChange,this.boundExposeChange)}unsubscribeToMraidEvents(){window.ntv.Events.PubSub.unsubscribe(h.c.ViewableChange,this.boundViewableChange),window.ntv.Events.PubSub.unsubscribe(h.c.ExposureChange,this.boundExposeChange),this.boundExposeChange=void 0,this.boundViewableChange=void 0}publishViewabilityData(){super.publishViewabilityChange()}dispose(){super.dispose(),this.unsubscribeToMraidEvents(),this.viewabilityData=new a.$}isInView(){return this.viewabilityData.visible}}};function S(e){if(!e.elementSpecific){if((0,f.eO)()&&p.gj)return w;if(s.core.ampMode)return g;if(s.core.safeFrame&&s.core.safeFrame.api&&s.core.safeFrame.api.enabled)return y}return(0,l.Mj)()&&e.useObserverViewability?b:E}function A(e){const t=(0,d.x2)(e.adPlacementId);return new(I((0,u.Cb)(null==t?void 0:t.responseId)))(e)}function I(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=S(e),i=T[t];if(null!=i)return i}function P(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.assign(e,{elementSpecific:!0}),I(e)}},667:(e,t,i)=>{"use strict";i.d(t,{H:()=>r});var n=i(1611);class r{constructor(e){this.trackClickComponent=()=>{},this.trackClickLightbox=()=>{},this.trackClickLink=()=>{},this.trackViewPage=()=>{},this.trackPlayVideo=()=>{},Object.assign(this,e),this.window=n.util.getTopWindow(),this.document=this.window.document,this.analyticsHandler=this.analyticsHandler.bind(this),this.setInitVars(),this.enable()}setInitVars(){this.enabled=!1}analyticsHandler(e){switch(e.detail.eventType){case"component-click":this.trackComponentClick();break;case"lightbox-click":this.trackLightboxClick();break;case"link-click":this.trackLinkClick();break;case"page-view":this.trackPageView();break;case"video-play":this.trackVideoPlay()}}enable(){this.document.body.addEventListener("ceros-analytics-event",this.analyticsHandler),this.enabled=!0}disable(){this.document.body.removeEventListener("ceros-analytics-event",this.analyticsHandler),this.enabled=!1}reset(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.setInitVars(),e&&this.enable()}trackComponentClick(){this.trackClickComponent&&this.fire(this.trackClickComponent())}trackLightboxClick(){this.trackClickLightbox&&this.fire(this.trackClickLightbox())}trackLinkClick(){this.trackClickLink&&this.fire(this.trackClickLink())}trackPageView(){this.trackViewPage&&this.fire(this.trackViewPage())}trackVideoPlay(){this.trackPlayVideo&&this.fire(this.trackPlayVideo())}fire(e){n.util.appendImage(e)}}},1073:(e,t,i)=>{"use strict";i.d(t,{k:()=>s});var n=i(4862),r=i(6410);function s(e,t,i){const s=(0,n.W)("settings"),o=s.get("adBlocker"),a=s.get("adBlockerDomain");return o&&-1==e.indexOf("data:")&&(e=(0,r.Me)(e).decodedUrl,e="//"+a+"/"+(0,r.bl)(e="proxyTracking/"+e)),e}},3742:(e,t,i)=>{"use strict";function n(e,t){for(var i=-1,n=0;n<e.length;n++)t==e[n]&&(i=n);i>=0&&e.splice(i,1)}i.d(t,{s:()=>n})},970:(e,t,i)=>{"use strict";function n(){return navigator.userAgent.toLowerCase().indexOf("chrome")>-1}function r(){return navigator.userAgent.toLowerCase().indexOf("firefox")>-1}function s(){return navigator.userAgent.indexOf("Edge")>=0}function o(e,t){return!!n()&&!(!e||!t)}i.d(t,{i7:()=>n,uB:()=>o,un:()=>s,vU:()=>r})},2505:(e,t,i)=>{"use strict";i.d(t,{Ds:()=>d,Lx:()=>o,Ot:()=>h,b3:()=>p,d8:()=>c,ej:()=>u,es:()=>m,jn:()=>y,kT:()=>l,lY:()=>a,wL:()=>g,zN:()=>v});i(6265);const n=p();function r(e,t){return e.onload=t}function s(e,t){return e.onerror=t}function o(e,t,i){const o=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document;const i=t.createElement("img");return i.setAttribute("width",1),i.setAttribute("height",1),i.src=e,i}(e,n.document);r(o,(function(){r(o,null),s(o,null),t&&t()})),s(o,(function(){r(o,null),s(o,null),i&&i()}))}function a(e){let t=0,i="",n=0,r=["a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z",1,2,3,4,5,6,7,8,9,0];if("alphanumeric"===e){do{(r[n=Math.floor(100*Math.random())]||r[n=Math.floor(10*Math.random())])&&(i+=r[n].toString())}while(++t<100&&i.length<30);return i+(new Date).valueOf()}return"number"==typeof e?Math.floor(Math.random()*e+1):Math.floor(1e6*Math.random()+1).toString().concat((new Date).valueOf())}function c(e,t,i){let n="".concat(e,"=").concat(t);if(!isNaN(i)){const e=new Date;e.setTime(e.getTime()+24*i*60*60*1e3),n+=";expires="+e.toUTCString()}n+=";".concat("samesite=none;secure");n+=";path=/";try{document.cookie=n}catch(e){}}function l(e){c(e,"",-1)}function u(e){try{var t=e+"=",i=document.cookie;if(i)for(var n=i.split(";"),r=0;r<n.length;r++){for(var s=n[r];" "==s.charAt(0);)s=s.substring(1);if(0==s.indexOf(t)){const i=s.substring(t.length,s.length);return c(e,i,365),i}}return""}catch(e){return""}}function d(e,t){let i;return n=>{if(!i)return i=setTimeout(()=>{i=void 0},t),e(n)}}function h(e){const t=new Map;return{debounce:(i,n)=>{t.has(i)&&clearTimeout(t.get(i)),t.set(i,setTimeout(()=>{try{t.has(i)&&n()}finally{t.delete(i)}},e))},cancel:e=>{t.has(e)&&(clearTimeout(t.get(e)),t.delete(e))},cancelAll:()=>{t.forEach(e=>clearTimeout(e)),t.clear()}}}function p(){if(window.ntvValidTopWindow)return window.ntvValidTopWindow;for(var e=window,t=window;e.parent&&e!=e.parent;)try{(e=e.parent).document&&(t=e)}catch(e){}return window.ntvValidTopWindow=t,t}n.onFocusEvents||(n.onFocusEvents=[]);let f=n.onFocusEvents;const m=f;function v(){var e="hidden",t=n.document;if(e in t)t.addEventListener("visibilitychange",i);else if((e="mozHidden")in t)t.addEventListener("mozvisibilitychange",i);else if((e="webkitHidden")in t)t.addEventListener("webkitvisibilitychange",i);else if((e="msHidden")in t)t.addEventListener("msvisibilitychange",i);else if("onpageshow"in n&&"onpagehide"in n)n.onpageshow=n.onpagehide=i;else{if(!("onfocus"in n)||!("onblur"in n))return void(n.onFocus=!0);n.onfocus=n.onblur=i}function i(t){var i="visible",r="hidden",s={focus:i,focusin:i,pageshow:i,blur:r,focusout:r,pagehide:r};t=t||window.event,n.onFocus=t.type in s?"visible"==s[t.type]:!this[e];for(var o=0;o<f.length;o++)f[o]();n.ntv&&ntv.query(n).trigger("ntvOnFocusChange")}i({type:"visible"==document.visibilityState?"focus":"blur"})}function g(){return n.onFocus}function y(e){n.onFocus=e}},6101:(e,t,i)=>{"use strict";i.d(t,{oT:()=>r,xu:()=>n,z1:()=>o,xc:()=>s});const n={TOP_WINDOW_SCROLL:"topWindowScroll",TOP_WINDOW_READY:"topWindowReady",CONTENT_MODAL_SCROLL:"contentModalScroll"},r={TOUT:"TOUT",FRAGMENT:"FRAGMENT"},s={VAST_ERROR:"ntv_verror",REDIRECT:"ntv_r",FIRST_PARTY_COOKIE:"ntv_fpc",WEB_CHOICES:"ntv_adc_signal",SURVEY_ID:"ntv_syid",SURVEY_RESPONSE_ID:"ntv_srid",INTENTIQ_PCID:"ntv_iiq_pcid",INTENTIQ_PCIDDATE:"ntv_iiq_pciddate",AD_ID:"ntv_a"},o={DOMAIN:"adserve.postrelease.com",JDOMAIN:"jadserve.postrelease.com",ASSETS_DOMAIN:"ntvassets-a.akamaihd.net",ASSETS_DOMAIN_DEV:"devntvassets-a.akamaihd.net",RESIZER_DOMAIN:"ntvcld-a.akamaihd.net",SCRIPTS_DOMAIN:"s.ntv.io",ASSETS_PREFIX:"s",VIS_ID:"prx_visitor",REQ_REDIRECT:"prx_r",REQ_KEY:"prx_rk",REQ_URL:"prx_url",REQ_URL_NTV:"ntv_url",PAGE_REF:"prx_referrer",IS_MOBILE:"prx_mobile",AT:"ntv_at",SUB_AT:"ntv_sat",FRAUD:"ntv_fr",CPM:"ntv_cpm",VALUE:"ntv_v",TOTAL_VALUE:"ntv_tv",US_PRIVACY:"us_privacy",OPT_OUT_SOURCE:"ntv_oos",US_PRIVACY_STORAGE_KEY:"ntv_as_us_privacy",EIDS_STORAGE_KEY:"ntv_eids_v2",GDPR:"gdpr",GDPR_QS_KEY:"ntv_gdpr_consent",GDPR_VENDOR_ID:263,ABA:"prx_adp",ARTICLE_TMPL:"prx_t",AVP:"ntv_a",ADV_ID:"prx_adv",PLC_ID:"prx_pl",ADV_FILTER:"prx_avtf",CMP_FILTER:"prx_ctf",AD_FILTER:"ntv_atf",PTD_FILTER:"ntv_ptd",REQ_OPTIONS:"prx_ro",RENDER_MODE:"prx_rm",OVERIDE_ARTICLE:"ntv_oat",PASS_PREVIEW:"ntv_tp",IP:"prx_userip",FORCE_JAVA:"ntv_jat",IS_TOUT:"ntv_it",FORCE_NET:"ntv_net",DEBUG_MODE:"ntv_dm",CLIENT_OPTIONS:"ntv_co",LEGACY_VIDEO_SUPPORT:"ntv_lvs",TRACK_MEDIATION:"ntv_med",SEEN_ADS:"ntv_sa",KEY_VALUE_PAIRS:"ntv_kv",PUBLISHER_IN_IFRAME:"ntv_iw",EXPERIMENT:"ntv_eg",SLIDE_ID:"ntv_sl",YOUTUBE_PLAYER:1,NATIVO_PLAYER:2,VAST_PLAYER:3,MAX_INT32_VALUE:2147483647,PB_ATT:806,PB_CPM_IMP:807,PB_NOT_FIL:808,PB_VCPM_IMP:809,PB_ATT_SKIP_LOG:812,USER_SESSION_ID:"ntv_usid",SESSION_PL_ID:"ntv_pl",USER_SESSION_DURATION:"ntv_usd",RESPONSIVENESS_1OO:"ntv_r1",RESPONSIVENESS_75:"ntv_r2",RESPONSIVENESS_50:"ntv_r3",RESPONSIVENESS_25:"ntv_r4",BEFORE_AUCTION:853,AFTER_AUCTION:854,VIDEO_ID_SELECTOR:"ntvVideo",VIDEO_ID_EDGE_SELECTOR:"prxVideo",NTV_PREFIX:"ntv",EDGE_PREFIX:"prx",NTV_UID:"_ntv_uid",DFP_INIT_LOAD:337,DFP_FIRST_RENDER:335,DFP_TOTAL_AVAILABLE:334,DFP_TOTAL_FILLED:336,CLP_VIEW_DEPTH_25_PERCENT:1016,CLP_VIEW_DEPTH_50_PERCENT:1017,CLP_VIEW_DEPTH_75_PERCENT:1018,CLP_VIEW_DEPTH_100_PERCENT:1019,CLP_VIEW_DEPTH_MAX:1020,CLP_SCROLL_INITIATED:1021,RETRY:"ntv_rtr",CPE_ENGAGEMENT_15s:29,CPE_SCROLL_50:29,CPE_CTA_CLICK:29,TOC_ENGAGEMENT_5S:38,TOC_ENGAGEMENT_15S:24,TOC_ENGAGEMENT_30S:57,CUSTOM_AUDIENCE_VENDOR:"ntv_vid",CUSTOM_AUDIENCE_SEGMENTS:"ntv_ca",CUSTOM_CTA_RANGE_START:1100,CUSTOM_CTA_RANGE_END:1110,CUSTOM_WIDGET_RANGE_START:1110,CUSTOM_WIDGET_RANGE_END:1120,HEAVY_AD_INTERVENTION:32,HEAVY_AD_INTERVENTION_IFU:4007,IFRAME_QS_ID:"ntv_ift",IFRAME_TYPES:{NONE:0,FRIENDLY:1,SAFE_W_API:2,SAFE_NO_API:3},BLOCK_QUERY_SELECTOR:"section.ntv-design-block",AD_LEVEL_TRACKING_PROPERTIES:["adVersionPlacement","toutClick3rdPartyTracking","toutClickTracker","isProgrammatic","tracking","tracker","adTracker"],DEPENDENCIES:{GALLERY_JS:"https://s.ntv.io/js/gallery.min.js",GALLERY_CSS:"https://s.ntv.io/css/gallery.css",STORIES_AD_CSS:"https://s.ntv.io/css/storiesAd.css",MODAL_CSS:"https://s.ntv.io/css/ntvModal.css",MRAID_MODAL_CSS:"https://s.ntv.io/css/mraid-modal.css",SURVEY_RESPONSES_PERCENTAGE_CSS:"https://s.ntv.io/css/survey-responses-percentage.css",SURVEY_RESPONSES_QUIZ_CSS:"https://s.ntv.io/css/survey-responses-quiz.css"},COMPONENT_CLICK_EVENT:42,LIGHTBOX_CLICK_EVENT:44,LINK_CLICK_EVENT:45,PAGE_VIEW_EVENT:48,VIDEO_PLAY_EVENT:49,PB_EID:"ntv_pb_eid",GPP:"gpp",GPP_STRING_KEY:"ntv_gpp_consent",QUERY_PARAM_KEYS:s}},9795:(e,t,i)=>{"use strict";i.d(t,{J:()=>r});var n=i(1611);function r(e){const{frame:t,callback:i,once:r}=e;if(void 0===i)return console.error("No callback function provided for checkForCrossdomainIframeClick"),void(i=()=>{});const s={isMouseOver:!1,fired:!1},o=()=>{s.isMouseOver&&r&&!1===s.fired&&(i(),s.fired=!0,r&&(n.util.getTopWindow().removeEventListener("blur",o),t.removeEventListener("mouseover",a),t.removeEventListener("mouseout",c)))},a=()=>{s.isMouseOver=!0},c=()=>{s.isMouseOver=!1};let l=!1;l||(n.util.getTopWindow().addEventListener("blur",o),t.addEventListener("mouseover",a),t.addEventListener("mouseout",c),l=!0)}},4862:(e,t,i)=>{"use strict";i.d(t,{W:()=>r});var n=i(4956);function r(){let e,t,i,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"data";function s(t,i){return p(),e[t]=i,e[t]}function o(t){return p(),e[t]}function a(t){return p(),e.hasOwnProperty(t)}function c(t){p(),a(t)&&delete e[t]}function l(){return p(),i}function u(){return p(),t}function d(){return p(),Object.values(e)}function h(){(0,n.QP)(r,{})}function p(){e=(0,n.re)(r),t=Object.keys(e),i=t.length}return p(),{get:o,set:s,has:a,remove:c,getNumEntries:l,getEntryIds:u,getEntryValues:d,clear:h}}},3506:(e,t,i)=>{"use strict";i.d(t,{L3:()=>c,rk:()=>l,ru:()=>a});i(1057),i(560),i(4043),i(6265);function n(e,t,i){(function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")})(e,t),t.set(e,i)}function r(e,t){return e.get(o(e,t))}function s(e,t,i){return e.set(o(e,t),i),i}function o(e,t,i){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:i;throw new TypeError("Private element is not present on this object")}function a(e,t,i){for(let n in i)null==e[n]&&l(e,n,c(t,i[n]))}function c(e,t){const i=p(e,t);if(null!=i)return i.value}function l(e,t,i){if(null==i)return;const n=p(e,t,!0);return null!=n?(n.value=i,n.value):void 0}var u=new WeakMap,d=new WeakMap;class h{constructor(e,t){n(this,u,void 0),n(this,d,void 0),s(u,this,e),s(d,this,t)}get value(){return r(u,this)[r(d,this)]}set value(e){r(u,this)[r(d,this)]=e}}function p(e,t){let i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(null==t||"string"!=typeof t)return;const n=[],r=/([^\.\[\]]+)(?:\[(\d+)\])?/g;let s;for(;null!==(s=r.exec(t));){const[,e,t]=s;n.push(e),void 0!==t&&n.push(t)}if(0===n.length){return f(e,t.split("."),i)}return f(e,n,i)}function f(e,t){let i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(null==e||null==t||!Array.isArray(t))return;if(1===t.length)return new h(e,t[0]);const n=t.shift();if(i&&(!e.hasOwnProperty||!e.hasOwnProperty(n))){const i=!isNaN(parseInt(t[0]));e[n]=i?[]:{}}return e.hasOwnProperty&&e.hasOwnProperty(n)?f(e[n],t,i):void 0}},7746:(e,t,i)=>{"use strict";function n(e){if(e)return e instanceof DocumentFragment?e.firstElementChild:(e.length&&e.length>0&&(e=e[0]),r(e)?e:void 0)}function r(e){return"object"==typeof HTMLElement?e instanceof HTMLElement:e&&"object"==typeof e&&null!==e&&1===e.nodeType&&"string"==typeof e.nodeName}i.d(t,{M:()=>n,k:()=>r})},8258:(e,t,i)=>{"use strict";i.r(t),i.d(t,{applyElementStyles:()=>E,bindClick:()=>m,copyElementStyles:()=>b,createScriptEvaluatingFragmentFromHTMLString:()=>l,getDocumentScrollRatio:()=>y,getElementDimensions:()=>A,getFirstNonZeroHeightAncestor:()=>v,getNearestAncestor:()=>S,hide:()=>h,htmlStringToElement:()=>d,htmlStringToFragment:()=>u,injectHtmlString:()=>c,isElement:()=>s.k,onImageLoad:()=>g,randomizeChildElementOrder:()=>w,show:()=>f,stringToElement:()=>o,stringToElements:()=>a,toDomElement:()=>s.M,unhide:()=>p,waitUntilExistsInElement:()=>T});i(1057),i(6801),i(4043),i(7267),i(6265);var n=i(1611);var r=i(3081),s=i(7746);function o(e){return a(e)[0]}function a(e){let t=document.createElement("template");return t.insertAdjacentHTML("afterbegin",e.trim()),t.childNodes}function c(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document.body,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"append";const r=l(e);if("function"!=typeof t[i]&&(i="append"),null!=t[i])try{t[i](r)}catch(e){n.util.postError(e)}else n.util.postError(new Error("injectHtmlString Error: Invalid mode: ".concat(i," on target: ").concat(t," (").concat(e,")")))}function l(e){return document.createRange().createContextualFragment(e)}function u(e){return l(e)}function d(e){return u(e).firstElementChild}function h(e){const t=(0,s.M)(e),i=t.getAttribute("style");t.setAttribute("data-ntv-style-cache",i),t.setAttribute("style","\n    border: 0px;\n    vertical-align: bottom;\n    width: 0px !important;\n    height: 0px !important;\n    display: none !important;\n    visibility: hidden !important;\n  ".replace("\n"," ")),t.setAttribute("data-ntv-hidden","")}function p(e){const t=(0,s.M)(e),i=t.getAttribute("data-ntv-style-cache");i&&(t.removeAttribute("data-ntv-style-cache"),t.setAttribute("style",i),t.removeAttribute("data-ntv-hidden",""))}const f=p;function m(e,t){if(e||!t)try{const i=n.util.domQuery(e);if(!i)return void function(){console.error(arguments)}("bindClick() didn't find a valid element in the document for selector: \"".concat(e,'"'));i.addEventListener("click",()=>{n.util.appendImage(t)})}catch(e){n.util.postError(e)}}function v(e){let t=e.parentNode;if(null!=t.tagName&&"BODY"!==t.tagName&&null!=t)return t.clientHeight>0?t:v(t)}function g(e,t){if(e.complete)return void t();const i=()=>{t(),e.removeEventListener("load",i)};e.addEventListener("load",i)}function y(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document;const t=e instanceof Document?e:e.ownerDocument,i=t.documentElement;let n=t.body.scrollHeight,r=t.body.clientHeight,s=t.body.scrollTop||i.scrollTop;n===r&&(n=i.scrollHeight,r=i.clientHeight,s=i.scrollTop);const o=n-r,a=0!==o?s/o:0;return a}function b(e,t){let{blacklist:i=[],defaultStyles:n={}}=t;const r=n,s=e.style;for(const e of s)i.includes(e)||(r[e]=s.getPropertyValue(e));return r}function E(e,t){for(const i of Object.keys(t))e.style[i]=t[i]}function w(e){if(null==e||!e.children.length)return;const t=Array.from(e.children);t.sort(()=>Math.random()-.5),e.append(...t)}function T(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:12e3;if(null==t||null==t.querySelector)return Promise.reject(new Error("Element is not a valid DOM element"));const n=t.querySelector(e);return null!==n?Promise.resolve(n):new Promise((n,r)=>{const s=setTimeout(()=>{clearTimeout(s),r(new Error("Timed out waiting for element to exist: ".concat(e," in context: ").concat(t)))},i);new MutationObserver((i,r)=>{for(const o of i)if("childList"===o.type){const i=t.querySelector(e);null!==i&&(r.disconnect(),clearTimeout(s),n(i))}}).observe(t,{subtree:!0,childList:!0})})}function S(e,t){for(;e;){try{if(e instanceof Element&&e.matches(t))return e}catch(e){return null}e=e.parentNode||e.host}return null}function A(e){if(!e||"function"!=typeof e.getBoundingClientRect)return null;const t=e.getBoundingClientRect(),i=e.clientWidth||e.offsetWidth||t.width,n=e.clientHeight||e.offsetHeight||t.height;if(i<=0||n<=0){const t=window.getComputedStyle(e),i=parseFloat(t.width),n=parseFloat(t.height);return i>0&&n>0?new r.pw(i,n):new r.pw}return new r.pw(i,n)}},5438:(e,t,i)=>{"use strict";i.d(t,{Qg:()=>s,gF:()=>a,tT:()=>o,uj:()=>r});i(4043),i(7267),i(6532);var n=i(7746);function r(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document;const i=/(\.[\d\S]*|#\d\S*)/g,n=e=>{if(e.startsWith(".")){const t=e.substring(1);return'[class*="'.concat(t,'"]')}if(e.startsWith("#")){const t=e.substring(1);return'[id*="'.concat(t,'"]')}return e},r=e.replaceAll(i,e=>n(e));return t.querySelectorAll(r)}function s(e,t){if(t=t||document,"string"!=typeof e)return e;if(null==t||!t.querySelector)return null;try{return t.querySelector(e)}catch(i){return(0,n.M)(r(e,t))}}function o(e,t){if(t=t||document,"string"!=typeof e)return null!=e?[e]:[];if(!t.querySelectorAll)return[];try{return Array.from(t.querySelectorAll(e))}catch(i){return r(e,t)||[]}}function a(e,t,i){const n=o(e,t);n.length&&(1===n.length?i(n[0]):n.forEach(i))}},3783:(e,t,i)=>{"use strict";i.d(t,{H6:()=>n});i(1057),i(4043),i(6265),i(8730),i(9979),i(9307),i(8858),i(1318),i(3228);function n(e,t){let{root:i=document,targetElement:n=null}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=!(!i||11!==i.nodeType||!i.host);let s=null;try{s=r?i.querySelector("#".concat(e)):i.getElementById?i.getElementById(e):null}catch(t){s=r?i.querySelector("style#"+e):i.getElementById?i.getElementById(e):null}if(s)return s;const o=r?i.host.ownerDocument:i,a=o.createElement("style");if(a.id=e,a.type="text/css",a.textContent=t,n&&n.id&&a.setAttribute("data-ntv-target-id",n.id),r)i.appendChild(a);else{var c;((null===(c=i.getElementsByTagName)||void 0===c||null===(c=c.call(i,"head"))||void 0===c?void 0:c[0])||i.documentElement).appendChild(a)}return a}},8747:(e,t,i)=>{"use strict";i.d(t,{R:()=>c,qS:()=>l});var n=i(6101),r=i(970);i(1057),i(6265),i(8730),i(9979),i(9307),i(8858),i(1318),i(3228);function s(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class o{constructor(e){s(this,"config",void 0),s(this,"state",void 0),s(this,"setupTimeoutId",null),this.config={iframe:e.iframe,trackingUrl:e.trackingUrl,onIntervention:e.onIntervention||(()=>{}),timeout:e.timeout||5e3,retryAttempts:e.retryAttempts||3,debug:e.debug||!1},this.state={initialized:!1,disposed:!1,fired:!1,observer:null}}async initialize(){if(this.state.initialized||this.state.disposed)return;const e=this.config.iframe;if(e&&!e.getAttribute("src"))try{const t=e.contentWindow;if(!t||!t.ReportingObserver)return;const i=t.document;"loading"===i.readyState?i.addEventListener("DOMContentLoaded",()=>this.setupObserver(t),{once:!0}):this.setupObserver(t),e.setAttribute("ntv-haio",""),this.state.initialized=!0}catch(e){}}dispose(){this.state.disposed||(this.setupTimeoutId&&(clearTimeout(this.setupTimeoutId),this.setupTimeoutId=null),this.state.observer&&(this.state.observer.disconnect(),this.state.observer=null),this.state.disposed=!0)}setupObserver(e){if(!this.state.disposed&&!this.state.fired)try{const t=e.ReportingObserver;if(!t)return;this.state.observer=new t(e=>this.handleReports(e),{types:["intervention"],buffered:!0}),this.state.observer.observe(),this.setupTimeoutId=window.setTimeout(()=>{},this.config.timeout)}catch(e){}}handleReports(e){if(!this.state.fired&&!this.state.disposed)for(const t of e)if(this.isHeavyAdIntervention(t)){this.state.fired=!0,this.handleIntervention(t);break}}isHeavyAdIntervention(e){return"intervention"===e.type&&null!==e.body&&"object"==typeof e.body&&"id"in e.body&&"HeavyAdIntervention"===e.body.id}async handleIntervention(e){const t={interventionType:e.body.id,message:e.body.message,url:e.url,timestamp:Date.now(),userAgent:navigator.userAgent};try{this.config.onIntervention(e)}catch(e){}await this.sendTrackingRequest(t)}async sendTrackingRequest(e){const t=this.buildTrackingUrl(e);let i=0;for(;i<this.config.retryAttempts;)try{if(this.sendBeacon(t))return;return void await this.sendFetch(t)}catch(e){i++,i<this.config.retryAttempts&&await this.delay(100*Math.pow(2,i))}this.sendImagePixel(t)}buildTrackingUrl(e){const t=new URL(this.config.trackingUrl);return t.searchParams.set("ntv_intervention_type",e.interventionType),t.searchParams.set("ntv_intervention_msg",encodeURIComponent(e.message)),t.searchParams.set("ntv_intervention_url",encodeURIComponent(e.url)),t.searchParams.set("ntv_intervention_ts",e.timestamp.toString()),t.searchParams.set("_cb",Math.random().toString(36).substr(2,9)),t.toString()}sendBeacon(e){if(!navigator.sendBeacon)return!1;try{return navigator.sendBeacon(e)}catch(e){return!1}}async sendFetch(e){if(!fetch)throw new Error("fetch not available");const t=await fetch(e,{method:"GET",keepalive:!0,cache:"no-cache"});if(!t.ok)throw new Error("HTTP ".concat(t.status,": ").concat(t.statusText))}sendImagePixel(e){const t=new Image;t.onload=t.onerror=()=>{t.onload=t.onerror=null},t.src=e}delay(e){return new Promise(t=>setTimeout(t,e))}}var a=i(6937);function c(e,t,i){let r=e+(t!==a.Z9.ARTICLE?n.z1.HEAVY_AD_INTERVENTION_IFU:n.z1.HEAVY_AD_INTERVENTION);return i&&(r+="&".concat(n.z1.AVP,"=").concat(i)),r}function l(e,t){if(e&&!e.getAttribute("src")&&(0,r.i7)())try{const i=new o({iframe:e,trackingUrl:t,debug:!1});i.initialize().catch(()=>{}),e._ntvHeavyAdObserver&&e._ntvHeavyAdObserver.dispose(),e._ntvHeavyAdObserver=i}catch(e){}}},566:(e,t,i)=>{"use strict";i.d(t,{c:()=>o,z:()=>s});var n=i(7746),r=i(2505);function s(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window;try{return e&&e instanceof Window||(e=(0,n.k)(e)?e.ownerDocument.defaultView:window),e.self!==e.top}catch(e){return!0}}function o(){var e=null,t=(0,r.b3)();if(window!=t){var i=window;let r;for(;i.parent!==t&&(r=i.parent,i!==r);)i=r;t.ntv&&(ntv=t.ntv);for(var n=0;n<t.frames.length;n++)try{t.frames[n]==i&&(e=i.frameElement)}catch(e){}e&&(ntv.win=t)}return ntv.win=ntv.win||window,e}},9891:(e,t,i)=>{"use strict";i.d(t,{Ff:()=>u,Mj:()=>l,N3:()=>a,pE:()=>c,po:()=>o});i(6265);var n=i(1611),r=(i(4862),i(5573));const s=()=>{};class o{constructor(e){let{onThreshold:t,onAnyThreshold:i}=e;this.onThreshold="function"==typeof t?t:s,this.onAnyThreshold="function"==typeof i?i:s}}class a{constructor(e){this.targetOptions=new Map,this.observer=new IntersectionObserver(this.handleElementIntersection.bind(this),e)}handleElementIntersection(e,t){e.forEach(e=>{const t=this.targetOptions.get(e.target);t.onAnyThreshold(e,this),e.isIntersecting&&t.onThreshold(e,this)})}addTarget(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};n.util.isElement(e)&&(this.targetOptions.set(e,t),this.observer.observe(e))}removeTarget(e){n.util.isElement(e)&&(this.targetOptions.delete(e),this.observer.unobserve(e))}}class c extends a{constructor(){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"50% 0% 50% 0%";super(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{threshold:[.01],rootMargin:"200% 0% 200% 0%"}),this.groupingRange=e}}function l(){return null!=window.IntersectionObserver&&"function"==typeof window.IntersectionObserver}function u(e){const t=e.boundingClientRect,i=e.intersectionRect;return new r.$({visible:e.isIntersecting,totalArea:(n=t.width,s=t.height,n*s),ratioInView:e.intersectionRatio,xInView:i.width,yInView:i.height});var n,s}},4956:(e,t,i)=>{"use strict";i.d(t,{QP:()=>o,re:()=>r});var n=i(2505);function r(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"data";return s(e,(0,n.b3)())}function s(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"data",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window;t.ntvData=t.ntvData||{};const i=t.ntvData;return i[e]=i[e]||{},i[e]}function o(e,t){e&&function(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:window;i.ntvData=i.ntvData||{};const n=i.ntvData;n[e]=t}(e,t,(0,n.b3)())}},4651:(e,t,i)=>{"use strict";i.d(t,{h:()=>s});var n=i(1073),r=i(1171);function s(e){let t=new XMLHttpRequest;t.open(e.method,(0,n.k)(e.url),!0),"POST"==e.method&&t.setRequestHeader("Content-type",e.contentType),e.credentials&&(t.withCredentials=!0),t.onload=()=>{e.success&&e.success((0,r.uO)(t.responseText))},t.onerror=()=>{e.error&&e.error(t.error)},t.send(e.payload||null)}},1941:(e,t,i)=>{"use strict";i.d(t,{Hv:()=>o,HH:()=>c,ZP:()=>a});var n=i(1611),r=(i(1057),i(5573));function s(e){c.call(this,e),this.enabled=!0}(s.prototype=Object.create(c.prototype)).init=function(e){const{selector:t,id:i,handlers:n={}}=e;Object.keys(n).forEach(e=>{this.addHandler(i,e,n[e])}),this.startListening(t),this.ready=!0},s.prototype.startListening=function(e){if(!this.listening){this.initialSize={w:1,h:1};try{let t,i=n.util.getTopWindow().document;e&&(t=i.querySelector(e)),t||(t=i.documentElement);let r=n.util.getElementDimensions(t);this.initialSize.w=Math.max(this.initialSize.w,r.w),this.initialSize.h=Math.max(this.initialSize.h,r.h)}catch(e){}try{this.api.ext.register(this.initialSize.w,this.initialSize.h,(e,t)=>{if("geom-update"===e)for(const e in this.eventHandlers[o.size])this.eventHandlers[o.size][e]();if("focus-change"===e&&this.eventHandlers[o.focus])for(const e in this.eventHandlers[o.focus])this.eventHandlers[o.focus][e](this.api.ext.winHasFocus)})}catch(e){throw this.enabled=!1,this.listening=!1,this.ready=!1,this.eventHandlers={},Object.keys(o).forEach(e=>{this.eventHandlers[o[e]]={}}),new Error("SafeFrame API not fully supported (requires $sf.ext.register)")}this.listening=!0}},s.prototype.stopListening=function(){},s.prototype.getViewability=function(){return this.ready?(this.currentGeom=this.api.ext.geom().self,new r.$({visible:this.currentGeom.iv>0,ratioInView:this.currentGeom.iv,totalArea:this.currentGeom.w*this.currentGeom.h})):new r.$},s.prototype.getFocus=function(){if(this.ready)return $sf.winHasFocus};const o={size:"size-change",focus:"focus-change"};const a=e=>{if(!e||!n.util.isInIframe())return;const t={enabled:!0};return t.check=function(e){let t=0;return new Promise((i,r)=>{const s=()=>{let o=e.$sf||n.util.getTopWindow().$sf;o&&o.ext?i(o):(t+=50,t>300?r():setTimeout(s,50))};s()})}(e).then(e=>{let i=e.ext.getVersion?e.ext.getVersion():1;t.api=function(e,t){return 1===t?new s(e):void 0}(e,i)}).catch(()=>{}),t};function c(e){this.api=e,this.listening=!1,this.eventHandlers={},Object.keys(o).forEach(e=>{this.eventHandlers[o[e]]={}})}c.prototype.addHandler=function(e,t,i){e&&this.eventHandlers[t]&&(this.eventHandlers[t][e]=i)},c.prototype.removeHandlers=function(e){for(const t in this.eventHandlers)for(const i in this.eventHandlers[t])i===e&&delete this.eventHandlers[t][e]},c.prototype.startListening=function(e){},c.prototype.stopListening=function(){},c.prototype.getViewability=function(){},c.prototype.getFocus=function(){}},4315:(e,t,i)=>{"use strict";i.d(t,{dC:()=>n,k6:()=>r});i(6265);const n="ntv-shadow-content";function r(e,t){e.dispatchEvent(function(e){return new Event(e,{bubbles:!0,composed:!0})}(t))}},1498:(e,t,i)=>{"use strict";i.d(t,{_D:()=>s,lk:()=>o,v$:()=>n,ye:()=>r});i(8324),i(4043),i(7267),i(6532);function n(e){return e=(e=(e=(e=e.replaceAll('"',"\\u0022")).replaceAll("'","\\u0027")).replaceAll("<","\\u003c")).replaceAll(">","\\u003e")}function r(e){if(null==e)return"null";return JSON.stringify(e).replace(/\\\"/g,"'").replace(/\"/g,"'")}function s(e,t,i){return null==e||null==t||null==i||i<0?t:t.slice(0,i)+e+t.slice(i)}function o(e){return e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}},1611:(e,t,i)=>{"use strict";i.d(t,{DK:()=>R,util:()=>w,br:()=>k});i(1057),i(6801),i(560),i(278),i(2003),i(8518),i(4043),i(7267),i(6265),i(3650),i(8730),i(9979),i(9307),i(8858),i(1318),i(3228);var n=i(6101),r=i(2505),s=i(8258),o=i(4651),a=i(6410),c=i(4862),l=i(8477),u=i(5481);var d=i(1746),h=i(1171),p=i(1073),f=i(970),m=i(566),v=i(3742),g=i(5438);const y=[],b=window,E=(0,c.W)("settings"),w={getBaseUrl:function(){return w.getProtocol()+"//"+n.z1.JDOMAIN+"/trk.gif?"},is:function(){return this.translateType=function(e){switch(e){case"u":return"undefined";case"b":return"boolean";case"s":return"string";case"f":return"function";case"n":return"number";case"o":return"object";default:return"undefined"}},"string"==typeof arguments[0]?typeof arguments[1]==this.translateType(arguments[0]):arguments[0]instanceof arguments[1]},getProtocol:a.Ev,hasWebProtocol:e=>0===e.indexOf("http://")||0===e.indexOf("https://"),applyProtocolToUrl:function(e){if(0!=e.indexOf("http")){let t=w.getProtocol();0!=e.indexOf("//")&&(t+="//"),e=t+e}return e},isFirefox:f.vU,isChrome:f.i7,isEdge:f.un,runWithFirefoxIframeProtection:function(e,t,i){!function(){t();const n=s.toDomElement(e);i&&(n&&n.contentDocument&&"complete"===n.contentDocument.readyState?i():null==n||n.addEventListener("load",(function(){i()}),{once:!0}))}()},match:function(e,t){for(var i=0;i<t.length;i++)if(e.indexOf(t[i])>=0)return!0;return!1},getRandomInt:function(e,t){return Math.floor(Math.random()*((t||n.z1.MAX_INT32_VALUE)-(e||0)))+(e||0)},getNodePositionAndDimensions:function(e){let t=e.getBoundingClientRect(),i={top:t.top,right:t.right,bottom:t.bottom,left:t.left,width:t.width,height:t.height,x:t.x,y:t.y};return i.X=e.offsetLeft,i.Y=e.offsetTop,i},getElementDimensions:function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(e){var i=Math.floor,n=0,r=0;let s;("IMG"!=(e=e[0]?e[0]:e).nodeName||e.complete||"prx_disclaimer_iframe"==e.id)&&(n=e.hasAttribute("height")?e.getAttribute("height"):e.style.height||e.clientHeight||0,r=e.hasAttribute("width")?e.getAttribute("width"):e.style.width||e.clientWidth||0,"string"==typeof n&&(n=n.indexOf("%")>0?e.clientHeight:parseInt(n.replace(/\g/gi,""))),"string"==typeof r&&(r=r.indexOf("%")>0?e.clientWidth:parseInt(r.replace(/\g/gi,""))),n&&!isNaN(n)||(n=e.clientHeight),r&&!isNaN(r)||(r=e.clientWidth)),t&&"IMG"===e.nodeName&&(r=e.naturalWidth,n=e.naturalHeight);let o=()=>(s||(s=e.getBoundingClientRect()),s);return{w:i(r<0?o().width:r),h:i(n<0?o().height:n),aspectRatio:r/n}}(e)},setElementDimensions:function(e,t,i){if(null==e)return;if(null==t)return;e=s.toDomElement(e);const n=t.w||t.width,r=t.h||t.height;if(!(isNaN(n)||isNaN(r)||n<=1||r<=1)){var o=e.getAttribute("ntv-width"),a=e.getAttribute("ntv-height");r>0&&n>0&&(o||e.setAttribute("ntv-width",o=n),a||e.setAttribute("ntv-height",a=r));var c=i||o,l=a*c/o;(c!=n||l!=r&&c>0)&&(c+="px",e.style.height=l+="px",e.style.width=c)}},getScrollPos:function(e){let{window:t,document:{documentElement:i,body:n}}=window;return{top:Math.floor(t.pageYOffset?t.pageYOffset:i.scrollTop?i.scrollTop:n.scrollTop),left:Math.floor(t.pageXOffset?t.pageXOffset:i.scrollLeft?i.scrollLeft:n.scrollLeft),time:new Date,bottom:e?e.target.scrollingElement.scrollHeight==e.target.scrollingElement.offsetHeight+t.pageYOffset:null}},getSampleTimeArray:function(e){for(var t=[],i=0,n=0,r=0;r<e;)t.push(n+=2e3+90*i),i++,r+=n;return t},canExecute:function(e,t,i){return new Date-y["lastCheck"+t]<i?(0==y["missedCheck"+t]&&(y["missedCheck"+t]++,setTimeout(e,i)),!1):(y["lastCheck"+t]=new Date,y["missedCheck"+t]=0,!0)},appendImageUtil:r.Lx,decodeIfEncrypt:a.Me,appendImage:function(e,t,i,r){if(null!=e){const a=ntv.PostRelease;let c=!1,{decodedUrl:l}=w.decodeIfEncrypt(e);(e=l).indexOf(w.getServerDomain())>0&&!t&&(c=!0,e.indexOf(n.z1.PAGE_REF)<0&&document.referrer&&(e+="&"+n.z1.PAGE_REF+"="+encodeURIComponent(document.referrer)),a&&a.tout&&(e+="&"+n.z1.IS_TOUT));var s=function(e,t){var i="ntv_at="+t;return e.indexOf(i)>0&&(a.pageInventoryTracked||(a.pageInventoryTracked=!0,e=e.replace(i,i+",302"))),e};e=s(e,"46"),e=s(e,"303"),e=w.applyProtocolToUrl(e);var o=null;if(!a.firstPartyTracked&&c&&(o=function(){a.firstPartyTracked=!0}),t)return void ntv.Tracking.Record('<img src="'+e+'" />');w.appendImageUtil(e,()=>{null!=o&&o(),i&&i()},()=>{r&&r()})}},appendIframe:function(e,t){if(null==e||"string"!=typeof e)return;let i=document.createElement("iframe");i.src=e,i.addEventListener("load",()=>{i.parentElement.removeChild(i),t()}),document.body.appendChild(i)},removeElementFromArray:v.s,copyProperties:function(e,t){for(var i in e)"function"!=typeof e[i]&&(t[i]=e[i])},isNotValidHeadlineLink:function(e){var t=e.getAttribute("class");return-1==(t=t||"").indexOf("prx_viewable_title")&&-1==t.indexOf("ntv-headline-anchor")||"#"==e.getAttribute("href")||!e.getAttribute("href")},encryptUrl:a.bl,decryptUrl:a.yt,overrideAndEncodeRequest:function(e,t,i){var r=t.indexOf(e),s=t.substring(r+e.length+1),o="";return i?o=n.z1.ASSETS_PREFIX:s=w.encryptUrl(s),t.substring(0,r)+o+w.adBlockerDomain+"/"+s},adBlockerValidation:p.k,appendScript:function(e,t,i,n,r){const s=(n=n||document).getElementsByTagName("head")[0]||n.documentElement;return w.appendScriptToContext(e,s,{id:i,doc:n,onReadyEvent:t,isSafeTracking:r})},appendScriptToContext(e,t,i){if(!(e&&this.is("s",e)&&t&&t.appendChild))return;const{id:n,doc:r=document,onReadyEvent:s,isSafeTracking:o}=i,a=w.domQuery("#".concat(n),t);if(a)return s(a),a;let{decodedUrl:c,isDecoded:l,domain:u}=w.decodeIfEncrypt(e);c=w.applyProtocolToUrl(c);var d=r.createElement("script");return d.type="text/javascript",d.src=w.adBlockerValidation(c,l,u),n&&(d.id=n),null!=s&&(d.readyState?d.onreadystatechange=function(){"complete"!=r.readyState&&"loaded"!=r.readyState||s(d)}:d.onload=function(){s(d)}),o||t.appendChild(d),d},getServerDomain:function(){return w.adBlocker&&w.adBlockerDomain!==window.location.hostname?w.adBlockerDomain:n.z1.JDOMAIN},buildImageResizerStyle(e,t,i,n,r){let s="";if(i>0&&(s+="w_"+Math.round(i)+","),n>0&&(s+="h_"+Math.round(n)+","),t)switch(t){case"crop":s+="c_fill";break;case"max":s+="c_fit";break;case"padding":case"pad":s+="c_pad"}return r&&(s+=",g_auto:text"),s+=",f_auto",e.toLowerCase().indexOf(".gif")<0&&(s+=",e_sharpen:80"),e.toLowerCase().indexOf(".png")>0&&(s+=",fl_lossy"),s},scaleToDeviceRatio:function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return e=window.devicePixelRatio?e*window.devicePixelRatio:e,e=t?Math.round(e):e},applyImageResizer:function(e,t,i,r,s){if(i=this.scaleToDeviceRatio(i)||i,r=this.scaleToDeviceRatio(r)||r,w.adBlocker&&ntv.PostRelease.setting.isEdge){let o="nativo-inc-res.cloudinary.com/image/upload/"+w.buildImageResizerStyle(e,t,i,r,s)+"/assets",{decodedUrl:a}=w.decodeIfEncrypt(e);if(-1==a.indexOf("assets.postrelease.com")&&-1==a.indexOf(n.z1.ASSETS_DOMAIN))return a;let c=a.replace(n.z1.ASSETS_DOMAIN,o).replace(/(,,)/gi,",");return w.getProtocol()+"//"+w.adBlockerDomain+"/"+w.encryptUrl("proxyImage/"+c,!0)}{let n="ntvcld-a.akamaihd.net/image/upload/"+w.buildImageResizerStyle(e,t,i,r,s)+"/assets";return this.applyResizerUrlReplacement(e,n).replace(/(,,)/gi,",")}},applyImageResizerFlashTalking:function(e,t,i,n,r){if(i=this.scaleToDeviceRatio(i)||i,n=this.scaleToDeviceRatio(n)||n,w.adBlocker&&ntv.PostRelease.setting.isEdge){let s="//nativo-inc-res.cloudinary.com/image/fetch/"+w.buildImageResizerStyle(e,t,i,n,r),{decodedUrl:o}=w.decodeIfEncrypt(e),a=s+"/"+encodeURIComponent(o);return w.getProtocol()+"//"+w.adBlockerDomain+"/"+w.encryptUrl("proxyImage/"+a,!0)}{let s="//ntvcld-a.akamaihd.net/image/fetch/"+w.buildImageResizerStyle(e,t,i,n,r);return w.getProtocol()+s+"/"+encodeURIComponent(e)}},applyResizerUrlReplacement(e,t){let i;return i=e.replace("assets.postrelease.com",t),i!=e?i:(i=e.replace(n.z1.ASSETS_DOMAIN_DEV,t),i!=e?(i=i.replace("/assets/","/devassets/"),i):e.replace(n.z1.ASSETS_DOMAIN,t))},isAndroidTablet:function(){return navigator.userAgent.match(/Android/i)&&!navigator.userAgent.match(/Mobile/i)},isAndroidPhone:function(){return navigator.userAgent.match(/Android/i)&&navigator.userAgent.match(/Mobile/i)},isiOS:function(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream},isMobile:function(){return w.isiOS()||w.isAndroidTablet()},createIframe:function(e,t,i){var n=document.createElement("iframe");return n.id=e,n.width="100%",n.height="100%",n.style.border="0",n.style.backgroundColor="white",n.style.zIndex="9999",t&&(n.src=t,n.onload=i),n},ntvExtends:function(e,t){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},ntvAppendScript:function(e,t,i,n){return w.appendScript(e,t,i,n)},ntvAppendPixelImage:function(e){return w.appendImage(e)},ntvAppendStylesheet:function(e,t,i,n){return w.appendStylesheet(e,t,i,n)},appendStylesheet:function(e,t,i,n){const r=(i=i||document).getElementsByTagName&&i.getElementsByTagName("head")[0]||i.documentElement||i;return w.appendStylesheetToContext(t,r,{id:e,onComplete:n})},appendStylesheetToContext(e,t,i){if(!(e&&this.is("s",e)&&t&&t.appendChild))return;const{id:n,onComplete:r=(()=>{}),doc:s=document}=i,o=w.domQuery("#".concat(n),t);if(o)return o;e=w.applyProtocolToUrl(e),e=w.adBlockerValidation(e);var a=s.createElement("link");return a.type="text/css",a.rel="stylesheet",a.href=e,n&&(a.id=n),a.addEventListener("load",()=>{r(a)},{once:!0}),t.appendChild(a),a},ntvApplyImageResizer:function(e){return w.applyImageResizer(e)},ntvjQueryInit:function(e){e()},ntvXDomainRequest:function(e){var t;(t=window.XDomainRequest?new window.XDomainRequest:window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP")).open("GET",e,!1),t.send()},ntvRegexEscape:function(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")},ntvTrim:function(e){return e.replace(/^\s+|\s+$/gm,"")},ntvHexToRgb:function(e){e=e.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,(function(e,t,i,n){return t+t+i+i+n+n}));var t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t?{r:parseInt(t[1],16),g:parseInt(t[2],16),b:parseInt(t[3],16)}:null},ntvInitOnFocusTracking:r.zN,getCookie:r.ej,setCookie:r.d8,setURLCache:function(){return"&ord="+this.getURLCacheSearchKVP().ord},getURLCacheSearchKVP:function(){return{ord:(new Date).getTime()}},isMatchingDomains:function(e,t){return e.indexOf(t)>-1||t.indexOf(e)>-1},removeQueryParam(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(!t||!e)return e;let i=/(=)(.*)/gi,n=e.match(t.replace(i,""));if(null!==n)switch(""===e.charAt(n.index+1)||"&"===e.charAt(n.index+1)){case!0:e.replace(t,"");break;default:let n=e.split("?");n[1]=n[1].split("&").filter(e=>!e.match(t.replace(i,""))).join("&"),e=n.join("?")}return e},generateWhitelistQueryString(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i=arguments.length>2?arguments[2]:void 0;if(!e||!t)return e;let n=/(\?)/.test(e)||/(\#)/.test(e);return t.split(",").forEach(t=>{e=w.removeQueryParam(e,t)}),e=e.concat(n?"&":"?").concat(t.split(",").map((e,t,n)=>e.concat("=").concat(encodeURIComponent(i)).concat(t<n.length-1?"&":"")).join("")),e},replaceQueryParams(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return e&&t?-1==e.indexOf("?")?e.concat("?").concat(t):(t.split("&").forEach(t=>{e=w.removeQueryParam(e,t)}),e.concat(t?"&"+t:"")):e},filterScripts:function(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!(e instanceof Array&&e.length&&t))return!!i.returnObject&&[];var n=document.createElement("div"),r=0,s=["script","iframe"],o=!1,a=/^((http(s*)(:))*)(\/\/)([^\/]*)/i,c=[];n.innerHTML=t;do{if(s.indexOf(n.children[r].tagName.toLowerCase())>-1&&n.children[r].src)e:for(var l=0;l<e.length;l++)if(a.test(n.children[r].src)){if(a.lastIndex=0,w.isMatchingDomains(a.exec(n.children[r].src)[6],e[l].domain||e[l])){w.appendScript(n.children[r].src),a.lastIndex=0,o=!0,c.push({domain:e[l].domain||e[l],domainPosition:l,scriptPosition:r,thirdPartyScript:n.children[r]});break e}a.lastIndex=0}}while(++r<n.children.length);return n=null,i.returnObject?c:o},parseThirdPartyTrackingInfo:function(e,t){return t&&(e=decodeURIComponent(e)),/^((http(s*)(:))*)(\/\/)([^\/]*)/i.test(e)?{type:"url",value:e}:{type:"node",value:e}},appendThirdPartyTracking:function(e,t,i){const n=w.parseThirdPartyTrackingInfo(e,t);return"node"===n.type?w.adBlocker?function(e,t){let i=convertStringToNodes(e),n=[];i.forEach(e=>{n.push(C(e,document.location.hostName))}),n.forEach(e=>{try{S(e,t)}catch(e){}})}(n.value,i):S(n.value,i):w.appendImage((e=>e.replace("[timestamp]",+new Date))(n.value)),n},handleThirdPartyTracking:function(e,t){let i=[],n=e.isFlashTalking;if(e.length&&!w.is("s",e))for(var r=0;r<e.length;r++)i.push(w.appendThirdPartyTracking(e[r],n,t));else i.push(w.appendThirdPartyTracking(e,n,t));return i},getTopWindow:r.b3,wrap:function(e,t){e.parentNode.insertBefore(t,e),t.appendChild(e)},removeVideoSourceFromHTML:function(e){let t=document.createElement("span");t.innerHTML=e;const i=t.getElementsByTagName("video")[0];return i.removeAttribute("src"),i.removeAttribute("type"),i.innerHTML="",t.innerHTML},generateUniqueId:r.lY,isEmptyVideoTracking:function(e){return w.is("u",e.videoTracking.map)||w.is("o",e.videoTracking.map)&&!Object.keys(e.videoTracking.map).length},generateVideo:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];const n=3e4,r=ntv.Video,s=r.Manager,o=w.generateUniqueId();if(e.iframeBody=e.vastAsMainSource?w.removeVideoSourceFromHTML(e.iframeBody):e.iframeBody,e.videoTracking.baseTrackingUrl=e.baseTrackingUrl,e.videoTracking.adVersionPlacement=e.adVersionPlacement,e.videoTracking.adID=e.adID,e.videoTracking.placementID=e.placementID,e.renderingParams.videoNodeId=e.renderingParams.videoNodeId||"ntvVideo",!w.isEmptyVideoTracking(e))for(let t=0,n=i.length;t<n;t++)i[t](o,e.videoTracking);const a=new s(o,e,t);return new Promise((e,t)=>{const i=setTimeout(()=>{t(new Error("Video initialization timeout after 30 seconds"))},n);a.privateEvent.subscribeOnce(ntv.Events.Types.Player.Publish.General.PLAYER_READY,t=>{clearTimeout(i),e(a)}),a.privateEvent.subscribeOnce(ntv.Events.Types.Player.Publish.General.PLAYER_ERROR,e=>{clearTimeout(i),t(e)})})},trackReplacedNodeViewableImpression(e){let t,i;if("function"==typeof window.MutationObserver){t=new MutationObserver((function(t){t.forEach(t=>{"childList"==t.type&&(!t.removedNodes.length&&t.addedNodes.length?i=t.addedNodes[0]:t.removedNodes.length&&-1!=Array.prototype.slice.apply(t.removedNodes).indexOf(e.selector)?(e.selector=t.addedNodes.length?t.addedNodes[0]:i,ntv.PostRelease["tracker"+e.placementID]||(ntv.PostRelease["tracker"+e.placementID]=new ntvViewableImpressionTracker(e))):i&&t.removedNodes.length&&-1!=Array.prototype.slice.apply(t.removedNodes).indexOf(i)&&(e.selector=t.addedNodes.length?t.addedNodes[0]:t.nextElementSibling,ntv.PostRelease["tracker"+e.placementID]||(ntv.PostRelease["tracker"+e.placementID]=new ntvViewableImpressionTracker(e))))})})),t.observe(e.selector.parentElement,{childList:!0}),setTimeout(()=>{t.disconnect()},2e3)}return ntv.PostRelease["tracker"+e.placementID]||(ntv.PostRelease["tracker"+e.placementID]=new ntvViewableImpressionTracker(e)),ntv.PostRelease["tracker"+e.placementID]},keyValuePairGenerator(){let e=[];return function(t,i){if(!w.is("s",t)||!w.is("s",i))return encodeURI(e.join(";"));e.push(t.trim()+"*"+i.trim())}},ajax:o.h,getKeyValuePairsFromMetaTags(){const e=Array.prototype.slice.apply(document.head.querySelectorAll('meta[name="ntv-kv"]'));if(!e.length)return!1;const t=w.keyValuePairGenerator();return e.forEach((e,i,n)=>{const r=e.hasAttribute("ntv-key"),s=r?"ntv-values":"values";t(e.getAttribute(r?"ntv-key":"key"),e.getAttribute(s))}),t()},getKeyValuePairsFromConfig(){if(void 0===b.ntvConfig||!w.is("o",b.ntvConfig)||!w.is("o",b.ntvConfig.keyValues)||!Object.keys(b.ntvConfig.keyValues).length)return!1;const e=b.ntvConfig.keyValues,t=w.keyValuePairGenerator();for(let i in e)t(i,e[i]);return t()},getKeyValuePairs(){let e=this.getKeyValuePairsFromConfig(),t=this.getKeyValuePairsFromMetaTags();return e?t&&(e+=";"+t):e=t,e},isPublisherLoadedInTopWindow(){try{return!(window.self!=window.top||!window.top.document)}catch(e){return!1}},getNodeArea(e){if(w.is("u",e))return 0;let t=window.getComputedStyle(e);return t.width.replace("px","")*t.height.replace("px","")},findLargestChild(e){let t,i=Array.prototype.slice.apply(e.children),n=0,r=w.getNodeArea;if(!i.length||!w.is("f",window.getComputedStyle))return e;do{r(i[n])>0&&r(i[n])>r(t)&&(t=i[n])}while(++n<i.length);return t||e},checkIfExistAndAppendQS:(e,t)=>e?"&"+t+"="+encodeURIComponent(e):"",debounce:r.Ds,filterOutNodesFromString(e,t){const i=document.createDocumentFragment();return i.appendChild(document.createElement("div")),i.childNodes[0].innerHTML=e.replace(/(<img)/gi,"<no-img"),Array.prototype.slice.apply(i.childNodes[0].querySelectorAll(t)).map(e=>e.outerHTML)},filterOutImpressions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",n=w.filterOutNodesFromString(t,"script,iframe"),r=0;return w.filterScripts(e,t,{returnObject:!0,selector:i}).forEach(e=>{n.splice(e.scriptPosition-r++,1)}),t=n.join(""),t},trackImpressionsInViewability(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return e.length&&t.length?(t instanceof Array?t.forEach((t,n,r)=>{r[n]=w.filterOutImpressions(e,t,i)}):t=w.filterOutImpressions(e,t,i),t):t},getQS(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:w.applyProtocolToUrl(window.location.href),n=arguments.length>3?arguments[3]:void 0;e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var r=n?new RegExp("[\\?&]"+e+"=([^&#]*)","g"):new RegExp("[\\?&]"+e+"=([^&#]*)");let s;if(n){let e;for(;e=r.exec(i);)s=e}else s=r.exec(i);return null==s?t:s[1]},fowardQS(e){var t=w.getQS(e);return""!=t?"&"+e+"="+t:""},removeQueryKeyValuePairs(e,t){e="string"==typeof e?[e]:e;const i=w.qetQueryStringParams(t);return e.forEach(e=>{i.params[e]&&delete i.params[e]}),w.buildQueryStringFromKeyValuePairs(i.params,i.base)},qetQueryStringParams(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.location.href,t={base:"",params:{}};if(!e)return t;const i=e.indexOf("?");if(-1===i)return t.base=e,t;const n=e.substring(0,i);t.base=n;const r=e.substring(i+1),s={};let o,a,c,l;const u=e=>{e&&0!==e.length&&(o=e.indexOf("="),-1!==o&&(a=e.substring(0,o),e=e.substring(o+1),c=e.indexOf("&"),l=e.indexOf("?"),-1===c||c>0&&l>0&&l<c?s[a]=e:(s[a]=e.substring(0,c),u(e.substring(c+1)))))};return u(r),t.params=s,t},buildQueryStringFromKeyValuePairs(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i=Object.keys(e);return i.length?i.reduce((t,i,n)=>(t+=0===n?"":"&")+"".concat(i,"=").concat(e[i]),"".concat(t,"?")):t},modifyQSParamValues(e,t,i){if(!e||!t&&!i)return;Array.isArray(t)||(t=[t]),Array.isArray(i)||(i=[i]);let n=e.split("=")[1].split(",");return i&&(n=n.filter(e=>!i.includes(Number(e))),t=t.filter(e=>!i.includes(Number(e)))),[...n,...t]},stripLeadingCharacters(e,t){if(w.is("s",e)&&0!==e.length)return t&&e[0]!==t?e:e.substring(1)},getUrlVars(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"ntv_",t={};const i=window.location;t.hash=i.hash.substring(1);let n=new URLSearchParams(i.search);for(let i of n.entries())i[0].startsWith(e)&&(t[i[0]]=i[1]);return t},ampModeHandler:e=>!(!e||void 0===window.context.noContentAvailable)&&(window.context.noContentAvailable(),!0),breakOutIframe:m.c,getWindow:e=>e?e.ownerDocument?e.ownerDocument.defaultView:e.defaultView?e.defaultView:e.constructor===Window?e:window:window,windowOpen(e,t){(0,l.eO)()?window.mraid.open(e):(0,r.b3)().open(e,t||"_self")},stepUpWindowContext(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window;try{return e=this.getWindow(e),this.stepUpContext(e)}catch(t){return{context:e,success:!1}}},stepUpContext(e){try{const t=e.parent;return{context:t,success:e!==t}}catch(t){return{context:e,success:!1}}},getContainingIframe(e){var t;if(!e||!w.isElement(e))return;if(w.resolveIframeType(e)!==n.z1.IFRAME_TYPES.FRIENDLY)return;return(null==e||null===(t=e.ownerDocument)||void 0===t||null===(t=t.defaultView)||void 0===t?void 0:t.frameElement)||e},isInIframe:m.z,isInFriendlyIframe(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window;try{if(e&&e instanceof Window||(e=e instanceof Node?e.ownerDocument.defaultView:window),e.self===e.top)return!1;const t=e.parent.document,i=e.top.location.href,n=t.cookie;return null!==t.domain&&null!==i&&void 0!==n}catch(e){return!1}},resolveIframeType(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window;try{return e&&e instanceof Window||(e=e instanceof Node?e.ownerDocument.defaultView:window),e.self===e.top?n.z1.IFRAME_TYPES.NONE:w.isInFriendlyIframe(e)?n.z1.IFRAME_TYPES.FRIENDLY:n.z1.IFRAME_TYPES.SAFE_NO_API}catch(e){return n.z1.IFRAME_TYPES.SAFE_NO_API}},isInSafeIframe(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window;const t=w.resolveIframeType(e);return t===n.z1.IFRAME_TYPES.SAFE_NO_API||t===n.z1.IFRAME_TYPES.SAFE_W_API},removeSubDomains(){var e=document.domain.split("."),t=e.length;return e[t-2]+"."+e[t-1]},delayPostError:function(e,t,i){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:5e3;const r=(0,c.W)("delayedErrorTimeouts"),s=setTimeout(()=>{u.Z.postError(t,i),this.removeDelayedPostError(e)},n);r.set(e,s)},removeDelayedPostError:function(e){const t=(0,c.W)("delayedErrorTimeouts");t.has(e)&&(clearTimeout(t.get(e)),t.remove(e))},postErrorMsg:u.Z.postErrorMsg,postError:(e,t)=>{"string"!=typeof e?u.Z.postError(e,t):u.Z.postErrorMsg(e,void 0,t)},setTimeout(e,t){for(var i=arguments.length,n=new Array(i>2?i-2:0),r=2;r<i;r++)n[r-2]=arguments[r];setTimeout(()=>{try{e.apply(null,n)}catch(e){w.postError(e)}},t)},compose(e){var t=Array.prototype.slice.apply(arguments),i=t.length-1,n=e;if(1===t.length&&!w.is("f",e))return n;do{n=t[i](n)}while(i-- >0);return n},getElementOffset(e){for(var t={top:e.offsetTop,left:e.offsetLeft,width:e.offsetWidth,height:e.offsetHeight};e.offsetParent;)t.top+=(e=e.offsetParent).offsetTop,t.left+=e.offsetLeft;return t},buildExperimentUrl:(e,t)=>e?(t?"":"&")+n.z1.EXPERIMENT+"="+e:"",parseCascadeValue(e,t){let i=t.reduce((e,t)=>e[t]?e[t]:{undefined:!0},e);return"object"==typeof i&&i.undefined?null:i},getVideoSelectorName:()=>w.adBlocker?n.z1.VIDEO_ID_EDGE_SELECTOR:n.z1.VIDEO_ID_SELECTOR,getPrefix:()=>w.adBlocker?n.z1.EDGE_PREFIX:n.z1.NTV_PREFIX,attachFirstPartyCookieQS:e=>e?"&ntv_fpc="+e:"",onDOMContentLoaded(e){"loading"===document.readyState?document.addEventListener("DOMContentLoaded",e):e()},isOnFocus:r.wL,setOnFocus:r.jn,onFocusEvents:r.es,rewriteAdBlockedAssets:function(){if(w.adBlocker){let e=new URL(w.applyProtocolToUrl(w.adBlockerDomain)).hostname;const t=Object.getOwnPropertyDescriptor(Image.prototype,"src");Object.defineProperty(Image.prototype,"src",{set:function(i){try{i.startsWith("//")&&(i="https:"+i);let n=new URL(i).hostname;n.indexOf(e)>-1||i.indexOf("data:")>=0?t.set.call(this,[i]):t.set.call(this,[w.adBlockerValidation(i,!0,n)])}catch(e){t.set.call(this,[i])}}});const i=Element.prototype.appendChild;Element.prototype.appendChild=function(){let t=[...arguments];return t[0]=C(t[0],e),i.apply(this,t)}}},insertMacrosIntoString:(e,t)=>(Object.keys(t).forEach(i=>{e=e.replace(i,t[i])}),e),extractDomain:function(e){if(null==e||""===e.trim())return;let t;t=e.indexOf("://")>-1?e.split("/")[2]:e.split("/")[0];t.indexOf("www.")>-1&&(t=t.split("www.")[1]);return t=t.split(":")[0],t=t.split("?")[0],t},queryAllChildren:function(e,t){const i=[];return e.forEach(e=>{i.push(...Array.from(e.querySelectorAll(t)))}),i},loadFontFromBase64(e,t){const i=new FontFace(e,"url(".concat(t,")"),{style:"normal",weight:"normal"});document.fonts.add(i);try{window.top.document.fonts.add(i)}catch{}i.load().then(()=>{},e=>{console.error(e)})},stripHtmlTags:e=>e&&e.replace?e.replace(/<(\/?[a-zA-Z0-9]*)\b[^>]*>/gi,""):e,decodeHtmlEntity:e=>e=(e=e.replace(/&#(\d+);/g,(function(e,t){return String.fromCharCode(t)}))).replace(/&(\w+);/g,(function(e,t){return T[t]||"&".concat(t,";")})),getOverflowDimensions(e){const t=s.getFirstNonZeroHeightAncestor(e);return this.getElementDimensions(null!=t&&t.clientHeight<e.clientHeight?t:e)},fallbackQuery:g.uj,domQuery:g.Qg,domQueryAll:g.tT,domQueryUp(e,t){t=t||document;const i=this.domQuery(e,t);if(!i){const n=this.stepUpWindowContext(t);if(n.success)try{return this.domQueryUp(e,n.context.document)}catch(e){return i}}return i},domQueryUpAll(e,t){t=t||document;const i=this.domQueryAll(e,t);if(0===i.length){const n=this.stepUpWindowContext(t);if(n.success)try{return this.domQueryUpAll(e,n.context.document)}catch(e){return i}}return i},domQueryAction:g.gF,injectQueryResults(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return Array.isArray(t)||(t=[t]),this.hasIterationProtocol(e)?t.push(...e):t.push(e)},hasIterationProtocol:e=>null!==e&&Symbol.iterator in Object(e),isSimilarDOMContext(e,t){if(e===t)return!0;let i;try{if(i=e.compareDocumentPosition(t),i&Node.DOCUMENT_POSITION_CONTAINED_BY)return!0}catch(e){}try{if(i=t.compareDocumentPosition(e),i&Node.DOCUMENT_POSITION_CONTAINS)return!0}catch(e){}return!1},firePubSubEvent(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];ntv.events.trigger(e,t),i&&ntv.Events&&ntv.Events.PubSub.publish(e,t)},retryQuery(e,t){let i,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:document,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:50,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1e4,o=0;return new Promise((a,c)=>{const l=()=>{"string"==typeof e?n instanceof Document?i=n[e](t):document[e](t,n):i=e(t,n),(e=>!!e&&(!!(e.length&&e.length>0)||!!w.isElement(e)))(i)?a(i):(o+=r,o>s?c():setTimeout(l,r))};l()})},removeDuplicates(e){try{return[...new Set(e)]}catch(t){return e.filter((function(e,t,i){return i.indexOf(e)==t}))}},getActionTypesFromURL(e){if(!e||!this.is("s",e))return[];const t=e.match(/(ntv_at=)(\d*\,?)*/);return t?t[2].split(","):[]},doesArrayContainElements:(e,t)=>e.some(e=>t.indexOf(e)>=0),runWhenDOMIsReady(e){const t=()=>"complete"===document.readyState||"interactive"===document.readyState;t()?e():document.addEventListener("readystatechange",()=>{t()&&e()})},keysToLowercase(e){let t;Object.keys(e).forEach(i=>{t=i.charAt(0).toLowerCase(),i.length>1&&(t+=i.slice(1)),i!==t&&(e[t]=e[i],delete e[i])})},generateClickRedirect(e){if(null==e)return"";const t=w.qetQueryStringParams(e);t.params.hasOwnProperty(n.z1.QUERY_PARAM_KEYS.REDIRECT)&&delete t.params[n.z1.QUERY_PARAM_KEYS.REDIRECT];let i=w.buildQueryStringFromKeyValuePairs(t.params,t.base);return-1===t.base.indexOf(n.z1.QUERY_PARAM_KEYS.REDIRECT)&&(Object.keys(t.params).length>0&&(i+="&"),i+="".concat(n.z1.QUERY_PARAM_KEYS.REDIRECT,"=")),i},generateVideoSourcesFromData(e){if(!e)return;const t={type:"@type",src:"@src"};let i="";return Object.values(e).forEach(e=>{let n='<source src="@src" type="@type"></source>\n';Object.keys(t).forEach(i=>{e[i]&&(n=n.replace(t[i],e[i]))}),i+=n}),i},pick:h.ei,getDesignBlock:e=>null==e?void 0:e.closest(n.z1.BLOCK_QUERY_SELECTOR),mergeObjectsWithTypeComparisions(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};for(var i=arguments.length,n=new Array(i>2?i-2:0),r=2;r<i;r++)n[r-2]=arguments[r];return n.forEach(i=>{Object.entries(i).forEach(i=>{const[n,r]=i;if(!e[n])return e[n]=r;const s=typeof e[n],o=t[s];if(s===typeof r&&o)return e[n]=o(e[n],r);e[n]=r},{})}),e},mergeDefined(e){e&&"object"==typeof e||(e={});const t={...e};for(var i=arguments.length,n=new Array(i>1?i-1:0),r=1;r<i;r++)n[r-1]=arguments[r];return n.forEach(e=>{e&&"object"==typeof e&&Object.keys(e).forEach(i=>{void 0!==e[i]&&(t[i]=e[i])})}),t},getBoundingSize(e,t){if(!e||!e.nodeType||1!==e.nodeType)return 0;const i=e.getBoundingClientRect();return Math.floor(i[t])},getBoundingWidth(e){return this.getBoundingSize(e,"width")},getBoundingHeight(e){return this.getBoundingSize(e,"height")},isInShadow(e){let t=e;for(;t;){if(t instanceof ShadowRoot)return!0;t=t.parentNode||t.host}return!1}};Object.defineProperty(w,"adBlocker",{enumerable:!1,configurable:!1,get:function(){return E.get("adBlocker")}}),Object.defineProperty(w,"adBlockerDomain",{enumerable:!1,configurable:!1,get:function(){return E.get("adBlockerDomain")}}),Object.assign(w,s);const T={quot:'"',apos:"'",amp:"&",lt:"<",gt:">",nbsp:"\t",iexcl:"",cent:"",pound:"",curren:"",yen:"",brvbar:"",sect:"",uml:"",copy:"",ordf:"",laquo:"",not:"",shy:"-",reg:"",macr:"",deg:"",plusmn:"",sup2:"",sup3:"",acute:"",micro:"",para:"",middot:"",cedil:"",sup1:"",ordm:"",raquo:"",frac14:"",frac12:"",frac34:"",iquest:"",times:"",divide:""};function S(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document;const i=P(t);Array.isArray(e)?A(e,i):"string"!=typeof e?i.appendChild(e):I(e,i)}function A(e,t){e.forEach(e=>t.appendChild(e))}function I(e,t){t.appendChild(s.createScriptEvaluatingFragmentFromHTMLString(e))}function P(e){if(!e)return w.domQuery("head");if("NTV-DIV"===e.nodeName)return e;try{let t=e.querySelector("ntv-div")||e.querySelector("head");if(t)return t}catch(e){}return w.domQuery("head")}function C(e,t){if(e&&e.src){let i=new URL(e.src);if(-1===i.hostname.indexOf(t)&&-1===i.toString().indexOf("javascript:false")&&-1===i.toString().indexOf("about:blank")){let i=w.adBlockerValidation(e.src,!0,t);try{e.setAttribute("src",i)}catch(e){}}}if(e.children)for(let i in e.children)C(i,t);return e}function k(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document.body;return new Promise(i=>{if(t.querySelector(e))return i(t.querySelector(e));const n=new MutationObserver(r=>{t.querySelector(e)&&(i(t.querySelector(e)),n.disconnect())});n.observe(t,{childList:!0,subtree:!0})})}function R(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500;return new Promise((r,s)=>{if(t.hasOwnProperty(e))return void r(t[e]);let o=0;const a=setInterval(()=>{t.hasOwnProperty(e)&&(clearInterval(a),r(t[e])),o+=i,o>n&&(clearInterval(a),s("API [".concat(e,"] didn't load in time")))},i)})}w.clientUtils={generateAdPlacementId:d.l},b.ntvjQueryInit=w.ntvjQueryInit,b.ntvExtends=w.ntvExtends,b.ntvAppendStylesheet=w.ntvAppendStylesheet,b.ntvAppendScript=w.ntvAppendScript}},r={};function s(e){var t=r[e];if(void 0!==t)return t.exports;var i=r[e]={exports:{}};return n[e].call(i.exports,i,i.exports,s),i.exports}s.m=n,s.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return s.d(t,{a:t}),t},t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,s.t=function(i,n){if(1&n&&(i=this(i)),8&n)return i;if("object"==typeof i&&i){if(4&n&&i.__esModule)return i;if(16&n&&"function"==typeof i.then)return i}var r=Object.create(null);s.r(r);var o={};e=e||[null,t({}),t([]),t(t)];for(var a=2&n&&i;"object"==typeof a&&!~e.indexOf(a);a=t(a))Object.getOwnPropertyNames(a).forEach(e=>o[e]=()=>i[e]);return o.default=()=>i,s.d(r,o),r},s.d=(e,t)=>{for(var i in t)s.o(t,i)&&!s.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},s.f={},s.e=e=>Promise.all(Object.keys(s.f).reduce((t,i)=>(s.f[i](e,t),t),[])),s.u=e=>"chunks/"+(117===e?"logger-controls":e)+"."+{117:"1eac40bb",969:"823f4d4a"}[e]+".js",s.miniCssF=e=>{},s.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),s.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),i={},s.l=(e,t,n,r)=>{if(i[e])i[e].push(t);else{var o,a;if(void 0!==n)for(var c=document.getElementsByTagName("script"),l=0;l<c.length;l++){var u=c[l];if(u.getAttribute("src")==e||u.getAttribute("data-webpack")=="adserverclient:"+n){o=u;break}}o||(a=!0,(o=document.createElement("script")).charset="utf-8",o.timeout=120,s.nc&&o.setAttribute("nonce",s.nc),o.setAttribute("data-webpack","adserverclient:"+n),o.src=e),i[e]=[t];var d=(t,n)=>{o.onerror=o.onload=null,clearTimeout(h);var r=i[e];if(delete i[e],o.parentNode&&o.parentNode.removeChild(o),r&&r.forEach(e=>e(n)),t)return t(n)},h=setTimeout(d.bind(null,void 0,{type:"timeout",target:o}),12e4);o.onerror=d.bind(null,o.onerror),o.onload=d.bind(null,o.onload),a&&document.head.appendChild(o)}},s.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.p="//s.ntv.io/serve/",(()=>{var e={711:0};s.f.j=(t,i)=>{var n=s.o(e,t)?e[t]:void 0;if(0!==n)if(n)i.push(n[2]);else{var r=new Promise((i,r)=>n=e[t]=[i,r]);i.push(n[2]=r);var o=s.p+s.u(t),a=new Error;s.l(o,i=>{if(s.o(e,t)&&(0!==(n=e[t])&&(e[t]=void 0),n)){var r=i&&("load"===i.type?"missing":i.type),o=i&&i.target&&i.target.src;a.message="Loading chunk "+t+" failed.\n("+r+": "+o+")",a.name="ChunkLoadError",a.type=r,a.request=o,n[1](a)}},"chunk-"+t,t)}};var t=(t,i)=>{var n,r,o=i[0],a=i[1],c=i[2],l=0;if(o.some(t=>0!==e[t])){for(n in a)s.o(a,n)&&(s.m[n]=a[n]);if(c)c(s)}for(t&&t(i);l<o.length;l++)s.o(e,r=o[l])&&e[r]&&e[r][0](),e[r]=0},i=self.webpackChunkadserverclient=self.webpackChunkadserverclient||[];i.forEach(t.bind(null,0)),i.push=t.bind(null,i.push.bind(i))})(),s(561);s(7717)})();