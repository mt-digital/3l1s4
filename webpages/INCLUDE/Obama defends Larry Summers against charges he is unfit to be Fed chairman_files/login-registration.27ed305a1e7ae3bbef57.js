/*! For license information please see login-registration.27ed305a1e7ae3bbef57.js.LICENSE.txt */
!function(){"use strict";var t={34:function(t,e,n){var r=n(4901);t.exports=function(t){return"object"==typeof t?null!==t:r(t)}},81:function(t,e,n){var r=n(9565),o=n(9306),i=n(8551),a=n(6823),s=n(851),c=TypeError;t.exports=function(t,e){var n=arguments.length<2?s(t):e;if(o(n))return i(r(n,t));throw new c(a(t)+" is not iterable")}},283:function(t,e,n){var r=n(9504),o=n(9039),i=n(4901),a=n(9297),s=n(3724),c=n(350).CONFIGURABLE,u=n(3706),l=n(1181),f=l.enforce,d=l.get,p=String,h=Object.defineProperty,g=r("".slice),m=r("".replace),E=r([].join),y=s&&!o(function(){return 8!==h(function(){},"length",{value:8}).length}),_=String(String).split("String"),T=t.exports=function(t,e,n){"Symbol("===g(p(e),0,7)&&(e="["+m(p(e),/^Symbol\(([^)]*)\).*$/,"$1")+"]"),n&&n.getter&&(e="get "+e),n&&n.setter&&(e="set "+e),(!a(t,"name")||c&&t.name!==e)&&(s?h(t,"name",{value:e,configurable:!0}):t.name=e),y&&n&&a(n,"arity")&&t.length!==n.arity&&h(t,"length",{value:n.arity});try{n&&a(n,"constructor")&&n.constructor?s&&h(t,"prototype",{writable:!1}):t.prototype&&(t.prototype=void 0)}catch(t){}var r=f(t);return a(r,"source")||(r.source=E(_,"string"==typeof e?e:"")),t};Function.prototype.toString=T(function(){return i(this)&&d(this).source||u(this)},"toString")},350:function(t,e,n){var r=n(3724),o=n(9297),i=Function.prototype,a=r&&Object.getOwnPropertyDescriptor,s=o(i,"name"),c=s&&"something"===function(){}.name,u=s&&(!r||r&&a(i,"name").configurable);t.exports={EXISTS:s,PROPER:c,CONFIGURABLE:u}},397:function(t,e,n){var r=n(7751);t.exports=r("document","documentElement")},421:function(t){t.exports={}},616:function(t,e,n){var r=n(9039);t.exports=!r(function(){var t=function(){}.bind();return"function"!=typeof t||t.hasOwnProperty("prototype")})},655:function(t,e,n){var r=n(6955),o=String;t.exports=function(t){if("Symbol"===r(t))throw new TypeError("Cannot convert a Symbol value to a string");return o(t)}},679:function(t,e,n){var r=n(1625),o=TypeError;t.exports=function(t,e){if(r(e,t))return t;throw new o("Incorrect invocation")}},741:function(t){var e=Math.ceil,n=Math.floor;t.exports=Math.trunc||function(t){var r=+t;return(r>0?n:e)(r)}},757:function(t,e,n){var r=n(7751),o=n(4901),i=n(1625),a=n(7040),s=Object;t.exports=a?function(t){return"symbol"==typeof t}:function(t){var e=r("Symbol");return o(e)&&i(e.prototype,s(t))}},851:function(t,e,n){var r=n(6955),o=n(5966),i=n(4117),a=n(6269),s=n(8227)("iterator");t.exports=function(t){if(!i(t))return o(t,s)||o(t,"@@iterator")||a[r(t)]}},944:function(t){var e=TypeError;t.exports=function(t){var n=t&&t.alphabet;if(void 0===n||"base64"===n||"base64url"===n)return n||"base64";throw new e("Incorrect `alphabet` option")}},1072:function(t,e,n){var r=n(1828),o=n(8727);t.exports=Object.keys||function(t){return r(t,o)}},1108:function(t,e,n){var r=n(6955);t.exports=function(t){var e=r(t);return"BigInt64Array"===e||"BigUint64Array"===e}},1148:function(t,e,n){var r=n(6518),o=n(9565),i=n(2652),a=n(9306),s=n(8551),c=n(1767),u=n(9539),l=n(4549)("every",TypeError);r({target:"Iterator",proto:!0,real:!0,forced:l},{every:function(t){s(this);try{a(t)}catch(t){u(this,"throw",t)}if(l)return o(l,this,t);var e=c(this),n=0;return!i(e,function(e,r){if(!t(e,n++))return r()},{IS_RECORD:!0,INTERRUPTED:!0}).stopped}})},1181:function(t,e,n){var r,o,i,a=n(8622),s=n(4576),c=n(34),u=n(6699),l=n(9297),f=n(7629),d=n(6119),p=n(421),h="Object already initialized",g=s.TypeError,m=s.WeakMap;if(a||f.state){var E=f.state||(f.state=new m);E.get=E.get,E.has=E.has,E.set=E.set,r=function(t,e){if(E.has(t))throw new g(h);return e.facade=t,E.set(t,e),e},o=function(t){return E.get(t)||{}},i=function(t){return E.has(t)}}else{var y=d("state");p[y]=!0,r=function(t,e){if(l(t,y))throw new g(h);return e.facade=t,u(t,y,e),e},o=function(t){return l(t,y)?t[y]:{}},i=function(t){return l(t,y)}}t.exports={set:r,get:o,has:i,enforce:function(t){return i(t)?o(t):r(t,{})},getterFor:function(t){return function(e){var n;if(!c(e)||(n=o(e)).type!==t)throw new g("Incompatible receiver, "+t+" required");return n}}}},1291:function(t,e,n){var r=n(741);t.exports=function(t){var e=+t;return e!=e||0===e?0:r(e)}},1548:function(t,e,n){var r=n(4576),o=n(9039),i=n(9519),a=n(4215),s=r.structuredClone;t.exports=!!s&&!o(function(){if("DENO"===a&&i>92||"NODE"===a&&i>94||"BROWSER"===a&&i>97)return!1;var t=new ArrayBuffer(8),e=s(t,{transfer:[t]});return 0!==t.byteLength||8!==e.byteLength})},1549:function(t,e,n){var r=n(6518),o=n(4576),i=n(9143),a=n(4154),s=o.Uint8Array,c=!s||!s.prototype.setFromBase64||!function(){var t=new s([255,255,255,255,255]);try{return void t.setFromBase64("",null)}catch(t){}try{t.setFromBase64("MjYyZg===")}catch(e){return 50===t[0]&&54===t[1]&&50===t[2]&&255===t[3]&&255===t[4]}}();s&&r({target:"Uint8Array",proto:!0,forced:c},{setFromBase64:function(t){a(this);var e=i(t,arguments.length>1?arguments[1]:void 0,this,this.length);return{read:e.read,written:e.written}}})},1577:function(t,e,n){n.d(e,{P:function(){return r},q:function(){return o}});const r={API_KEY:window.login_registration?.lr_api_key||"",APP_NAME:window.login_registration?.lr_sdk_app_name||"nexstar",APP_TO_APP_KEY:window.login_registration?.app_to_app_key||"",VALIDATE_LOGIN_DELAY:1e3*(window.login_registration?.validate_login_delay||60),VALIDATE_LOGIN_STORAGE_KEY:window.login_registration?.validate_login_storage_key||"lr_validate_session_timestamp",ACCOUNT_PAGE_PATH:"/account/",BLOCKS:{SIGN_UP_FORM:{SELECTOR:".wp-block-login-registration-sign-up-form"}},CLASSES:{ERROR_FOCUS:"error-focus",ERROR_MESSAGE:"error-message",MENU_ITEM_HAS_CHILDREN:"menu-item-has-children",MENU_ITEM_TOGGLE:"menu-item__toggle"},COOKIE_EXPIRY_DAYS:window.login_registration?.cookie_expiry_days||90,COOKIE_NAME:window.login_registration?.cookie_name||"lr_access_token",REFRESH_TOKEN_DAYS_BEFORE_EXPIRY:window.login_registration?.refresh_token_days_before_expiry||7,REFRESH_TOKEN_ENABLED:window.login_registration?.refresh_token_enabled??!0,DEBUG_MODE:window.login_registration?.debug_mode||!1,ELEMENTS:{ACCOUNT_DETAILS_FORM:"account-details-form",ACCOUNT_SUB_MENUS:"lr-dropdown-menu",ACCOUNT_TEXT:"lr-login-text",ACCOUNT_UID:"account_uid",ACCESS_TOKEN:"access_token",CANCEL_ACCOUNT_BUTTONS:"lr-cancel-account-button",CANCEL_BUTTON:"lr-cancel",CANCEL_DELETE_BUTTON:"lr-cancel-delete",CITY:"city",DELETE_ACCESS_TOKEN:"delete_access_token",DELETE_ACCOUNT_BUTTON:"lr-delete-account-button",DELETE_ACCOUNT_MODAL:"lr-delete-account-modal",DELETE_ACCOUNT_VERIFICATION_FORM:"delete_account_verification_form",LOGIN_FORM:"email-validation-form",EMAIL_FORM_BUTTON:"email-form-next-button",EMAIL_INPUT:"login-registration-check-email-field",EMAIL_VALIDATION_ERROR:"email-validation-error",FIRST_NAME:"first_name",FORM_MESSAGES:"form-messages",INDUSTRY:"industry",JOB_LEVEL:"job_level",JOB_TITLE:"job_title",LOGGED_IN_ELEMENTS:"lr-logged-in-element",SIGNUP_BUTTON_CLASS:"lr-signup-button-main",JOIN_ACCOUNT_BUTTON_CLASS:"lr-join-my-account-main",LAST_NAME:"last_name",LOGIN_BUTTONS:"lr-login-button",LOGOUT_BUTTON:"lr-logout-confirm",LOGOUT_MODAL_BUTTONS:"lr-logout-button",PROFILE_LINKS:"lr-profile-link",REMEMBER_ME_CHECKBOX:"lr-remember-me",RESET_BUTTON:"lr-reset",STATE:"state",STEP_CHECK_EMAIL:"login-registration-check-email",STEP_LOGIN:"login-registration-check-login",STEP_LOGOUT:"login-registration-check-logout",STEP_REGISTER:"login-registration-check-registered",STEP_SIGN_UP:"login-registration-signup",USER_EMAIL:"user_email",PROFILENAME:"profilename",ZIP_CODE:"zip_code"},HOME_URL:window.login_registration?.home_url||"/",LOGIN_PAGE_PATH:"/login/",MAGIC_LINK_TYPE:window.login_registration?.magic_link_type||"passwordlesslogin",MODAL_STEPS:{ACCOUNT_CREATED:"account-created",CHECK_EMAIL:"check-email",SIGN_UP:"sign-up",SHOW_LOGOUT_POPUP:"show-logout-popup"},SSO_ENABLED:window.login_registration?.sso_enabled||!1,SSO_LOGIN_URL:window.login_registration?.sso_login_url||"https://my.nexstar.tv/ssologin/login",SSO_SET_TOKEN_URL:window.login_registration?.sso_set_token_url||"https://my.nexstar.tv/ssologin/setToken",VALIDATION_TIMEOUT:window.login_registration?.validation_timeout||100,SOCIAL_LOGIN:{BUTTONS_TEMPLATE_NAME:window.login_registration?.social_login?.buttons_template_name||"lrsocialbuttons_tmpl",INTERFACE_CONTAINER_SELECTOR:window.login_registration?.social_login?.interface_container_selector||"lr-social-buttons-container",ERROR_CONTAINER_SELECTOR:window.login_registration?.social_login?.error_container_selector||"lr-social-error-container",POPUP:{WIDTH:window.login_registration?.social_login?.popup_width||"450",HEIGHT:window.login_registration?.social_login?.popup_height||"600",POSITION:window.login_registration?.social_login?.popup_position||"center"}}},o={BLUECONIC_WALL_FORM_SUBMITTED:"blueconicWallFormSubmitted",LOGOUT_CALLBACKS:"nexstar/login-registration/logout-callbacks",LOGIN_REGISTRATION_STATUS:"nexstar/login-registration/status",START_LOGIN_PROCESS:"nexstar/login-registration/start-login-process"}},1625:function(t,e,n){var r=n(9504);t.exports=r({}.isPrototypeOf)},1767:function(t){t.exports=function(t){return{iterator:t,next:t.next,done:!1}}},1828:function(t,e,n){var r=n(9504),o=n(9297),i=n(5397),a=n(9617).indexOf,s=n(421),c=r([].push);t.exports=function(t,e){var n,r=i(t),u=0,l=[];for(n in r)!o(s,n)&&o(r,n)&&c(l,n);for(;e.length>u;)o(r,n=e[u++])&&(~a(l,n)||c(l,n));return l}},2106:function(t,e,n){var r=n(283),o=n(4913);t.exports=function(t,e,n){return n.get&&r(n.get,e,{getter:!0}),n.set&&r(n.set,e,{setter:!0}),o.f(t,e,n)}},2140:function(t,e,n){var r={};r[n(8227)("toStringTag")]="z",t.exports="[object z]"===String(r)},2195:function(t,e,n){var r=n(9504),o=r({}.toString),i=r("".slice);t.exports=function(t){return i(o(t),8,-1)}},2211:function(t,e,n){var r=n(9039);t.exports=!r(function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype})},2303:function(t,e,n){var r=n(4576),o=n(9504),i=r.Uint8Array,a=r.SyntaxError,s=r.parseInt,c=Math.min,u=/[^\da-f]/i,l=o(u.exec),f=o("".slice);t.exports=function(t,e){var n=t.length;if(n%2!=0)throw new a("String should be an even number of characters");for(var r=e?c(e.length,n/2):n/2,o=e||new i(r),d=0,p=0;p<r;){var h=f(t,d,d+=2);if(l(u,h))throw new a("String should only contain hex characters");o[p++]=s(h,16)}return{bytes:o,read:d}}},2360:function(t,e,n){var r,o=n(8551),i=n(6801),a=n(8727),s=n(421),c=n(397),u=n(4055),l=n(6119),f="prototype",d="script",p=l("IE_PROTO"),h=function(){},g=function(t){return"<"+d+">"+t+"</"+d+">"},m=function(t){t.write(g("")),t.close();var e=t.parentWindow.Object;return t=null,e},E=function(){try{r=new ActiveXObject("htmlfile")}catch(t){}var t,e,n;E="undefined"!=typeof document?document.domain&&r?m(r):(e=u("iframe"),n="java"+d+":",e.style.display="none",c.appendChild(e),e.src=String(n),(t=e.contentWindow.document).open(),t.write(g("document.F=Object")),t.close(),t.F):m(r);for(var o=a.length;o--;)delete E[f][a[o]];return E()};s[p]=!0,t.exports=Object.create||function(t,e){var n;return null!==t?(h[f]=o(t),n=new h,h[f]=null,n[p]=t):n=E(),void 0===e?n:i.f(n,e)}},2587:function(t,e,n){n.d(e,{M:function(){return c}}),n(6573),n(8100),n(7936),n(8111),n(1148),n(7588),n(9577),n(8335),n(1549),n(9797),n(9631),n(5623),n(4603),n(7566),n(8721);var r=n(3174),o=n(6834),i=n(1577),a=n(5160),s=n(9418);class c{currentTransactionId=null;constructor(t,e,n){this.globalConfig=t,this.LoginRadiusSDKIntegration=n,this.elements=e,this.currentTransactionId=c.generateUUID(),this.setupActionsDispatcher(),this.migrateOldCookieIfNeeded();const r=(0,o.yx)();this.setupSignUpButton(r),this.addBcWallFormListener(),this.setupResetButton(),this.setupCancelButton(),this.setupLogoutListeners(),this.setupCancelAccountButtons(r),this.setupLoggedInOnlyElements(r),this.initializeLoginStartListeners()}migrateOldCookieIfNeeded(){const t=(0,o.Ri)("lr_data");if(void 0!==t&&""!==t)try{const e=JSON.parse(t);"object"==typeof e&&e.access_token&&e.account_uid&&((0,o.Sq)(e.access_token,e.account_uid),document.cookie="lr_data=;expires=Thu, 01 Jan 1970 00:00:01 GMT;path=/",(0,o.$d)())}catch(t){}}setupLogoutListeners(){this.elements.logoutModalButtons.forEach(t=>{t instanceof HTMLElement&&t.addEventListener("click",t=>{t.preventDefault(),!1===(0,o.ZI)()||this.LoginRadiusSDKIntegration.isSafari()?this.LoginRadiusSDKIntegration.logOutAllSites():this.displayLoginModal(i.P.MODAL_STEPS.SHOW_LOGOUT_POPUP)})}),!0!==(0,o.ZI)()||this.LoginRadiusSDKIntegration.isSafari()||this.elements.logoutButton.addEventListener("click",t=>{t.preventDefault(),this.elements.rememberMeCheckbox?.checked?this.LoginRadiusSDKIntegration.logOutAllSites():this.LoginRadiusSDKIntegration.logOutSingleSite()})}hideElements(t){t.forEach(t=>{t.hidden=!0})}showElements(t){t.forEach(t=>{t.hidden=!1})}setupSignUpButton(t){const e=document.querySelectorAll(`.${i.P.ELEMENTS.SIGNUP_BUTTON_CLASS}`),n=document.querySelectorAll(`.${i.P.ELEMENTS.JOIN_ACCOUNT_BUTTON_CLASS}`);if(this.hideElements(e),this.hideElements(n),t)return this.showElements(n),void(this.elements&&this.updateAccountMenu(!0));this.showElements(e),this.elements&&this.updateAccountMenu(!1),e.forEach(t=>{t instanceof HTMLElement&&t.addEventListener("click",t=>{t.preventDefault(),window.PersistentEvents.emit("nexstar/login-registration/signup/modal/open",{})})})}setupResetButton(){window.addEventListener("click",t=>{const e=t.target.closest(`.${i.P.ELEMENTS.RESET_BUTTON}`);if(!e)return;t.preventDefault();const n=e.closest(".lr-login-wrapper");window.PersistentEvents.emit("nexstar/login-registration/form/reset",{mainWrapper:n,uxOrigin:"modal"}),this.displayLoginModal(i.P.MODAL_STEPS.SIGN_UP)})}resetFormHandler(t,e){this.LoginRadiusSDKIntegration.resetEmailForm(t);const n=a._P.SIGNUP_TRY_ANOTHER_EMAIL;n.uxOrigin=e,window.PersistentEvents.emit(a.XV.DISPATCH_ANALYTICS_EVENT,n)}setupCancelButton(){window.addEventListener("click",t=>{const e=t.target.closest(`.${i.P.ELEMENTS.CANCEL_BUTTON}`);e&&(t.preventDefault(),window.PersistentEvents.emit("nexstar/login-registration/signup/modal/cancel",{cancelButton:e}))})}cancelLoginModal(t){const e=t.closest("form");t.classList.contains("lr-close-modal")||(this.elements.stepLogout.hidden?window.PersistentEvents.emit(a.XV.DISPATCH_ANALYTICS_EVENT,a._P.MODAL_SIGNUP_CANCEL):window.PersistentEvents.emit(a.XV.DISPATCH_ANALYTICS_EVENT,a._P.MODAL_LOGOUT_CANCEL),this.LoginRadiusSDKIntegration.resetEmailForm(e)),this.displayLoginModal(null)}setupLoggedInOnlyElements(t){t?this.showElements(this.elements.loggedInElements):this.hideElements(this.elements.loggedInElements)}setupCancelAccountButtons(t){if(t){const t=`${i.P.ACCOUNT_PAGE_PATH}?nxs-auth-cancel-account&nxs-auth-delete-source=footer-link`;this.elements.cancelAccountButtons.forEach(e=>{e instanceof HTMLAnchorElement&&(e.href=s.A.sanitize(t))})}}updateAccountMenu(t){if(!this.elements)return;const{accountSubMenus:e,accountLinks:n,profileLinks:r,loginButtons:a}=this.elements;if(t){const t=(0,o.qt)()||"",c=`${i.P.ACCOUNT_PAGE_PATH}?account_uid=${encodeURIComponent(t)}`;return n.forEach(t=>{t instanceof HTMLAnchorElement&&(t.href=s.A.sanitize(c),t.hidden=!1)}),r.forEach(t=>{t instanceof HTMLAnchorElement&&(t.href=s.A.sanitize(c))}),e.forEach(t=>{t.hidden=!1}),void a.forEach(t=>{t.classList.add(i.P.CLASSES.MENU_ITEM_HAS_CHILDREN)})}e.forEach(t=>{t.hidden=!0}),a.forEach(t=>{t.classList.remove(i.P.CLASSES.MENU_ITEM_HAS_CHILDREN)})}displayLoginModal(t){if([this.elements.stepSignUp,this.elements.stepCheckEmail,this.elements.stepRegister,this.elements.stepLogin,this.elements.stepLogout].forEach(t=>{t&&(t.hidden=!0)}),null!==t){if(document.body.classList.add("lr-signup-modal-opened"),i.P.MODAL_STEPS.SIGN_UP===t){this.elements.stepSignUp.hidden=!1;const t=this.elements.stepSignUp.querySelector("form");this.LoginRadiusSDKIntegration.resetEmailForm(t),window.PersistentEvents.emit(a.XV.DISPATCH_ANALYTICS_EVENT,a._P.SIGNUP_START)}i.P.MODAL_STEPS.CHECK_EMAIL===t&&(this.elements.stepCheckEmail.hidden=!1),i.P.MODAL_STEPS.ACCOUNT_CREATED===t&&(this.elements.stepRegister.hidden=!1,setTimeout(()=>{this.elements.stepRegister.hidden=!0},3e3)),i.P.MODAL_STEPS.SHOW_LOGOUT_POPUP===t&&(this.elements.stepLogout.hidden=!1)}else document.body.classList.remove("lr-signup-modal-opened")}static dispatchUserLoginStatusEvent(t,e={},n){const r=t?{logged_in:!0,cookie_data:e,event_id:n}:{logged_in:!1,message:"User is not logged in",event_id:n};window.PersistentEvents?.emit(i.q.LOGIN_REGISTRATION_STATUS,r)}addBcWallFormListener(){window.PersistentEvents.getData(i.q.BLUECONIC_WALL_FORM_SUBMITTED,0).then(t=>{if(Array.isArray(t)&&t.length>0){const e=t[t.length-1];this.addBcWallFormEventHandler(e)}}).finally(()=>{window.PersistentEvents.addListener(i.q.BLUECONIC_WALL_FORM_SUBMITTED,async t=>{this.addBcWallFormEventHandler(await t)})})}addBcWallFormEventHandler(t){const{email:e}=t;if(this.displayLoginModal(i.P.MODAL_STEPS.SIGN_UP),!e)return void console.error("blueconicWallFormSubmitted event missing email in payload");const n=this.elements.emailInput;if(n&&(n.value=e,!n.checkValidity())){const t=this.elements.emailValidationError;return void(t&&(t.textContent="There was an error with the email address. Please try again.",t.hidden=!1))}this.LoginRadiusSDKIntegration.checkOrCreateAccount(e,"start-site-process",this.currentTransactionId,"modal")}static findLoginRegistrationElements(){const t=document.querySelectorAll(`.${i.P.ELEMENTS.LOGIN_BUTTONS}`),e=document.getElementById(i.P.ELEMENTS.STEP_SIGN_UP),n=document.getElementById(i.P.ELEMENTS.STEP_CHECK_EMAIL),r=document.getElementById(i.P.ELEMENTS.STEP_REGISTER),o=document.getElementById(i.P.ELEMENTS.STEP_LOGOUT),a=document.getElementById(i.P.ELEMENTS.LOGOUT_BUTTON);if(!(0!==t.length&&Array.from(t).every(t=>t instanceof HTMLElement)&&e instanceof HTMLElement&&n instanceof HTMLElement&&r instanceof HTMLElement&&o instanceof HTMLElement&&a instanceof HTMLElement))return null;const s=document.querySelectorAll(`.${i.P.ELEMENTS.LOGOUT_MODAL_BUTTONS}`),c=document.querySelectorAll(`.${i.P.ELEMENTS.CANCEL_ACCOUNT_BUTTONS}`),u=document.querySelectorAll(`.${i.P.ELEMENTS.LOGIN_BUTTONS} .${i.P.CLASSES.MENU_ITEM_TOGGLE}`),l=document.getElementById(i.P.ELEMENTS.STEP_LOGIN),f=document.getElementById(i.P.ELEMENTS.REMEMBER_ME_CHECKBOX),d=document.querySelectorAll(`.${i.P.ELEMENTS.JOIN_ACCOUNT_BUTTON_CLASS}`),p=document.querySelectorAll(`.${i.P.ELEMENTS.ACCOUNT_SUB_MENUS}`),h=document.querySelectorAll(`.${i.P.ELEMENTS.PROFILE_LINKS}`),g=document.getElementById(i.P.ELEMENTS.EMAIL_INPUT),m=document.getElementById(i.P.ELEMENTS.EMAIL_VALIDATION_ERROR),E=document.querySelectorAll(`.${i.P.ELEMENTS.LOGGED_IN_ELEMENTS}`);return{loginButtons:t,logoutModalButtons:s,subMenuToggleButtons:u,stepCheckEmail:n,stepRegister:r,stepSignUp:e,stepLogin:l,stepLogout:o,logoutButton:a,rememberMeCheckbox:f instanceof HTMLInputElement?f:null,accountLinks:d,accountSubMenus:p,profileLinks:h,emailInput:g instanceof HTMLInputElement?g:null,emailValidationError:m instanceof HTMLElement?m:null,cancelAccountButtons:c,loggedInElements:E}}setupActionsDispatcher(){const t=new URLSearchParams(window.location.search),e=t.get("nxs-auth-action")??null,n=t.get("nxs-auth-type")??null,r=t.get("nxs-auth-code")??null,o=t.get("nxs-auth-vcode")??null,s=t.get("nxs-auth-from-key")??null,c=t.get("nxs-auth-transid")??null,u=t.get("nxs-auth-redir")??null;if("login"===n)return this.displayLoginModal(i.P.MODAL_STEPS.SIGN_UP),void window.PersistentEvents.emit(a.XV.DISPATCH_ANALYTICS_EVENT,a._P.MODAL_SIGNUP_START_URL_PARAM);if(e)this.handleCTVQRFirstStep(e,n,s,c);else if(o&&s)switch(s){case"SITE":default:this.handleSiteLoginVerification(o,u);break;case"CTV-LINK":this.handleCTVLinkVerification(r,o,u);break;case"MOBILE-LINK":this.handleMobileLinkVerification(r,o,u);break;case"CTV-QR":this.handleCTVQRVerification(r,o,u)}}async handleSiteLoginVerification(t,e){if(console.log("LR DEBUG: Handling site login verification with authVCode:",t,"and authRedir:",e),t)try{const n=await this.LoginRadiusSDKIntegration.handleMagicLinkVerification(t,e||void 0);if(n){const{accessToken:t,accountUid:i}=n;await this.LoginRadiusSDKIntegration.onLoginSuccess(t,i),this.setupSignUpButton(!0),c.dispatchUserLoginStatusEvent(!0,{access_token:t,account_uid:i},this.currentTransactionId),(0,o.ZI)()&&!this.LoginRadiusSDKIntegration.isSafari()&&await this.LoginRadiusSDKIntegration.sendAccessToken(t).catch(t=>{console.error("SSO token sending failed:",t)});const s=r.M.getParamValueFromUrl("nxs-auth-ux-origin");sessionStorage.setItem("nexstar/login-registration/analytics/queue",JSON.stringify([{...a._P.FORM_MAGIC_LINK_CONFIRMATION,uxOrigin:s,registrationVendor:"LoginRadius"},{...a._P.USER_LOGGED_IN,uxOrigin:s,registrationVendor:"LoginRadius"}])),(0,o.My)(e)}else(0,o.My)(e)}catch(t){console.error("Site login verification failed:",t),(0,o.My)(e)}else(0,o.My)(e)}async handleCTVQRFirstStep(t,e,n,r){if("login"!==t)return;if("code"!==e)return;if(!["CTV-QR"].includes(n))return;this.displayLoginModal(i.P.MODAL_STEPS.SIGN_UP);const o=document.getElementById(i.P.ELEMENTS.EMAIL_INPUT);if(!(o instanceof HTMLInputElement))return;const a=o.form;a instanceof HTMLFormElement&&(a.removeEventListener("submit",this.LoginRadiusSDKIntegration.boundFormSubmitHandler),a.addEventListener("submit",this.CTVQRFormSubmitHandler.bind(this,this.LoginRadiusSDKIntegration,r)))}async CTVQRFormSubmitHandler(t,e,n){n.preventDefault();const r=document.getElementById(i.P.ELEMENTS.EMAIL_VALIDATION_ERROR);if(!(r instanceof HTMLDivElement))return;const s=document.getElementById(i.P.ELEMENTS.EMAIL_INPUT);s instanceof HTMLInputElement&&(r.hidden=!0,s.checkValidity()?(0,o.ZI)()&&!t.isSafari()&&await t.trySSOLoginByEmail(s.value.trim())||(await t.checkOrCreateAccount(s.value.trim(),"start-process",e,"modal"),window.PersistentEvents.emit(a.XV.DISPATCH_ANALYTICS_EVENT,a._P.FORM_SIGNUP_SENT)):r.hidden=!1)}async handleCTVQRVerification(t,e,n){this.handleExternalAppVerification("CTV-QR",t,e,n)}handleMobileLinkVerification(t,e,n){this.handleExternalAppVerification("MOBILE-LINK",t,e,n)}handleCTVLinkVerification(t,e,n){this.handleExternalAppVerification("CTV-LINK",t,e,n)}async handleExternalAppVerification(t,e,n,i){const{appToAppKey:s,apiKey:u}=this.LoginRadiusSDKIntegration.apiKeys;if(s&&u&&e)if(n)try{const l=await this.LoginRadiusSDKIntegration.handleMagicLinkVerification(n,i||void 0);if(l){const{accessToken:n,refreshToken:i,accountUid:f}=l;await this.LoginRadiusSDKIntegration.onLoginSuccess(n,f),this.setupSignUpButton(!0),c.dispatchUserLoginStatusEvent(!0,{access_token:n,account_uid:f},this.currentTransactionId),(0,o.ZI)()&&!this.LoginRadiusSDKIntegration.isSafari()&&await this.LoginRadiusSDKIntegration.sendAccessToken(n).catch(t=>{console.error("SSO token sending failed:",t)});const d=this.LoginRadiusSDKIntegration.restURLs?.["device/validate"];if(!d)return;const p={user_code:e,access_token:n,refresh_token:i,"nxs-auth-key":s,"nxs-auth-vendor-key":u},h=await fetch(d,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(p)}),g=await h.json();if(!h.ok)return void(0,o.fB)(this.globalConfig?.login_response_message_page_path,"invalidAuth");if(!0===g?.validated){const e=r.M.getParamValueFromUrl("nxs-auth-ux-origin");sessionStorage.setItem("nexstar/login-registration/analytics/queue",JSON.stringify([{...a._P.FORM_MAGIC_LINK_CONFIRMATION,uxOrigin:e,registrationVendor:"LoginRadius"},{...a._P.USER_LOGGED_IN,uxOrigin:e,registrationVendor:"LoginRadius"}])),(0,o.fB)(this.globalConfig?.login_response_message_page_path,t)}else(0,o.fB)(this.globalConfig?.login_response_message_page_path,"invalidAuth")}else(0,o.My)(i)}catch(t){console.error("Site login verification failed:",t),(0,o.My)(i)}else(0,o.My)(i);else(0,o.My)(i)}initializeLoginStartListeners(){window.PersistentEvents.getData(i.q.START_LOGIN_PROCESS,0).then(t=>{if(Array.isArray(t)&&t.length>0){const e=t[t.length-1];this.loginStartProcessEventHandler(e)}}).finally(()=>{window.PersistentEvents.addListener(i.q.START_LOGIN_PROCESS,async t=>{this.loginStartProcessEventHandler(await t)})})}loginStartProcessEventHandler(t){this.displayLoginModal(i.P.MODAL_STEPS.SIGN_UP),window.PersistentEvents.emit(a.XV.DISPATCH_ANALYTICS_EVENT,{...a._P.MODAL_SIGNUP_START,...t})}async callStartProcessApi(t,e,n,r,o,i,a,s){const c=this.LoginRadiusSDKIntegration.restURLs?.start_process;if(!c)return{success:!1,message:"Start process URL not available"};try{const u=new URLSearchParams({"nxs-auth-type":e,"nxs-auth-code":n,"nxs-auth-key":r,"nxs-auth-email":t,"nxs-auth-vendor-key":o,"nxs-auth-from-key":i});a&&u.set("nxs-auth-transid",a),s&&u.set("nxs-auth-redir",s);const l=await fetch(`${c}?${u.toString()}`,{method:"GET",headers:{"Content-Type":"application/json"}}),f=await l.json();return l.ok?("create"===f?.action&&sessionStorage.setItem("new_account","true"),{success:!0,action:f?.action,userId:f?.userId,message:"Process started successfully"}):{success:!1,message:f?.message||`HTTP ${l.status}: ${l.statusText}`}}catch(t){return{success:!1,message:t instanceof Error?t.message:"Network error occurred"}}}static generateUUID(){if("undefined"!=typeof crypto&&crypto.randomUUID)return crypto.randomUUID();if("undefined"!=typeof crypto&&crypto.getRandomValues){const t=new Uint8Array(16);crypto.getRandomValues(t),t[6]=t[6]%16+64,t[8]=t[8]%64+128;const e=Array.from(t,t=>t.toString(16).padStart(2,"0"));return[e.slice(0,4).join(""),e.slice(4,6).join(""),e.slice(6,8).join(""),e.slice(8,10).join(""),e.slice(10,16).join("")].join("-")}return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,t=>{const e=Math.floor(16*Math.random());return("x"===t?e:e%4+8).toString(16)})}}},2652:function(t,e,n){var r=n(6080),o=n(9565),i=n(8551),a=n(6823),s=n(4209),c=n(6198),u=n(1625),l=n(81),f=n(851),d=n(9539),p=TypeError,h=function(t,e){this.stopped=t,this.result=e},g=h.prototype;t.exports=function(t,e,n){var m,E,y,_,T,S,v,A=n&&n.that,w=!(!n||!n.AS_ENTRIES),L=!(!n||!n.IS_RECORD),O=!(!n||!n.IS_ITERATOR),I=!(!n||!n.INTERRUPTED),x=r(e,A),N=function(t){return m&&d(m,"normal"),new h(!0,t)},P=function(t){return w?(i(t),I?x(t[0],t[1],N):x(t[0],t[1])):I?x(t,N):x(t)};if(L)m=t.iterator;else if(O)m=t;else{if(!(E=f(t)))throw new p(a(t)+" is not iterable");if(s(E)){for(y=0,_=c(t);_>y;y++)if((T=P(t[y]))&&u(g,T))return T;return new h(!1)}m=l(t,E)}for(S=L?t.next:m.next;!(v=o(S,m)).done;){try{T=P(v.value)}catch(t){d(m,"throw",t)}if("object"==typeof T&&T&&u(g,T))return T}return new h(!1)}},2777:function(t,e,n){var r=n(9565),o=n(34),i=n(757),a=n(5966),s=n(4270),c=n(8227),u=TypeError,l=c("toPrimitive");t.exports=function(t,e){if(!o(t)||i(t))return t;var n,c=a(t,l);if(c){if(void 0===e&&(e="default"),n=r(c,t,e),!o(n)||i(n))return n;throw new u("Can't convert object to primitive value")}return void 0===e&&(e="number"),s(t,e)}},2787:function(t,e,n){var r=n(9297),o=n(4901),i=n(8981),a=n(6119),s=n(2211),c=a("IE_PROTO"),u=Object,l=u.prototype;t.exports=s?u.getPrototypeOf:function(t){var e=i(t);if(r(e,c))return e[c];var n=e.constructor;return o(n)&&e instanceof n?n.prototype:e instanceof u?l:null}},2796:function(t,e,n){var r=n(9039),o=n(4901),i=/#|\.prototype\./,a=function(t,e){var n=c[s(t)];return n===l||n!==u&&(o(e)?r(e):!!e)},s=a.normalize=function(t){return String(t).replace(i,".").toLowerCase()},c=a.data={},u=a.NATIVE="N",l=a.POLYFILL="P";t.exports=a},2804:function(t){var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=e+"+/",r=e+"-_",o=function(t){for(var e={},n=0;n<64;n++)e[t.charAt(n)]=n;return e};t.exports={i2c:n,c2i:o(n),i2cUrl:r,c2iUrl:o(r)}},2812:function(t){var e=TypeError;t.exports=function(t,n){if(t<n)throw new e("Not enough arguments");return t}},2839:function(t,e,n){var r=n(4576).navigator,o=r&&r.userAgent;t.exports=o?String(o):""},2967:function(t,e,n){var r=n(6706),o=n(34),i=n(7750),a=n(3506);t.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,n={};try{(t=r(Object.prototype,"__proto__","set"))(n,[]),e=n instanceof Array}catch(t){}return function(n,r){return i(n),a(r),o(n)?(e?t(n,r):n.__proto__=r,n):n}}():void 0)},3174:function(t,e,n){n.d(e,{M:function(){return i}}),n(8111),n(7588),n(8335),n(4603),n(7566),n(8721);var r=n(8624),o=n(6834);class i{constructor(t,e){this.isUserLoggedIn=t,this.currentPage=e}async initialize(){return this.initializeAnalyticsListeners().then(()=>{this.dispatchQueuedEvents(),this.dispatchAnalyticsLoginPageEvent()})}async initializeAnalyticsListeners(){return window.PersistentEvents.getData(r.X.DISPATCH_ANALYTICS_EVENT,0).then(t=>{Array.isArray(t)&&t.length>0&&this.dispatchAnalyticsEventHandler(t[t.length-1])}).finally(()=>{window.PersistentEvents.addListener(r.X.DISPATCH_ANALYTICS_EVENT,async t=>{this.dispatchAnalyticsEventHandler(await t)})})}dispatchQueuedEvents(){const t=sessionStorage.getItem("nexstar/login-registration/analytics/queue");"string"==typeof t&&(JSON.parse(t).forEach(t=>i.dispatchAnalyticsEvent(t)),sessionStorage.removeItem("nexstar/login-registration/analytics/queue"))}dispatchAnalyticsLoginPageEvent(){if("LOGIN"!==this.currentPage)return;if(this.isUserLoggedIn)return;const t=r._.SIGNUP_START;t.source="login-page-flow",t.uxType="form",t.uxOrigin="login-page",t.featureDescription="Sign Up Via Login Page",window.PersistentEvents.emit(r.X.DISPATCH_ANALYTICS_EVENT,t)}dispatchAnalyticsEventHandler(t){const{eventName:e,source:n,featureDescription:r,registrationVendor:a,uxDescription:s,uxOrigin:c,uxType:u,logoutAllProperties:l,deleteMethod:f,siteProperty:d}=t,p={uxDescription:s,uxType:u,featureDescription:r,registrationVendor:a,...void 0!==c?{uxOrigin:c}:{},...f?{deleteMethod:f}:{}},h=(0,o.qt)(),g=i.getParamValueFromUrl("nxs-auth-transid"),m=i.getParamValueFromUrl("nxs-auth-from-key"),E={eventName:e,timestamp:Date.now(),...n?{source:n}:{},...h?{loginRadiusProfileId:h}:{},...g?{loginRegTransactionId:g}:{},...m?{origin:m}:{},...void 0!==l?{logoutAllProperties:l}:{},...d?{siteProperty:d}:{},metadata:p},y=new CustomEvent(e,{detail:E});document.dispatchEvent(y)}static dispatchAnalyticsEvent(t){window.PersistentEvents.emit(r.X.DISPATCH_ANALYTICS_EVENT,t)}static getParamValueFromUrl(t){return new URLSearchParams(window.location.search).get(t)??null}}},3238:function(t,e,n){var r=n(4576),o=n(7811),i=n(7394),a=r.DataView;t.exports=function(t){if(!o||0!==i(t))return!1;try{return new a(t),!1}catch(t){return!0}}},3392:function(t,e,n){var r=n(9504),o=0,i=Math.random(),a=r(1.1.toString);t.exports=function(t){return"Symbol("+(void 0===t?"":t)+")_"+a(++o+i,36)}},3463:function(t){var e=TypeError;t.exports=function(t){if("string"==typeof t)return t;throw new e("Argument is not a string")}},3506:function(t,e,n){var r=n(3925),o=String,i=TypeError;t.exports=function(t){if(r(t))return t;throw new i("Can't set "+o(t)+" as a prototype")}},3706:function(t,e,n){var r=n(9504),o=n(4901),i=n(7629),a=r(Function.toString);o(i.inspectSource)||(i.inspectSource=function(t){return a(t)}),t.exports=i.inspectSource},3717:function(t,e){e.f=Object.getOwnPropertySymbols},3724:function(t,e,n){var r=n(9039);t.exports=!r(function(){return 7!==Object.defineProperty({},1,{get:function(){return 7}})[1]})},3925:function(t,e,n){var r=n(34);t.exports=function(t){return r(t)||null===t}},3972:function(t,e,n){var r=n(34),o=String,i=TypeError;t.exports=function(t){if(void 0===t||r(t))return t;throw new i(o(t)+" is not an object or undefined")}},4055:function(t,e,n){var r=n(4576),o=n(34),i=r.document,a=o(i)&&o(i.createElement);t.exports=function(t){return a?i.createElement(t):{}}},4117:function(t){t.exports=function(t){return null==t}},4154:function(t,e,n){var r=n(6955),o=TypeError;t.exports=function(t){if("Uint8Array"===r(t))return t;throw new o("Argument is not an Uint8Array")}},4209:function(t,e,n){var r=n(8227),o=n(6269),i=r("iterator"),a=Array.prototype;t.exports=function(t){return void 0!==t&&(o.Array===t||a[i]===t)}},4215:function(t,e,n){var r=n(4576),o=n(2839),i=n(2195),a=function(t){return o.slice(0,t.length)===t};t.exports=a("Bun/")?"BUN":a("Cloudflare-Workers")?"CLOUDFLARE":a("Deno/")?"DENO":a("Node.js/")?"NODE":r.Bun&&"string"==typeof Bun.version?"BUN":r.Deno&&"object"==typeof Deno.version?"DENO":"process"===i(r.process)?"NODE":r.window&&r.document?"BROWSER":"REST"},4270:function(t,e,n){var r=n(9565),o=n(4901),i=n(34),a=TypeError;t.exports=function(t,e){var n,s;if("string"===e&&o(n=t.toString)&&!i(s=r(n,t)))return s;if(o(n=t.valueOf)&&!i(s=r(n,t)))return s;if("string"!==e&&o(n=t.toString)&&!i(s=r(n,t)))return s;throw new a("Can't convert object to primitive value")}},4376:function(t,e,n){var r=n(2195);t.exports=Array.isArray||function(t){return"Array"===r(t)}},4483:function(t,e,n){var r,o,i,a,s=n(4576),c=n(9429),u=n(1548),l=s.structuredClone,f=s.ArrayBuffer,d=s.MessageChannel,p=!1;if(u)p=function(t){l(t,{transfer:[t]})};else if(f)try{d||(r=c("worker_threads"))&&(d=r.MessageChannel),d&&(o=new d,i=new f(2),a=function(t){o.port1.postMessage(null,[t])},2===i.byteLength&&(a(i),0===i.byteLength&&(p=a)))}catch(t){}t.exports=p},4495:function(t,e,n){var r=n(9519),o=n(9039),i=n(4576).String;t.exports=!!Object.getOwnPropertySymbols&&!o(function(){var t=Symbol("symbol detection");return!i(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&r&&r<41})},4549:function(t,e,n){var r=n(4576);t.exports=function(t,e){var n=r.Iterator,o=n&&n.prototype,i=o&&o[t],a=!1;if(i)try{i.call({next:function(){return{done:!0}},return:function(){a=!0}},-1)}catch(t){t instanceof e||(a=!1)}if(!a)return i}},4576:function(t,e,n){var r=function(t){return t&&t.Math===Math&&t};t.exports=r("object"==typeof globalThis&&globalThis)||r("object"==typeof window&&window)||r("object"==typeof self&&self)||r("object"==typeof n.g&&n.g)||r("object"==typeof this&&this)||function(){return this}()||Function("return this")()},4603:function(t,e,n){var r=n(6840),o=n(9504),i=n(655),a=n(2812),s=URLSearchParams,c=s.prototype,u=o(c.append),l=o(c.delete),f=o(c.forEach),d=o([].push),p=new s("a=1&a=2&b=3");p.delete("a",1),p.delete("b",void 0),p+""!="a=2"&&r(c,"delete",function(t){var e=arguments.length,n=e<2?void 0:arguments[1];if(e&&void 0===n)return l(this,t);var r=[];f(this,function(t,e){d(r,{key:e,value:t})}),a(e,1);for(var o,s=i(t),c=i(n),p=0,h=0,g=!1,m=r.length;p<m;)o=r[p++],g||o.key===s?(g=!0,l(this,o.key)):h++;for(;h<m;)(o=r[h++]).key===s&&o.value===c||u(this,o.key,o.value)},{enumerable:!0,unsafe:!0})},4644:function(t,e,n){var r,o,i,a=n(7811),s=n(3724),c=n(4576),u=n(4901),l=n(34),f=n(9297),d=n(6955),p=n(6823),h=n(6699),g=n(6840),m=n(2106),E=n(1625),y=n(2787),_=n(2967),T=n(8227),S=n(3392),v=n(1181),A=v.enforce,w=v.get,L=c.Int8Array,O=L&&L.prototype,I=c.Uint8ClampedArray,x=I&&I.prototype,N=L&&y(L),P=O&&y(O),R=Object.prototype,b=c.TypeError,M=T("toStringTag"),C=S("TYPED_ARRAY_TAG"),D="TypedArrayConstructor",U=a&&!!_&&"Opera"!==d(c.opera),k=!1,B={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},F={BigInt64Array:8,BigUint64Array:8},G=function(t){var e=y(t);if(l(e)){var n=w(e);return n&&f(n,D)?n[D]:G(e)}},H=function(t){if(!l(t))return!1;var e=d(t);return f(B,e)||f(F,e)};for(r in B)(i=(o=c[r])&&o.prototype)?A(i)[D]=o:U=!1;for(r in F)(i=(o=c[r])&&o.prototype)&&(A(i)[D]=o);if((!U||!u(N)||N===Function.prototype)&&(N=function(){throw new b("Incorrect invocation")},U))for(r in B)c[r]&&_(c[r],N);if((!U||!P||P===R)&&(P=N.prototype,U))for(r in B)c[r]&&_(c[r].prototype,P);if(U&&y(x)!==P&&_(x,P),s&&!f(P,M))for(r in k=!0,m(P,M,{configurable:!0,get:function(){return l(this)?this[C]:void 0}}),B)c[r]&&h(c[r],C,r);t.exports={NATIVE_ARRAY_BUFFER_VIEWS:U,TYPED_ARRAY_TAG:k&&C,aTypedArray:function(t){if(H(t))return t;throw new b("Target is not a typed array")},aTypedArrayConstructor:function(t){if(u(t)&&(!_||E(N,t)))return t;throw new b(p(t)+" is not a typed array constructor")},exportTypedArrayMethod:function(t,e,n,r){if(s){if(n)for(var o in B){var i=c[o];if(i&&f(i.prototype,t))try{delete i.prototype[t]}catch(n){try{i.prototype[t]=e}catch(t){}}}P[t]&&!n||g(P,t,n?e:U&&O[t]||e,r)}},exportTypedArrayStaticMethod:function(t,e,n){var r,o;if(s){if(_){if(n)for(r in B)if((o=c[r])&&f(o,t))try{delete o[t]}catch(t){}if(N[t]&&!n)return;try{return g(N,t,n?e:U&&N[t]||e)}catch(t){}}for(r in B)!(o=c[r])||o[t]&&!n||g(o,t,e)}},getTypedArrayConstructor:G,isView:function(t){if(!l(t))return!1;var e=d(t);return"DataView"===e||f(B,e)||f(F,e)},isTypedArray:H,TypedArray:N,TypedArrayPrototype:P}},4659:function(t,e,n){var r=n(3724),o=n(4913),i=n(6980);t.exports=function(t,e,n){r?o.f(t,e,i(0,n)):t[e]=n}},4711:function(t,e,n){n.d(e,{I:function(){return c}}),n(8111),n(7588),n(4603),n(7566),n(8721);var r=n(6834),o=n(9418),i=n(1577),a=n(5160),s=n(2587);class c{logoutCallbacks=[];constructor(t,e,n,r,o,i,a,s){this.apiKeys={appToAppKey:e,apiKey:n},this.restURLs=t,this.lr=s,this.verificationUrl=i,this.startSiteProcessNonce=a,this.initializeEmailForm(),this.getLogoutCallbacks(),this.lr.initSDK({apiKey:n,appName:r,debugMode:o})}async trySSOLoginByEmail(t){try{const e=await this.getAccessTokenFromSSO();if(!e)return!1;const n=await this.getUserProfile(e);if(!n)return!1;if(n.Email?.[0]?.Value===t)return await this.onLoginSuccess(e,n.Uid),(0,r.X3)(),!0}catch(t){console.debug("SSO login not available:",t)}return!1}async checkIfLoggedIn(t){return!!t&&new Promise(e=>{this.lr.authenticationApi.authValidateAccessToken(t,(t,n)=>{e(!(t||!n||!n))})})}async getSessionExpiration(t){return t?new Promise(e=>{this.lr.authenticationApi.authValidateAccessToken(t,(t,n)=>{!t&&n&&n.expires_in&&!n.ErrorCode?e(n.expires_in):e(null)})}):null}async getLogoutCallbacks(){this.logoutCallbacks=await window.PersistentEvents.getData(i.q.LOGOUT_CALLBACKS,1e4)}initializeEmailFormBehavior(t,e,n){n.hidden=!0,t.value="";const r=t.closest("form");r instanceof HTMLFormElement&&(this.boundFormSubmitHandler=this.submitFormEventHandler.bind(this,t,n),r.addEventListener("submit",this.boundFormSubmitHandler),t.addEventListener("input",()=>{""===t.value&&(n.hidden=!0)}))}async submitFormEventHandler(t,e,n){n.preventDefault();const r=t.closest(".lr-login-wrapper");window.PersistentEvents.emit("nexstar/login-registration/form/submit",{mainWrapper:r,displayEmailCheckModal:!0,uxOrigin:"modal"})}async validateForm(t,e){return e.hidden=!0,e.closest("form")?.classList.remove("has-error"),!!t.checkValidity()||(e.hidden=!1,e.closest("form")?.classList.add("has-error"),!1)}async submitForm(t,e,n,o){if((0,r.ZI)()&&!this.isSafari()&&await this.trySSOLoginByEmail(t.value.trim()))return!1;const i=s.M.generateUUID();await this.checkOrCreateAccount(t.value.trim(),"start-site-process",i,o),n&&this.showCheckEmailStep();const c=a._P.FORM_SIGNUP_SENT;return c.uxOrigin=o,window.PersistentEvents.emit(a.XV.DISPATCH_ANALYTICS_EVENT,c),!0}async checkOrCreateAccount(t,e,n,r){if(!t)return!1;const o=document.getElementById(i.P.ELEMENTS.EMAIL_VALIDATION_ERROR),a=new URLSearchParams(window.location.search).get("nxs-auth-redir"),s=(a&&this.isValidRelativeUrl(a)?a:null)||this.getValidatedRedirectPath();let c=!1;return"start-site-process"===e?c=await this.startSiteProcess(t,s||void 0,n,r):"start-process"===e&&(c=await this.startProcess(t,n)),!1===c&&this.showUserError(o,"Unable to process your request. Please try again."),c}async startSiteProcess(t,e,n,r){if(!this.restURLs)return!1;try{return!!(await fetch(this.restURLs.startSiteProcess,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify((()=>{const o={email:t,start_site_process_nonce:this.startSiteProcessNonce};return e&&(o["nxs-auth-redir"]=e),r&&(o["nxs-auth-ux-origin"]=r),o["nxs-auth-transid"]=n||s.M.generateUUID(),o})())})).ok}catch(t){return!1}}async startProcess(t,e){if(!this.restURLs)return console.error("startProcess failed: REST URLs are not configured."),!1;if(!t)return console.error("startProcess failed: Email is missing."),!1;const n=this.apiKeys.appToAppKey;if(!n)return console.error("startProcess failed: Authentication error."),!1;const r=this.apiKeys.apiKey;if(!r)return console.error("startProcess failed: Authentication error."),!1;const o=new URLSearchParams(window.location.search),i=o.get("nxs-auth-type")??"",a=o.get("nxs-auth-code")??"",s=o.get("nxs-auth-from-key")??"";if(""===i)return console.error("startProcess failed: Auth type is missing."),!1;if(""===a)return console.error("startProcess failed: Auth code is missing."),!1;if(""===s)return console.error("startProcess failed: Auth from key is missing."),!1;const c={"nxs-auth-type":i,"nxs-auth-code":a,"nxs-auth-key":n,"nxs-auth-email":t,"nxs-auth-vendor-key":r,"nxs-auth-from-key":s,...e?{"nxs-auth-transid":e}:{}},u=new URLSearchParams(c).toString();try{return!!(await fetch(`${this.restURLs.start_process}?${u}`,{method:"GET",headers:{"Content-Type":"application/json"}})).ok}catch(t){return!1}}getCurrentPagePath(){const{pathname:t}=window.location;return t||"/"}isValidRelativeUrl(t){if(!t||""===t)return!1;if(!t.startsWith("/"))return!1;if(t.includes("?")||t.includes("#"))return!1;try{const e=new URL(t,"http://example.com");return"example.com"===e.hostname&&t===e.pathname}catch{return!1}}getValidatedRedirectPath(){if("login"===new URLSearchParams(window.location.search).get("nxs-auth-type"))return i.P.ACCOUNT_PAGE_PATH;const t=this.getCurrentPagePath();return this.isValidRelativeUrl(t)?t:null}showCheckEmailStep(){[i.P.ELEMENTS.STEP_SIGN_UP,i.P.ELEMENTS.STEP_CHECK_EMAIL,i.P.ELEMENTS.STEP_REGISTER,i.P.ELEMENTS.STEP_LOGOUT].forEach(t=>{const e=this.resolveElement(t);e instanceof HTMLElement&&(e.hidden=t!==i.P.ELEMENTS.STEP_CHECK_EMAIL)})}handleMagicLinkVerification(t,e){return console.log("Handling magic link verification"),console.log(t,e),new Promise((n,r)=>{this.lr.passwordLessLoginApi.passwordlessLoginVerification(t,null,null,(t,o)=>{if(t||!o||!o.access_token)return void r(new Error(t?.Message||"Invalid verification token or missing access token"));const i=o.access_token,a=o.refresh_token,s=o.Profile?.Uid||o.Uid;s?n({accessToken:i,refreshToken:a,accountUid:s,authRedir:e}):r(new Error("Missing account UID in verification response"))})})}async onLoginSuccess(t,e){return i.P.DEBUG_MODE&&console.debug("Setting cookie with access token:",t.substring(0,10)+"..."),(0,r.Sq)(t,e),i.P.DEBUG_MODE&&setTimeout(()=>{const t=(0,r.qo)();console.debug("Cookie verification:",t?"SUCCESS":"FAILED")},50),setTimeout(()=>{const e=new CustomEvent("nexstar/auth/token/updated",{detail:{accessToken:t}});document.dispatchEvent(e)},100),Promise.resolve()}async getUserProfile(t){return t?new Promise(e=>{this.lr.authenticationApi.getProfileByAccessToken(t,null,null,null,null,(t,n)=>{e(!t&&n?n:null)})}):null}updateUserProfile(t,e){const n=(0,r.qo)();if(!n)return void e({ErrorCode:400,Message:"No access token found"});const o=["ZipCode","JobTitle","JobLevel"],i={},a={};Object.keys(t).forEach(e=>{o.includes(e)?a[e]=t[e]:i[e]=t[e]}),Object.keys(a).length>0&&(i.CustomFields=a),this.lr.authenticationApi.updateProfileByAccessToken(n,i,null,null,!0,null,null,e)}async getAccessTokenFromSSO(){try{const t=await fetch(i.P.SSO_LOGIN_URL,{method:"GET",credentials:"include",mode:"cors"});if(!t.ok)return null;const e=await t.json();return e?.isauthenticated&&e.token?e.token:null}catch(t){return null}}async sendAccessToken(t){if(!t)return;const e=new URL(i.P.SSO_SET_TOKEN_URL);e.search=o.A.sanitize(new URLSearchParams({token:t,apikey:i.P.API_KEY}).toString());try{await fetch(e.href,{method:"GET",credentials:"include",headers:{Accept:"application/json"}})}catch(t){console.error("Error sending access token:",t)}}logOutSingleSite(){this.doLogout(!1)}async logOutAllSites(){const t=(0,r.qo)();if(t)try{await new Promise((e,n)=>{this.lr.authenticationApi.authInValidateAccessToken(t,!0,t=>{t?n(t):e()})})}catch(t){console.error(t)}finally{await this.doLogout(!0)}}async doLogout(t){window.PersistentEvents.emit(a.XV.DISPATCH_ANALYTICS_EVENT,{...a._P.USER_LOGGED_OUT,logoutAllProperties:t});for(const t of this.logoutCallbacks)await t();(0,r.hM)(),(0,r.$d)()}resolveElement(t){return"string"==typeof t?document.getElementById(t):t}initializeEmailForm(t=i.P.ELEMENTS.EMAIL_INPUT,e=i.P.ELEMENTS.EMAIL_FORM_BUTTON,n=i.P.ELEMENTS.EMAIL_VALIDATION_ERROR){const r=this.resolveElement(t),o=this.resolveElement(e),a=this.resolveElement(n);r instanceof HTMLInputElement&&o instanceof HTMLButtonElement&&a instanceof HTMLElement&&this.initializeEmailFormBehavior(r,o,a)}resetEmailForm(t){const e=t.querySelector('input[type="email"]'),n=t.querySelector('button[type="submit"]'),r=t.querySelector(".error-message");e instanceof HTMLInputElement&&(t instanceof HTMLFormElement?t.reset():e.value="",e.hidden=!1,e.style.border=""),n instanceof HTMLButtonElement&&(n.hidden=!1),r instanceof HTMLElement&&(r.hidden=!0)}showUserError(t,e){t.textContent=e,t.hidden=!1}isSafari(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)}}},4901:function(t){var e="object"==typeof document&&document.all;t.exports=void 0===e&&void 0!==e?function(t){return"function"==typeof t||t===e}:function(t){return"function"==typeof t}},4913:function(t,e,n){var r=n(3724),o=n(5917),i=n(8686),a=n(8551),s=n(6969),c=TypeError,u=Object.defineProperty,l=Object.getOwnPropertyDescriptor,f="enumerable",d="configurable",p="writable";e.f=r?i?function(t,e,n){if(a(t),e=s(e),a(n),"function"==typeof t&&"prototype"===e&&"value"in n&&p in n&&!n[p]){var r=l(t,e);r&&r[p]&&(t[e]=n.value,n={configurable:d in n?n[d]:r[d],enumerable:f in n?n[f]:r[f],writable:!1})}return u(t,e,n)}:u:function(t,e,n){if(a(t),e=s(e),a(n),o)try{return u(t,e,n)}catch(t){}if("get"in n||"set"in n)throw new c("Accessors not supported");return"value"in n&&(t[e]=n.value),t}},5031:function(t,e,n){var r=n(7751),o=n(9504),i=n(8480),a=n(3717),s=n(8551),c=o([].concat);t.exports=r("Reflect","ownKeys")||function(t){var e=i.f(s(t)),n=a.f;return n?c(e,n(t)):e}},5160:function(t,e,n){n.d(e,{Ml:function(){return r.M},XV:function(){return o.X},_P:function(){return o._}});var r=n(3174),o=n(8624)},5169:function(t,e,n){var r=n(3238),o=TypeError;t.exports=function(t){if(r(t))throw new o("ArrayBuffer is detached");return t}},5397:function(t,e,n){var r=n(7055),o=n(7750);t.exports=function(t){return r(o(t))}},5610:function(t,e,n){var r=n(1291),o=Math.max,i=Math.min;t.exports=function(t,e){var n=r(t);return n<0?o(n+e,0):i(n,e)}},5623:function(t,e,n){var r=n(6518),o=n(4576),i=n(9504),a=n(4154),s=n(5169),c=i(1.1.toString),u=o.Uint8Array,l=!u||!u.prototype.toHex||!function(){try{return"ffffffffffffffff"===new u([255,255,255,255,255,255,255,255]).toHex()}catch(t){return!1}}();u&&r({target:"Uint8Array",proto:!0,forced:l},{toHex:function(){a(this),s(this.buffer);for(var t="",e=0,n=this.length;e<n;e++){var r=c(this[e],16);t+=1===r.length?"0"+r:r}return t}})},5636:function(t,e,n){var r=n(4576),o=n(9504),i=n(6706),a=n(7696),s=n(5169),c=n(7394),u=n(4483),l=n(1548),f=r.structuredClone,d=r.ArrayBuffer,p=r.DataView,h=Math.min,g=d.prototype,m=p.prototype,E=o(g.slice),y=i(g,"resizable","get"),_=i(g,"maxByteLength","get"),T=o(m.getInt8),S=o(m.setInt8);t.exports=(l||u)&&function(t,e,n){var r,o=c(t),i=void 0===e?o:a(e),g=!y||!y(t);if(s(t),l&&(t=f(t,{transfer:[t]}),o===i&&(n||g)))return t;if(o>=i&&(!n||g))r=E(t,0,i);else{var m=n&&!g&&_?{maxByteLength:_(t)}:void 0;r=new d(i,m);for(var v=new p(t),A=new p(r),w=h(i,o),L=0;L<w;L++)S(A,L,T(v,L))}return l||u(t),r}},5745:function(t,e,n){var r=n(7629);t.exports=function(t,e){return r[t]||(r[t]=e||{})}},5854:function(t,e,n){var r=n(2777),o=TypeError;t.exports=function(t){var e=r(t,"number");if("number"==typeof e)throw new o("Can't convert number to bigint");return BigInt(e)}},5917:function(t,e,n){var r=n(3724),o=n(9039),i=n(4055);t.exports=!r&&!o(function(){return 7!==Object.defineProperty(i("div"),"a",{get:function(){return 7}}).a})},5966:function(t,e,n){var r=n(9306),o=n(4117);t.exports=function(t,e){var n=t[e];return o(n)?void 0:r(n)}},6080:function(t,e,n){var r=n(7476),o=n(9306),i=n(616),a=r(r.bind);t.exports=function(t,e){return o(t),void 0===e?t:i?a(t,e):function(){return t.apply(e,arguments)}}},6119:function(t,e,n){var r=n(5745),o=n(3392),i=r("keys");t.exports=function(t){return i[t]||(i[t]=o(t))}},6193:function(t,e,n){var r=n(4215);t.exports="NODE"===r},6198:function(t,e,n){var r=n(8014);t.exports=function(t){return r(t.length)}},6269:function(t){t.exports={}},6395:function(t){t.exports=!1},6518:function(t,e,n){var r=n(4576),o=n(7347).f,i=n(6699),a=n(6840),s=n(9433),c=n(7740),u=n(2796);t.exports=function(t,e){var n,l,f,d,p,h=t.target,g=t.global,m=t.stat;if(n=g?r:m?r[h]||s(h,{}):r[h]&&r[h].prototype)for(l in e){if(d=e[l],f=t.dontCallGetSet?(p=o(n,l))&&p.value:n[l],!u(g?l:h+(m?".":"#")+l,t.forced)&&void 0!==f){if(typeof d==typeof f)continue;c(d,f)}(t.sham||f&&f.sham)&&i(d,"sham",!0),a(n,l,d,t)}}},6573:function(t,e,n){var r=n(3724),o=n(2106),i=n(3238),a=ArrayBuffer.prototype;r&&!("detached"in a)&&o(a,"detached",{configurable:!0,get:function(){return i(this)}})},6699:function(t,e,n){var r=n(3724),o=n(4913),i=n(6980);t.exports=r?function(t,e,n){return o.f(t,e,i(1,n))}:function(t,e,n){return t[e]=n,t}},6706:function(t,e,n){var r=n(9504),o=n(9306);t.exports=function(t,e,n){try{return r(o(Object.getOwnPropertyDescriptor(t,e)[n]))}catch(t){}}},6801:function(t,e,n){var r=n(3724),o=n(8686),i=n(4913),a=n(8551),s=n(5397),c=n(1072);e.f=r&&!o?Object.defineProperties:function(t,e){a(t);for(var n,r=s(e),o=c(e),u=o.length,l=0;u>l;)i.f(t,n=o[l++],r[n]);return t}},6823:function(t){var e=String;t.exports=function(t){try{return e(t)}catch(t){return"Object"}}},6834:function(t,e,n){n.d(e,{$d:function(){return p},FM:function(){return g},My:function(){return y},Ri:function(){return s},Sq:function(){return a},X3:function(){return h},ZI:function(){return m},fB:function(){return _},hM:function(){return d},qo:function(){return u},qt:function(){return l},tK:function(){return c},yp:function(){return E},yx:function(){return f}}),n(8335),n(4603),n(7566),n(8721);var r=n(1577),o=n(9418);function i(t,e,n=r.P.COOKIE_EXPIRY_DAYS){const o=new Date;o.setTime(o.getTime()+24*n*60*60*1e3);const i="string"==typeof e?e:encodeURIComponent(JSON.stringify(e));document.cookie=`${t}=${i};expires=${o.toUTCString()};path=/`}function a(t,e){const n=new Date,o=new Date(n.getTime()+24*r.P.COOKIE_EXPIRY_DAYS*60*60*1e3),a={access_token:t,account_uid:e||"",created_date:(new Date).toISOString(),expires_at:o.toISOString()};i(r.P.COOKIE_NAME,JSON.stringify(a),r.P.COOKIE_EXPIRY_DAYS)}function s(t){const e=document.cookie.split("; ");for(const n of e){const[e,r]=n.split("=");if(t===e)return decodeURIComponent(r)}}function c(){const t=s(r.P.COOKIE_NAME);if(t)try{const e=decodeURIComponent(t),n=JSON.parse(e);if("object"==typeof n&&"access_token"in n&&"account_uid"in n)return n}catch(t){console.error("Error parsing cookie data:",t)}}function u(){return c()?.access_token}function l(){return c()?.account_uid}function f(){const t=c(),e=t?.access_token;return"string"==typeof e&&!!e.length}function d(){i(r.P.COOKIE_NAME,"",-1)}function p(){window.location.reload()}function h(){window.location.href=o.A.sanitize(r.P.HOME_URL)}function g(t){window.location.href=o.A.sanitize(t)}function m(){return!!r.P.SSO_ENABLED}function E(t){const e=t.replace(/^\/+|\/+$/g,"");return window.location.pathname.replace(/\/+$/,"").split("/").pop()===e}function y(t){const e="string"==typeof t&&""!==t.trim()?t:"/";if(!e.startsWith("/"))throw new Error('Redirect URL must be a relative path starting with "/"');if(e.startsWith("//"))throw new Error("Protocol-relative URLs are not allowed");if(window.location.search.includes("nxs-auth-vcode")){const t=new URL(window.location.href);t.searchParams.delete("nxs-auth-vcode"),history.replaceState(null,"",t.toString())}window.location.pathname=o.A.sanitize(e)}function _(t="/",e,n){let r=`${t}/?nxs-auth-from-key=${e}`;if("string"==typeof n&&n.trim().length>0&&(r=`${r}&nxs-auth-transid=${n}`),!r.startsWith("/"))throw new Error('Redirect URL must be a relative path starting with "/"');if(r.startsWith("//"))throw new Error("Protocol-relative URLs are not allowed");g(r)}},6840:function(t,e,n){var r=n(4901),o=n(4913),i=n(283),a=n(9433);t.exports=function(t,e,n,s){s||(s={});var c=s.enumerable,u=void 0!==s.name?s.name:e;if(r(n)&&i(n,u,s),s.global)c?t[e]=n:a(e,n);else{try{s.unsafe?t[e]&&(c=!0):delete t[e]}catch(t){}c?t[e]=n:o.f(t,e,{value:n,enumerable:!1,configurable:!s.nonConfigurable,writable:!s.nonWritable})}return t}},6955:function(t,e,n){var r=n(2140),o=n(4901),i=n(2195),a=n(8227)("toStringTag"),s=Object,c="Arguments"===i(function(){return arguments}());t.exports=r?i:function(t){var e,n,r;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=s(t),a))?n:c?i(e):"Object"===(r=i(e))&&o(e.callee)?"Arguments":r}},6969:function(t,e,n){var r=n(2777),o=n(757);t.exports=function(t){var e=r(t,"string");return o(e)?e:e+""}},6980:function(t){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},7040:function(t,e,n){var r=n(4495);t.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},7055:function(t,e,n){var r=n(9504),o=n(9039),i=n(2195),a=Object,s=r("".split);t.exports=o(function(){return!a("z").propertyIsEnumerable(0)})?function(t){return"String"===i(t)?s(t,""):a(t)}:a},7347:function(t,e,n){var r=n(3724),o=n(9565),i=n(8773),a=n(6980),s=n(5397),c=n(6969),u=n(9297),l=n(5917),f=Object.getOwnPropertyDescriptor;e.f=r?f:function(t,e){if(t=s(t),e=c(e),l)try{return f(t,e)}catch(t){}if(u(t,e))return a(!o(i.f,t,e),t[e])}},7394:function(t,e,n){var r=n(4576),o=n(6706),i=n(2195),a=r.ArrayBuffer,s=r.TypeError;t.exports=a&&o(a.prototype,"byteLength","get")||function(t){if("ArrayBuffer"!==i(t))throw new s("ArrayBuffer expected");return t.byteLength}},7476:function(t,e,n){var r=n(2195),o=n(9504);t.exports=function(t){if("Function"===r(t))return o(t)}},7566:function(t,e,n){var r=n(6840),o=n(9504),i=n(655),a=n(2812),s=URLSearchParams,c=s.prototype,u=o(c.getAll),l=o(c.has),f=new s("a=1");!f.has("a",2)&&f.has("a",void 0)||r(c,"has",function(t){var e=arguments.length,n=e<2?void 0:arguments[1];if(e&&void 0===n)return l(this,t);var r=u(this,t);a(e,1);for(var o=i(n),s=0;s<r.length;)if(r[s++]===o)return!0;return!1},{enumerable:!0,unsafe:!0})},7588:function(t,e,n){var r=n(6518),o=n(9565),i=n(2652),a=n(9306),s=n(8551),c=n(1767),u=n(9539),l=n(4549)("forEach",TypeError);r({target:"Iterator",proto:!0,real:!0,forced:l},{forEach:function(t){s(this);try{a(t)}catch(t){u(this,"throw",t)}if(l)return o(l,this,t);var e=c(this),n=0;i(e,function(e){t(e,n++)},{IS_RECORD:!0})}})},7629:function(t,e,n){var r=n(6395),o=n(4576),i=n(9433),a="__core-js_shared__",s=t.exports=o[a]||i(a,{});(s.versions||(s.versions=[])).push({version:"3.44.0",mode:r?"pure":"global",copyright:" 2014-2025 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.44.0/LICENSE",source:"https://github.com/zloirock/core-js"})},7657:function(t,e,n){var r,o,i,a=n(9039),s=n(4901),c=n(34),u=n(2360),l=n(2787),f=n(6840),d=n(8227),p=n(6395),h=d("iterator"),g=!1;[].keys&&("next"in(i=[].keys())?(o=l(l(i)))!==Object.prototype&&(r=o):g=!0),!c(r)||a(function(){var t={};return r[h].call(t)!==t})?r={}:p&&(r=u(r)),s(r[h])||f(r,h,function(){return this}),t.exports={IteratorPrototype:r,BUGGY_SAFARI_ITERATORS:g}},7696:function(t,e,n){var r=n(1291),o=n(8014),i=RangeError;t.exports=function(t){if(void 0===t)return 0;var e=r(t),n=o(e);if(e!==n)throw new i("Wrong length or index");return n}},7740:function(t,e,n){var r=n(9297),o=n(5031),i=n(7347),a=n(4913);t.exports=function(t,e,n){for(var s=o(e),c=a.f,u=i.f,l=0;l<s.length;l++){var f=s[l];r(t,f)||n&&r(n,f)||c(t,f,u(e,f))}}},7750:function(t,e,n){var r=n(4117),o=TypeError;t.exports=function(t){if(r(t))throw new o("Can't call method on "+t);return t}},7751:function(t,e,n){var r=n(4576),o=n(4901);t.exports=function(t,e){return arguments.length<2?(n=r[t],o(n)?n:void 0):r[t]&&r[t][e];var n}},7811:function(t){t.exports="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView},7936:function(t,e,n){var r=n(6518),o=n(5636);o&&r({target:"ArrayBuffer",proto:!0},{transferToFixedLength:function(){return o(this,arguments.length?arguments[0]:void 0,!1)}})},8014:function(t,e,n){var r=n(1291),o=Math.min;t.exports=function(t){var e=r(t);return e>0?o(e,9007199254740991):0}},8100:function(t,e,n){var r=n(6518),o=n(5636);o&&r({target:"ArrayBuffer",proto:!0},{transfer:function(){return o(this,arguments.length?arguments[0]:void 0,!0)}})},8111:function(t,e,n){var r=n(6518),o=n(4576),i=n(679),a=n(8551),s=n(4901),c=n(2787),u=n(2106),l=n(4659),f=n(9039),d=n(9297),p=n(8227),h=n(7657).IteratorPrototype,g=n(3724),m=n(6395),E="constructor",y="Iterator",_=p("toStringTag"),T=TypeError,S=o[y],v=m||!s(S)||S.prototype!==h||!f(function(){S({})}),A=function(){if(i(this,h),c(this)===h)throw new T("Abstract class Iterator not directly constructable")},w=function(t,e){g?u(h,t,{configurable:!0,get:function(){return e},set:function(e){if(a(this),this===h)throw new T("You can't redefine this property");d(this,t)?this[t]=e:l(this,t,e)}}):h[t]=e};d(h,_)||w(_,y),!v&&d(h,E)&&h[E]!==Object||w(E,A),A.prototype=h,r({global:!0,constructor:!0,forced:v},{Iterator:A})},8227:function(t,e,n){var r=n(4576),o=n(5745),i=n(9297),a=n(3392),s=n(4495),c=n(7040),u=r.Symbol,l=o("wks"),f=c?u.for||u:u&&u.withoutSetter||a;t.exports=function(t){return i(l,t)||(l[t]=s&&i(u,t)?u[t]:f("Symbol."+t)),l[t]}},8235:function(t,e,n){var r=n(9504),o=n(9297),i=SyntaxError,a=parseInt,s=String.fromCharCode,c=r("".charAt),u=r("".slice),l=r(/./.exec),f={'\\"':'"',"\\\\":"\\","\\/":"/","\\b":"\b","\\f":"\f","\\n":"\n","\\r":"\r","\\t":"\t"},d=/^[\da-f]{4}$/i,p=/^[\u0000-\u001F]$/;t.exports=function(t,e){for(var n=!0,r="";e<t.length;){var h=c(t,e);if("\\"===h){var g=u(t,e,e+2);if(o(f,g))r+=f[g],e+=2;else{if("\\u"!==g)throw new i('Unknown escape sequence: "'+g+'"');var m=u(t,e+=2,e+4);if(!l(d,m))throw new i("Bad Unicode escape at: "+e);r+=s(a(m,16)),e+=4}}else{if('"'===h){n=!1,e++;break}if(l(p,h))throw new i("Bad control character in string literal at: "+e);r+=h,e++}}if(n)throw new i("Unterminated string at: "+e);return{value:r,end:e}}},8335:function(t,e,n){var r=n(6518),o=n(3724),i=n(4576),a=n(7751),s=n(9504),c=n(9565),u=n(4901),l=n(34),f=n(4376),d=n(9297),p=n(655),h=n(6198),g=n(4659),m=n(9039),E=n(8235),y=n(4495),_=i.JSON,T=i.Number,S=i.SyntaxError,v=_&&_.parse,A=a("Object","keys"),w=Object.getOwnPropertyDescriptor,L=s("".charAt),O=s("".slice),I=s(/./.exec),x=s([].push),N=/^\d$/,P=/^[1-9]$/,R=/^[\d-]$/,b=/^[\t\n\r ]$/,M=function(t,e,n,r){var o,i,a,s,u,p=t[e],g=r&&p===r.value,m=g&&"string"==typeof r.source?{source:r.source}:{};if(l(p)){var E=f(p),y=g?r.nodes:E?[]:{};if(E)for(o=y.length,a=h(p),s=0;s<a;s++)C(p,s,M(p,""+s,n,s<o?y[s]:void 0));else for(i=A(p),a=h(i),s=0;s<a;s++)u=i[s],C(p,u,M(p,u,n,d(y,u)?y[u]:void 0))}return c(n,t,e,p,m)},C=function(t,e,n){if(o){var r=w(t,e);if(r&&!r.configurable)return}void 0===n?delete t[e]:g(t,e,n)},D=function(t,e,n,r){this.value=t,this.end=e,this.source=n,this.nodes=r},U=function(t,e){this.source=t,this.index=e};U.prototype={fork:function(t){return new U(this.source,t)},parse:function(){var t=this.source,e=this.skip(b,this.index),n=this.fork(e),r=L(t,e);if(I(R,r))return n.number();switch(r){case"{":return n.object();case"[":return n.array();case'"':return n.string();case"t":return n.keyword(!0);case"f":return n.keyword(!1);case"n":return n.keyword(null)}throw new S('Unexpected character: "'+r+'" at: '+e)},node:function(t,e,n,r,o){return new D(e,r,t?null:O(this.source,n,r),o)},object:function(){for(var t=this.source,e=this.index+1,n=!1,r={},o={};e<t.length;){if(e=this.until(['"',"}"],e),"}"===L(t,e)&&!n){e++;break}var i=this.fork(e).string(),a=i.value;e=i.end,e=this.until([":"],e)+1,e=this.skip(b,e),i=this.fork(e).parse(),g(o,a,i),g(r,a,i.value),e=this.until([",","}"],i.end);var s=L(t,e);if(","===s)n=!0,e++;else if("}"===s){e++;break}}return this.node(1,r,this.index,e,o)},array:function(){for(var t=this.source,e=this.index+1,n=!1,r=[],o=[];e<t.length;){if(e=this.skip(b,e),"]"===L(t,e)&&!n){e++;break}var i=this.fork(e).parse();if(x(o,i),x(r,i.value),e=this.until([",","]"],i.end),","===L(t,e))n=!0,e++;else if("]"===L(t,e)){e++;break}}return this.node(1,r,this.index,e,o)},string:function(){var t=this.index,e=E(this.source,this.index+1);return this.node(0,e.value,t,e.end)},number:function(){var t=this.source,e=this.index,n=e;if("-"===L(t,n)&&n++,"0"===L(t,n))n++;else{if(!I(P,L(t,n)))throw new S("Failed to parse number at: "+n);n=this.skip(N,n+1)}if(!("."===L(t,n)&&(n=this.skip(N,n+1)),"e"!==L(t,n)&&"E"!==L(t,n)||(n++,"+"!==L(t,n)&&"-"!==L(t,n)||n++,n!==(n=this.skip(N,n)))))throw new S("Failed to parse number's exponent value at: "+n);return this.node(0,T(O(t,e,n)),e,n)},keyword:function(t){var e=""+t,n=this.index,r=n+e.length;if(O(this.source,n,r)!==e)throw new S("Failed to parse value at: "+n);return this.node(0,t,n,r)},skip:function(t,e){for(var n=this.source;e<n.length&&I(t,L(n,e));e++);return e},until:function(t,e){e=this.skip(b,e);for(var n=L(this.source,e),r=0;r<t.length;r++)if(t[r]===n)return e;throw new S('Unexpected character: "'+n+'" at: '+e)}};var k=m(function(){var t,e="9007199254740993";return v(e,function(e,n,r){t=r.source}),t!==e}),B=y&&!m(function(){return 1/v("-0 \t")!=-1/0});r({target:"JSON",stat:!0,forced:k},{parse:function(t,e){return B&&!u(e)?v(t):function(t,e){t=p(t);var n=new U(t,0,""),r=n.parse(),o=r.value,i=n.skip(b,r.end);if(i<t.length)throw new S('Unexpected extra character: "'+L(t,i)+'" after the parsed data at: '+i);return u(e)?M({"":o},"",e,r):o}(t,e)}})},8480:function(t,e,n){var r=n(1828),o=n(8727).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return r(t,o)}},8551:function(t,e,n){var r=n(34),o=String,i=TypeError;t.exports=function(t){if(r(t))return t;throw new i(o(t)+" is not an object")}},8622:function(t,e,n){var r=n(4576),o=n(4901),i=r.WeakMap;t.exports=o(i)&&/native code/.test(String(i))},8624:function(t,e,n){n.d(e,{X:function(){return r},_:function(){return o}});const r={DISPATCH_ANALYTICS_EVENT:"nexstar/login-registration/dispatch-analytics-event"},o={SIGNUP_START:{eventName:"nexstar/login-registration/signup-start",source:"sign-up-button",uxDescription:"Sign Up Opened",uxOrigin:"modal",uxType:"modal",featureDescription:"Sign Up Button",registrationVendor:"LoginRadius"},MODAL_SIGNUP_START_URL_PARAM:{eventName:"nexstar/login-registration/signup-start-url-param",source:"url-parameter",uxDescription:"Sign Up Modal Opened via URL Parameter",uxType:"modal",featureDescription:"URL Parameter Trigger",registrationVendor:"LoginRadius"},SIGNUP_TRY_ANOTHER_EMAIL:{eventName:"nexstar/login-registration/signup-try-another-email",source:"modal-try-another-email",uxDescription:"Modal Try Another Email",uxOrigin:"modal",uxType:"modal",featureDescription:"Try Another Email Button",registrationVendor:"LoginRadius"},MODAL_SIGNUP_CANCEL:{eventName:"nexstar/login-registration/signup-cancel",source:"modal-cancel",uxDescription:"Modal Cancel Button",uxType:"modal",featureDescription:"Cancel Button Inside Modal",registrationVendor:"LoginRadius"},FORM_SIGNUP_SENT:{eventName:"nexstar/login-registration/signup-form-sent",source:"sign-up-form",uxDescription:"Sign Up Form Sent",uxOrigin:"modal",uxType:"form",featureDescription:"Sign Up Form",registrationVendor:"LoginRadius"},FORM_MAGIC_LINK_CONFIRMATION:{eventName:"nexstar/login-registration/magic-link-confirmation",source:"magic-link",uxDescription:"Confirmation From Magic Link",uxOrigin:"modal",uxType:"form",featureDescription:"Magic Link Confirmation",registrationVendor:"LoginRadius"},USER_LOGGED_IN:{eventName:"nexstar/login-registration/user-logged-in",source:"login-flow",uxDescription:"Has User Logged In",uxType:"form",featureDescription:"Login",registrationVendor:"LoginRadius"},USER_LOGGED_OUT:{eventName:"nexstar/login-registration/user-logged-out",source:"logout-flow",uxDescription:"User Logged Out",uxType:"form",featureDescription:"Logout",registrationVendor:"LoginRadius"},MODAL_LOGOUT_CANCEL:{eventName:"nexstar/login-registration/logout-cancel",source:"logout-modal-cancel",uxDescription:"Logout Modal Cancel Button",uxType:"modal",featureDescription:"Cancel Button Inside Logout Modal",registrationVendor:"LoginRadius"},ACCOUNT_DELETE_MODAL_OPEN:{eventName:"nexstar/login-registration/account-delete-modal-open",source:"delete-account-flow",uxDescription:"Delete Account Modal Opened",uxType:"modal",featureDescription:"Delete Account Modal",registrationVendor:"LoginRadius"},ACCOUNT_DELETE_CANCEL:{eventName:"nexstar/login-registration/account-delete-cancel",source:"delete-account-flow",uxDescription:"Delete Account Cancelled",uxType:"modal",featureDescription:"Cancel Button Inside Delete Account Modal",registrationVendor:"LoginRadius"},ACCOUNT_DELETE_CONFIRM:{eventName:"nexstar/login-registration/account-delete-confirm",source:"delete-account-flow",uxDescription:"Delete Account Confirmed",uxType:"form",featureDescription:"Delete Account Form Submitted",registrationVendor:"LoginRadius"},ACCOUNT_DELETE_SUCCESS:{eventName:"nexstar/login-registration/account-delete-success",source:"delete-account-flow",uxDescription:"Account Successfully Deleted",uxType:"form",featureDescription:"Account Deletion Completed",registrationVendor:"LoginRadius"}}},8686:function(t,e,n){var r=n(3724),o=n(9039);t.exports=r&&o(function(){return 42!==Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype})},8721:function(t,e,n){var r=n(3724),o=n(9504),i=n(2106),a=URLSearchParams.prototype,s=o(a.forEach);r&&!("size"in a)&&i(a,"size",{get:function(){var t=0;return s(this,function(){t++}),t},configurable:!0,enumerable:!0})},8727:function(t){t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},8773:function(t,e){var n={}.propertyIsEnumerable,r=Object.getOwnPropertyDescriptor,o=r&&!n.call({1:2},1);e.f=o?function(t){var e=r(this,t);return!!e&&e.enumerable}:n},8981:function(t,e,n){var r=n(7750),o=Object;t.exports=function(t){return o(r(t))}},9039:function(t){t.exports=function(t){try{return!!t()}catch(t){return!0}}},9143:function(t,e,n){var r=n(4576),o=n(9504),i=n(3972),a=n(3463),s=n(9297),c=n(2804),u=n(944),l=n(5169),f=c.c2i,d=c.c2iUrl,p=r.SyntaxError,h=r.TypeError,g=o("".charAt),m=function(t,e){for(var n=t.length;e<n;e++){var r=g(t,e);if(" "!==r&&"\t"!==r&&"\n"!==r&&"\f"!==r&&"\r"!==r)break}return e},E=function(t,e,n){var r=t.length;r<4&&(t+=2===r?"AA":"A");var o=(e[g(t,0)]<<18)+(e[g(t,1)]<<12)+(e[g(t,2)]<<6)+e[g(t,3)],i=[o>>16&255,o>>8&255,255&o];if(2===r){if(n&&0!==i[1])throw new p("Extra bits");return[i[0]]}if(3===r){if(n&&0!==i[2])throw new p("Extra bits");return[i[0],i[1]]}return i},y=function(t,e,n){for(var r=e.length,o=0;o<r;o++)t[n+o]=e[o];return n+r};t.exports=function(t,e,n,r){a(t),i(e);var o="base64"===u(e)?f:d,c=e?e.lastChunkHandling:void 0;if(void 0===c&&(c="loose"),"loose"!==c&&"strict"!==c&&"stop-before-partial"!==c)throw new h("Incorrect `lastChunkHandling` option");n&&l(n.buffer);var _=n||[],T=0,S=0,v="",A=0;if(r)for(;;){if((A=m(t,A))===t.length){if(v.length>0){if("stop-before-partial"===c)break;if("loose"!==c)throw new p("Missing padding");if(1===v.length)throw new p("Malformed padding: exactly one additional character");T=y(_,E(v,o,!1),T)}S=t.length;break}var w=g(t,A);if(++A,"="===w){if(v.length<2)throw new p("Padding is too early");if(A=m(t,A),2===v.length){if(A===t.length){if("stop-before-partial"===c)break;throw new p("Malformed padding: only one =")}"="===g(t,A)&&(++A,A=m(t,A))}if(A<t.length)throw new p("Unexpected character after padding");T=y(_,E(v,o,"strict"===c),T),S=t.length;break}if(!s(o,w))throw new p("Unexpected character");var L=r-T;if(1===L&&2===v.length||2===L&&3===v.length)break;if(4===(v+=w).length&&(T=y(_,E(v,o,!1),T),v="",S=A,T===r))break}return{bytes:_,read:S,written:T}}},9297:function(t,e,n){var r=n(9504),o=n(8981),i=r({}.hasOwnProperty);t.exports=Object.hasOwn||function(t,e){return i(o(t),e)}},9306:function(t,e,n){var r=n(4901),o=n(6823),i=TypeError;t.exports=function(t){if(r(t))return t;throw new i(o(t)+" is not a function")}},9418:function(t,e,n){n.d(e,{A:function(){return nt}});const{entries:r,setPrototypeOf:o,isFrozen:i,getPrototypeOf:a,getOwnPropertyDescriptor:s}=Object;let{freeze:c,seal:u,create:l}=Object,{apply:f,construct:d}="undefined"!=typeof Reflect&&Reflect;c||(c=function(t){return t}),u||(u=function(t){return t}),f||(f=function(t,e,n){return t.apply(e,n)}),d||(d=function(t,e){return new t(...e)});const p=x(Array.prototype.forEach),h=x(Array.prototype.lastIndexOf),g=x(Array.prototype.pop),m=x(Array.prototype.push),E=x(Array.prototype.splice),y=x(String.prototype.toLowerCase),_=x(String.prototype.toString),T=x(String.prototype.match),S=x(String.prototype.replace),v=x(String.prototype.indexOf),A=x(String.prototype.trim),w=x(Object.prototype.hasOwnProperty),L=x(RegExp.prototype.test),O=(I=TypeError,function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return d(I,e)});var I;function x(t){return function(e){e instanceof RegExp&&(e.lastIndex=0);for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return f(t,e,r)}}function N(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:y;o&&o(t,null);let r=e.length;for(;r--;){let o=e[r];if("string"==typeof o){const t=n(o);t!==o&&(i(e)||(e[r]=t),o=t)}t[o]=!0}return t}function P(t){for(let e=0;e<t.length;e++)w(t,e)||(t[e]=null);return t}function R(t){const e=l(null);for(const[n,o]of r(t))w(t,n)&&(Array.isArray(o)?e[n]=P(o):o&&"object"==typeof o&&o.constructor===Object?e[n]=R(o):e[n]=o);return e}function b(t,e){for(;null!==t;){const n=s(t,e);if(n){if(n.get)return x(n.get);if("function"==typeof n.value)return x(n.value)}t=a(t)}return function(){return null}}const M=c(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),C=c(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),D=c(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),U=c(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),k=c(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),B=c(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),F=c(["#text"]),G=c(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),H=c(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),V=c(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),j=c(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),K=u(/\{\{[\w\W]*|[\w\W]*\}\}/gm),z=u(/<%[\w\W]*|[\w\W]*%>/gm),Y=u(/\$\{[\w\W]*/gm),W=u(/^data-[\-\w.\u00B7-\uFFFF]+$/),q=u(/^aria-[\-\w]+$/),$=u(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),X=u(/^(?:\w+script|data):/i),J=u(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),Z=u(/^html$/i),Q=u(/^[a-z][.\w]*(-[.\w]+)+$/i);var tt=Object.freeze({__proto__:null,ARIA_ATTR:q,ATTR_WHITESPACE:J,CUSTOM_ELEMENT:Q,DATA_ATTR:W,DOCTYPE_NAME:Z,ERB_EXPR:z,IS_ALLOWED_URI:$,IS_SCRIPT_OR_DATA:X,MUSTACHE_EXPR:K,TMPLIT_EXPR:Y});const et=function(){return"undefined"==typeof window?null:window};var nt=function t(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:et();const n=e=>t(e);if(n.version="3.2.6",n.removed=[],!e||!e.document||9!==e.document.nodeType||!e.Element)return n.isSupported=!1,n;let{document:o}=e;const i=o,a=i.currentScript,{DocumentFragment:s,HTMLTemplateElement:u,Node:f,Element:d,NodeFilter:I,NamedNodeMap:x=e.NamedNodeMap||e.MozNamedAttrMap,HTMLFormElement:P,DOMParser:K,trustedTypes:z}=e,Y=d.prototype,W=b(Y,"cloneNode"),q=b(Y,"remove"),X=b(Y,"nextSibling"),J=b(Y,"childNodes"),Q=b(Y,"parentNode");if("function"==typeof u){const t=o.createElement("template");t.content&&t.content.ownerDocument&&(o=t.content.ownerDocument)}let nt,rt="";const{implementation:ot,createNodeIterator:it,createDocumentFragment:at,getElementsByTagName:st}=o,{importNode:ct}=i;let ut={afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]};n.isSupported="function"==typeof r&&"function"==typeof Q&&ot&&void 0!==ot.createHTMLDocument;const{MUSTACHE_EXPR:lt,ERB_EXPR:ft,TMPLIT_EXPR:dt,DATA_ATTR:pt,ARIA_ATTR:ht,IS_SCRIPT_OR_DATA:gt,ATTR_WHITESPACE:mt,CUSTOM_ELEMENT:Et}=tt;let{IS_ALLOWED_URI:yt}=tt,_t=null;const Tt=N({},[...M,...C,...D,...k,...F]);let St=null;const vt=N({},[...G,...H,...V,...j]);let At=Object.seal(l(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),wt=null,Lt=null,Ot=!0,It=!0,xt=!1,Nt=!0,Pt=!1,Rt=!0,bt=!1,Mt=!1,Ct=!1,Dt=!1,Ut=!1,kt=!1,Bt=!0,Ft=!1,Gt=!0,Ht=!1,Vt={},jt=null;const Kt=N({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let zt=null;const Yt=N({},["audio","video","img","source","image","track"]);let Wt=null;const qt=N({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),$t="http://www.w3.org/1998/Math/MathML",Xt="http://www.w3.org/2000/svg",Jt="http://www.w3.org/1999/xhtml";let Zt=Jt,Qt=!1,te=null;const ee=N({},[$t,Xt,Jt],_);let ne=N({},["mi","mo","mn","ms","mtext"]),re=N({},["annotation-xml"]);const oe=N({},["title","style","font","a","script"]);let ie=null;const ae=["application/xhtml+xml","text/html"];let se=null,ce=null;const ue=o.createElement("form"),le=function(t){return t instanceof RegExp||t instanceof Function},fe=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!ce||ce!==t){if(t&&"object"==typeof t||(t={}),t=R(t),ie=-1===ae.indexOf(t.PARSER_MEDIA_TYPE)?"text/html":t.PARSER_MEDIA_TYPE,se="application/xhtml+xml"===ie?_:y,_t=w(t,"ALLOWED_TAGS")?N({},t.ALLOWED_TAGS,se):Tt,St=w(t,"ALLOWED_ATTR")?N({},t.ALLOWED_ATTR,se):vt,te=w(t,"ALLOWED_NAMESPACES")?N({},t.ALLOWED_NAMESPACES,_):ee,Wt=w(t,"ADD_URI_SAFE_ATTR")?N(R(qt),t.ADD_URI_SAFE_ATTR,se):qt,zt=w(t,"ADD_DATA_URI_TAGS")?N(R(Yt),t.ADD_DATA_URI_TAGS,se):Yt,jt=w(t,"FORBID_CONTENTS")?N({},t.FORBID_CONTENTS,se):Kt,wt=w(t,"FORBID_TAGS")?N({},t.FORBID_TAGS,se):R({}),Lt=w(t,"FORBID_ATTR")?N({},t.FORBID_ATTR,se):R({}),Vt=!!w(t,"USE_PROFILES")&&t.USE_PROFILES,Ot=!1!==t.ALLOW_ARIA_ATTR,It=!1!==t.ALLOW_DATA_ATTR,xt=t.ALLOW_UNKNOWN_PROTOCOLS||!1,Nt=!1!==t.ALLOW_SELF_CLOSE_IN_ATTR,Pt=t.SAFE_FOR_TEMPLATES||!1,Rt=!1!==t.SAFE_FOR_XML,bt=t.WHOLE_DOCUMENT||!1,Dt=t.RETURN_DOM||!1,Ut=t.RETURN_DOM_FRAGMENT||!1,kt=t.RETURN_TRUSTED_TYPE||!1,Ct=t.FORCE_BODY||!1,Bt=!1!==t.SANITIZE_DOM,Ft=t.SANITIZE_NAMED_PROPS||!1,Gt=!1!==t.KEEP_CONTENT,Ht=t.IN_PLACE||!1,yt=t.ALLOWED_URI_REGEXP||$,Zt=t.NAMESPACE||Jt,ne=t.MATHML_TEXT_INTEGRATION_POINTS||ne,re=t.HTML_INTEGRATION_POINTS||re,At=t.CUSTOM_ELEMENT_HANDLING||{},t.CUSTOM_ELEMENT_HANDLING&&le(t.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(At.tagNameCheck=t.CUSTOM_ELEMENT_HANDLING.tagNameCheck),t.CUSTOM_ELEMENT_HANDLING&&le(t.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(At.attributeNameCheck=t.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),t.CUSTOM_ELEMENT_HANDLING&&"boolean"==typeof t.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements&&(At.allowCustomizedBuiltInElements=t.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Pt&&(It=!1),Ut&&(Dt=!0),Vt&&(_t=N({},F),St=[],!0===Vt.html&&(N(_t,M),N(St,G)),!0===Vt.svg&&(N(_t,C),N(St,H),N(St,j)),!0===Vt.svgFilters&&(N(_t,D),N(St,H),N(St,j)),!0===Vt.mathMl&&(N(_t,k),N(St,V),N(St,j))),t.ADD_TAGS&&(_t===Tt&&(_t=R(_t)),N(_t,t.ADD_TAGS,se)),t.ADD_ATTR&&(St===vt&&(St=R(St)),N(St,t.ADD_ATTR,se)),t.ADD_URI_SAFE_ATTR&&N(Wt,t.ADD_URI_SAFE_ATTR,se),t.FORBID_CONTENTS&&(jt===Kt&&(jt=R(jt)),N(jt,t.FORBID_CONTENTS,se)),Gt&&(_t["#text"]=!0),bt&&N(_t,["html","head","body"]),_t.table&&(N(_t,["tbody"]),delete wt.tbody),t.TRUSTED_TYPES_POLICY){if("function"!=typeof t.TRUSTED_TYPES_POLICY.createHTML)throw O('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if("function"!=typeof t.TRUSTED_TYPES_POLICY.createScriptURL)throw O('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');nt=t.TRUSTED_TYPES_POLICY,rt=nt.createHTML("")}else void 0===nt&&(nt=function(t,e){if("object"!=typeof t||"function"!=typeof t.createPolicy)return null;let n=null;const r="data-tt-policy-suffix";e&&e.hasAttribute(r)&&(n=e.getAttribute(r));const o="dompurify"+(n?"#"+n:"");try{return t.createPolicy(o,{createHTML(t){return t},createScriptURL(t){return t}})}catch(t){return console.warn("TrustedTypes policy "+o+" could not be created."),null}}(z,a)),null!==nt&&"string"==typeof rt&&(rt=nt.createHTML(""));c&&c(t),ce=t}},de=N({},[...C,...D,...U]),pe=N({},[...k,...B]),he=function(t){m(n.removed,{element:t});try{Q(t).removeChild(t)}catch(e){q(t)}},ge=function(t,e){try{m(n.removed,{attribute:e.getAttributeNode(t),from:e})}catch(t){m(n.removed,{attribute:null,from:e})}if(e.removeAttribute(t),"is"===t)if(Dt||Ut)try{he(e)}catch(t){}else try{e.setAttribute(t,"")}catch(t){}},me=function(t){let e=null,n=null;if(Ct)t="<remove></remove>"+t;else{const e=T(t,/^[\r\n\t ]+/);n=e&&e[0]}"application/xhtml+xml"===ie&&Zt===Jt&&(t='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+t+"</body></html>");const r=nt?nt.createHTML(t):t;if(Zt===Jt)try{e=(new K).parseFromString(r,ie)}catch(t){}if(!e||!e.documentElement){e=ot.createDocument(Zt,"template",null);try{e.documentElement.innerHTML=Qt?rt:r}catch(t){}}const i=e.body||e.documentElement;return t&&n&&i.insertBefore(o.createTextNode(n),i.childNodes[0]||null),Zt===Jt?st.call(e,bt?"html":"body")[0]:bt?e.documentElement:i},Ee=function(t){return it.call(t.ownerDocument||t,t,I.SHOW_ELEMENT|I.SHOW_COMMENT|I.SHOW_TEXT|I.SHOW_PROCESSING_INSTRUCTION|I.SHOW_CDATA_SECTION,null)},ye=function(t){return t instanceof P&&("string"!=typeof t.nodeName||"string"!=typeof t.textContent||"function"!=typeof t.removeChild||!(t.attributes instanceof x)||"function"!=typeof t.removeAttribute||"function"!=typeof t.setAttribute||"string"!=typeof t.namespaceURI||"function"!=typeof t.insertBefore||"function"!=typeof t.hasChildNodes)},_e=function(t){return"function"==typeof f&&t instanceof f};function Te(t,e,r){p(t,t=>{t.call(n,e,r,ce)})}const Se=function(t){let e=null;if(Te(ut.beforeSanitizeElements,t,null),ye(t))return he(t),!0;const r=se(t.nodeName);if(Te(ut.uponSanitizeElement,t,{tagName:r,allowedTags:_t}),Rt&&t.hasChildNodes()&&!_e(t.firstElementChild)&&L(/<[/\w!]/g,t.innerHTML)&&L(/<[/\w!]/g,t.textContent))return he(t),!0;if(7===t.nodeType)return he(t),!0;if(Rt&&8===t.nodeType&&L(/<[/\w]/g,t.data))return he(t),!0;if(!_t[r]||wt[r]){if(!wt[r]&&Ae(r)){if(At.tagNameCheck instanceof RegExp&&L(At.tagNameCheck,r))return!1;if(At.tagNameCheck instanceof Function&&At.tagNameCheck(r))return!1}if(Gt&&!jt[r]){const e=Q(t)||t.parentNode,n=J(t)||t.childNodes;if(n&&e)for(let r=n.length-1;r>=0;--r){const o=W(n[r],!0);o.__removalCount=(t.__removalCount||0)+1,e.insertBefore(o,X(t))}}return he(t),!0}return t instanceof d&&!function(t){let e=Q(t);e&&e.tagName||(e={namespaceURI:Zt,tagName:"template"});const n=y(t.tagName),r=y(e.tagName);return!!te[t.namespaceURI]&&(t.namespaceURI===Xt?e.namespaceURI===Jt?"svg"===n:e.namespaceURI===$t?"svg"===n&&("annotation-xml"===r||ne[r]):Boolean(de[n]):t.namespaceURI===$t?e.namespaceURI===Jt?"math"===n:e.namespaceURI===Xt?"math"===n&&re[r]:Boolean(pe[n]):t.namespaceURI===Jt?!(e.namespaceURI===Xt&&!re[r])&&!(e.namespaceURI===$t&&!ne[r])&&!pe[n]&&(oe[n]||!de[n]):!("application/xhtml+xml"!==ie||!te[t.namespaceURI]))}(t)?(he(t),!0):"noscript"!==r&&"noembed"!==r&&"noframes"!==r||!L(/<\/no(script|embed|frames)/i,t.innerHTML)?(Pt&&3===t.nodeType&&(e=t.textContent,p([lt,ft,dt],t=>{e=S(e,t," ")}),t.textContent!==e&&(m(n.removed,{element:t.cloneNode()}),t.textContent=e)),Te(ut.afterSanitizeElements,t,null),!1):(he(t),!0)},ve=function(t,e,n){if(Bt&&("id"===e||"name"===e)&&(n in o||n in ue))return!1;if(It&&!Lt[e]&&L(pt,e));else if(Ot&&L(ht,e));else if(!St[e]||Lt[e]){if(!(Ae(t)&&(At.tagNameCheck instanceof RegExp&&L(At.tagNameCheck,t)||At.tagNameCheck instanceof Function&&At.tagNameCheck(t))&&(At.attributeNameCheck instanceof RegExp&&L(At.attributeNameCheck,e)||At.attributeNameCheck instanceof Function&&At.attributeNameCheck(e))||"is"===e&&At.allowCustomizedBuiltInElements&&(At.tagNameCheck instanceof RegExp&&L(At.tagNameCheck,n)||At.tagNameCheck instanceof Function&&At.tagNameCheck(n))))return!1}else if(Wt[e]);else if(L(yt,S(n,mt,"")));else if("src"!==e&&"xlink:href"!==e&&"href"!==e||"script"===t||0!==v(n,"data:")||!zt[t])if(xt&&!L(gt,S(n,mt,"")));else if(n)return!1;return!0},Ae=function(t){return"annotation-xml"!==t&&T(t,Et)},we=function(t){Te(ut.beforeSanitizeAttributes,t,null);const{attributes:e}=t;if(!e||ye(t))return;const r={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:St,forceKeepAttr:void 0};let o=e.length;for(;o--;){const i=e[o],{name:a,namespaceURI:s,value:c}=i,u=se(a),l=c;let f="value"===a?l:A(l);if(r.attrName=u,r.attrValue=f,r.keepAttr=!0,r.forceKeepAttr=void 0,Te(ut.uponSanitizeAttribute,t,r),f=r.attrValue,!Ft||"id"!==u&&"name"!==u||(ge(a,t),f="user-content-"+f),Rt&&L(/((--!?|])>)|<\/(style|title)/i,f)){ge(a,t);continue}if(r.forceKeepAttr)continue;if(!r.keepAttr){ge(a,t);continue}if(!Nt&&L(/\/>/i,f)){ge(a,t);continue}Pt&&p([lt,ft,dt],t=>{f=S(f,t," ")});const d=se(t.nodeName);if(ve(d,u,f)){if(nt&&"object"==typeof z&&"function"==typeof z.getAttributeType)if(s);else switch(z.getAttributeType(d,u)){case"TrustedHTML":f=nt.createHTML(f);break;case"TrustedScriptURL":f=nt.createScriptURL(f)}if(f!==l)try{s?t.setAttributeNS(s,a,f):t.setAttribute(a,f),ye(t)?he(t):g(n.removed)}catch(e){ge(a,t)}}else ge(a,t)}Te(ut.afterSanitizeAttributes,t,null)},Le=function t(e){let n=null;const r=Ee(e);for(Te(ut.beforeSanitizeShadowDOM,e,null);n=r.nextNode();)Te(ut.uponSanitizeShadowNode,n,null),Se(n),we(n),n.content instanceof s&&t(n.content);Te(ut.afterSanitizeShadowDOM,e,null)};return n.sanitize=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=null,o=null,a=null,c=null;if(Qt=!t,Qt&&(t="\x3c!--\x3e"),"string"!=typeof t&&!_e(t)){if("function"!=typeof t.toString)throw O("toString is not a function");if("string"!=typeof(t=t.toString()))throw O("dirty is not a string, aborting")}if(!n.isSupported)return t;if(Mt||fe(e),n.removed=[],"string"==typeof t&&(Ht=!1),Ht){if(t.nodeName){const e=se(t.nodeName);if(!_t[e]||wt[e])throw O("root node is forbidden and cannot be sanitized in-place")}}else if(t instanceof f)r=me("\x3c!----\x3e"),o=r.ownerDocument.importNode(t,!0),1===o.nodeType&&"BODY"===o.nodeName||"HTML"===o.nodeName?r=o:r.appendChild(o);else{if(!Dt&&!Pt&&!bt&&-1===t.indexOf("<"))return nt&&kt?nt.createHTML(t):t;if(r=me(t),!r)return Dt?null:kt?rt:""}r&&Ct&&he(r.firstChild);const u=Ee(Ht?t:r);for(;a=u.nextNode();)Se(a),we(a),a.content instanceof s&&Le(a.content);if(Ht)return t;if(Dt){if(Ut)for(c=at.call(r.ownerDocument);r.firstChild;)c.appendChild(r.firstChild);else c=r;return(St.shadowroot||St.shadowrootmode)&&(c=ct.call(i,c,!0)),c}let l=bt?r.outerHTML:r.innerHTML;return bt&&_t["!doctype"]&&r.ownerDocument&&r.ownerDocument.doctype&&r.ownerDocument.doctype.name&&L(Z,r.ownerDocument.doctype.name)&&(l="<!DOCTYPE "+r.ownerDocument.doctype.name+">\n"+l),Pt&&p([lt,ft,dt],t=>{l=S(l,t," ")}),nt&&kt?nt.createHTML(l):l},n.setConfig=function(){fe(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}),Mt=!0},n.clearConfig=function(){ce=null,Mt=!1},n.isValidAttribute=function(t,e,n){ce||fe({});const r=se(t),o=se(e);return ve(r,o,n)},n.addHook=function(t,e){"function"==typeof e&&m(ut[t],e)},n.removeHook=function(t,e){if(void 0!==e){const n=h(ut[t],e);return-1===n?void 0:E(ut[t],n,1)[0]}return g(ut[t])},n.removeHooks=function(t){ut[t]=[]},n.removeAllHooks=function(){ut={afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}},n}()},9429:function(t,e,n){var r=n(4576),o=n(6193);t.exports=function(t){if(o){try{return r.process.getBuiltinModule(t)}catch(t){}try{return Function('return require("'+t+'")')()}catch(t){}}}},9433:function(t,e,n){var r=n(4576),o=Object.defineProperty;t.exports=function(t,e){try{o(r,t,{value:e,configurable:!0,writable:!0})}catch(n){r[t]=e}return e}},9504:function(t,e,n){var r=n(616),o=Function.prototype,i=o.call,a=r&&o.bind.bind(i,i);t.exports=r?a:function(t){return function(){return i.apply(t,arguments)}}},9519:function(t,e,n){var r,o,i=n(4576),a=n(2839),s=i.process,c=i.Deno,u=s&&s.versions||c&&c.version,l=u&&u.v8;l&&(o=(r=l.split("."))[0]>0&&r[0]<4?1:+(r[0]+r[1])),!o&&a&&(!(r=a.match(/Edge\/(\d+)/))||r[1]>=74)&&(r=a.match(/Chrome\/(\d+)/))&&(o=+r[1]),t.exports=o},9539:function(t,e,n){var r=n(9565),o=n(8551),i=n(5966);t.exports=function(t,e,n){var a,s;o(t);try{if(!(a=i(t,"return"))){if("throw"===e)throw n;return n}a=r(a,t)}catch(t){s=!0,a=t}if("throw"===e)throw n;if(s)throw a;return o(a),n}},9565:function(t,e,n){var r=n(616),o=Function.prototype.call;t.exports=r?o.bind(o):function(){return o.apply(o,arguments)}},9577:function(t,e,n){var r=n(9928),o=n(4644),i=n(1108),a=n(1291),s=n(5854),c=o.aTypedArray,u=o.getTypedArrayConstructor,l=o.exportTypedArrayMethod,f=function(){try{new Int8Array(1).with(2,{valueOf:function(){throw 8}})}catch(t){return 8===t}}(),d=f&&function(){try{new Int8Array(1).with(-.5,1)}catch(t){return!0}}();l("with",{with:function(t,e){var n=c(this),o=a(t),l=i(n)?s(e):+e;return r(n,u(n),o,l)}}.with,!f||d)},9617:function(t,e,n){var r=n(5397),o=n(5610),i=n(6198),a=function(t){return function(e,n,a){var s=r(e),c=i(s);if(0===c)return!t&&-1;var u,l=o(a,c);if(t&&n!=n){for(;c>l;)if((u=s[l++])!=u)return!0}else for(;c>l;l++)if((t||l in s)&&s[l]===n)return t||l||0;return!t&&-1}};t.exports={includes:a(!0),indexOf:a(!1)}},9631:function(t,e,n){var r=n(6518),o=n(4576),i=n(9504),a=n(3972),s=n(4154),c=n(5169),u=n(2804),l=n(944),f=u.i2c,d=u.i2cUrl,p=i("".charAt),h=o.Uint8Array,g=!h||!h.prototype.toBase64||!function(){try{(new h).toBase64(null)}catch(t){return!0}}();h&&r({target:"Uint8Array",proto:!0,forced:g},{toBase64:function(){var t=s(this),e=arguments.length?a(arguments[0]):void 0,n="base64"===l(e)?f:d,r=!!e&&!!e.omitPadding;c(this.buffer);for(var o,i="",u=0,h=t.length,g=function(t){return p(n,o>>6*t&63)};u+2<h;u+=3)o=(t[u]<<16)+(t[u+1]<<8)+t[u+2],i+=g(3)+g(2)+g(1)+g(0);return u+2===h?(o=(t[u]<<16)+(t[u+1]<<8),i+=g(3)+g(2)+g(1)+(r?"":"=")):u+1===h&&(o=t[u]<<16,i+=g(3)+g(2)+(r?"":"==")),i}})},9797:function(t,e,n){var r=n(6518),o=n(4576),i=n(3463),a=n(4154),s=n(5169),c=n(2303);o.Uint8Array&&r({target:"Uint8Array",proto:!0},{setFromHex:function(t){a(this),i(t),s(this.buffer);var e=c(t,this).read;return{read:e,written:e/2}}})},9928:function(t,e,n){var r=n(6198),o=n(1291),i=RangeError;t.exports=function(t,e,n,a){var s=r(t),c=o(n),u=c<0?s+c:c;if(u>=s||u<0)throw new i("Incorrect index");for(var l=new e(s),f=0;f<s;f++)l[f]=f===u?a:t[f];return l}}},e={};function n(r){var o=e[r];if(void 0!==o)return o.exports;var i=e[r]={exports:{}};return t[r].call(i.exports,i,i.exports,n),i.exports}n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,{a:e}),e},n.d=function(t,e){for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n(8335),n(4603),n(7566),n(8721);var r=n(9418),o=n(4711),i=n(1577),a=n(2587),s=n(6834);function c(){const t=(0,s.tK)();if(!t?.expires_at)return null;const e=new Date(t.expires_at).getTime();if(isNaN(e))return null;if(i.P.DEBUG_MODE){const n=new Date(e),r=new Date,o=e-r.getTime(),i=Math.floor(o/864e5);console.debug("Token expiry debug:",{expires_at:t.expires_at,expiryTimestamp:e,expiryDate:n.toISOString(),now:r.toISOString(),timeUntilExpiry:o,daysUntilExpiry:i})}return e}function u(){const t=c();return!!t&&t-Date.now()>24*((i.P.REFRESH_TOKEN_DAYS_BEFORE_EXPIRY||7)-1)*60*60*1e3}class l{static EXPIRY_BUFFER_MS=3e5;refreshTimer=null;isRefreshing=!1;maxRetries=3;constructor(t){this.restURLs=t,this.scheduleTokenRefresh(),document.addEventListener("visibilitychange",()=>{document.hidden||this.scheduleTokenRefresh()}),document.addEventListener("nexstar/auth/token/updated",()=>{setTimeout(()=>{this.scheduleTokenRefresh()},50)})}shouldRefreshToken(){const t=c();return!!t&&t-Date.now()<=24*(i.P.REFRESH_TOKEN_DAYS_BEFORE_EXPIRY||7)*60*60*1e3}scheduleTokenRefresh(t=0){if(!i.P.REFRESH_TOKEN_ENABLED)return void(i.P.DEBUG_MODE&&console.debug("Token refresh is disabled, skipping"));if(this.clearRefreshTimer(),!(0,s.qo)())return 0===t?void setTimeout(()=>{this.scheduleTokenRefresh(1)},200):void 0;if(function(t=3e5){const e=c();return!e||Date.now()>=e-t}(l.EXPIRY_BUFFER_MS)&&!u())return void this.refreshAccessToken();if(!this.shouldRefreshToken())return;const e=function(){const t=c();if(!t)return null;const e=Date.now(),n=t-24*(i.P.REFRESH_TOKEN_DAYS_BEFORE_EXPIRY||7)*60*60*1e3-e;return n>0?n:0}();if(null===e||0>=e){if(u()){const t=c(),e=i.P.REFRESH_TOKEN_DAYS_BEFORE_EXPIRY||7,n=t?t-Date.now()-24*e*60*60*1e3:null;return void(n&&n>0&&(this.refreshTimer=setTimeout(()=>{this.refreshAccessToken()},n)))}this.refreshAccessToken()}else this.refreshTimer=setTimeout(()=>{this.refreshAccessToken()},e)}async refreshAccessToken(t=0){if(i.P.REFRESH_TOKEN_ENABLED)if(this.isRefreshing)i.P.DEBUG_MODE&&console.debug("Refresh already in progress, skipping");else if(this.shouldRefreshToken()){this.isRefreshing=!0;try{const t=(0,s.qo)();if(!t)throw new Error("No access token available for refresh");const e=await fetch(this.restURLs.refresh_token,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({access_token:t})});if(!e.ok){const t=await e.json().catch(()=>({}));throw new Error(t.message||`HTTP ${e.status}`)}const n=await e.json();if(!n.access_token)throw new Error("No access token in refresh response");(0,s.Sq)(n.access_token,n.account_id);try{const t=new CustomEvent("nexstar/auth/token/refreshed",{detail:{accessToken:n.access_token,accountId:n.account_id}});document.dispatchEvent(t)}catch(t){console.error("Failed to dispatch refreshed event",t)}}catch(e){if(console.error("Token refresh failed:",e),t<this.maxRetries){const e=Math.min(1e3*Math.pow(2,t),3e4);i.P.DEBUG_MODE&&console.debug(`Retrying token refresh in ${e}ms (attempt ${t+1}/${this.maxRetries})`),setTimeout(()=>{this.refreshAccessToken(t+1)},e)}else console.error("Token refresh failed after max retries, clearing session"),(0,s.hM)()}finally{this.isRefreshing=!1}}else i.P.DEBUG_MODE&&console.debug("Token does not need refreshing, skipping API call");else i.P.DEBUG_MODE&&console.debug("Token refresh is disabled, skipping API call")}clearRefreshTimer(){this.refreshTimer&&(clearTimeout(this.refreshTimer),this.refreshTimer=null)}}const f=new class{initialize(){document.addEventListener("nexstar/auth/token/refreshed",t=>{(0,s.ZI)()&&t.detail?.accessToken&&this.updateSSOToken(t.detail.accessToken)}),document.addEventListener("nexstar/auth/token/updated",t=>{(0,s.ZI)()&&t.detail?.accessToken&&this.updateSSOToken(t.detail.accessToken)})}async updateSSOToken(t){try{const e=new URL(i.P.SSO_SET_TOKEN_URL);e.searchParams.set("token",t),e.searchParams.set("apikey",i.P.API_KEY),await fetch(e.toString(),{method:"GET",credentials:"omit"}),i.P.DEBUG_MODE&&console.debug("SSO token updated successfully")}catch(t){console.error("Failed to update SSO token:",t)}}};var d=n(5160);class p{static STORAGE_KEY=i.P.VALIDATE_LOGIN_STORAGE_KEY;static DEFAULT_VALIDATION_INTERVAL_MS=i.P.VALIDATE_LOGIN_DELAY;constructor(t,e){if(this.accessToken=t,this.loginRadiusSDKIntegration=e,!this.accessToken)throw new Error("Access token is required for LoginValidation.");this.validate()}async validate(){this.hasValidationExpired()&&await this.performValidation()}static storeLastValidationTimestamp(){try{const t=Date.now().toString();localStorage.setItem(p.STORAGE_KEY,t)}catch(t){console.warn("Failed to store validation timestamp:",t)}}static getLastValidationTimestamp(){try{const t=localStorage.getItem(p.STORAGE_KEY);if(!t)return null;const e=parseInt(t,10);return isNaN(e)?null:e}catch(t){return null}}static clearLastValidationTimestamp(){try{localStorage.removeItem(p.STORAGE_KEY)}catch(t){}}hasValidationExpired(){const t=p.getLastValidationTimestamp();return null===t||Date.now()-t>=p.DEFAULT_VALIDATION_INTERVAL_MS}async forceValidation(){return this.performValidation()}async performValidation(){let t,e=!1,n=null;try{n=await this.loginRadiusSDKIntegration.getSessionExpiration(this.accessToken),e=!!n}catch(e){console.error("Login validation failed:",e),t=e}return e&&n?(p.storeLastValidationTimestamp(),this.expiresIn=n,{isValid:!0,expiresIn:n,SessionExpiration:n}):(this.loginRadiusSDKIntegration.logOutSingleSite(),p.clearLastValidationTimestamp(),{isValid:!1,error:t})}}class h{constructor(t,e){this.lrManager=t,this.sdkIntegration=e,this.addListeners()}addListeners(){window.PersistentEvents.getData("nexstar/login-registration/signup/modal/open",0).then(t=>{Array.isArray(t)&&t.length>0&&this.openSignUpModal()}).finally(()=>{window.PersistentEvents.addListener("nexstar/login-registration/signup/modal/open",()=>{this.openSignUpModal()})}),window.PersistentEvents.getData("nexstar/login-registration/signup/modal/cancel",0).then(t=>{if(Array.isArray(t)&&t.length>0){const e=t[t.length-1],{cancelButton:n}=e;this.lrManager.cancelLoginModal(n)}}).finally(()=>{window.PersistentEvents.addListener("nexstar/login-registration/signup/modal/cancel",async t=>{const{cancelButton:e}=await t;this.lrManager.cancelLoginModal(e)})}),window.PersistentEvents.getData("nexstar/login-registration/form/submit",0).then(t=>{if(Array.isArray(t)&&t.length>0){const e=t[t.length-1];this.submitSignUpForm(e)}}).finally(()=>{window.PersistentEvents.addListener("nexstar/login-registration/form/submit",async t=>{this.submitSignUpForm(await t)})}),window.PersistentEvents.getData("nexstar/login-registration/form/reset",0).then(t=>{if(Array.isArray(t)&&t.length>0){const e=t[t.length-1];this.resetForm(e)}}).finally(()=>{window.PersistentEvents.addListener("nexstar/login-registration/form/reset",async t=>{this.resetForm(await t)})})}openSignUpModal(){this.lrManager.displayLoginModal(i.P.MODAL_STEPS.SIGN_UP)}async submitSignUpForm(t){const{mainWrapper:e,displayEmailCheckModal:n,uxOrigin:r}=t,o=e.querySelector('input[type="email"]'),i=e.querySelector(".email-error-message");await this.sdkIntegration.validateForm(o,i)&&(await this.sdkIntegration.submitForm(o,i,n,r),window.PersistentEvents.emit("nexstar/login-registration/form/submitted",{mainWrapper:e}))}resetForm(t){const{mainWrapper:e,uxOrigin:n}=t,r=e.querySelector("form");this.lrManager.resetFormHandler(r,n)}}window.domReady(()=>{const t=(0,s.yx)(),e=(0,s.yp)(i.P.LOGIN_PAGE_PATH);if(e){if(t)return void(0,s.FM)(i.P.ACCOUNT_PAGE_PATH);const e=new URL(window.location.href);e.searchParams.set("nxs-auth-redir",i.P.ACCOUNT_PAGE_PATH),window.history.replaceState({},"",r.A.sanitize(e.toString()))}new d.Ml(t,e?"LOGIN":"").initialize().then(()=>{const e=t?JSON.parse((0,s.Ri)(i.P.COOKIE_NAME)||"{}"):{};if(a.M.dispatchUserLoginStatusEvent(t,e),!window.login_registration)return void console.error("Login Registration: The global config from login/reg plugin is required.");const n=a.M.findLoginRegistrationElements();n||console.error("Required DOM elements not found for login registration functionality");const r=new o.I({startSiteProcess:window.login_registration.rest_urls.startSiteProcess,start_process:window.login_registration.rest_urls.start_process,"device/validate":window.login_registration.rest_urls["device/validate"]},i.P.APP_TO_APP_KEY,i.P.API_KEY,i.P.APP_NAME,i.P.DEBUG_MODE,window.login_registration.verification_url,window.login_registration.start_site_process_nonce,window.LoginRadiusSDK),c=new a.M(window.login_registration,n,r);new h(c,r),new l({refresh_token:window.login_registration.rest_urls.refresh_token}),t&&e.access_token&&new p(e.access_token,r).validate().catch(t=>{console.error("LoginValidation failed:",t)}),f.initialize(),window.PersistentEvents.emit("nexstar/login-registration/initialized",null)})})}();