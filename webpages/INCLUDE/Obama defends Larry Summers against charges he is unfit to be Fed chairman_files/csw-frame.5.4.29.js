(this.webpackJsonpCSW=this.webpackJsonpCSW||[]).push([[3],{73:function(e,t,s){"use strict";s.r(t);var a=s(3),i=s(0),r=s(1);class n extends a.b{constructor(e){super(e),this.wrap=document.createElement("div"),this.cssLinksArray=[],this.styles=null,this.frameRef=null,this.fPortal=null,this.fTopParent=null,this.frameLoadInterval=null,this.frameObserver=null,this.state={fPortalCreated:!1}}componentDidMount(){if(this.getFrameDocument()){this.frameLoadInterval=window.setInterval((()=>this.onFrameLoadInterval()),i.h.FrameLoadIntervalMS);let e=window;for(;e.parent&&e.parent!==e;)e=e.parent;this.fTopParent=e}}componentWillUnmount(){const e=this.getFrameDocument();if(e){window.removeEventListener("resize",(()=>this.frameAdaptiveListener())),window.removeEventListener("".concat(i.f).concat(i.i.ForceFrameResize),(()=>this.frameAdaptiveListener())),this.frameObserver&&this.frameObserver.disconnect&&this.frameObserver.disconnect();for(let t=0;t<this.cssLinksArray.length;t++)Object(r.mb)(this.cssLinksArray[t],e.head);Object(r.mb)(this.wrap,e.body),Object(r.mb)(this.styles,e.head)}this.frameRef=null}onFrameLoadInterval(){const{id:e,cssHrefs:t,headStyle:s,isResizable:a,stylePre:n}=this.props,o=this.getFrameDocument(),c=e=>{e.forEach((e=>{"childList"!==e.type&&"attributes"!==e.type||this.frameAdaptiveListener()}))};if(this.frameLoadInterval&&o&&"complete"===o.readyState){if(window.clearInterval(this.frameLoadInterval),Object(r.T)(t))for(let e=0;e<t.length;e++){const s=document.createElement("link");s.rel="stylesheet",s.href=t[e].href,s.id=t[e].id,this.cssLinksArray.push(s),o.head.appendChild(s)}if(s){const t=r.zb.sanitizeStyles(s);t&&(this.styles=document.createElement("style"),this.styles.id="".concat(n,"head-styles_").concat(e),this.styles.textContent="".concat(t),o.head.appendChild(this.styles))}this.wrap.id="".concat(n,"content-wrapper_").concat(e),this.wrap.className="".concat(n,"content-wrapper");const h="".concat(n,"html").concat(a?"-":"-not-","resizable");o.documentElement.className="".concat(n,"html ").concat(h),o.body.id="".concat(n,"body_").concat(e),o.body.className="".concat(n,"body"),o.body.appendChild(this.wrap);const l=()=>this.frameAdaptiveListener();window.addEventListener("resize",l,{passive:!0}),window.addEventListener("".concat(i.f).concat(i.i.ForceFrameResize),l,{passive:!0}),this.frameObserver=new MutationObserver(c),this.frameObserver.observe(this.wrap,{attributes:!0,childList:!0,characterData:!0,subtree:!0}),this.createFramePortal()}}getFrameDocument(){return this.frameRef?this.frameRef.contentDocument:null}addAdaptive(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window,t=arguments.length>1?arguments[1]:void 0,s=arguments.length>2?arguments[2]:void 0;if(e&&t&&s)try{const{innerWidth:a}=e,r=a<=i.B.XSm,n=a<=i.B.Sm,o=a>i.B.Sm&&a<=i.B.Md,c=a>i.B.Md,h=a>i.B.Lg&&a<=i.B.XLg,l=a>i.B.XLg,m=e=>"".concat(s,"view-").concat(e),d=(e,t,s)=>{if(!e)return;const a=t=>e.classList.toggle(t),i=(r=s,e.classList.contains(r));var r;t&&!i&&a(s),!t&&i&&a(s)};d(t,r,m("xs")),d(t,n,m("s")),d(t,o,m("m")),d(t,c,m("l")),d(t,h,m("xl")),d(t,l,m("xxl"))}catch(e){}}onFrameResize(){const{isResizable:e,instanceId:t,id:s}=this.props,a=this.getFrameDocument();if(e&&a&&this.frameRef){const e=this.wrap&&this.wrap.offsetHeight>0?this.wrap.offsetHeight:0;this.wrap&&(this.frameRef.height="".concat(e,"px"),Object(r.q)(t,this,i.i.FrameResize,!1,{height:e,frameId:s}))}}frameAdaptiveListener(){const{stylePre:e,isResizable:t}=this.props,s=this.getFrameDocument();if(s&&this.frameRef&&this.fTopParent){const a=()=>{this.addAdaptive(this.fTopParent,s.documentElement,e),t&&this.onFrameResize()};setTimeout(a,i.h.FrameResizeDelayMS),a()}}createFramePortal(){const{children:e}=this.props;this.fPortal||(this.fPortal=Object(a.e)(a.a.only(e),this.wrap),setTimeout((()=>{this.setState({fPortalCreated:!0})}),i.h.FramePortalInitDelayMS))}render(){const{id:e,name:t,style:s,className:i,title:r,isResizable:n,frameHeight:o}=this.props,{fPortalCreated:c}=this.state;return a.f.createElement("iframe",{id:e,name:t,style:s,className:i,title:r,"aria-label":r,height:n?0:o,ref:e=>this.frameRef=e},c&&this.frameRef&&this.fPortal)}}t.default=n}}]);
//# sourceMappingURL=csw-frame.5.4.29.js.map