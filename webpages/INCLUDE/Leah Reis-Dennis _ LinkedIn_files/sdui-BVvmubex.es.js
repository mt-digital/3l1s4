import{_m0 as e,reactExports as t,jsxRuntimeExports as r,oe as i,Long as n,$t as o,getCookieConsent as a,NON_ESSENTIAL_CATEGORIES as s,gc as l,useFloatingTree as c,go as u,debounce as d,ho as p,Xt as f,React as m,index as g,updateCookieConsent as h,useFloating as y,autoUpdate as b,size as x,FloatingPortal as S,ErrorBoundary as E,fromString as v,lodashIsEqual as T,po as N,throttle as _,In as k,ho$1 as I,ro as O,Er as C,bh as P,tt as R,se as w,na as A}from"./vendor-DnhT-zFH.es.js";import{dialogManager as $,getGameRef as L,DialogContent as M,DialogHeader as D,Heading as U,Loader as F,CameraBlockedDialog as j,PhotoPreviewDialog as B,Camera as V,DialogFooter as K,Box as W,Button as J,getCurrentMediaPlayerById as G,updateTextTracksToPlayer as z,ScrollingContext as H,colorScheme as q,soundManager as Y,Semaphore as X,SEMAPHORE_SCREEN_TYPE as Z,getFirstFocusableElement as Q,toastState as ee,toastManager as et,adManager as er,isElementFocusable as ei,Menu as en,Ad as eo,LottieAnimation as ea,Badge as es,ButtonBar as el,ButtonPopoverItem as ec,ButtonPopover as eu,ReactionButtonContext as ed,BREAKPOINTS as ep,Carousel as ef,Checkbox as em,mercadoTokenManager as eg,vars as eh,dateToString as ey,localeDataObj as eb,convertStringToLocaleKey as ex,FullDateSelect as eS,MonthYearSelect as eE,HelperText as ev,LabelText as eT,Dialog as eN,Row as e_,TextInput as ek,JsonInspector as eI,DesignSystemImage as eO,EmojiPickerBar as eC,EmojiPicker as eP,Coachmark as eR,FeatureIntro as ew,Radio as eA,FileUploader as e$,Image as eL,Text as eM,TextArea as eD,Select as eU,Option as eF,Label as ej,Column as eB,CircularProgressIndicator as eV,Body as eK,FloatingActionButton as eW,darkSchemeClass as eJ,GlobalAlertsContainer as eG,useLazyLoader as ez,googleSignInButtonWrapper as eH,googleSignInButtonReady as eq,GoogleSignInButton as eY,ImageGrid as eX,ImageStack as eZ,ImageViewer as eQ,Layout as e0,A11yMenu as e1,Layout$1 as e2,Link as e3,ListDetail as e4,useWorkspaceContext as e7,TypeaheadResultsContainer as e5,NavItem as e6,NavLinks as e8,OverlayBubble as e9,OverlayContainer as te,PaginationControls as tt,Divider as tr,ErrorState as ti,FiniteScroll as tn,Pill as to,Popover as ta,PrimaryNav as ts,progressIndicatorVars as tl,assignInlineVars as tc,LinearProgressIndicator as tu,RatingsBarDisplay as td,RatingsBarInput as tp,ReactionMenuItem as tf,ReactionButton as tm,FormElementContextProvider as tg,Slider as th,Tab as ty,Tabs as tb,TextEditor as tx,isLineClampNum as tS,EmailText as tE,expandButtonVars as tv,ExpandableTextV2 as tT,ExpandableText as tN,ToggleButton as t_,Toggle as tk,AccessibleButton as tI,GlobalTypeaheadContext as tO,supportsPopover as tC,TypeaheadInput as tP,Threadline as tR,DocumentPlayer as tw,seekTimeByPointerPosition as tA,calculatePlaybackPercentage as t$,MediaPlayerPlaybackState as tL,MediaPlayer as tM,Grid as tD,EmptyState as tU}from"./ui-B4rX4FMv.es.js";import{useRouter as tF,useCsrf as tj,useTrackingContext as tB,useInteropContext as tV,useTheme as tK,useTelemetryContext as tW,TracerSpanNames as tJ,fetchWithSpanContext as tG,getFetchHeaders as tz,comoCreateFromFetch as tH,createCompositeViewName as tq,decorateWebError as tY,AttributeNames as tX,manualFireDismiss as tZ,useLixContext as tQ,useI18n as t0,usePageLoadSpan as t1,BrowserCacheStore as t2,useLazyServerComponent as t3,RedirectError as t4,formatPageKey as t7,manualFireInteraction as t5,getRumMarker as t6,normalizeEndpoint as t8,useClientSensor as t9,useEventSourceServerComponent as re,durationToMilliseconds as rt,PREFETCH_CACHE_DEFAULT_TTL as rr,useServerRequestContext as ri,ClientSensorContext as rn,useActionTracking as ro,getTrackingDataAttributes as ra,useCustomIntersectionObserver as rs,useImpressionCache as rl,getCallbackForType as rc,registerCallbackForType as ru,useTrackingPositions as rd,useImpressionTracking as rp,TrackingMetadataProvider as rf,TrackingPositionProvider as rm,TrackingScopeProvider as rg,useTracedComponentSpanContext as rh,BROWSER_TRACER_SCOPE as ry,TracedComponentSpanContext as rb,TelemetryWrapper as rx,setLanguageCookieAndReload as rS,useFetchServerComponent as rE,WebError as rv}from"./como-DUpnsVmm.es.js";import{IMAGE_ID as rT,Sortable as rN,useSensors as r_,useSensor as rk,PointerSensor as rI,DndContext as rO,closestCenter as rC,SortableContext as rP,DragOverlay as rR,useSortable as rw,CSS as rA}from"./delux-sortable-BFTNYoGQ.es.js";function r$(e){return e?e.value?.$case==="id"?e.value.id:e.value?.$case==="prefixToExecutionId"?`${e.value.prefixToExecutionId}-${Math.random()}`:void 0:void 0}let rL=new Map;function rM(){return{$type:"proto.sdui.tracking.attribution.OnDeviceAttributionData",campaignId:0,creativeId:0}}let rD={$type:"proto.sdui.tracking.attribution.OnDeviceAttributionData",encode:(t,r=e.Writer.create())=>(0!==t.campaignId&&r.uint32(8).int32(t.campaignId),0!==t.creativeId&&r.uint32(16).int32(t.creativeId),void 0!==t.bidRequestId&&r.uint32(26).string(t.bidRequestId),void 0!==t.adExperimentUrn&&r.uint32(34).string(t.adExperimentUrn),void 0!==t.adLiftTestUrn&&r.uint32(42).string(t.adLiftTestUrn),void 0!==t.leadTrackingCode&&r.uint32(50).string(t.leadTrackingCode),void 0!==t.adServingUrn&&r.uint32(58).string(t.adServingUrn),void 0!==t.adExperimentPlatformResultsTokenUrn&&r.uint32(66).string(t.adExperimentPlatformResultsTokenUrn),void 0!==t.internalExperimentAssignmentKeyValuePairs&&r.uint32(74).bytes(t.internalExperimentAssignmentKeyValuePairs),r),decode(t,r){let i=t instanceof e.Reader?t:e.Reader.create(t),n=void 0===r?i.len:i.pos+r,o=rM();for(;i.pos<n;){let e=i.uint32();switch(e>>>3){case 1:if(8!==e)break;o.campaignId=i.int32();continue;case 2:if(16!==e)break;o.creativeId=i.int32();continue;case 3:if(26!==e)break;o.bidRequestId=i.string();continue;case 4:if(34!==e)break;o.adExperimentUrn=i.string();continue;case 5:if(42!==e)break;o.adLiftTestUrn=i.string();continue;case 6:if(50!==e)break;o.leadTrackingCode=i.string();continue;case 7:if(58!==e)break;o.adServingUrn=i.string();continue;case 8:if(66!==e)break;o.adExperimentPlatformResultsTokenUrn=i.string();continue;case 9:if(74!==e)break;o.internalExperimentAssignmentKeyValuePairs=i.bytes();continue}if((7&e)==4||0===e)break;i.skipType(7&e)}return o},fromJSON:e=>({$type:rD.$type,campaignId:rU(e.campaignId)?globalThis.Number(e.campaignId):0,creativeId:rU(e.creativeId)?globalThis.Number(e.creativeId):0,bidRequestId:rU(e.bidRequestId)?globalThis.String(e.bidRequestId):void 0,adExperimentUrn:rU(e.adExperimentUrn)?globalThis.String(e.adExperimentUrn):void 0,adLiftTestUrn:rU(e.adLiftTestUrn)?globalThis.String(e.adLiftTestUrn):void 0,leadTrackingCode:rU(e.leadTrackingCode)?globalThis.String(e.leadTrackingCode):void 0,adServingUrn:rU(e.adServingUrn)?globalThis.String(e.adServingUrn):void 0,adExperimentPlatformResultsTokenUrn:rU(e.adExperimentPlatformResultsTokenUrn)?globalThis.String(e.adExperimentPlatformResultsTokenUrn):void 0,internalExperimentAssignmentKeyValuePairs:rU(e.internalExperimentAssignmentKeyValuePairs)?function(e){if(globalThis.Buffer)return Uint8Array.from(globalThis.Buffer.from(e,"base64"));{let t=globalThis.atob(e),r=new Uint8Array(t.length);for(let e=0;e<t.length;++e)r[e]=t.charCodeAt(e);return r}}(e.internalExperimentAssignmentKeyValuePairs):void 0}),toJSON(e){let t={};return 0!==e.campaignId&&(t.campaignId=Math.round(e.campaignId)),0!==e.creativeId&&(t.creativeId=Math.round(e.creativeId)),void 0!==e.bidRequestId&&(t.bidRequestId=e.bidRequestId),void 0!==e.adExperimentUrn&&(t.adExperimentUrn=e.adExperimentUrn),void 0!==e.adLiftTestUrn&&(t.adLiftTestUrn=e.adLiftTestUrn),void 0!==e.leadTrackingCode&&(t.leadTrackingCode=e.leadTrackingCode),void 0!==e.adServingUrn&&(t.adServingUrn=e.adServingUrn),void 0!==e.adExperimentPlatformResultsTokenUrn&&(t.adExperimentPlatformResultsTokenUrn=e.adExperimentPlatformResultsTokenUrn),void 0!==e.internalExperimentAssignmentKeyValuePairs&&(t.internalExperimentAssignmentKeyValuePairs=function(e){if(globalThis.Buffer)return globalThis.Buffer.from(e).toString("base64");{let t=[];return e.forEach(e=>{t.push(globalThis.String.fromCharCode(e))}),globalThis.btoa(t.join(""))}}(e.internalExperimentAssignmentKeyValuePairs)),t},create:e=>rD.fromPartial(e??{}),fromPartial(e){let t=rM();return t.campaignId=e.campaignId??0,t.creativeId=e.creativeId??0,t.bidRequestId=e.bidRequestId??void 0,t.adExperimentUrn=e.adExperimentUrn??void 0,t.adLiftTestUrn=e.adLiftTestUrn??void 0,t.leadTrackingCode=e.leadTrackingCode??void 0,t.adServingUrn=e.adServingUrn??void 0,t.adExperimentPlatformResultsTokenUrn=e.adExperimentPlatformResultsTokenUrn??void 0,t.internalExperimentAssignmentKeyValuePairs=e.internalExperimentAssignmentKeyValuePairs??void 0,t}};function rU(e){return null!=e}function rF(){return{$type:"proto.sdui.tracking.sponsored.SponsoredUpdateTrackingMetadata",adTrackingCode:"",odaData:void 0,externalImpressionTrackingUrl:""}}rL.set(rD.$type,rD);let rj={$type:"proto.sdui.tracking.sponsored.SponsoredUpdateTrackingMetadata",encode:(t,r=e.Writer.create())=>(""!==t.adTrackingCode&&r.uint32(10).string(t.adTrackingCode),void 0!==t.odaData&&rD.encode(t.odaData,r.uint32(18).fork()).ldelim(),""!==t.externalImpressionTrackingUrl&&r.uint32(26).string(t.externalImpressionTrackingUrl),r),decode(t,r){let i=t instanceof e.Reader?t:e.Reader.create(t),n=void 0===r?i.len:i.pos+r,o=rF();for(;i.pos<n;){let e=i.uint32();switch(e>>>3){case 1:if(10!==e)break;o.adTrackingCode=i.string();continue;case 2:if(18!==e)break;o.odaData=rD.decode(i,i.uint32());continue;case 3:if(26!==e)break;o.externalImpressionTrackingUrl=i.string();continue}if((7&e)==4||0===e)break;i.skipType(7&e)}return o},fromJSON:e=>({$type:rj.$type,adTrackingCode:null!=e.adTrackingCode?globalThis.String(e.adTrackingCode):"",odaData:null!=e.odaData?rD.fromJSON(e.odaData):void 0,externalImpressionTrackingUrl:null!=e.externalImpressionTrackingUrl?globalThis.String(e.externalImpressionTrackingUrl):""}),toJSON(e){let t={};return""!==e.adTrackingCode&&(t.adTrackingCode=e.adTrackingCode),void 0!==e.odaData&&(t.odaData=rD.toJSON(e.odaData)),""!==e.externalImpressionTrackingUrl&&(t.externalImpressionTrackingUrl=e.externalImpressionTrackingUrl),t},create:e=>rj.fromPartial(e??{}),fromPartial(e){let t=rF();return t.adTrackingCode=e.adTrackingCode??"",t.odaData=void 0!==e.odaData&&null!==e.odaData?rD.fromPartial(e.odaData):void 0,t.externalImpressionTrackingUrl=e.externalImpressionTrackingUrl??"",t}};function rB(){return{$type:"proto.sdui.tracking.TrackingMetadata",value:void 0}}rL.set(rj.$type,rj);let rV={$type:"proto.sdui.tracking.TrackingMetadata",encode:(t,r=e.Writer.create())=>(t.value?.$case==="sponsoredData"&&rj.encode(t.value.sponsoredData,r.uint32(10).fork()).ldelim(),r),decode(t,r){let i=t instanceof e.Reader?t:e.Reader.create(t),n=void 0===r?i.len:i.pos+r,o=rB();for(;i.pos<n;){let e=i.uint32();switch(e>>>3){case 1:if(10!==e)break;o.value={$case:"sponsoredData",sponsoredData:rj.decode(i,i.uint32())};continue}if((7&e)==4||0===e)break;i.skipType(7&e)}return o},fromJSON:e=>({$type:rV.$type,value:null!=e.sponsoredData?{$case:"sponsoredData",sponsoredData:rj.fromJSON(e.sponsoredData)}:void 0}),toJSON(e){let t={};return e.value?.$case==="sponsoredData"&&(t.sponsoredData=rj.toJSON(e.value.sponsoredData)),t},create:e=>rV.fromPartial(e??{}),fromPartial(e){let t=rB();return e.value?.$case==="sponsoredData"&&e.value?.sponsoredData!==void 0&&e.value?.sponsoredData!==null&&(t.value={$case:"sponsoredData",sponsoredData:rj.fromPartial(e.value.sponsoredData)}),t}};function rK(){return{$type:"proto.sdui.components.core.SemanticPosition"}}rL.set(rV.$type,rV);let rW={$type:"proto.sdui.components.core.SemanticPosition",encode:(t,r=e.Writer.create())=>(void 0!==t.offset&&r.uint32(8).int32(t.offset),void 0!==t.shouldSkipCount&&r.uint32(16).bool(t.shouldSkipCount),void 0!==t.horizontalPosition&&r.uint32(24).int32(t.horizontalPosition),void 0!==t.verticalPosition&&r.uint32(32).int32(t.verticalPosition),r),decode(t,r){let i=t instanceof e.Reader?t:e.Reader.create(t),n=void 0===r?i.len:i.pos+r,o=rK();for(;i.pos<n;){let e=i.uint32();switch(e>>>3){case 1:if(8!==e)break;o.offset=i.int32();continue;case 2:if(16!==e)break;o.shouldSkipCount=i.bool();continue;case 3:if(24!==e)break;o.horizontalPosition=i.int32();continue;case 4:if(32!==e)break;o.verticalPosition=i.int32();continue}if((7&e)==4||0===e)break;i.skipType(7&e)}return o},fromJSON:e=>({$type:rW.$type,offset:null!=e.offset?globalThis.Number(e.offset):void 0,shouldSkipCount:null!=e.shouldSkipCount?globalThis.Boolean(e.shouldSkipCount):void 0,horizontalPosition:null!=e.horizontalPosition?globalThis.Number(e.horizontalPosition):void 0,verticalPosition:null!=e.verticalPosition?globalThis.Number(e.verticalPosition):void 0}),toJSON(e){let t={};return void 0!==e.offset&&(t.offset=Math.round(e.offset)),void 0!==e.shouldSkipCount&&(t.shouldSkipCount=e.shouldSkipCount),void 0!==e.horizontalPosition&&(t.horizontalPosition=Math.round(e.horizontalPosition)),void 0!==e.verticalPosition&&(t.verticalPosition=Math.round(e.verticalPosition)),t},create:e=>rW.fromPartial(e??{}),fromPartial(e){let t=rK();return t.offset=e.offset??void 0,t.shouldSkipCount=e.shouldSkipCount??void 0,t.horizontalPosition=e.horizontalPosition??void 0,t.verticalPosition=e.verticalPosition??void 0,t}};function rJ(){return{$type:"google.protobuf.Any",typeUrl:"",value:new Uint8Array(0)}}rL.set(rW.$type,rW);let rG={$type:"google.protobuf.Any",encode:(t,r=e.Writer.create())=>(""!==t.typeUrl&&r.uint32(10).string(t.typeUrl),0!==t.value.length&&r.uint32(18).bytes(t.value),r),decode(t,r){let i=t instanceof e.Reader?t:e.Reader.create(t),n=void 0===r?i.len:i.pos+r,o=rJ();for(;i.pos<n;){let e=i.uint32();switch(e>>>3){case 1:if(10!==e)break;o.typeUrl=i.string();continue;case 2:if(18!==e)break;o.value=i.bytes();continue}if((7&e)==4||0===e)break;i.skipType(7&e)}return o},fromJSON:e=>({$type:rG.$type,typeUrl:null!=e.typeUrl?globalThis.String(e.typeUrl):"",value:null!=e.value?function(e){if(globalThis.Buffer)return Uint8Array.from(globalThis.Buffer.from(e,"base64"));{let t=globalThis.atob(e),r=new Uint8Array(t.length);for(let e=0;e<t.length;++e)r[e]=t.charCodeAt(e);return r}}(e.value):new Uint8Array(0)}),toJSON(e){let t={};return""!==e.typeUrl&&(t.typeUrl=e.typeUrl),0!==e.value.length&&(t.value=function(e){if(globalThis.Buffer)return globalThis.Buffer.from(e).toString("base64");{let t=[];return e.forEach(e=>{t.push(globalThis.String.fromCharCode(e))}),globalThis.btoa(t.join(""))}}(e.value)),t},create:e=>rG.fromPartial(e??{}),fromPartial(e){let t=rJ();return t.typeUrl=e.typeUrl??"",t.value=e.value??new Uint8Array(0),t}};function rz(){return{$type:"proto.sdui.tracking.TrackingBreadcrumb",breadcrumbType:"",content:new Uint8Array(0)}}rL.set(rG.$type,rG);let rH={$type:"proto.sdui.tracking.TrackingBreadcrumb",encode:(t,r=e.Writer.create())=>(""!==t.breadcrumbType&&r.uint32(10).string(t.breadcrumbType),0!==t.content.length&&r.uint32(18).bytes(t.content),r),decode(t,r){let i=t instanceof e.Reader?t:e.Reader.create(t),n=void 0===r?i.len:i.pos+r,o=rz();for(;i.pos<n;){let e=i.uint32();switch(e>>>3){case 1:if(10!==e)break;o.breadcrumbType=i.string();continue;case 2:if(18!==e)break;o.content=i.bytes();continue}if((7&e)==4||0===e)break;i.skipType(7&e)}return o},fromJSON:e=>({$type:rH.$type,breadcrumbType:null!=e.breadcrumbType?globalThis.String(e.breadcrumbType):"",content:null!=e.content?function(e){if(globalThis.Buffer)return Uint8Array.from(globalThis.Buffer.from(e,"base64"));{let t=globalThis.atob(e),r=new Uint8Array(t.length);for(let e=0;e<t.length;++e)r[e]=t.charCodeAt(e);return r}}(e.content):new Uint8Array(0)}),toJSON(e){let t={};return""!==e.breadcrumbType&&(t.breadcrumbType=e.breadcrumbType),0!==e.content.length&&(t.content=function(e){if(globalThis.Buffer)return globalThis.Buffer.from(e).toString("base64");{let t=[];return e.forEach(e=>{t.push(globalThis.String.fromCharCode(e))}),globalThis.btoa(t.join(""))}}(e.content)),t},create:e=>rH.fromPartial(e??{}),fromPartial(e){let t=rz();return t.breadcrumbType=e.breadcrumbType??"",t.content=e.content??new Uint8Array(0),t}};function rq(){return{$type:"proto.sdui.components.core.TrackingScope",contentTrackingId:"",breadcrumb:void 0,trackingBreadcrumb:void 0,transporterKeys:[]}}rL.set(rH.$type,rH);let rY={$type:"proto.sdui.components.core.TrackingScope",encode(t,r=e.Writer.create()){for(let e of(""!==t.contentTrackingId&&r.uint32(10).string(t.contentTrackingId),void 0!==t.topicName&&r.uint32(18).string(t.topicName),void 0!==t.breadcrumb&&rG.encode(t.breadcrumb,r.uint32(26).fork()).ldelim(),void 0!==t.trackingBreadcrumb&&rH.encode(t.trackingBreadcrumb,r.uint32(34).fork()).ldelim(),t.transporterKeys))r.uint32(42).string(e);return r},decode(t,r){let i=t instanceof e.Reader?t:e.Reader.create(t),n=void 0===r?i.len:i.pos+r,o=rq();for(;i.pos<n;){let e=i.uint32();switch(e>>>3){case 1:if(10!==e)break;o.contentTrackingId=i.string();continue;case 2:if(18!==e)break;o.topicName=i.string();continue;case 3:if(26!==e)break;o.breadcrumb=rG.decode(i,i.uint32());continue;case 4:if(34!==e)break;o.trackingBreadcrumb=rH.decode(i,i.uint32());continue;case 5:if(42!==e)break;o.transporterKeys.push(i.string());continue}if((7&e)==4||0===e)break;i.skipType(7&e)}return o},fromJSON:e=>({$type:rY.$type,contentTrackingId:null!=e.contentTrackingId?globalThis.String(e.contentTrackingId):"",topicName:null!=e.topicName?globalThis.String(e.topicName):void 0,breadcrumb:null!=e.breadcrumb?rG.fromJSON(e.breadcrumb):void 0,trackingBreadcrumb:null!=e.trackingBreadcrumb?rH.fromJSON(e.trackingBreadcrumb):void 0,transporterKeys:globalThis.Array.isArray(e?.transporterKeys)?e.transporterKeys.map(e=>globalThis.String(e)):[]}),toJSON(e){let t={};return""!==e.contentTrackingId&&(t.contentTrackingId=e.contentTrackingId),void 0!==e.topicName&&(t.topicName=e.topicName),void 0!==e.breadcrumb&&(t.breadcrumb=rG.toJSON(e.breadcrumb)),void 0!==e.trackingBreadcrumb&&(t.trackingBreadcrumb=rH.toJSON(e.trackingBreadcrumb)),e.transporterKeys?.length&&(t.transporterKeys=e.transporterKeys),t},create:e=>rY.fromPartial(e??{}),fromPartial(e){let t=rq();return t.contentTrackingId=e.contentTrackingId??"",t.topicName=e.topicName??void 0,t.breadcrumb=void 0!==e.breadcrumb&&null!==e.breadcrumb?rG.fromPartial(e.breadcrumb):void 0,t.trackingBreadcrumb=void 0!==e.trackingBreadcrumb&&null!==e.trackingBreadcrumb?rH.fromPartial(e.trackingBreadcrumb):void 0,t.transporterKeys=e.transporterKeys?.map(e=>e)||[],t}};function rX(e){switch(e){case 0:case"InteractionType_UNKNOWN":default:return"InteractionType_UNKNOWN";case 1:case"InteractionType_SHORT_PRESS":return"InteractionType_SHORT_PRESS";case 2:case"InteractionType_LONG_PRESS":return"InteractionType_LONG_PRESS";case 3:case"InteractionType_HOVER":return"InteractionType_HOVER";case 4:case"InteractionType_KEYBOARD_PRESS":return"InteractionType_KEYBOARD_PRESS";case 5:case"InteractionType_FOCUS":return"InteractionType_FOCUS";case 6:case"InteractionType_DRAG":return"InteractionType_DRAG";case 7:case"InteractionType_SWIPE_LEFT":return"InteractionType_SWIPE_LEFT";case 8:case"InteractionType_SWIPE_RIGHT":return"InteractionType_SWIPE_RIGHT";case 9:case"InteractionType_SWIPE_UP":return"InteractionType_SWIPE_UP";case 10:case"InteractionType_SWIPE_DOWN":return"InteractionType_SWIPE_DOWN";case 11:case"InteractionType_DOUBLE_PRESS":return"InteractionType_DOUBLE_PRESS";case 12:case"InteractionType_UNFOCUS":return"InteractionType_UNFOCUS";case 13:case"InteractionType_AUX_CLICK":return"InteractionType_AUX_CLICK";case 14:case"InteractionType_CONTEXT_MENU":return"InteractionType_CONTEXT_MENU";case 15:case"InteractionType_SCREENSHOT":return"InteractionType_SCREENSHOT"}}function rZ(){return{$type:"proto.sdui.components.core.ImpressionThreshold",minDurationMs:0,minVisibilityPercentage:0,shouldTriggerOnStart:!1}}rL.set(rY.$type,rY);let rQ={$type:"proto.sdui.components.core.ImpressionThreshold",encode:(t,r=e.Writer.create())=>(0!==t.minDurationMs&&r.uint32(8).uint32(t.minDurationMs),0!==t.minVisibilityPercentage&&r.uint32(21).float(t.minVisibilityPercentage),!1!==t.shouldTriggerOnStart&&r.uint32(24).bool(t.shouldTriggerOnStart),r),decode(t,r){let i=t instanceof e.Reader?t:e.Reader.create(t),n=void 0===r?i.len:i.pos+r,o=rZ();for(;i.pos<n;){let e=i.uint32();switch(e>>>3){case 1:if(8!==e)break;o.minDurationMs=i.uint32();continue;case 2:if(21!==e)break;o.minVisibilityPercentage=i.float();continue;case 3:if(24!==e)break;o.shouldTriggerOnStart=i.bool();continue}if((7&e)==4||0===e)break;i.skipType(7&e)}return o},fromJSON:e=>({$type:rQ.$type,minDurationMs:null!=e.minDurationMs?globalThis.Number(e.minDurationMs):0,minVisibilityPercentage:null!=e.minVisibilityPercentage?globalThis.Number(e.minVisibilityPercentage):0,shouldTriggerOnStart:null!=e.shouldTriggerOnStart&&globalThis.Boolean(e.shouldTriggerOnStart)}),toJSON(e){let t={};return 0!==e.minDurationMs&&(t.minDurationMs=Math.round(e.minDurationMs)),0!==e.minVisibilityPercentage&&(t.minVisibilityPercentage=e.minVisibilityPercentage),!1!==e.shouldTriggerOnStart&&(t.shouldTriggerOnStart=e.shouldTriggerOnStart),t},create:e=>rQ.fromPartial(e??{}),fromPartial(e){let t=rZ();return t.minDurationMs=e.minDurationMs??0,t.minVisibilityPercentage=e.minVisibilityPercentage??0,t.shouldTriggerOnStart=e.shouldTriggerOnStart??!1,t}};function r0(){return{$type:"proto.sdui.components.core.ViewTrackingAnnotations",viewName:"",impressionThresholds:[],interactionTypes:[],legacyControlName:"",emitNonAnchorPVEForPageKey:"",cooloffToken:"",trackingScope:[],actionTypeToLegacyControlName:{},semanticPosition:void 0,metadata:[],multiImpressionThresholdCues:[],isMultiImpressionEnabled:!1,entityUrn:""}}rL.set(rQ.$type,rQ);let r1={$type:"proto.sdui.components.core.ViewTrackingAnnotations",encode(t,r=e.Writer.create()){for(let e of(""!==t.viewName&&r.uint32(10).string(t.viewName),t.impressionThresholds))rQ.encode(e,r.uint32(18).fork()).ldelim();for(let e of(r.uint32(26).fork(),t.interactionTypes))r.int32(function(e){switch(e){case"InteractionType_UNKNOWN":default:return 0;case"InteractionType_SHORT_PRESS":return 1;case"InteractionType_LONG_PRESS":return 2;case"InteractionType_HOVER":return 3;case"InteractionType_KEYBOARD_PRESS":return 4;case"InteractionType_FOCUS":return 5;case"InteractionType_DRAG":return 6;case"InteractionType_SWIPE_LEFT":return 7;case"InteractionType_SWIPE_RIGHT":return 8;case"InteractionType_SWIPE_UP":return 9;case"InteractionType_SWIPE_DOWN":return 10;case"InteractionType_DOUBLE_PRESS":return 11;case"InteractionType_UNFOCUS":return 12;case"InteractionType_AUX_CLICK":return 13;case"InteractionType_CONTEXT_MENU":return 14;case"InteractionType_SCREENSHOT":return 15}}(e));for(let e of(r.ldelim(),void 0!==t.contentTrackingId&&r.uint32(34).bytes(t.contentTrackingId),""!==t.legacyControlName&&r.uint32(42).string(t.legacyControlName),""!==t.emitNonAnchorPVEForPageKey&&r.uint32(50).string(t.emitNonAnchorPVEForPageKey),""!==t.cooloffToken&&r.uint32(58).string(t.cooloffToken),t.trackingScope))rY.encode(e,r.uint32(66).fork()).ldelim();for(let e of(Object.entries(t.actionTypeToLegacyControlName).forEach(([e,t])=>{r3.encode({$type:"proto.sdui.components.core.ViewTrackingAnnotations.ActionTypeToLegacyControlNameEntry",key:e,value:t},r.uint32(74).fork()).ldelim()}),void 0!==t.semanticPosition&&rW.encode(t.semanticPosition,r.uint32(82).fork()).ldelim(),t.metadata))rV.encode(e,r.uint32(90).fork()).ldelim();for(let e of(r.uint32(98).fork(),t.multiImpressionThresholdCues))r.float(e);return r.ldelim(),!1!==t.isMultiImpressionEnabled&&r.uint32(104).bool(t.isMultiImpressionEnabled),""!==t.entityUrn&&r.uint32(114).string(t.entityUrn),r},decode(t,r){let i=t instanceof e.Reader?t:e.Reader.create(t),n=void 0===r?i.len:i.pos+r,o=r0();for(;i.pos<n;){let e=i.uint32();switch(e>>>3){case 1:if(10!==e)break;o.viewName=i.string();continue;case 2:if(18!==e)break;o.impressionThresholds.push(rQ.decode(i,i.uint32()));continue;case 3:if(24===e){o.interactionTypes.push(rX(i.int32()));continue}if(26===e){let e=i.uint32()+i.pos;for(;i.pos<e;)o.interactionTypes.push(rX(i.int32()));continue}break;case 4:if(34!==e)break;o.contentTrackingId=i.bytes();continue;case 5:if(42!==e)break;o.legacyControlName=i.string();continue;case 6:if(50!==e)break;o.emitNonAnchorPVEForPageKey=i.string();continue;case 7:if(58!==e)break;o.cooloffToken=i.string();continue;case 8:if(66!==e)break;o.trackingScope.push(rY.decode(i,i.uint32()));continue;case 9:if(74!==e)break;let t=r3.decode(i,i.uint32());void 0!==t.value&&(o.actionTypeToLegacyControlName[t.key]=t.value);continue;case 10:if(82!==e)break;o.semanticPosition=rW.decode(i,i.uint32());continue;case 11:if(90!==e)break;o.metadata.push(rV.decode(i,i.uint32()));continue;case 12:if(101===e){o.multiImpressionThresholdCues.push(i.float());continue}if(98===e){let e=i.uint32()+i.pos;for(;i.pos<e;)o.multiImpressionThresholdCues.push(i.float());continue}break;case 13:if(104!==e)break;o.isMultiImpressionEnabled=i.bool();continue;case 14:if(114!==e)break;o.entityUrn=i.string();continue}if((7&e)==4||0===e)break;i.skipType(7&e)}return o},fromJSON:e=>{var t;return{$type:r1.$type,viewName:r4(e.viewName)?globalThis.String(e.viewName):"",impressionThresholds:globalThis.Array.isArray(e?.impressionThresholds)?e.impressionThresholds.map(e=>rQ.fromJSON(e)):[],interactionTypes:globalThis.Array.isArray(e?.interactionTypes)?e.interactionTypes.map(e=>rX(e)):[],contentTrackingId:r4(e.contentTrackingId)?function(e){if(globalThis.Buffer)return Uint8Array.from(globalThis.Buffer.from(e,"base64"));{let t=globalThis.atob(e),r=new Uint8Array(t.length);for(let e=0;e<t.length;++e)r[e]=t.charCodeAt(e);return r}}(e.contentTrackingId):void 0,legacyControlName:r4(e.legacyControlName)?globalThis.String(e.legacyControlName):"",emitNonAnchorPVEForPageKey:r4(e.emitNonAnchorPVEForPageKey)?globalThis.String(e.emitNonAnchorPVEForPageKey):"",cooloffToken:r4(e.cooloffToken)?globalThis.String(e.cooloffToken):"",trackingScope:globalThis.Array.isArray(e?.trackingScope)?e.trackingScope.map(e=>rY.fromJSON(e)):[],actionTypeToLegacyControlName:"object"==typeof(t=e.actionTypeToLegacyControlName)&&null!==t?Object.entries(e.actionTypeToLegacyControlName).reduce((e,[t,r])=>(e[t]=String(r),e),{}):{},semanticPosition:r4(e.semanticPosition)?rW.fromJSON(e.semanticPosition):void 0,metadata:globalThis.Array.isArray(e?.metadata)?e.metadata.map(e=>rV.fromJSON(e)):[],multiImpressionThresholdCues:globalThis.Array.isArray(e?.multiImpressionThresholdCues)?e.multiImpressionThresholdCues.map(e=>globalThis.Number(e)):[],isMultiImpressionEnabled:!!r4(e.isMultiImpressionEnabled)&&globalThis.Boolean(e.isMultiImpressionEnabled),entityUrn:r4(e.entityUrn)?globalThis.String(e.entityUrn):""}},toJSON(e){let t={};if(""!==e.viewName&&(t.viewName=e.viewName),e.impressionThresholds?.length&&(t.impressionThresholds=e.impressionThresholds.map(e=>rQ.toJSON(e))),e.interactionTypes?.length&&(t.interactionTypes=e.interactionTypes.map(e=>(function(e){switch(e){case"InteractionType_UNKNOWN":default:return"InteractionType_UNKNOWN";case"InteractionType_SHORT_PRESS":return"InteractionType_SHORT_PRESS";case"InteractionType_LONG_PRESS":return"InteractionType_LONG_PRESS";case"InteractionType_HOVER":return"InteractionType_HOVER";case"InteractionType_KEYBOARD_PRESS":return"InteractionType_KEYBOARD_PRESS";case"InteractionType_FOCUS":return"InteractionType_FOCUS";case"InteractionType_DRAG":return"InteractionType_DRAG";case"InteractionType_SWIPE_LEFT":return"InteractionType_SWIPE_LEFT";case"InteractionType_SWIPE_RIGHT":return"InteractionType_SWIPE_RIGHT";case"InteractionType_SWIPE_UP":return"InteractionType_SWIPE_UP";case"InteractionType_SWIPE_DOWN":return"InteractionType_SWIPE_DOWN";case"InteractionType_DOUBLE_PRESS":return"InteractionType_DOUBLE_PRESS";case"InteractionType_UNFOCUS":return"InteractionType_UNFOCUS";case"InteractionType_AUX_CLICK":return"InteractionType_AUX_CLICK";case"InteractionType_CONTEXT_MENU":return"InteractionType_CONTEXT_MENU";case"InteractionType_SCREENSHOT":return"InteractionType_SCREENSHOT"}})(e))),void 0!==e.contentTrackingId&&(t.contentTrackingId=function(e){if(globalThis.Buffer)return globalThis.Buffer.from(e).toString("base64");{let t=[];return e.forEach(e=>{t.push(globalThis.String.fromCharCode(e))}),globalThis.btoa(t.join(""))}}(e.contentTrackingId)),""!==e.legacyControlName&&(t.legacyControlName=e.legacyControlName),""!==e.emitNonAnchorPVEForPageKey&&(t.emitNonAnchorPVEForPageKey=e.emitNonAnchorPVEForPageKey),""!==e.cooloffToken&&(t.cooloffToken=e.cooloffToken),e.trackingScope?.length&&(t.trackingScope=e.trackingScope.map(e=>rY.toJSON(e))),e.actionTypeToLegacyControlName){let r=Object.entries(e.actionTypeToLegacyControlName);r.length>0&&(t.actionTypeToLegacyControlName={},r.forEach(([e,r])=>{t.actionTypeToLegacyControlName[e]=r}))}return void 0!==e.semanticPosition&&(t.semanticPosition=rW.toJSON(e.semanticPosition)),e.metadata?.length&&(t.metadata=e.metadata.map(e=>rV.toJSON(e))),e.multiImpressionThresholdCues?.length&&(t.multiImpressionThresholdCues=e.multiImpressionThresholdCues),!1!==e.isMultiImpressionEnabled&&(t.isMultiImpressionEnabled=e.isMultiImpressionEnabled),""!==e.entityUrn&&(t.entityUrn=e.entityUrn),t},create:e=>r1.fromPartial(e??{}),fromPartial(e){let t=r0();return t.viewName=e.viewName??"",t.impressionThresholds=e.impressionThresholds?.map(e=>rQ.fromPartial(e))||[],t.interactionTypes=e.interactionTypes?.map(e=>e)||[],t.contentTrackingId=e.contentTrackingId??void 0,t.legacyControlName=e.legacyControlName??"",t.emitNonAnchorPVEForPageKey=e.emitNonAnchorPVEForPageKey??"",t.cooloffToken=e.cooloffToken??"",t.trackingScope=e.trackingScope?.map(e=>rY.fromPartial(e))||[],t.actionTypeToLegacyControlName=Object.entries(e.actionTypeToLegacyControlName??{}).reduce((e,[t,r])=>(void 0!==r&&(e[t]=globalThis.String(r)),e),{}),t.semanticPosition=void 0!==e.semanticPosition&&null!==e.semanticPosition?rW.fromPartial(e.semanticPosition):void 0,t.metadata=e.metadata?.map(e=>rV.fromPartial(e))||[],t.multiImpressionThresholdCues=e.multiImpressionThresholdCues?.map(e=>e)||[],t.isMultiImpressionEnabled=e.isMultiImpressionEnabled??!1,t.entityUrn=e.entityUrn??"",t}};function r2(){return{$type:"proto.sdui.components.core.ViewTrackingAnnotations.ActionTypeToLegacyControlNameEntry",key:"",value:""}}rL.set(r1.$type,r1);let r3={$type:"proto.sdui.components.core.ViewTrackingAnnotations.ActionTypeToLegacyControlNameEntry",encode:(t,r=e.Writer.create())=>(""!==t.key&&r.uint32(10).string(t.key),""!==t.value&&r.uint32(18).string(t.value),r),decode(t,r){let i=t instanceof e.Reader?t:e.Reader.create(t),n=void 0===r?i.len:i.pos+r,o=r2();for(;i.pos<n;){let e=i.uint32();switch(e>>>3){case 1:if(10!==e)break;o.key=i.string();continue;case 2:if(18!==e)break;o.value=i.string();continue}if((7&e)==4||0===e)break;i.skipType(7&e)}return o},fromJSON:e=>({$type:r3.$type,key:r4(e.key)?globalThis.String(e.key):"",value:r4(e.value)?globalThis.String(e.value):""}),toJSON(e){let t={};return""!==e.key&&(t.key=e.key),""!==e.value&&(t.value=e.value),t},create:e=>r3.fromPartial(e??{}),fromPartial(e){let t=r2();return t.key=e.key??"",t.value=e.value??"",t}};function r4(e){return null!=e}rL.set(r3.$type,r3);let r7=t.createContext(void 0),r5={currentScreen:null,isBackNavigation:!1},r6=()=>{},r8={currentScreen:null,currentScreenRef:{current:null},focusableElOnDismissRef:{current:null},firstModalTriggerRef:{current:null},isBackNavigation:!1,isBackNavigationRef:{current:!1},setCurrentScreen:()=>{},setIsBackNavigation:()=>{},isClosingAllModalsRef:{current:!1},updateModalTitle:()=>{},pageReappearDataRef:{current:null},isModalNavigationChangeEnabled:!1,isStableModalContextEnabled:!1,subscribe:()=>r6,getSnapshot:()=>r5},r9=()=>t.useContext(r7)||r8,ie=Object.freeze(Object.defineProperty({__proto__:null,SduiModalProvider:({children:e})=>{let{onHistoryPop:i,back:n,isModalNavigationChangeEnabled:o=!1,isStableModalContextEnabled:a=!1}=tF(),s=t.useRef(!1),[l,c]=t.useState(null),[u,d]=t.useState(!1),p=t.useRef(null),f=t.useRef(!1),m=t.useRef(new Set),g=t.useCallback(e=>(m.current.add(e),()=>{m.current.delete(e)}),[]),h=t.useRef({currentScreen:null,isBackNavigation:!1}),y=t.useCallback(()=>{let e=p.current,t=f.current;return(h.current.currentScreen!==e||h.current.isBackNavigation!==t)&&(h.current={currentScreen:e,isBackNavigation:t}),h.current},[]),b=t.useCallback(()=>{m.current.forEach(e=>e())},[]),x=t.useCallback(e=>{p.current=e,a?b():c(e)},[a,b]),S=t.useCallback(e=>{f.current=e,a?b():d(e)},[a,b]),E=t.useCallback((e,t)=>{let r=p.current;r&&(p.current={...r,title:e,screenTitle:t??e}),a?r&&b():c(r=>r?{...r,title:e,screenTitle:t??e}:null)},[a,b]),v=t.useRef(null),T=t.useRef(null),N=t.useRef(null);i(t.useCallback(e=>s.current?(e?.type==="modal"?($.hasDialogs()&&$.remove(),S(!1),setTimeout(()=>{n()},0)):(s.current=!1,o&&(T.current=null)),!0):e?.type==="modal"?(x(e.data?.navigateScreen||null),S(!0),!0):($.hasDialogs()&&(S(!1),$.remove(),o&&(T.current=null)),!1),[s,n,T,o,x,S]));let _=t.useMemo(()=>r1.fromJSON({viewName:"dialog-dismiss-close"}),[]),k=t.useMemo(()=>({currentScreen:l,currentScreenRef:p,focusableElOnDismissRef:v,firstModalTriggerRef:T,setCurrentScreen:x,isClosingAllModalsRef:s,isBackNavigation:u,isBackNavigationRef:f,setIsBackNavigation:S,closeViewSpec:_,updateModalTitle:E,pageReappearDataRef:N,isModalNavigationChangeEnabled:o,isStableModalContextEnabled:a,subscribe:g,getSnapshot:y}),[l,u,x,S,_,E,o,a,g,y]);return r.jsx(r7.Provider,{value:k,children:e})},useReactiveModalState:()=>{let{subscribe:e,getSnapshot:r}=r9();return t.useSyncExternalStore(e,r,r)},useSduiModalProvider:r9},Symbol.toStringTag,{value:"Module"}));class it{static instance=null;workflowObservers=new Map;observerIndex=new Map;static getInstance(){return it.instance||(it.instance=new it),it.instance}observeWorkflow(e,t){if("undefined"==typeof document)return;let{workflowId:r,observerId:i,onUpdate:n}=e;if(!r||!i||!n)return;let o={observerId:i,workflowId:r,actionRunner:t,onUpdate:n};this.removeObserver(i,r);let a=this.workflowObservers.get(r)||[];a.push(o),this.workflowObservers.set(r,a),this.observerIndex.set(i,o)}updateWorkflow(e){if("undefined"==typeof document||!e)return;let t=this.workflowObservers.get(e);t&&0!==t.length&&t.forEach(e=>{e.actionRunner(e.onUpdate)})}clearWorkflowObserver(e){let{workflowId:t,observerId:r}=e;"undefined"!=typeof document&&(t||r)&&(t&&r?this.removeObserver(r,t):t?this.clearWorkflow(t):r&&this.clearObserverFromAllWorkflows(r))}removeObserver(e,t){let r=this.workflowObservers.get(t);if(!r||"undefined"==typeof document)return;let i=r.filter(t=>t.observerId!==e);0===i.length?this.workflowObservers.delete(t):this.workflowObservers.set(t,i),this.observerIndex.delete(e)}clearWorkflow(e){if("undefined"==typeof document)return;let t=this.workflowObservers.get(e);t&&(t.forEach(e=>{this.observerIndex.has(e.observerId)&&this.observerIndex.delete(e.observerId)}),this.workflowObservers.delete(e))}clearObserverFromAllWorkflows(e){let t=this.observerIndex.get(e);if(!t||"undefined"==typeof document)return;let r=t.workflowId;this.removeObserver(e,r)}getWorkflowObservers(e){return this.workflowObservers.get(e)||[]}getObserver(e){return this.observerIndex.get(e)}getAllWorkflows(){return new Map(this.workflowObservers)}clearAllWorkflows(){this.workflowObservers.clear(),this.observerIndex.clear()}getObserversForScreen(e){for(let t of this.observerIndex.values())if(t.screenHash===e)return!0;return!1}cleanupObserversForRemovedScreens(e){if(!e||"undefined"==typeof document)return;let t=[];this.observerIndex.forEach((r,i)=>{r.screenHash===e&&t.push(i)}),t.forEach(e=>{let t=this.observerIndex.get(e);t&&this.removeObserver(e,t.workflowId)})}}let ir=it.getInstance(),ii=t.createContext({screenHash:void 0,screenId:void 0});function io({children:e,screenHash:i,screenId:n}){let{onHistoryPop:o}=tF(),a=t.useRef(void 0);return o(t.useCallback(()=>!!i&&i!==a.current&&(ir.getObserversForScreen(i)&&ir.cleanupObserversForRemovedScreens(i),a.current=i,!1),[i])),r.jsx(ii.Provider,{value:{screenHash:i,screenId:n},children:e})}function ia(){return t.useContext(ii)||{screenHash:void 0,screenId:void 0}}let is=Object.freeze(Object.defineProperty({__proto__:null,ScreenProvider:io,useScreenContext:ia},Symbol.toStringTag,{value:"Module"}));var il,ic,iu,id,ip,im,ig,ih,iy,ib,ix,iS,iE,iv,iT,iN,i_,ik,iI,iO,iC,iP,iR,iw,iA=((il=iA||{}).ADD="add",il.REMOVE="remove",il);let i$=[],iL={bubbles:[]},iM=e=>{iL=iD(iL,e),i$.forEach(e=>{e(iL)})},iD=(e,t)=>{let r=e.bubbles;switch(t.type){case"add":r.some(e=>e.id===t.bubble.id)||(r=[...r,t.bubble]);break;case"remove":r=r.filter(e=>e.id!==t.id);break;default:throw Error("Unhandled overlay bubble action type.")}return{...e,bubbles:r}},iU=e=>{let[r,i]=t.useState(e);return t.useEffect(()=>(i$.push(i),()=>{let e=i$.indexOf(i);e>-1&&i$.splice(e,1)}),[r]),r},iF={add:e=>{iM({type:iA.ADD,bubble:{id:e.id,children:e.children}})},remove:e=>{iM({type:iA.REMOVE,id:e})}};class ij{#e=new Map;addResetFn(e,t){"undefined"!=typeof document&&(this.#e.has(e)||this.#e.set(e,new Set),this.#e.get(e)?.add(t))}notify(e,t){this.#e.get(e)?.forEach(e=>{e(t)})}removeResetFn(e,t){this.#e.get(e)?.delete(t)}clear(){this.#e.clear()}}let iB=new ij;class iV{store;listeners;derivedDependencies;groupSubscribers;keySeparator="_";allowedGroupSubscriptions;enableServerStore;constructor(e=[],t=!1){this.store=new Map,this.listeners=new Map,this.derivedDependencies=new Map,this.groupSubscribers=new Map,this.allowedGroupSubscriptions=e,this.enableServerStore=t}setItems(e){("undefined"!=typeof document||this.enableServerStore)&&e.forEach((e,t)=>{this.setItem(t,e)})}setItem(e,t){("undefined"!=typeof document||this.enableServerStore)&&this.store.get(e)!==t&&(void 0===t?this.store.delete(e):this.store.set(e,t),this.notify(e))}delete(e){this.store.delete(e),this.notify(e)}getItem(e){return this.store.get(e)}getItemsByGroup(e){let t=[];return this.store.forEach((r,i)=>{i.endsWith(e)&&t.push(r)}),t}getAllKeys(){return Array.from(this.store.keys())}subscribe(e,t){if("undefined"==typeof document||!e)return;this.listeners.has(e)||this.listeners.set(e,new Set),this.listeners.get(e)?.add(t);let r=this.getKeyGroup(e);r&&this.groupSubscribers.has(r)&&this.groupSubscribers.get(r)?.add(t)}subscribeToGroup(e,t){Array.from(this.store.keys()).filter(t=>t.endsWith(e)).forEach(e=>{this.listeners.has(e)||this.listeners.set(e,new Set),this.listeners.get(e)?.add(t)}),this.groupSubscribers.has(e)||this.groupSubscribers.set(e,new Set),this.groupSubscribers.get(e)?.add(t)}unsubscribeFromGroup(e,t){Array.from(this.store.keys()).filter(t=>t.endsWith(e)).forEach(e=>{if(this.listeners.has(e)){let r=this.listeners.get(e);r&&(r?.delete(t),r?.size===0&&this.listeners.delete(e))}});let r=this.groupSubscribers.get(e);r&&(r.delete(t),0===r.size&&this.groupSubscribers.delete(e))}unsubscribe(e,t){if(this.listeners.has(e)){let r=this.listeners.get(e);r&&(r?.delete(t),r?.size===0&&this.listeners.delete(e))}}setDependencies(e,t){this.derivedDependencies.set(e,t)}subscribeToDependencies(e,t){(this.derivedDependencies.get(e)||[]).forEach(e=>{this.listeners.has(e)||this.listeners.set(e,new Set),this.listeners.get(e)?.add(t)})}unsubscribeFromDependencies(e,t){(this.derivedDependencies.get(e)||[]).forEach(e=>{this.listeners.get(e)?.delete(t),this.listeners.get(e)?.size===0&&this.listeners.delete(e)})}notify(e){if(this.listeners.has(e)){let t=this.listeners.get(e);if(t)for(let e of t)e()}else this.notifyGroup(e)}getKeyGroup(e){if(!e||"string"!=typeof e)return;let t=e.split(this.keySeparator).pop()||"";return this.allowedGroupSubscriptions.includes(t)?t:void 0}notifyGroup(e){let t=this.getKeyGroup(e);if(!t)return;let r=this.groupSubscribers.get(t);if(r)for(let e of r)e()}clear(){this.store.clear(),this.listeners.clear()}}var iK=((ic=iK||{}).SortOrder_UNKNOWN="SortOrder_UNKNOWN",ic.SortOrder_ASCENDING="SortOrder_ASCENDING",ic.SortOrder_DESCENDING="SortOrder_DESCENDING",ic);let iW=[];var iJ=((iu=iJ||{})[iu.BEFORE=0]="BEFORE",iu[iu.AFTER=1]="AFTER",iu);function iG(e,t){let r=t(iz.getItem(e)||iW);iz.setItem(e,r)}let iz=new iV;function iH(e){e&&iz.delete(e)}function iq({collectionId:e,semanticId:t,deleteDirection:r}){iG(e,e=>{let i=[...e],n=i.findIndex(e=>e.semanticId===t||e.key===t);if(-1===n)return e;switch(r){case"DeleteDirection_BEFORE":i.splice(0,n);break;case"DeleteDirection_AFTER":i.splice(n+1);break;default:i.splice(n,1)}return i})}function iY({collectionId:e,addedElement:t,position:r}){iG(e,e=>{let i=[...e],n=i.find(e=>e.key===t.key);return n&&i.splice(i.indexOf(n),1),0===r?i.splice(0,0,t):void 0===r?i.push(t):i.splice(r,0,t),i})}function iX({collectionId:e,addedElement:t,referenceId:r,position:i}){iG(e,e=>{let n=[...e],o=n.find(e=>e.key===t.key),a=n.findIndex(e=>e.key===r||e.semanticId===r);return o&&n.splice(n.indexOf(o),1),i===iJ.AFTER?-1!==a?n.splice(a+1,0,t):n.push(t):-1!==a?n.splice(a,0,t):n.splice(0,0,t),n})}function iZ(e){let t=iz.getItem(e);return t?.map(e=>e.semanticId).filter(e=>null!=e)}function iQ(){return{$type:"proto.sdui.Key",value:void 0}}let i0={$type:"proto.sdui.Key",encode(t,r=e.Writer.create()){switch(t.value?.$case){case"id":r.uint32(10).string(t.value.id);break;case"prefixToExecutionId":r.uint32(18).string(t.value.prefixToExecutionId)}return r},decode(t,r){let i=t instanceof e.Reader?t:e.Reader.create(t),n=void 0===r?i.len:i.pos+r,o=iQ();for(;i.pos<n;){let e=i.uint32();switch(e>>>3){case 1:if(10!==e)break;o.value={$case:"id",id:i.string()};continue;case 2:if(18!==e)break;o.value={$case:"prefixToExecutionId",prefixToExecutionId:i.string()};continue}if((7&e)==4||0===e)break;i.skipType(7&e)}return o},fromJSON:e=>({$type:i0.$type,value:null!=e.id?{$case:"id",id:globalThis.String(e.id)}:null!=e.prefixToExecutionId?{$case:"prefixToExecutionId",prefixToExecutionId:globalThis.String(e.prefixToExecutionId)}:void 0}),toJSON(e){let t={};return e.value?.$case==="id"&&(t.id=e.value.id),e.value?.$case==="prefixToExecutionId"&&(t.prefixToExecutionId=e.value.prefixToExecutionId),t},create:e=>i0.fromPartial(e??{}),fromPartial(e){let t=iQ();return e.value?.$case==="id"&&e.value?.id!==void 0&&e.value?.id!==null&&(t.value={$case:"id",id:e.value.id}),e.value?.$case==="prefixToExecutionId"&&e.value?.prefixToExecutionId!==void 0&&e.value?.prefixToExecutionId!==null&&(t.value={$case:"prefixToExecutionId",prefixToExecutionId:e.value.prefixToExecutionId}),t}};function i1(){return{$type:"proto.sdui.StateKey",value:"",key:void 0,namespace:"",isEncrypted:!1}}rL.set(i0.$type,i0);let i2={$type:"proto.sdui.StateKey",encode:(t,r=e.Writer.create())=>(""!==t.value&&r.uint32(10).string(t.value),void 0!==t.key&&i0.encode(t.key,r.uint32(26).fork()).ldelim(),""!==t.namespace&&r.uint32(18).string(t.namespace),!1!==t.isEncrypted&&r.uint32(32).bool(t.isEncrypted),r),decode(t,r){let i=t instanceof e.Reader?t:e.Reader.create(t),n=void 0===r?i.len:i.pos+r,o=i1();for(;i.pos<n;){let e=i.uint32();switch(e>>>3){case 1:if(10!==e)break;o.value=i.string();continue;case 3:if(26!==e)break;o.key=i0.decode(i,i.uint32());continue;case 2:if(18!==e)break;o.namespace=i.string();continue;case 4:if(32!==e)break;o.isEncrypted=i.bool();continue}if((7&e)==4||0===e)break;i.skipType(7&e)}return o},fromJSON:e=>({$type:i2.$type,value:null!=e.value?globalThis.String(e.value):"",key:null!=e.key?i0.fromJSON(e.key):void 0,namespace:null!=e.namespace?globalThis.String(e.namespace):"",isEncrypted:null!=e.isEncrypted&&globalThis.Boolean(e.isEncrypted)}),toJSON(e){let t={};return""!==e.value&&(t.value=e.value),void 0!==e.key&&(t.key=i0.toJSON(e.key)),""!==e.namespace&&(t.namespace=e.namespace),!1!==e.isEncrypted&&(t.isEncrypted=e.isEncrypted),t},create:e=>i2.fromPartial(e??{}),fromPartial(e){let t=i1();return t.value=e.value??"",t.key=void 0!==e.key&&null!==e.key?i0.fromPartial(e.key):void 0,t.namespace=e.namespace??"",t.isEncrypted=e.isEncrypted??!1,t}};function i3(e){return"NULL_VALUE"}function i4(){return{$type:"google.protobuf.Struct",fields:{}}}rL.set(i2.$type,i2);let i7={$type:"google.protobuf.Struct",encode:(t,r=e.Writer.create())=>(Object.entries(t.fields).forEach(([e,t])=>{void 0!==t&&i6.encode({$type:"google.protobuf.Struct.FieldsEntry",key:e,value:t},r.uint32(10).fork()).ldelim()}),r),decode(t,r){let i=t instanceof e.Reader?t:e.Reader.create(t),n=void 0===r?i.len:i.pos+r,o=i4();for(;i.pos<n;){let e=i.uint32();switch(e>>>3){case 1:if(10!==e)break;let t=i6.decode(i,i.uint32());void 0!==t.value&&(o.fields[t.key]=t.value);continue}if((7&e)==4||0===e)break;i.skipType(7&e)}return o},fromJSON:e=>{var t;return{$type:i7.$type,fields:"object"==typeof(t=e.fields)&&null!==t?Object.entries(e.fields).reduce((e,[t,r])=>(e[t]=r,e),{}):{}}},toJSON(e){let t={};if(e.fields){let r=Object.entries(e.fields);r.length>0&&(t.fields={},r.forEach(([e,r])=>{t.fields[e]=r}))}return t},create:e=>i7.fromPartial(e??{}),fromPartial(e){let t=i4();return t.fields=Object.entries(e.fields??{}).reduce((e,[t,r])=>(void 0!==r&&(e[t]=r),e),{}),t},wrap(e){let t=i4();if(void 0!==e)for(let r of Object.keys(e))t.fields[r]=e[r];return t},unwrap(e){let t={};if(e.fields)for(let r of Object.keys(e.fields))t[r]=e.fields[r];return t}};function i5(){return{$type:"google.protobuf.Struct.FieldsEntry",key:"",value:void 0}}rL.set(i7.$type,i7);let i6={$type:"google.protobuf.Struct.FieldsEntry",encode:(t,r=e.Writer.create())=>(""!==t.key&&r.uint32(10).string(t.key),void 0!==t.value&&i9.encode(i9.wrap(t.value),r.uint32(18).fork()).ldelim(),r),decode(t,r){let i=t instanceof e.Reader?t:e.Reader.create(t),n=void 0===r?i.len:i.pos+r,o=i5();for(;i.pos<n;){let e=i.uint32();switch(e>>>3){case 1:if(10!==e)break;o.key=i.string();continue;case 2:if(18!==e)break;o.value=i9.unwrap(i9.decode(i,i.uint32()));continue}if((7&e)==4||0===e)break;i.skipType(7&e)}return o},fromJSON:e=>({$type:i6.$type,key:nr(e.key)?globalThis.String(e.key):"",value:nr(e?.value)?e.value:void 0}),toJSON(e){let t={};return""!==e.key&&(t.key=e.key),void 0!==e.value&&(t.value=e.value),t},create:e=>i6.fromPartial(e??{}),fromPartial(e){let t=i5();return t.key=e.key??"",t.value=e.value??void 0,t}};function i8(){return{$type:"google.protobuf.Value",kind:void 0}}rL.set(i6.$type,i6);let i9={$type:"google.protobuf.Value",encode(t,r=e.Writer.create()){switch(t.kind?.$case){case"nullValue":var i;r.uint32(8).int32((t.kind.nullValue,0));break;case"numberValue":r.uint32(17).double(t.kind.numberValue);break;case"stringValue":r.uint32(26).string(t.kind.stringValue);break;case"boolValue":r.uint32(32).bool(t.kind.boolValue);break;case"structValue":i7.encode(i7.wrap(t.kind.structValue),r.uint32(42).fork()).ldelim();break;case"listValue":nt.encode(nt.wrap(t.kind.listValue),r.uint32(50).fork()).ldelim()}return r},decode(t,r){let i=t instanceof e.Reader?t:e.Reader.create(t),n=void 0===r?i.len:i.pos+r,o=i8();for(;i.pos<n;){let e=i.uint32();switch(e>>>3){case 1:if(8!==e)break;o.kind={$case:"nullValue",nullValue:i3(i.int32())};continue;case 2:if(17!==e)break;o.kind={$case:"numberValue",numberValue:i.double()};continue;case 3:if(26!==e)break;o.kind={$case:"stringValue",stringValue:i.string()};continue;case 4:if(32!==e)break;o.kind={$case:"boolValue",boolValue:i.bool()};continue;case 5:if(42!==e)break;o.kind={$case:"structValue",structValue:i7.unwrap(i7.decode(i,i.uint32()))};continue;case 6:if(50!==e)break;o.kind={$case:"listValue",listValue:nt.unwrap(nt.decode(i,i.uint32()))};continue}if((7&e)==4||0===e)break;i.skipType(7&e)}return o},fromJSON:e=>({$type:i9.$type,kind:nr(e.nullValue)?{$case:"nullValue",nullValue:i3(e.nullValue)}:nr(e.numberValue)?{$case:"numberValue",numberValue:globalThis.Number(e.numberValue)}:nr(e.stringValue)?{$case:"stringValue",stringValue:globalThis.String(e.stringValue)}:nr(e.boolValue)?{$case:"boolValue",boolValue:globalThis.Boolean(e.boolValue)}:nr(e.structValue)?{$case:"structValue",structValue:e.structValue}:nr(e.listValue)?{$case:"listValue",listValue:[...e.listValue]}:void 0}),toJSON(e){var t;let r={};return e.kind?.$case==="nullValue"&&(r.nullValue=(e.kind.nullValue,"NULL_VALUE")),e.kind?.$case==="numberValue"&&(r.numberValue=e.kind.numberValue),e.kind?.$case==="stringValue"&&(r.stringValue=e.kind.stringValue),e.kind?.$case==="boolValue"&&(r.boolValue=e.kind.boolValue),e.kind?.$case==="structValue"&&(r.structValue=e.kind.structValue),e.kind?.$case==="listValue"&&(r.listValue=e.kind.listValue),r},create:e=>i9.fromPartial(e??{}),fromPartial(e){let t=i8();return e.kind?.$case==="nullValue"&&e.kind?.nullValue!==void 0&&e.kind?.nullValue!==null&&(t.kind={$case:"nullValue",nullValue:e.kind.nullValue}),e.kind?.$case==="numberValue"&&e.kind?.numberValue!==void 0&&e.kind?.numberValue!==null&&(t.kind={$case:"numberValue",numberValue:e.kind.numberValue}),e.kind?.$case==="stringValue"&&e.kind?.stringValue!==void 0&&e.kind?.stringValue!==null&&(t.kind={$case:"stringValue",stringValue:e.kind.stringValue}),e.kind?.$case==="boolValue"&&e.kind?.boolValue!==void 0&&e.kind?.boolValue!==null&&(t.kind={$case:"boolValue",boolValue:e.kind.boolValue}),e.kind?.$case==="structValue"&&e.kind?.structValue!==void 0&&e.kind?.structValue!==null&&(t.kind={$case:"structValue",structValue:e.kind.structValue}),e.kind?.$case==="listValue"&&e.kind?.listValue!==void 0&&e.kind?.listValue!==null&&(t.kind={$case:"listValue",listValue:e.kind.listValue}),t},wrap(e){let t=i8();if(null===e)t.kind={$case:"nullValue",nullValue:"NULL_VALUE"};else if("boolean"==typeof e)t.kind={$case:"boolValue",boolValue:e};else if("number"==typeof e)t.kind={$case:"numberValue",numberValue:e};else if("string"==typeof e)t.kind={$case:"stringValue",stringValue:e};else if(globalThis.Array.isArray(e))t.kind={$case:"listValue",listValue:e};else if("object"==typeof e)t.kind={$case:"structValue",structValue:e};else if(void 0!==e)throw new globalThis.Error("Unsupported any value type: "+typeof e);return t},unwrap:e=>e.kind?.$case==="nullValue"?null:e.kind?.$case==="numberValue"?e.kind?.numberValue:e.kind?.$case==="stringValue"?e.kind?.stringValue:e.kind?.$case==="boolValue"?e.kind?.boolValue:e.kind?.$case==="structValue"?e.kind?.structValue:e.kind?.$case==="listValue"?e.kind?.listValue:void 0};function ne(){return{$type:"google.protobuf.ListValue",values:[]}}rL.set(i9.$type,i9);let nt={$type:"google.protobuf.ListValue",encode(t,r=e.Writer.create()){for(let e of t.values)i9.encode(i9.wrap(e),r.uint32(10).fork()).ldelim();return r},decode(t,r){let i=t instanceof e.Reader?t:e.Reader.create(t),n=void 0===r?i.len:i.pos+r,o=ne();for(;i.pos<n;){let e=i.uint32();switch(e>>>3){case 1:if(10!==e)break;o.values.push(i9.unwrap(i9.decode(i,i.uint32())));continue}if((7&e)==4||0===e)break;i.skipType(7&e)}return o},fromJSON:e=>({$type:nt.$type,values:globalThis.Array.isArray(e?.values)?[...e.values]:[]}),toJSON(e){let t={};return e.values?.length&&(t.values=e.values),t},create:e=>nt.fromPartial(e??{}),fromPartial(e){let t=ne();return t.values=e.values?.map(e=>e)||[],t},wrap(e){let t=ne();return t.values=e??[],t},unwrap:e=>e?.hasOwnProperty("values")&&globalThis.Array.isArray(e.values)?e.values:e};function nr(e){return null!=e}function ni(){return{$type:"proto.sdui.bindings.core.BindableAssociationDataListItemSelector",fieldNameHierarchy:[],listItemFilter:{}}}rL.set(nt.$type,nt);let nn={$type:"proto.sdui.bindings.core.BindableAssociationDataListItemSelector",encode(t,r=e.Writer.create()){for(let e of t.fieldNameHierarchy)r.uint32(10).string(e);return Object.entries(t.listItemFilter).forEach(([e,t])=>{na.encode({$type:"proto.sdui.bindings.core.BindableAssociationDataListItemSelector.ListItemFilterEntry",key:e,value:t},r.uint32(18).fork()).ldelim()}),r},decode(t,r){let i=t instanceof e.Reader?t:e.Reader.create(t),n=void 0===r?i.len:i.pos+r,o=ni();for(;i.pos<n;){let e=i.uint32();switch(e>>>3){case 1:if(10!==e)break;o.fieldNameHierarchy.push(i.string());continue;case 2:if(18!==e)break;let t=na.decode(i,i.uint32());void 0!==t.value&&(o.listItemFilter[t.key]=t.value);continue}if((7&e)==4||0===e)break;i.skipType(7&e)}return o},fromJSON:e=>{var t;return{$type:nn.$type,fieldNameHierarchy:globalThis.Array.isArray(e?.fieldNameHierarchy)?e.fieldNameHierarchy.map(e=>globalThis.String(e)):[],listItemFilter:"object"==typeof(t=e.listItemFilter)&&null!==t?Object.entries(e.listItemFilter).reduce((e,[t,r])=>(e[t]=String(r),e),{}):{}}},toJSON(e){let t={};if(e.fieldNameHierarchy?.length&&(t.fieldNameHierarchy=e.fieldNameHierarchy),e.listItemFilter){let r=Object.entries(e.listItemFilter);r.length>0&&(t.listItemFilter={},r.forEach(([e,r])=>{t.listItemFilter[e]=r}))}return t},create:e=>nn.fromPartial(e??{}),fromPartial(e){let t=ni();return t.fieldNameHierarchy=e.fieldNameHierarchy?.map(e=>e)||[],t.listItemFilter=Object.entries(e.listItemFilter??{}).reduce((e,[t,r])=>(void 0!==r&&(e[t]=globalThis.String(r)),e),{}),t}};function no(){return{$type:"proto.sdui.bindings.core.BindableAssociationDataListItemSelector.ListItemFilterEntry",key:"",value:""}}rL.set(nn.$type,nn);let na={$type:"proto.sdui.bindings.core.BindableAssociationDataListItemSelector.ListItemFilterEntry",encode:(t,r=e.Writer.create())=>(""!==t.key&&r.uint32(10).string(t.key),""!==t.value&&r.uint32(18).string(t.value),r),decode(t,r){let i=t instanceof e.Reader?t:e.Reader.create(t),n=void 0===r?i.len:i.pos+r,o=no();for(;i.pos<n;){let e=i.uint32();switch(e>>>3){case 1:if(10!==e)break;o.key=i.string();continue;case 2:if(18!==e)break;o.value=i.string();continue}if((7&e)==4||0===e)break;i.skipType(7&e)}return o},fromJSON:e=>({$type:na.$type,key:null!=e.key?globalThis.String(e.key):"",value:null!=e.value?globalThis.String(e.value):""}),toJSON(e){let t={};return""!==e.key&&(t.key=e.key),""!==e.value&&(t.value=e.value),t},create:e=>na.fromPartial(e??{}),fromPartial(e){let t=no();return t.key=e.key??"",t.value=e.value??"",t}};function ns(){return{$type:"proto.sdui.bindings.core.BasicBindableAssociationData",urn:"",fieldNameHierarchy:[],listSelector:void 0}}rL.set(na.$type,na);let nl={$type:"proto.sdui.bindings.core.BasicBindableAssociationData",encode(t,r=e.Writer.create()){for(let e of(""!==t.urn&&r.uint32(10).string(t.urn),t.fieldNameHierarchy))r.uint32(18).string(e);return void 0!==t.defaultState&&i9.encode(i9.wrap(t.defaultState),r.uint32(26).fork()).ldelim(),void 0!==t.listSelector&&nn.encode(t.listSelector,r.uint32(34).fork()).ldelim(),r},decode(t,r){let i=t instanceof e.Reader?t:e.Reader.create(t),n=void 0===r?i.len:i.pos+r,o=ns();for(;i.pos<n;){let e=i.uint32();switch(e>>>3){case 1:if(10!==e)break;o.urn=i.string();continue;case 2:if(18!==e)break;o.fieldNameHierarchy.push(i.string());continue;case 3:if(26!==e)break;o.defaultState=i9.unwrap(i9.decode(i,i.uint32()));continue;case 4:if(34!==e)break;o.listSelector=nn.decode(i,i.uint32());continue}if((7&e)==4||0===e)break;i.skipType(7&e)}return o},fromJSON:e=>({$type:nl.$type,urn:null!=e.urn?globalThis.String(e.urn):"",fieldNameHierarchy:globalThis.Array.isArray(e?.fieldNameHierarchy)?e.fieldNameHierarchy.map(e=>globalThis.String(e)):[],defaultState:null!=e?.defaultState?e.defaultState:void 0,listSelector:null!=e.listSelector?nn.fromJSON(e.listSelector):void 0}),toJSON(e){let t={};return""!==e.urn&&(t.urn=e.urn),e.fieldNameHierarchy?.length&&(t.fieldNameHierarchy=e.fieldNameHierarchy),void 0!==e.defaultState&&(t.defaultState=e.defaultState),void 0!==e.listSelector&&(t.listSelector=nn.toJSON(e.listSelector)),t},create:e=>nl.fromPartial(e??{}),fromPartial(e){let t=ns();return t.urn=e.urn??"",t.fieldNameHierarchy=e.fieldNameHierarchy?.map(e=>e)||[],t.defaultState=e.defaultState??void 0,t.listSelector=void 0!==e.listSelector&&null!==e.listSelector?nn.fromPartial(e.listSelector):void 0,t}};function nc(){return{$type:"proto.sdui.bindings.core.BindableBoolean",stateKey:""}}rL.set(nl.$type,nl);let nu={$type:"proto.sdui.bindings.core.BindableBoolean",encode:(t,r=e.Writer.create())=>(""!==t.stateKey&&r.uint32(10).string(t.stateKey),r),decode(t,r){let i=t instanceof e.Reader?t:e.Reader.create(t),n=void 0===r?i.len:i.pos+r,o=nc();for(;i.pos<n;){let e=i.uint32();switch(e>>>3){case 1:if(10!==e)break;o.stateKey=i.string();continue}if((7&e)==4||0===e)break;i.skipType(7&e)}return o},fromJSON:e=>({$type:nu.$type,stateKey:null!=e.stateKey?globalThis.String(e.stateKey):""}),toJSON(e){let t={};return""!==e.stateKey&&(t.stateKey=e.stateKey),t},create:e=>nu.fromPartial(e??{}),fromPartial(e){let t=nc();return t.stateKey=e.stateKey??"",t}};function nd(){return{$type:"proto.sdui.bindings.core.BindableColor"}}rL.set(nu.$type,nu);let np={$type:"proto.sdui.bindings.core.BindableColor",encode:(t,r=e.Writer.create())=>r,decode(t,r){let i=t instanceof e.Reader?t:e.Reader.create(t),n=void 0===r?i.len:i.pos+r,o=nd();for(;i.pos<n;){let e=i.uint32();if((7&e)==4||0===e)break;i.skipType(7&e)}return o},fromJSON:e=>({$type:np.$type}),toJSON:e=>({}),create:e=>np.fromPartial(e??{}),fromPartial:e=>nd()};function nf(){return{$type:"proto.sdui.bindings.core.BindableDate"}}rL.set(np.$type,np);let nm={$type:"proto.sdui.bindings.core.BindableDate",encode:(t,r=e.Writer.create())=>r,decode(t,r){let i=t instanceof e.Reader?t:e.Reader.create(t),n=void 0===r?i.len:i.pos+r,o=nf();for(;i.pos<n;){let e=i.uint32();if((7&e)==4||0===e)break;i.skipType(7&e)}return o},fromJSON:e=>({$type:nm.$type}),toJSON:e=>({}),create:e=>nm.fromPartial(e??{}),fromPartial:e=>nf()};function ng(){return{$type:"proto.sdui.bindings.core.BindableFloat"}}rL.set(nm.$type,nm);let nh={$type:"proto.sdui.bindings.core.BindableFloat",encode:(t,r=e.Writer.create())=>r,decode(t,r){let i=t instanceof e.Reader?t:e.Reader.create(t),n=void 0===r?i.len:i.pos+r,o=ng();for(;i.pos<n;){let e=i.uint32();if((7&e)==4||0===e)break;i.skipType(7&e)}return o},fromJSON:e=>({$type:nh.$type}),toJSON:e=>({}),create:e=>nh.fromPartial(e??{}),fromPartial:e=>ng()};function ny(){return{$type:"proto.sdui.common.IntegerRange",start:0,end:0}}rL.set(nh.$type,nh);let nb={$type:"proto.sdui.common.IntegerRange",encode:(t,r=e.Writer.create())=>(0!==t.start&&r.uint32(8).int32(t.start),0!==t.end&&r.uint32(16).int32(t.end),r),decode(t,r){let i=t instanceof e.Reader?t:e.Reader.create(t),n=void 0===r?i.len:i.pos+r,o=ny();for(;i.pos<n;){let e=i.uint32();switch(e>>>3){case 1:if(8!==e)break;o.start=i.int32();continue;case 2:if(16!==e)break;o.end=i.int32();continue}if((7&e)==4||0===e)break;i.skipType(7&e)}return o},fromJSON:e=>({$type:nb.$type,start:null!=e.start?globalThis.Number(e.start):0,end:null!=e.end?globalThis.Number(e.end):0}),toJSON(e){let t={};return 0!==e.start&&(t.start=Math.round(e.start)),0!==e.end&&(t.end=Math.round(e.end)),t},create:e=>nb.fromPartial(e??{}),fromPartial(e){let t=ny();return t.start=e.start??0,t.end=e.end??0,t}};function nx(){return{$type:"proto.sdui.bindings.core.BindableInteger",stateKey:"",range:void 0}}rL.set(nb.$type,nb);let nS={$type:"proto.sdui.bindings.core.BindableInteger",encode:(t,r=e.Writer.create())=>(""!==t.stateKey&&r.uint32(10).string(t.stateKey),void 0!==t.range&&nb.encode(t.range,r.uint32(18).fork()).ldelim(),r),decode(t,r){let i=t instanceof e.Reader?t:e.Reader.create(t),n=void 0===r?i.len:i.pos+r,o=nx();for(;i.pos<n;){let e=i.uint32();switch(e>>>3){case 1:if(10!==e)break;o.stateKey=i.string();continue;case 2:if(18!==e)break;o.range=nb.decode(i,i.uint32());continue}if((7&e)==4||0===e)break;i.skipType(7&e)}return o},fromJSON:e=>({$type:nS.$type,stateKey:null!=e.stateKey?globalThis.String(e.stateKey):"",range:null!=e.range?nb.fromJSON(e.range):void 0}),toJSON(e){let t={};return""!==e.stateKey&&(t.stateKey=e.stateKey),void 0!==e.range&&(t.range=nb.toJSON(e.range)),t},create:e=>nS.fromPartial(e??{}),fromPartial(e){let t=nx();return t.stateKey=e.stateKey??"",t.range=void 0!==e.range&&null!==e.range?nb.fromPartial(e.range):void 0,t}};function nE(){return{$type:"proto.sdui.bindings.core.BindableList"}}rL.set(nS.$type,nS);let nv={$type:"proto.sdui.bindings.core.BindableList",encode:(t,r=e.Writer.create())=>r,decode(t,r){let i=t instanceof e.Reader?t:e.Reader.create(t),n=void 0===r?i.len:i.pos+r,o=nE();for(;i.pos<n;){let e=i.uint32();if((7&e)==4||0===e)break;i.skipType(7&e)}return o},fromJSON:e=>({$type:nv.$type}),toJSON:e=>({}),create:e=>nv.fromPartial(e??{}),fromPartial:e=>nE()};function nT(){return{$type:"proto.sdui.bindings.core.BindableLong"}}rL.set(nv.$type,nv);let nN={$type:"proto.sdui.bindings.core.BindableLong",encode:(t,r=e.Writer.create())=>r,decode(t,r){let i=t instanceof e.Reader?t:e.Reader.create(t),n=void 0===r?i.len:i.pos+r,o=nT();for(;i.pos<n;){let e=i.uint32();if((7&e)==4||0===e)break;i.skipType(7&e)}return o},fromJSON:e=>({$type:nN.$type}),toJSON:e=>({}),create:e=>nN.fromPartial(e??{}),fromPartial:e=>nT()};function n_(){return{$type:"proto.sdui.bindings.core.BindableMediaList"}}rL.set(nN.$type,nN);let nk={$type:"proto.sdui.bindings.core.BindableMediaList",encode:(t,r=e.Writer.create())=>r,decode(t,r){let i=t instanceof e.Reader?t:e.Reader.create(t),n=void 0===r?i.len:i.pos+r,o=n_();for(;i.pos<n;){let e=i.uint32();if((7&e)==4||0===e)break;i.skipType(7&e)}return o},fromJSON:e=>({$type:nk.$type}),toJSON:e=>({}),create:e=>nk.fromPartial(e??{}),fromPartial:e=>n_()};function nI(){return{$type:"proto.sdui.bindings.core.BindableString",stateKey:"",lengthRange:void 0}}rL.set(nk.$type,nk);let nO={$type:"proto.sdui.bindings.core.BindableString",encode:(t,r=e.Writer.create())=>(""!==t.stateKey&&r.uint32(10).string(t.stateKey),void 0!==t.lengthRange&&nb.encode(t.lengthRange,r.uint32(18).fork()).ldelim(),r),decode(t,r){let i=t instanceof e.Reader?t:e.Reader.create(t),n=void 0===r?i.len:i.pos+r,o=nI();for(;i.pos<n;){let e=i.uint32();switch(e>>>3){case 1:if(10!==e)break;o.stateKey=i.string();continue;case 2:if(18!==e)break;o.lengthRange=nb.decode(i,i.uint32());continue}if((7&e)==4||0===e)break;i.skipType(7&e)}return o},fromJSON:e=>({$type:nO.$type,stateKey:null!=e.stateKey?globalThis.String(e.stateKey):"",lengthRange:null!=e.lengthRange?nb.fromJSON(e.lengthRange):void 0}),toJSON(e){let t={};return""!==e.stateKey&&(t.stateKey=e.stateKey),void 0!==e.lengthRange&&(t.lengthRange=nb.toJSON(e.lengthRange)),t},create:e=>nO.fromPartial(e??{}),fromPartial(e){let t=nI();return t.stateKey=e.stateKey??"",t.lengthRange=void 0!==e.lengthRange&&null!==e.lengthRange?nb.fromPartial(e.lengthRange):void 0,t}};function nC(){return{$type:"proto.sdui.bindings.core.BindableTextModel"}}rL.set(nO.$type,nO);let nP={$type:"proto.sdui.bindings.core.BindableTextModel",encode:(t,r=e.Writer.create())=>r,decode(t,r){let i=t instanceof e.Reader?t:e.Reader.create(t),n=void 0===r?i.len:i.pos+r,o=nC();for(;i.pos<n;){let e=i.uint32();if((7&e)==4||0===e)break;i.skipType(7&e)}return o},fromJSON:e=>({$type:nP.$type}),toJSON:e=>({}),create:e=>nP.fromPartial(e??{}),fromPartial:e=>nC()};function nR(){return{$type:"proto.sdui.bindings.core.BindableTextModelForWrite"}}rL.set(nP.$type,nP);let nw={$type:"proto.sdui.bindings.core.BindableTextModelForWrite",encode:(t,r=e.Writer.create())=>r,decode(t,r){let i=t instanceof e.Reader?t:e.Reader.create(t),n=void 0===r?i.len:i.pos+r,o=nR();for(;i.pos<n;){let e=i.uint32();if((7&e)==4||0===e)break;i.skipType(7&e)}return o},fromJSON:e=>({$type:nw.$type}),toJSON:e=>({}),create:e=>nw.fromPartial(e??{}),fromPartial:e=>nR()};function nA(){return{$type:"proto.sdui.bindings.core.FieldValueBindableAssociationData",urn:"",fieldNameHierarchy:[],fieldValueMap:void 0,listSelector:void 0}}rL.set(nw.$type,nw);let n$={$type:"proto.sdui.bindings.core.FieldValueBindableAssociationData",encode(t,r=e.Writer.create()){for(let e of(""!==t.urn&&r.uint32(10).string(t.urn),t.fieldNameHierarchy))r.uint32(18).string(e);return void 0!==t.fieldValueMap&&i7.encode(i7.wrap(t.fieldValueMap),r.uint32(26).fork()).ldelim(),void 0!==t.defaultState&&i9.encode(i9.wrap(t.defaultState),r.uint32(34).fork()).ldelim(),void 0!==t.listSelector&&nn.encode(t.listSelector,r.uint32(42).fork()).ldelim(),r},decode(t,r){let i=t instanceof e.Reader?t:e.Reader.create(t),n=void 0===r?i.len:i.pos+r,o=nA();for(;i.pos<n;){let e=i.uint32();switch(e>>>3){case 1:if(10!==e)break;o.urn=i.string();continue;case 2:if(18!==e)break;o.fieldNameHierarchy.push(i.string());continue;case 3:if(26!==e)break;o.fieldValueMap=i7.unwrap(i7.decode(i,i.uint32()));continue;case 4:if(34!==e)break;o.defaultState=i9.unwrap(i9.decode(i,i.uint32()));continue;case 5:if(42!==e)break;o.listSelector=nn.decode(i,i.uint32());continue}if((7&e)==4||0===e)break;i.skipType(7&e)}return o},fromJSON:e=>{var t;return{$type:n$.$type,urn:null!=e.urn?globalThis.String(e.urn):"",fieldNameHierarchy:globalThis.Array.isArray(e?.fieldNameHierarchy)?e.fieldNameHierarchy.map(e=>globalThis.String(e)):[],fieldValueMap:"object"==typeof(t=e.fieldValueMap)&&null!==t?e.fieldValueMap:void 0,defaultState:null!=e?.defaultState?e.defaultState:void 0,listSelector:null!=e.listSelector?nn.fromJSON(e.listSelector):void 0}},toJSON(e){let t={};return""!==e.urn&&(t.urn=e.urn),e.fieldNameHierarchy?.length&&(t.fieldNameHierarchy=e.fieldNameHierarchy),void 0!==e.fieldValueMap&&(t.fieldValueMap=e.fieldValueMap),void 0!==e.defaultState&&(t.defaultState=e.defaultState),void 0!==e.listSelector&&(t.listSelector=nn.toJSON(e.listSelector)),t},create:e=>n$.fromPartial(e??{}),fromPartial(e){let t=nA();return t.urn=e.urn??"",t.fieldNameHierarchy=e.fieldNameHierarchy?.map(e=>e)||[],t.fieldValueMap=e.fieldValueMap??void 0,t.defaultState=e.defaultState??void 0,t.listSelector=void 0!==e.listSelector&&null!==e.listSelector?nn.fromPartial(e.listSelector):void 0,t}};function nL(){return{$type:"proto.sdui.bindings.core.Bindable",stateKey:"",key:void 0,content:void 0,tempConsistencyAssociationData:void 0}}rL.set(n$.$type,n$);let nM={$type:"proto.sdui.bindings.core.Bindable",encode(t,r=e.Writer.create()){switch(""!==t.stateKey&&r.uint32(10).string(t.stateKey),void 0!==t.key&&i2.encode(t.key,r.uint32(82).fork()).ldelim(),t.content?.$case){case"intBinding":nS.encode(t.content.intBinding,r.uint32(18).fork()).ldelim();break;case"stringBinding":nO.encode(t.content.stringBinding,r.uint32(26).fork()).ldelim();break;case"booleanBinding":nu.encode(t.content.booleanBinding,r.uint32(34).fork()).ldelim();break;case"listBinding":nv.encode(t.content.listBinding,r.uint32(42).fork()).ldelim();break;case"longBinding":nN.encode(t.content.longBinding,r.uint32(50).fork()).ldelim();break;case"colorBinding":np.encode(t.content.colorBinding,r.uint32(58).fork()).ldelim();break;case"dateBinding":nm.encode(t.content.dateBinding,r.uint32(66).fork()).ldelim();break;case"floatBinding":nh.encode(t.content.floatBinding,r.uint32(74).fork()).ldelim();break;case"mediaListBinding":nk.encode(t.content.mediaListBinding,r.uint32(90).fork()).ldelim();break;case"textModelForWriteBinding":nw.encode(t.content.textModelForWriteBinding,r.uint32(178).fork()).ldelim();break;case"textModelBinding":nP.encode(t.content.textModelBinding,r.uint32(186).fork()).ldelim()}switch(t.tempConsistencyAssociationData?.$case){case"basicAssociation":nl.encode(t.tempConsistencyAssociationData.basicAssociation,r.uint32(162).fork()).ldelim();break;case"fieldValueAssociation":n$.encode(t.tempConsistencyAssociationData.fieldValueAssociation,r.uint32(170).fork()).ldelim()}return r},decode(t,r){let i=t instanceof e.Reader?t:e.Reader.create(t),n=void 0===r?i.len:i.pos+r,o=nL();for(;i.pos<n;){let e=i.uint32();switch(e>>>3){case 1:if(10!==e)break;o.stateKey=i.string();continue;case 10:if(82!==e)break;o.key=i2.decode(i,i.uint32());continue;case 2:if(18!==e)break;o.content={$case:"intBinding",intBinding:nS.decode(i,i.uint32())};continue;case 3:if(26!==e)break;o.content={$case:"stringBinding",stringBinding:nO.decode(i,i.uint32())};continue;case 4:if(34!==e)break;o.content={$case:"booleanBinding",booleanBinding:nu.decode(i,i.uint32())};continue;case 5:if(42!==e)break;o.content={$case:"listBinding",listBinding:nv.decode(i,i.uint32())};continue;case 6:if(50!==e)break;o.content={$case:"longBinding",longBinding:nN.decode(i,i.uint32())};continue;case 7:if(58!==e)break;o.content={$case:"colorBinding",colorBinding:np.decode(i,i.uint32())};continue;case 8:if(66!==e)break;o.content={$case:"dateBinding",dateBinding:nm.decode(i,i.uint32())};continue;case 9:if(74!==e)break;o.content={$case:"floatBinding",floatBinding:nh.decode(i,i.uint32())};continue;case 11:if(90!==e)break;o.content={$case:"mediaListBinding",mediaListBinding:nk.decode(i,i.uint32())};continue;case 22:if(178!==e)break;o.content={$case:"textModelForWriteBinding",textModelForWriteBinding:nw.decode(i,i.uint32())};continue;case 23:if(186!==e)break;o.content={$case:"textModelBinding",textModelBinding:nP.decode(i,i.uint32())};continue;case 20:if(162!==e)break;o.tempConsistencyAssociationData={$case:"basicAssociation",basicAssociation:nl.decode(i,i.uint32())};continue;case 21:if(170!==e)break;o.tempConsistencyAssociationData={$case:"fieldValueAssociation",fieldValueAssociation:n$.decode(i,i.uint32())};continue}if((7&e)==4||0===e)break;i.skipType(7&e)}return o},fromJSON:e=>({$type:nM.$type,stateKey:nD(e.stateKey)?globalThis.String(e.stateKey):"",key:nD(e.key)?i2.fromJSON(e.key):void 0,content:nD(e.intBinding)?{$case:"intBinding",intBinding:nS.fromJSON(e.intBinding)}:nD(e.stringBinding)?{$case:"stringBinding",stringBinding:nO.fromJSON(e.stringBinding)}:nD(e.booleanBinding)?{$case:"booleanBinding",booleanBinding:nu.fromJSON(e.booleanBinding)}:nD(e.listBinding)?{$case:"listBinding",listBinding:nv.fromJSON(e.listBinding)}:nD(e.longBinding)?{$case:"longBinding",longBinding:nN.fromJSON(e.longBinding)}:nD(e.colorBinding)?{$case:"colorBinding",colorBinding:np.fromJSON(e.colorBinding)}:nD(e.dateBinding)?{$case:"dateBinding",dateBinding:nm.fromJSON(e.dateBinding)}:nD(e.floatBinding)?{$case:"floatBinding",floatBinding:nh.fromJSON(e.floatBinding)}:nD(e.mediaListBinding)?{$case:"mediaListBinding",mediaListBinding:nk.fromJSON(e.mediaListBinding)}:nD(e.textModelForWriteBinding)?{$case:"textModelForWriteBinding",textModelForWriteBinding:nw.fromJSON(e.textModelForWriteBinding)}:nD(e.textModelBinding)?{$case:"textModelBinding",textModelBinding:nP.fromJSON(e.textModelBinding)}:void 0,tempConsistencyAssociationData:nD(e.basicAssociation)?{$case:"basicAssociation",basicAssociation:nl.fromJSON(e.basicAssociation)}:nD(e.fieldValueAssociation)?{$case:"fieldValueAssociation",fieldValueAssociation:n$.fromJSON(e.fieldValueAssociation)}:void 0}),toJSON(e){let t={};return""!==e.stateKey&&(t.stateKey=e.stateKey),void 0!==e.key&&(t.key=i2.toJSON(e.key)),e.content?.$case==="intBinding"&&(t.intBinding=nS.toJSON(e.content.intBinding)),e.content?.$case==="stringBinding"&&(t.stringBinding=nO.toJSON(e.content.stringBinding)),e.content?.$case==="booleanBinding"&&(t.booleanBinding=nu.toJSON(e.content.booleanBinding)),e.content?.$case==="listBinding"&&(t.listBinding=nv.toJSON(e.content.listBinding)),e.content?.$case==="longBinding"&&(t.longBinding=nN.toJSON(e.content.longBinding)),e.content?.$case==="colorBinding"&&(t.colorBinding=np.toJSON(e.content.colorBinding)),e.content?.$case==="dateBinding"&&(t.dateBinding=nm.toJSON(e.content.dateBinding)),e.content?.$case==="floatBinding"&&(t.floatBinding=nh.toJSON(e.content.floatBinding)),e.content?.$case==="mediaListBinding"&&(t.mediaListBinding=nk.toJSON(e.content.mediaListBinding)),e.content?.$case==="textModelForWriteBinding"&&(t.textModelForWriteBinding=nw.toJSON(e.content.textModelForWriteBinding)),e.content?.$case==="textModelBinding"&&(t.textModelBinding=nP.toJSON(e.content.textModelBinding)),e.tempConsistencyAssociationData?.$case==="basicAssociation"&&(t.basicAssociation=nl.toJSON(e.tempConsistencyAssociationData.basicAssociation)),e.tempConsistencyAssociationData?.$case==="fieldValueAssociation"&&(t.fieldValueAssociation=n$.toJSON(e.tempConsistencyAssociationData.fieldValueAssociation)),t},create:e=>nM.fromPartial(e??{}),fromPartial(e){let t=nL();return t.stateKey=e.stateKey??"",t.key=void 0!==e.key&&null!==e.key?i2.fromPartial(e.key):void 0,e.content?.$case==="intBinding"&&e.content?.intBinding!==void 0&&e.content?.intBinding!==null&&(t.content={$case:"intBinding",intBinding:nS.fromPartial(e.content.intBinding)}),e.content?.$case==="stringBinding"&&e.content?.stringBinding!==void 0&&e.content?.stringBinding!==null&&(t.content={$case:"stringBinding",stringBinding:nO.fromPartial(e.content.stringBinding)}),e.content?.$case==="booleanBinding"&&e.content?.booleanBinding!==void 0&&e.content?.booleanBinding!==null&&(t.content={$case:"booleanBinding",booleanBinding:nu.fromPartial(e.content.booleanBinding)}),e.content?.$case==="listBinding"&&e.content?.listBinding!==void 0&&e.content?.listBinding!==null&&(t.content={$case:"listBinding",listBinding:nv.fromPartial(e.content.listBinding)}),e.content?.$case==="longBinding"&&e.content?.longBinding!==void 0&&e.content?.longBinding!==null&&(t.content={$case:"longBinding",longBinding:nN.fromPartial(e.content.longBinding)}),e.content?.$case==="colorBinding"&&e.content?.colorBinding!==void 0&&e.content?.colorBinding!==null&&(t.content={$case:"colorBinding",colorBinding:np.fromPartial(e.content.colorBinding)}),e.content?.$case==="dateBinding"&&e.content?.dateBinding!==void 0&&e.content?.dateBinding!==null&&(t.content={$case:"dateBinding",dateBinding:nm.fromPartial(e.content.dateBinding)}),e.content?.$case==="floatBinding"&&e.content?.floatBinding!==void 0&&e.content?.floatBinding!==null&&(t.content={$case:"floatBinding",floatBinding:nh.fromPartial(e.content.floatBinding)}),e.content?.$case==="mediaListBinding"&&e.content?.mediaListBinding!==void 0&&e.content?.mediaListBinding!==null&&(t.content={$case:"mediaListBinding",mediaListBinding:nk.fromPartial(e.content.mediaListBinding)}),e.content?.$case==="textModelForWriteBinding"&&e.content?.textModelForWriteBinding!==void 0&&e.content?.textModelForWriteBinding!==null&&(t.content={$case:"textModelForWriteBinding",textModelForWriteBinding:nw.fromPartial(e.content.textModelForWriteBinding)}),e.content?.$case==="textModelBinding"&&e.content?.textModelBinding!==void 0&&e.content?.textModelBinding!==null&&(t.content={$case:"textModelBinding",textModelBinding:nP.fromPartial(e.content.textModelBinding)}),e.tempConsistencyAssociationData?.$case==="basicAssociation"&&e.tempConsistencyAssociationData?.basicAssociation!==void 0&&e.tempConsistencyAssociationData?.basicAssociation!==null&&(t.tempConsistencyAssociationData={$case:"basicAssociation",basicAssociation:nl.fromPartial(e.tempConsistencyAssociationData.basicAssociation)}),e.tempConsistencyAssociationData?.$case==="fieldValueAssociation"&&e.tempConsistencyAssociationData?.fieldValueAssociation!==void 0&&e.tempConsistencyAssociationData?.fieldValueAssociation!==null&&(t.tempConsistencyAssociationData={$case:"fieldValueAssociation",fieldValueAssociation:n$.fromPartial(e.tempConsistencyAssociationData.fieldValueAssociation)}),t}};function nD(e){return null!=e}function nU(){return{$type:"proto.sdui.expressions.ScreenExpression",expression:void 0,isReactive:!1}}rL.set(nM.$type,nM);let nF={$type:"proto.sdui.expressions.ScreenExpression",encode(t,r=e.Writer.create()){switch(t.expression?.$case){case"screenId":r.uint32(10).string(t.expression.screenId);break;case"bindableScreenId":nM.encode(t.expression.bindableScreenId,r.uint32(18).fork()).ldelim();break;case"currentScreen":nB.encode(t.expression.currentScreen,r.uint32(26).fork()).ldelim()}return!1!==t.isReactive&&r.uint32(32).bool(t.isReactive),r},decode(t,r){let i=t instanceof e.Reader?t:e.Reader.create(t),n=void 0===r?i.len:i.pos+r,o=nU();for(;i.pos<n;){let e=i.uint32();switch(e>>>3){case 1:if(10!==e)break;o.expression={$case:"screenId",screenId:i.string()};continue;case 2:if(18!==e)break;o.expression={$case:"bindableScreenId",bindableScreenId:nM.decode(i,i.uint32())};continue;case 3:if(26!==e)break;o.expression={$case:"currentScreen",currentScreen:nB.decode(i,i.uint32())};continue;case 4:if(32!==e)break;o.isReactive=i.bool();continue}if((7&e)==4||0===e)break;i.skipType(7&e)}return o},fromJSON:e=>({$type:nF.$type,expression:null!=e.screenId?{$case:"screenId",screenId:globalThis.String(e.screenId)}:null!=e.bindableScreenId?{$case:"bindableScreenId",bindableScreenId:nM.fromJSON(e.bindableScreenId)}:null!=e.currentScreen?{$case:"currentScreen",currentScreen:nB.fromJSON(e.currentScreen)}:void 0,isReactive:null!=e.isReactive&&globalThis.Boolean(e.isReactive)}),toJSON(e){let t={};return e.expression?.$case==="screenId"&&(t.screenId=e.expression.screenId),e.expression?.$case==="bindableScreenId"&&(t.bindableScreenId=nM.toJSON(e.expression.bindableScreenId)),e.expression?.$case==="currentScreen"&&(t.currentScreen=nB.toJSON(e.expression.currentScreen)),!1!==e.isReactive&&(t.isReactive=e.isReactive),t},create:e=>nF.fromPartial(e??{}),fromPartial(e){let t=nU();return e.expression?.$case==="screenId"&&e.expression?.screenId!==void 0&&e.expression?.screenId!==null&&(t.expression={$case:"screenId",screenId:e.expression.screenId}),e.expression?.$case==="bindableScreenId"&&e.expression?.bindableScreenId!==void 0&&e.expression?.bindableScreenId!==null&&(t.expression={$case:"bindableScreenId",bindableScreenId:nM.fromPartial(e.expression.bindableScreenId)}),e.expression?.$case==="currentScreen"&&e.expression?.currentScreen!==void 0&&e.expression?.currentScreen!==null&&(t.expression={$case:"currentScreen",currentScreen:nB.fromPartial(e.expression.currentScreen)}),t.isReactive=e.isReactive??!1,t}};function nj(){return{$type:"proto.sdui.expressions.CurrentScreenExpression"}}rL.set(nF.$type,nF);let nB={$type:"proto.sdui.expressions.CurrentScreenExpression",encode:(t,r=e.Writer.create())=>r,decode(t,r){let i=t instanceof e.Reader?t:e.Reader.create(t),n=void 0===r?i.len:i.pos+r,o=nj();for(;i.pos<n;){let e=i.uint32();if((7&e)==4||0===e)break;i.skipType(7&e)}return o},fromJSON:e=>({$type:nB.$type}),toJSON:e=>({}),create:e=>nB.fromPartial(e??{}),fromPartial:e=>nj()};rL.set(nB.$type,nB);var nV=((id=nV||{}).ScreenRelationshipOperator_UNKNOWN="ScreenRelationshipOperator_UNKNOWN",id.ScreenRelationshipOperator_EQUALS="ScreenRelationshipOperator_EQUALS",id.ScreenRelationshipOperator_BACK_STACK_PREVIOUS="ScreenRelationshipOperator_BACK_STACK_PREVIOUS",id.ScreenRelationshipOperator_BACK_STACK_NEXT="ScreenRelationshipOperator_BACK_STACK_NEXT",id.ScreenRelationshipOperator_BACK_STACK_BEFORE="ScreenRelationshipOperator_BACK_STACK_BEFORE",id.ScreenRelationshipOperator_BACK_STACK_AFTER="ScreenRelationshipOperator_BACK_STACK_AFTER",id);function nK(e){switch(e){case 0:case"ScreenRelationshipOperator_UNKNOWN":default:return"ScreenRelationshipOperator_UNKNOWN";case 1:case"ScreenRelationshipOperator_EQUALS":return"ScreenRelationshipOperator_EQUALS";case 2:case"ScreenRelationshipOperator_BACK_STACK_PREVIOUS":return"ScreenRelationshipOperator_BACK_STACK_PREVIOUS";case 3:case"ScreenRelationshipOperator_BACK_STACK_NEXT":return"ScreenRelationshipOperator_BACK_STACK_NEXT";case 4:case"ScreenRelationshipOperator_BACK_STACK_BEFORE":return"ScreenRelationshipOperator_BACK_STACK_BEFORE";case 5:case"ScreenRelationshipOperator_BACK_STACK_AFTER":return"ScreenRelationshipOperator_BACK_STACK_AFTER"}}function nW(){return{$type:"proto.sdui.expressions.ScreenRelationshipExpression",a:void 0,operator:"ScreenRelationshipOperator_UNKNOWN",b:void 0}}let nJ={$type:"proto.sdui.expressions.ScreenRelationshipExpression",encode:(t,r=e.Writer.create())=>(void 0!==t.a&&nF.encode(t.a,r.uint32(10).fork()).ldelim(),"ScreenRelationshipOperator_UNKNOWN"!==t.operator&&r.uint32(16).int32(function(e){switch(e){case"ScreenRelationshipOperator_UNKNOWN":default:return 0;case"ScreenRelationshipOperator_EQUALS":return 1;case"ScreenRelationshipOperator_BACK_STACK_PREVIOUS":return 2;case"ScreenRelationshipOperator_BACK_STACK_NEXT":return 3;case"ScreenRelationshipOperator_BACK_STACK_BEFORE":return 4;case"ScreenRelationshipOperator_BACK_STACK_AFTER":return 5}}(t.operator)),void 0!==t.b&&nF.encode(t.b,r.uint32(26).fork()).ldelim(),r),decode(t,r){let i=t instanceof e.Reader?t:e.Reader.create(t),n=void 0===r?i.len:i.pos+r,o=nW();for(;i.pos<n;){let e=i.uint32();switch(e>>>3){case 1:if(10!==e)break;o.a=nF.decode(i,i.uint32());continue;case 2:if(16!==e)break;o.operator=nK(i.int32());continue;case 3:if(26!==e)break;o.b=nF.decode(i,i.uint32());continue}if((7&e)==4||0===e)break;i.skipType(7&e)}return o},fromJSON:e=>({$type:nJ.$type,a:null!=e.a?nF.fromJSON(e.a):void 0,operator:null!=e.operator?nK(e.operator):"ScreenRelationshipOperator_UNKNOWN",b:null!=e.b?nF.fromJSON(e.b):void 0}),toJSON(e){let t={};return void 0!==e.a&&(t.a=nF.toJSON(e.a)),"ScreenRelationshipOperator_UNKNOWN"!==e.operator&&(t.operator=function(e){switch(e){case"ScreenRelationshipOperator_UNKNOWN":default:return"ScreenRelationshipOperator_UNKNOWN";case"ScreenRelationshipOperator_EQUALS":return"ScreenRelationshipOperator_EQUALS";case"ScreenRelationshipOperator_BACK_STACK_PREVIOUS":return"ScreenRelationshipOperator_BACK_STACK_PREVIOUS";case"ScreenRelationshipOperator_BACK_STACK_NEXT":return"ScreenRelationshipOperator_BACK_STACK_NEXT";case"ScreenRelationshipOperator_BACK_STACK_BEFORE":return"ScreenRelationshipOperator_BACK_STACK_BEFORE";case"ScreenRelationshipOperator_BACK_STACK_AFTER":return"ScreenRelationshipOperator_BACK_STACK_AFTER"}}(e.operator)),void 0!==e.b&&(t.b=nF.toJSON(e.b)),t},create:e=>nJ.fromPartial(e??{}),fromPartial(e){let t=nW();return t.a=void 0!==e.a&&null!==e.a?nF.fromPartial(e.a):void 0,t.operator=e.operator??"ScreenRelationshipOperator_UNKNOWN",t.b=void 0!==e.b&&null!==e.b?nF.fromPartial(e.b):void 0,t}};rL.set(nJ.$type,nJ);let nG=t.createContext(null);function nz(e,r){let i=t.useContext(nG);t.useEffect(()=>{if(e){i?.addSubscriptions([e]);let t=i?.addEventListener("topic",(t,i)=>{let{topic:n,payload:o}=i;n===e&&r(o.data)});return()=>{t?.()}}},[i,e,r])}let nH=Object.freeze(Object.defineProperty({__proto__:null,RTCManager:function({children:e,appName:n}){let[o,a]=t.useState(null),s=tj(),{jetCore:l}=tB().getClients();return t.useEffect(()=>{try{let e={"csrf-token":s,"x-RestLi-Protocol-Version":"2.0.0","x-li-query-accept":"application/graphql","x-li-accept":"application/vnd.linkedin.normalized+json+2.1","x-li-track":JSON.stringify({mpName:"voyager-web"}),"x-li-recipe-accept":"application/vnd.linkedin.normalized+json+2.1","x-li-recipe-map":JSON.stringify({tabBadgeUpdateTopic:"com.linkedin.voyager.dash.deco.notifications.RealtimeBadgingItemCountsEvent-1"})},t=i({domain:"https://www.linkedin.com",mpInfo:{name:n,id:n,version:""},connectHeaders:e,sessionHeartbeat:60,experimental:{isHeartbeatPayloadEnabled:!0,checkJwtExpiration:!1},tracking:{fireEventCallback:()=>{}}});return a(t),t.connect("RETRY"),()=>{t.disconnectAndClose()}}catch(e){l.reportError(e,["rtc-manager-init-error"])}},[l]),r.jsx(nG.Provider,{value:o,children:e})},useRealtimeTopic:nz},Symbol.toStringTag,{value:"Module"}));var nq=((ip=nq||{}).MEMORY_STATE="MemoryNamespace",ip.REALTIME_HANDLERS="RealtimeNamespace",ip);let nY=t.createContext(void 0),nX=()=>{let e=t.useContext(nY);if(!e)throw Error("useSduiGlobalStoreContext must be used within a SduiGlobalStoreProvider");return e},nZ=Object.freeze(Object.defineProperty({__proto__:null,SduiGlobalStoreProvider:({isSsrStoreEnabled:e,rsaPublicKey:t,encryptionSalt:i,children:n})=>{let o=new Map;return r.jsx(nY.Provider,{value:{getStore:e=>(o.has(e)||o.set(e,new iV([nq.REALTIME_HANDLERS],!0)),o.get(e)),isSsrStoreEnabled:e,rsaPublicKey:t,encryptionSalt:i},children:n})},useSduiGlobalStoreContext:nX},Symbol.toStringTag,{value:"Module"})),nQ=/LinkedInApp/i,n0=/iP(hone|od|ad).*AppleWebKit/,n1=/.*\bMacintosh\b.*AppleWebKit.* Mobile.*\b(LinkedInApp|Zephyr)\b.*$/i,n2=/Android.*AppleWebKit/;class n3{notify(e){if(this.isMobileWebView){if(this.isIOSApp)return n3.notifyIOSClient(e);if(this.isAndroidApp)return n3.notifyAndroidClient(e)}else if(this.isInIframe)return n3.notifyIframeParent(e);return!1}get userAgent(){return"undefined"!=typeof window?window.navigator.userAgent||window.navigator.vendor:""}get isLinkedInApp(){return nQ.test(this.userAgent)}get isIOS(){return n0.test(this.userAgent)}get isIOSAppFromIpad(){return n1.test(this.userAgent)}get isAndroid(){return n2.test(this.userAgent)}get isIOSApp(){return this.isLinkedInApp&&this.isIOS||this.isIOSAppFromIpad}get isAndroidApp(){return this.isLinkedInApp&&this.isAndroid}get isMobileWebView(){return this.isAndroidApp||this.isIOSApp}get isMobile(){return this.isIOS||this.isAndroid}get isInIframe(){return"undefined"!=typeof window&&window.location!==window.parent.location}static notifyIOSClient(e){let t=window;return!!("undefined"!=typeof window&&"webkit"in t&&t.webkit?.messageHandlers)&&(t.webkit.messageHandlers.jsMessenger?.postMessage(e),!0)}static notifyAndroidClient(e){let t=window;return!!("undefined"!=typeof window&&"Android"in t&&t.Android?.sendWebMessage)&&(t.Android.sendWebMessage(e),!0)}static notifyIframeParent(e){return!!("undefined"!=typeof window&&window.parent?.postMessage)&&(window.parent.postMessage(e),!0)}}let n4=new n3;async function n7(e){if(!e)return await crypto.subtle.importKey("spki",new Uint8Array(0),{name:"RSA-OAEP",hash:"SHA-1"},!1,["encrypt"]);let t=Uint8Array.from(atob(e),e=>e.charCodeAt(0));return await crypto.subtle.importKey("spki",t,{name:"RSA-OAEP",hash:"SHA-1"},!1,["encrypt"])}function n5(){let e=nX(),r=e.getStore("sdui-state"),i=tB(),n=t.useCallback(async()=>await n7(e?.rsaPublicKey),[e.rsaPublicKey]),o=e.encryptionSalt??"",a=n4.isMobileWebView;return{enableSSR:e.isSsrStoreEnabled,store:r,setSduiStates:e=>{sV(e,r)},setSduiStateByKey(e,t,i=!1){sj(e,t,i,r,{getRsaKey:n,encryptionSalt:o})},setValue(e,t,s=!1){sj(e,t,s,void 0,{getRsaKey:n,encryptionSalt:o}),sj(e,t,s,r,{getRsaKey:n,encryptionSalt:o}),a&&function(e,t,r=!1,i){try{let i="bigint"==typeof t?t.toString():t;n4.notify(JSON.stringify({message:"SetState",data:{key:e,value:i,isOptimistic:r}}))}catch(e){i?.reportError(e,["notify-parent-app"])}}(e,t,s,i.getClients().jetCore)},getValue:e=>sG(e,r),getBynamespace:e=>r.getItemsByGroup(e),subscribeToNamespace:(e,t)=>{r.subscribeToGroup(e,t)},unsubscribeFromNamespace:(e,t)=>{r.unsubscribeFromGroup(e,t)}}}let n6=({stateKey:e,namespace:t})=>t?`sdui_${e}_${t}`:e,n8=e=>{if(!e)return;let t=e.key?.value?.$case==="id"?e.key.value.id:e.value;if(t)return n6({stateKey:t,namespace:e.namespace})};function n9(e,t,r,i,n){let o;let{isSsrStoreEnabled:a}=nX(),s=e??t??"",l=sL("string"==typeof s?s:s?.value,i,n),c=oe("string"!=typeof s?s:void 0,r,n);return o="string"==typeof s?l:c,a||(o=l),o}function oe(e,r,i){let{store:n}=n5(),o=n8(e),a=()=>{if(!o)return;let e=n.getItem(o);if(e?.isDirty&&e?.expression){let t=sB(e.expression,void 0,n);null!==t&&n.setItem(o,{...e,value:t,isDirty:!1})}return i?e?.internalValue??e?.value:e?.optimisticValue??e?.value};return t.useSyncExternalStore(e=>o?(n.subscribe(o,e),()=>{n.unsubscribe(o,e)}):()=>{},a,a)}let ot=()=>{};function or(e){return e.replace("BadgeSource_","")}let oi={BadgeSource_HOME:"feed",BadgeSource_JOBS:"jobs",BadgeSource_MESSAGING:"messaging",BadgeSource_NOTIFICATIONS:"notification",BadgeSource_GROW:"grow",BadgeSource_NURTURE:"nurture",BadgeSource_MY_NETWORK:"mynetwork",BadgeSource_SALES_NOTIFICATIONS:"sales-nav"},on={BadgeSource_HOME:"BadgeSource_HOME",BadgeSource_JOBS:"BadgeSource_JOBS",BadgeSource_MESSAGING:"BadgeSource_MESSAGING",BadgeSource_NOTIFICATIONS:"BadgeSource_NOTIFICATIONS",BadgeSource_GROW:"BadgeSource_GROW",BadgeSource_NURTURE:"BadgeSource_NURTURE",BadgeSource_MY_NETWORK:"BadgeSource_MY_NETWORK",BadgeSource_SALES_NOTIFICATIONS:"BadgeSource_SALES_NOTIFICATIONS",BadgeSource_UNKNOWN:"BadgeSource_UNKNOWN",BadgeSource_DISCOVER:"BadgeSource_DISCOVER",BadgeSource_VIDEO:"BadgeSource_VIDEO"};function oo(e){return oi[e]||"unknown"}let oa=new class{#t={};#r={};add(e,t,r){let i=or(e);"undefined"!=typeof document&&"UNKNOWN"!==i&&(this.#t[i]=t,r&&(this.#r[i]=r))}get(e){let t=or(e);if("UNKNOWN"!==t)return this.#t[t]}getBindingKey(e){let t=or(e);if("UNKNOWN"!==t)return this.#r[t]}clear(){this.#t={},this.#r={}}};function os(e){let t=oa.get(e),r=oa.getBindingKey(e);if(t){if(r){let e=sG(r);if(void 0!==e)return e}return sJ(t)}}function ol(){let{setValue:e}=n5();return{setCurrentBadgeCount:t.useCallback((t,r)=>{let i=oa.get(t),n=oa.getBindingKey(t);i&&n&&e(n,r)},[e])}}function oc(e,t){let r=oa.get(e),i=oa.getBindingKey(e);r&&(i&&sj(i,0),"unknown"!==oo(e)&&t?.({name:oo(e),count:0}))}function ou(e,r,i){return t.useEffect(()=>{e&&oa.add(e,r,i)}),n9(i,r)}function od(e){let r=oa.get(e),i=oa.getBindingKey(e);return t.useEffect(()=>{e&&oa.add(e,r,i)}),n9(i,r)}let op=Object.freeze(Object.defineProperty({__proto__:null,BADGE_SOURCE_MAP:on,BadgeCountManager:function({children:e,disableClientBadging:r}){let{setValue:i}=n5(),n=t.useCallback(e=>{let{badgingItemCounts:t}=e.value;t.forEach(({badgingItem:e,count:t})=>{let r=oa.getBindingKey(e);r&&i(r,t)})},[i]);return nz("urn:li-realtime:tabBadgeUpdateTopic:urn:li-realtime:myself",r?ot:n),e},clearBadgeCount:oc,getCurrentBadgeCount:os,useBadgeState:ou,useBadgeStateFromSource:od,useSetCurrentBadgeCount:ol},Symbol.toStringTag,{value:"Module"}));function of(){return sJ("screenHistory")||void 0}let om={currentBadgeCount:function(e){return os(e.source)??null},currentScreenLeaf:function(){let e=of();return e?.getCurrentScreenId()||""},currentScreenHistoryStack:function(){let e=of();return e?.getScreenHistoryStack()||[]},screenHistory:of},og=new class{value=0;set(e){"undefined"!=typeof window&&(this.value=e)}get(){return"undefined"==typeof window?BigInt(0):BigInt(this.value)}},oh="CURRENT_SCREEN",oy={MIN:0,MAX:31},ob={MIN:0,MAX:12},ox={MIN:0,MAX:9999};function oS(e){console.error(e)}class oE{#i;constructor(e){this.#i=e}getBindableValue(e,t=null){return this.#i(e,t)}evaluateBooleanExpression(e,t=null,r=null){let i=e=>(console.warn(e),t),n=e.expression;if(!n)return oS("BooleanExpression: Unknown expression received."),t;let o=e=>i(`BooleanExpression with operator "${e}" had an expression that evaluated to null on one side.`);switch(n.$case){case"booleanValue":return n.booleanValue;case"bindableBoolean":return r?.(n.bindableBoolean),this.getBindableValue(n.bindableBoolean,!1);case"andExpression":{let e=n.andExpression.a&&this.evaluateBooleanExpression(n.andExpression.a,null,r),t=n.andExpression.b&&this.evaluateBooleanExpression(n.andExpression.b,null,r);if(null==e||null==t)return o("and");return e&&t}case"orExpression":{let e=n.orExpression.a&&this.evaluateBooleanExpression(n.orExpression.a,null,r),t=n.orExpression.b&&this.evaluateBooleanExpression(n.orExpression.b,null,r);if(null==e||null==t)return o("or");return e||t}case"notExpression":{let e=n.notExpression.a&&this.evaluateBooleanExpression(n.notExpression.a,null,r);if(null==e)return o("not");return!e}case"booleanEqualsExpression":{let e=n.booleanEqualsExpression.a&&this.evaluateBooleanExpression(n.booleanEqualsExpression.a,null,r),t=n.booleanEqualsExpression.b&&this.evaluateBooleanExpression(n.booleanEqualsExpression.b,null,r);if(null==e||null==t)return o("booleanEquals");return e===t}case"stringEqualsExpression":{let e=n.stringEqualsExpression.a&&this.evaluateStringExpression(n.stringEqualsExpression.a,null,r),t=n.stringEqualsExpression.b&&this.evaluateStringExpression(n.stringEqualsExpression.b,null,r);if(null==e||null==t)return o("stringEquals");if(n.stringEqualsExpression.ignoreCase)return e.toLowerCase()===t.toLowerCase();return e===t}case"numericEqualsExpression":{let e=n.numericEqualsExpression.a&&this.evaluateNumericExpression(n.numericEqualsExpression.a,null,r),t=n.numericEqualsExpression.b&&this.evaluateNumericExpression(n.numericEqualsExpression.b,null,r);if(null==e||null==t)return o("numericEquals");return e===t}case"numericGreaterThanExpression":{let e=n.numericGreaterThanExpression.a&&this.evaluateNumericExpression(n.numericGreaterThanExpression.a,null,r),t=n.numericGreaterThanExpression.b&&this.evaluateNumericExpression(n.numericGreaterThanExpression.b,null,r);if(null==e||null==t)return o("numericGreaterThan");return e>t}case"numericLessThanExpression":{let e=n.numericLessThanExpression.a&&this.evaluateNumericExpression(n.numericLessThanExpression.a,null,r),t=n.numericLessThanExpression.b&&this.evaluateNumericExpression(n.numericLessThanExpression.b,null,r);if(null==e||null==t)return o("numericLessThan");return e<t}case"stringListContainsExpression":{let e=n.stringListContainsExpression.a&&this.evaluateStringListExpression(n.stringListContainsExpression.a,null,r),t=n.stringListContainsExpression.b&&this.evaluateStringExpression(n.stringListContainsExpression.b,null,r);if(!e||null==t)return o("stringListContains");return e.stringValues.includes(t)}case"screenRelationshipExpression":{let e=n.screenRelationshipExpression;return(e.b&&this.evaluateScreenExpression(e.b))===oh?this.evaluateCurrentScreenRelationshipExpression(e):this.evaluateScreenRelationshipExpression(e)}case"screenPositionExpression":{let e=n.screenPositionExpression;return this.evaluateScreenPositionExpression(e)}case"bindingValueEqualsExpression":{let{bindingExpA:e,bindingExpB:t}=n.bindingValueEqualsExpression;if(!e||!t)return o("bindingValueEquals");r?.(e),r?.(t);let i=this.getBindableValue(e,null),a=this.getBindableValue(t,null);if(null==i||null==a)return o("bindingValueEquals");return this.#n(i,a)}}return null}#n(e,t){if(e===t)return!0;if(null==e||null==t||typeof e!=typeof t)return!1;if(Array.isArray(e)&&Array.isArray(t))return e.length===t.length&&e.every((e,r)=>this.#n(e,t[r]));if("object"==typeof e&&"object"==typeof t){let r=Object.getOwnPropertyNames(e),i=new Set(Object.getOwnPropertyNames(t));return r.length===i.size&&r.every(r=>{if(!i.has(r))return!1;let n=e[r],o=t[r];return void 0===n||void 0===o?n===o:this.#n(n,o)})}return!1}evaluateColorExpression(e,t=null,r=null){let i=e?.value;if(!i)return oS("ColorExpression: Unknown expression value received."),t;switch(i.$case){case"color":return i.color;case"bindableColor":return r?.(i.bindableColor),this.getBindableValue(i.bindableColor,t);case"colorChoiceExpression":return this.evaluateColorChoiceExpression(i.colorChoiceExpression,t,r);default:return oS("ColorExpression: Unknown case received."),t}}evaluateColorChoiceExpression(e,t=null,r=null){let i=e.condition&&this.evaluateBooleanExpression(e.condition,null,r);return null==i?(oS("ColorChoiceExpression: Condition evaluated to null."),t):e.whenTrue||e.whenFalse?i&&e.whenTrue?this.evaluateColorExpression(e.whenTrue,t,r):!i&&e.whenFalse?this.evaluateColorExpression(e.whenFalse,t,r):null:(oS("ColorChoiceExpression: Unknown or no expressions received for whenTrue and whenFalse."),t)}evaluateFloatExpression(e,t=null,r=null){let i=e.expression;if(!i)return oS("FloatExpression: Unknown expression received."),t;switch(i.$case){case"floatValue":return i.floatValue;case"bindableFloat":return r?.(i.bindableFloat),this.getBindableValue(i.bindableFloat,t);case"arithmeticExpression":return this.evaluateArithmeticExpression(i.arithmeticExpression,t,r)}return null}evaluateIntegerExpression(e,t=null,r=null){let i;let n=e.expression;if(!n)return oS("IntegerExpression: Unknown expression received."),t;switch(n.$case){case"intValue":return n.intValue;case"bindableInteger":return r?.(n.bindableInteger),this.getBindableValue(n.bindableInteger,t);case"arithmeticExpression":return null!==(i=this.evaluateArithmeticExpression(n.arithmeticExpression,t,r))?Math.floor(i):null;case"stringListSizeExpression":return n.stringListSizeExpression.stringListExpression&&(i=this.evaluateStringListExpression(n.stringListSizeExpression.stringListExpression,null,r)?.stringValues.length),i??0;case"dayInDateExpression":return"number"==typeof(i=this.evaluateDateExpression(n.dayInDateExpression,null,r)?.day)?Math.max(Math.min(i,oy.MAX),oy.MIN):t;case"monthInDateExpression":return"number"==typeof(i=this.evaluateDateExpression(n.monthInDateExpression,null,r)?.month)?Math.max(Math.min(i,ob.MAX),ob.MIN):t;case"yearInDateExpression":return"number"==typeof(i=this.evaluateDateExpression(n.yearInDateExpression,null,r)?.year)?Math.max(Math.min(i,ox.MAX),ox.MIN):t;case"currentBadgeCountExpression":return om.currentBadgeCount(n.currentBadgeCountExpression)}return null}evaluateDateExpression(e,t=null,r=null){let i=e.expression;if(!i)return oS("DateExpression: Unknown expression received."),t;switch(i.$case){case"dateValue":return function(e=0,t=0,r=0){return{$type:"proto.sdui.common.Date",year:e,month:t,day:r}}(i.dateValue.year,i.dateValue.month,i.dateValue.day);case"bindableDate":return r?.(i.bindableDate),this.getBindableValue(i.bindableDate,t)}}evaluateLongExpression(e,t=null,r=null){let i;let n=e.expression;if(!n)return oS("LongExpression: Unknown expression received."),t;switch(n.$case){case"longValue":return n.longValue;case"bindableLong":return r?.(n.bindableLong),this.getBindableValue(n.bindableLong,t);case"arithmeticExpression":return null!==(i=this.evaluateArithmeticExpression(n.arithmeticExpression,Number(t),r))?BigInt(Math.floor(i)):null;case"timeMillis":return BigInt(Date.now());case"appBackgroundTimeMillis":return(i=og.get())>0?i:t}return null}evaluateStringExpression(e,t=null,r=null){let i=e.expression;if(!i)return oS("StringExpression: Unknown expression received."),t;switch(i.$case){case"stringValue":return i.stringValue;case"bindableString":return r?.(i.bindableString),this.getBindableValue(i.bindableString,t)}}evaluateStringListExpression(e,t=null,r=null){let i=e.expression;if(!i)return oS("StringListExpression: Unknown expression received."),t;switch(i.$case){case"stringListValue":return i.stringListValue;case"bindableStringList":return r?.(i.bindableStringList),this.getBindableValue(i.bindableStringList,t);case"collectionIdsStringList":var n;return((n=iZ(i.collectionIdsStringList.collectionId))?{$type:"proto.sdui.StringList",stringValues:n}:void 0)??t??{$type:"proto.sdui.StringList",stringValues:[]}}}evaluateNumericExpression(e,t=null,r=null){let i=e.expression;if(!i)return oS("NumericExpression: Unknown expression received."),t;switch(i.$case){case"floatExpression":return this.evaluateFloatExpression(i.floatExpression,null,r);case"intExpression":return this.evaluateIntegerExpression(i.intExpression,null,r);case"longExpression":return Number(this.evaluateLongExpression(i.longExpression,null,r))}}evaluateArithmeticExpression(e,t=null,r=null){let i=e.a&&this.evaluateNumericExpression(e.a,null,r),n=e.b&&this.evaluateNumericExpression(e.b,null,r);if(null==i||null==n)return oS("ArithmeticExpression: One of the operands evaluated to null or undefined."),t;switch(e.operator){case"NumericArithmeticOperator_Plus":return i+n;case"NumericArithmeticOperator_Minus":return i-n;case"NumericArithmeticOperator_Multiply":return i*n;case"NumericArithmeticOperator_Divide":return 0!==n?i/n:t??0;default:return oS("ArithmeticExpression: Unknown operator received."),t}}evaluateMediaListExpression(e,t=null){switch(e?.expression?.$case){case"mediaListValue":return e.expression.mediaListValue;case"bindableMediaList":return t?.(e.expression.bindableMediaList),this.getBindableValue(e.expression.bindableMediaList,null)}return null}evaluateScreenExpression(e,t=null){let r=e.expression;if(!r)return oS("ScreenExpression: Unknown expression received."),null;switch(r.$case){case"screenId":return r.screenId;case"bindableScreenId":return t?.(r.bindableScreenId),this.getBindableValue(r.bindableScreenId);case"currentScreen":return oh;default:return oS("ScreenExpression: Unknown case received."),null}}evaluateScreenRelationshipExpression(e){let t=e.a&&this.evaluateScreenExpression(e.a),r=e.b&&this.evaluateScreenExpression(e.b);if(!t||!r)return!1;switch(e.operator){case nV.ScreenRelationshipOperator_BACK_STACK_AFTER:{let e=om.currentScreenHistoryStack(),i=!1;for(let n of e)if(i||n!==r||(i=!0),i&&n===t)return!0;return!1}case nV.ScreenRelationshipOperator_BACK_STACK_BEFORE:{let e=om.currentScreenHistoryStack(),i=!1;for(let n of e)if(i||n!==t||(i=!0),i&&n===r)return!0;return!1}case nV.ScreenRelationshipOperator_EQUALS:return!!t&&!!r&&t===r;case nV.ScreenRelationshipOperator_BACK_STACK_NEXT:{let e=om.currentScreenHistoryStack();if(e.length<2)return!1;for(let i=1;i<e.length;i++)if(e[i]===t&&e[i-1]===r)return!0;return!1}case nV.ScreenRelationshipOperator_BACK_STACK_PREVIOUS:{let e=om.currentScreenHistoryStack();if(e.length<2)return!1;for(let i=1;i<e.length;i++)if(e[i]===r&&e[i-1]===t)return!0;return!1}default:return!1}}evaluateCurrentScreenRelationshipExpression(e){let t=e.a&&this.evaluateScreenExpression(e.a);if(!t)return!1;switch(e.operator){case nV.ScreenRelationshipOperator_BACK_STACK_AFTER:{let e=om.screenHistory();if(e){let{indexCurrent:r,screenHistoryStack:i}=e;for(let e=r+1;e<i.length;e++)if(i[e]===t)return!0}return!1}case nV.ScreenRelationshipOperator_BACK_STACK_BEFORE:{let e=om.screenHistory();if(e){let{indexCurrent:r,screenHistoryStack:i}=e;for(let e=0;e<r;e++)if(i[e]===t)return!0}return!1}case nV.ScreenRelationshipOperator_EQUALS:return t===om.currentScreenLeaf();case nV.ScreenRelationshipOperator_BACK_STACK_NEXT:{let e=om.screenHistory();if(e){let{indexCurrent:r,screenHistoryStack:i}=e;return i.length>1&&r<i.length-1&&i[r+1]===t}return!1}case nV.ScreenRelationshipOperator_BACK_STACK_PREVIOUS:{let e=om.screenHistory();if(e){let{indexCurrent:r,screenHistoryStack:i}=e;return i.length>1&&r>0&&i[r-1]===t}return!1}default:return!1}}evaluateScreenPositionExpression(e){let t=e.screen&&this.evaluateScreenExpression(e.screen);if(!t)return!1;switch(e.operator){case"ScreenPositionOperator_HAS_NEXT":{let e=om.screenHistory();if(e){let{indexCurrent:r,screenHistoryStack:i}=e,n=t===oh?r:i.indexOf(t);if(-1===n)return!1;return n<i.length-1}return!1}case"ScreenPositionOperator_HAS_PREVIOUS":{let e=om.screenHistory();if(e){let{indexCurrent:r,screenHistoryStack:i}=e,n=t===oh?r:i.indexOf(t);if(-1===n)return!1;return n>0}return!1}default:return!1}}}class ov extends Set{add(e){for(let t of this)if(this.isEqual(e,t))return this;return super.add(e)}has(e){for(let t of this)if(this.isEqual(e,t))return!0;return!1}isEqual(e,t){return typeof e==typeof t&&e.equals(t)}}function oT(){return{$type:"proto.sdui.common.CompactAny",typeId:0n,payload:new Uint8Array(0)}}let oN={$type:"proto.sdui.common.CompactAny",encode(t,r=e.Writer.create()){if(0n!==t.typeId){if(BigInt.asIntN(64,t.typeId)!==t.typeId)throw new globalThis.Error("value provided for field message.typeId of type sint64 too large");r.uint32(8).sint64(t.typeId.toString())}return 0!==t.payload.length&&r.uint32(18).bytes(t.payload),r},decode(t,r){let i=t instanceof e.Reader?t:e.Reader.create(t),n=void 0===r?i.len:i.pos+r,o=oT();for(;i.pos<n;){let e=i.uint32();switch(e>>>3){case 1:if(8!==e)break;o.typeId=BigInt(i.sint64().toString());continue;case 2:if(18!==e)break;o.payload=i.bytes();continue}if((7&e)==4||0===e)break;i.skipType(7&e)}return o},fromJSON:e=>({$type:oN.$type,typeId:null!=e.typeId?BigInt(e.typeId):0n,payload:null!=e.payload?function(e){if(globalThis.Buffer)return Uint8Array.from(globalThis.Buffer.from(e,"base64"));{let t=globalThis.atob(e),r=new Uint8Array(t.length);for(let e=0;e<t.length;++e)r[e]=t.charCodeAt(e);return r}}(e.payload):new Uint8Array(0)}),toJSON(e){let t={};return 0n!==e.typeId&&(t.typeId=e.typeId.toString()),0!==e.payload.length&&(t.payload=function(e){if(globalThis.Buffer)return globalThis.Buffer.from(e).toString("base64");{let t=[];return e.forEach(e=>{t.push(globalThis.String.fromCharCode(e))}),globalThis.btoa(t.join(""))}}(e.payload)),t},create:e=>oN.fromPartial(e??{}),fromPartial(e){let t=oT();return t.typeId=e.typeId??0n,t.payload=e.payload??new Uint8Array(0),t}};function o_(){return{$type:"proto.sdui.components.core.ActionAccessibilityAnnotations",actionLabel:"",actionRanking:0}}rL.set(oN.$type,oN),e.util.Long!==n&&(e.util.Long=n,e.configure());let ok={$type:"proto.sdui.components.core.ActionAccessibilityAnnotations",encode:(t,r=e.Writer.create())=>(""!==t.actionLabel&&r.uint32(10).string(t.actionLabel),0!==t.actionRanking&&r.uint32(16).int32(t.actionRanking),r),decode(t,r){let i=t instanceof e.Reader?t:e.Reader.create(t),n=void 0===r?i.len:i.pos+r,o=o_();for(;i.pos<n;){let e=i.uint32();switch(e>>>3){case 1:if(10!==e)break;o.actionLabel=i.string();continue;case 2:if(16!==e)break;o.actionRanking=i.int32();continue}if((7&e)==4||0===e)break;i.skipType(7&e)}return o},fromJSON:e=>({$type:ok.$type,actionLabel:null!=e.actionLabel?globalThis.String(e.actionLabel):"",actionRanking:null!=e.actionRanking?globalThis.Number(e.actionRanking):0}),toJSON(e){let t={};return""!==e.actionLabel&&(t.actionLabel=e.actionLabel),0!==e.actionRanking&&(t.actionRanking=Math.round(e.actionRanking)),t},create:e=>ok.fromPartial(e??{}),fromPartial(e){let t=o_();return t.actionLabel=e.actionLabel??"",t.actionRanking=e.actionRanking??0,t}};function oI(){return{$type:"proto.sdui.components.core.ActionTrackingAnnotations",breadcrumbs:[]}}rL.set(ok.$type,ok);let oO={$type:"proto.sdui.components.core.ActionTrackingAnnotations",encode(t,r=e.Writer.create()){for(let e of(void 0!==t.actionType&&r.uint32(10).string(t.actionType),t.breadcrumbs))rH.encode(e,r.uint32(18).fork()).ldelim();return r},decode(t,r){let i=t instanceof e.Reader?t:e.Reader.create(t),n=void 0===r?i.len:i.pos+r,o=oI();for(;i.pos<n;){let e=i.uint32();switch(e>>>3){case 1:if(10!==e)break;o.actionType=i.string();continue;case 2:if(18!==e)break;o.breadcrumbs.push(rH.decode(i,i.uint32()));continue}if((7&e)==4||0===e)break;i.skipType(7&e)}return o},fromJSON:e=>({$type:oO.$type,actionType:null!=e.actionType?globalThis.String(e.actionType):void 0,breadcrumbs:globalThis.Array.isArray(e?.breadcrumbs)?e.breadcrumbs.map(e=>rH.fromJSON(e)):[]}),toJSON(e){let t={};return void 0!==e.actionType&&(t.actionType=e.actionType),e.breadcrumbs?.length&&(t.breadcrumbs=e.breadcrumbs.map(e=>rH.toJSON(e))),t},create:e=>oO.fromPartial(e??{}),fromPartial(e){let t=oI();return t.actionType=e.actionType??void 0,t.breadcrumbs=e.breadcrumbs?.map(e=>rH.fromPartial(e))||[],t}};function oC(){return{$type:"proto.sdui.actions.core.Action",compactData:[],actionTracking:void 0,actionAccessibility:void 0}}rL.set(oO.$type,oO);let oP={$type:"proto.sdui.actions.core.Action",encode(t,r=e.Writer.create()){for(let e of t.compactData)oN.encode(e,r.uint32(42).fork()).ldelim();return void 0!==t.actionTracking&&oO.encode(t.actionTracking,r.uint32(26).fork()).ldelim(),void 0!==t.actionAccessibility&&ok.encode(t.actionAccessibility,r.uint32(34).fork()).ldelim(),r},decode(t,r){let i=t instanceof e.Reader?t:e.Reader.create(t),n=void 0===r?i.len:i.pos+r,o=oC();for(;i.pos<n;){let e=i.uint32();switch(e>>>3){case 5:if(42!==e)break;o.compactData.push(oN.decode(i,i.uint32()));continue;case 3:if(26!==e)break;o.actionTracking=oO.decode(i,i.uint32());continue;case 4:if(34!==e)break;o.actionAccessibility=ok.decode(i,i.uint32());continue}if((7&e)==4||0===e)break;i.skipType(7&e)}return o},fromJSON:e=>({$type:oP.$type,compactData:globalThis.Array.isArray(e?.compactData)?e.compactData.map(e=>oN.fromJSON(e)):[],actionTracking:null!=e.actionTracking?oO.fromJSON(e.actionTracking):void 0,actionAccessibility:null!=e.actionAccessibility?ok.fromJSON(e.actionAccessibility):void 0}),toJSON(e){let t={};return e.compactData?.length&&(t.compactData=e.compactData.map(e=>oN.toJSON(e))),void 0!==e.actionTracking&&(t.actionTracking=oO.toJSON(e.actionTracking)),void 0!==e.actionAccessibility&&(t.actionAccessibility=ok.toJSON(e.actionAccessibility)),t},create:e=>oP.fromPartial(e??{}),fromPartial(e){let t=oC();return t.compactData=e.compactData?.map(e=>oN.fromPartial(e))||[],t.actionTracking=void 0!==e.actionTracking&&null!==e.actionTracking?oO.fromPartial(e.actionTracking):void 0,t.actionAccessibility=void 0!==e.actionAccessibility&&null!==e.actionAccessibility?ok.fromPartial(e.actionAccessibility):void 0,t}};function oR(){return{$type:"proto.sdui.components.core.color.ColorRgb",red:0,green:0,blue:0,alpha:0}}rL.set(oP.$type,oP);let ow={$type:"proto.sdui.components.core.color.ColorRgb",encode:(t,r=e.Writer.create())=>(0!==t.red&&r.uint32(13).float(t.red),0!==t.green&&r.uint32(21).float(t.green),0!==t.blue&&r.uint32(29).float(t.blue),0!==t.alpha&&r.uint32(37).float(t.alpha),r),decode(t,r){let i=t instanceof e.Reader?t:e.Reader.create(t),n=void 0===r?i.len:i.pos+r,o=oR();for(;i.pos<n;){let e=i.uint32();switch(e>>>3){case 1:if(13!==e)break;o.red=i.float();continue;case 2:if(21!==e)break;o.green=i.float();continue;case 3:if(29!==e)break;o.blue=i.float();continue;case 4:if(37!==e)break;o.alpha=i.float();continue}if((7&e)==4||0===e)break;i.skipType(7&e)}return o},fromJSON:e=>({$type:ow.$type,red:null!=e.red?globalThis.Number(e.red):0,green:null!=e.green?globalThis.Number(e.green):0,blue:null!=e.blue?globalThis.Number(e.blue):0,alpha:null!=e.alpha?globalThis.Number(e.alpha):0}),toJSON(e){let t={};return 0!==e.red&&(t.red=e.red),0!==e.green&&(t.green=e.green),0!==e.blue&&(t.blue=e.blue),0!==e.alpha&&(t.alpha=e.alpha),t},create:e=>ow.fromPartial(e??{}),fromPartial(e){let t=oR();return t.red=e.red??0,t.green=e.green??0,t.blue=e.blue??0,t.alpha=e.alpha??0,t}};function oA(){return{$type:"proto.sdui.components.core.color.ColorCustom",lightModeColor:void 0,darkModeColor:void 0}}rL.set(ow.$type,ow);let o$={$type:"proto.sdui.components.core.color.ColorCustom",encode:(t,r=e.Writer.create())=>(void 0!==t.lightModeColor&&ow.encode(t.lightModeColor,r.uint32(10).fork()).ldelim(),void 0!==t.darkModeColor&&ow.encode(t.darkModeColor,r.uint32(18).fork()).ldelim(),r),decode(t,r){let i=t instanceof e.Reader?t:e.Reader.create(t),n=void 0===r?i.len:i.pos+r,o=oA();for(;i.pos<n;){let e=i.uint32();switch(e>>>3){case 1:if(10!==e)break;o.lightModeColor=ow.decode(i,i.uint32());continue;case 2:if(18!==e)break;o.darkModeColor=ow.decode(i,i.uint32());continue}if((7&e)==4||0===e)break;i.skipType(7&e)}return o},fromJSON:e=>({$type:o$.$type,lightModeColor:null!=e.lightModeColor?ow.fromJSON(e.lightModeColor):void 0,darkModeColor:null!=e.darkModeColor?ow.fromJSON(e.darkModeColor):void 0}),toJSON(e){let t={};return void 0!==e.lightModeColor&&(t.lightModeColor=ow.toJSON(e.lightModeColor)),void 0!==e.darkModeColor&&(t.darkModeColor=ow.toJSON(e.darkModeColor)),t},create:e=>o$.fromPartial(e??{}),fromPartial(e){let t=oA();return t.lightModeColor=void 0!==e.lightModeColor&&null!==e.lightModeColor?ow.fromPartial(e.lightModeColor):void 0,t.darkModeColor=void 0!==e.darkModeColor&&null!==e.darkModeColor?ow.fromPartial(e.darkModeColor):void 0,t}};function oL(){return{$type:"proto.sdui.components.core.color.Color",content:void 0}}rL.set(o$.$type,o$);let oM={$type:"proto.sdui.components.core.color.Color",encode(t,r=e.Writer.create()){switch(t.content?.$case){case"identifier":r.uint32(8).int32(t.content.identifier);break;case"custom":o$.encode(t.content.custom,r.uint32(18).fork()).ldelim()}return r},decode(t,r){let i=t instanceof e.Reader?t:e.Reader.create(t),n=void 0===r?i.len:i.pos+r,o=oL();for(;i.pos<n;){let e=i.uint32();switch(e>>>3){case 1:if(8!==e)break;o.content={$case:"identifier",identifier:i.int32()};continue;case 2:if(18!==e)break;o.content={$case:"custom",custom:o$.decode(i,i.uint32())};continue}if((7&e)==4||0===e)break;i.skipType(7&e)}return o},fromJSON:e=>({$type:oM.$type,content:null!=e.identifier?{$case:"identifier",identifier:globalThis.Number(e.identifier)}:null!=e.custom?{$case:"custom",custom:o$.fromJSON(e.custom)}:void 0}),toJSON(e){let t={};return e.content?.$case==="identifier"&&(t.identifier=Math.round(e.content.identifier)),e.content?.$case==="custom"&&(t.custom=o$.toJSON(e.content.custom)),t},create:e=>oM.fromPartial(e??{}),fromPartial(e){let t=oL();return e.content?.$case==="identifier"&&e.content?.identifier!==void 0&&e.content?.identifier!==null&&(t.content={$case:"identifier",identifier:e.content.identifier}),e.content?.$case==="custom"&&e.content?.custom!==void 0&&e.content?.custom!==null&&(t.content={$case:"custom",custom:o$.fromPartial(e.content.custom)}),t}};function oD(){return{$type:"proto.sdui.components.core.image.DesignSystemImage",color:void 0,id:0,a11yLabel:""}}rL.set(oM.$type,oM);let oU={$type:"proto.sdui.components.core.image.DesignSystemImage",encode:(t,r=e.Writer.create())=>(void 0!==t.color&&oM.encode(t.color,r.uint32(18).fork()).ldelim(),0!==t.id&&r.uint32(24).int32(t.id),""!==t.a11yLabel&&r.uint32(34).string(t.a11yLabel),r),decode(t,r){let i=t instanceof e.Reader?t:e.Reader.create(t),n=void 0===r?i.len:i.pos+r,o=oD();for(;i.pos<n;){let e=i.uint32();switch(e>>>3){case 2:if(18!==e)break;o.color=oM.decode(i,i.uint32());continue;case 3:if(24!==e)break;o.id=i.int32();continue;case 4:if(34!==e)break;o.a11yLabel=i.string();continue}if((7&e)==4||0===e)break;i.skipType(7&e)}return o},fromJSON:e=>({$type:oU.$type,color:null!=e.color?oM.fromJSON(e.color):void 0,id:null!=e.id?globalThis.Number(e.id):0,a11yLabel:null!=e.a11yLabel?globalThis.String(e.a11yLabel):""}),toJSON(e){let t={};return void 0!==e.color&&(t.color=oM.toJSON(e.color)),0!==e.id&&(t.id=Math.round(e.id)),""!==e.a11yLabel&&(t.a11yLabel=e.a11yLabel),t},create:e=>oU.fromPartial(e??{}),fromPartial(e){let t=oD();return t.color=void 0!==e.color&&null!==e.color?oM.fromPartial(e.color):void 0,t.id=e.id??0,t.a11yLabel=e.a11yLabel??"",t}};function oF(){return{$type:"proto.sdui.components.core.text.Mention",entityID:"",allowPartialDelete:!1}}rL.set(oU.$type,oU);let oj={$type:"proto.sdui.components.core.text.Mention",encode:(t,r=e.Writer.create())=>(""!==t.entityID&&r.uint32(10).string(t.entityID),!1!==t.allowPartialDelete&&r.uint32(16).bool(t.allowPartialDelete),r),decode(t,r){let i=t instanceof e.Reader?t:e.Reader.create(t),n=void 0===r?i.len:i.pos+r,o=oF();for(;i.pos<n;){let e=i.uint32();switch(e>>>3){case 1:if(10!==e)break;o.entityID=i.string();continue;case 2:if(16!==e)break;o.allowPartialDelete=i.bool();continue}if((7&e)==4||0===e)break;i.skipType(7&e)}return o},fromJSON:e=>({$type:oj.$type,entityID:null!=e.entityID?globalThis.String(e.entityID):"",allowPartialDelete:null!=e.allowPartialDelete&&globalThis.Boolean(e.allowPartialDelete)}),toJSON(e){let t={};return""!==e.entityID&&(t.entityID=e.entityID),!1!==e.allowPartialDelete&&(t.allowPartialDelete=e.allowPartialDelete),t},create:e=>oj.fromPartial(e??{}),fromPartial(e){let t=oF();return t.entityID=e.entityID??"",t.allowPartialDelete=e.allowPartialDelete??!1,t}};function oB(){return{$type:"proto.sdui.components.core.text.TextBindable",bindable:void 0,pattern:""}}rL.set(oj.$type,oj);let oV={$type:"proto.sdui.components.core.text.TextBindable",encode:(t,r=e.Writer.create())=>(void 0!==t.bindable&&nM.encode(t.bindable,r.uint32(10).fork()).ldelim(),""!==t.pattern&&r.uint32(18).string(t.pattern),r),decode(t,r){let i=t instanceof e.Reader?t:e.Reader.create(t),n=void 0===r?i.len:i.pos+r,o=oB();for(;i.pos<n;){let e=i.uint32();switch(e>>>3){case 1:if(10!==e)break;o.bindable=nM.decode(i,i.uint32());continue;case 2:if(18!==e)break;o.pattern=i.string();continue}if((7&e)==4||0===e)break;i.skipType(7&e)}return o},fromJSON:e=>({$type:oV.$type,bindable:null!=e.bindable?nM.fromJSON(e.bindable):void 0,pattern:null!=e.pattern?globalThis.String(e.pattern):""}),toJSON(e){let t={};return void 0!==e.bindable&&(t.bindable=nM.toJSON(e.bindable)),""!==e.pattern&&(t.pattern=e.pattern),t},create:e=>oV.fromPartial(e??{}),fromPartial(e){let t=oB();return t.bindable=void 0!==e.bindable&&null!==e.bindable?nM.fromPartial(e.bindable):void 0,t.pattern=e.pattern??"",t}};function oK(){return{$type:"proto.sdui.components.core.animation.PropertyTransition",duration:0,delay:0,timingFunction:void 0}}rL.set(oV.$type,oV);let oW={$type:"proto.sdui.components.core.animation.PropertyTransition",encode(t,r=e.Writer.create()){switch(0!==t.duration&&r.uint32(8).int32(t.duration),0!==t.delay&&r.uint32(16).int32(t.delay),t.timingFunction?.$case){case"identifier":r.uint32(24).int32(t.timingFunction.identifier);break;case"cubicBezier":oG.encode(t.timingFunction.cubicBezier,r.uint32(34).fork()).ldelim()}return r},decode(t,r){let i=t instanceof e.Reader?t:e.Reader.create(t),n=void 0===r?i.len:i.pos+r,o=oK();for(;i.pos<n;){let e=i.uint32();switch(e>>>3){case 1:if(8!==e)break;o.duration=i.int32();continue;case 2:if(16!==e)break;o.delay=i.int32();continue;case 3:if(24!==e)break;o.timingFunction={$case:"identifier",identifier:i.int32()};continue;case 4:if(34!==e)break;o.timingFunction={$case:"cubicBezier",cubicBezier:oG.decode(i,i.uint32())};continue}if((7&e)==4||0===e)break;i.skipType(7&e)}return o},fromJSON:e=>({$type:oW.$type,duration:oz(e.duration)?globalThis.Number(e.duration):0,delay:oz(e.delay)?globalThis.Number(e.delay):0,timingFunction:oz(e.identifier)?{$case:"identifier",identifier:globalThis.Number(e.identifier)}:oz(e.cubicBezier)?{$case:"cubicBezier",cubicBezier:oG.fromJSON(e.cubicBezier)}:void 0}),toJSON(e){let t={};return 0!==e.duration&&(t.duration=Math.round(e.duration)),0!==e.delay&&(t.delay=Math.round(e.delay)),e.timingFunction?.$case==="identifier"&&(t.identifier=Math.round(e.timingFunction.identifier)),e.timingFunction?.$case==="cubicBezier"&&(t.cubicBezier=oG.toJSON(e.timingFunction.cubicBezier)),t},create:e=>oW.fromPartial(e??{}),fromPartial(e){let t=oK();return t.duration=e.duration??0,t.delay=e.delay??0,e.timingFunction?.$case==="identifier"&&e.timingFunction?.identifier!==void 0&&e.timingFunction?.identifier!==null&&(t.timingFunction={$case:"identifier",identifier:e.timingFunction.identifier}),e.timingFunction?.$case==="cubicBezier"&&e.timingFunction?.cubicBezier!==void 0&&e.timingFunction?.cubicBezier!==null&&(t.timingFunction={$case:"cubicBezier",cubicBezier:oG.fromPartial(e.timingFunction.cubicBezier)}),t}};function oJ(){return{$type:"proto.sdui.components.core.animation.CubicBezier",x1:0,y1:0,x2:0,y2:0}}rL.set(oW.$type,oW);let oG={$type:"proto.sdui.components.core.animation.CubicBezier",encode:(t,r=e.Writer.create())=>(0!==t.x1&&r.uint32(13).float(t.x1),0!==t.y1&&r.uint32(21).float(t.y1),0!==t.x2&&r.uint32(29).float(t.x2),0!==t.y2&&r.uint32(37).float(t.y2),r),decode(t,r){let i=t instanceof e.Reader?t:e.Reader.create(t),n=void 0===r?i.len:i.pos+r,o=oJ();for(;i.pos<n;){let e=i.uint32();switch(e>>>3){case 1:if(13!==e)break;o.x1=i.float();continue;case 2:if(21!==e)break;o.y1=i.float();continue;case 3:if(29!==e)break;o.x2=i.float();continue;case 4:if(37!==e)break;o.y2=i.float();continue}if((7&e)==4||0===e)break;i.skipType(7&e)}return o},fromJSON:e=>({$type:oG.$type,x1:oz(e.x1)?globalThis.Number(e.x1):0,y1:oz(e.y1)?globalThis.Number(e.y1):0,x2:oz(e.x2)?globalThis.Number(e.x2):0,y2:oz(e.y2)?globalThis.Number(e.y2):0}),toJSON(e){let t={};return 0!==e.x1&&(t.x1=e.x1),0!==e.y1&&(t.y1=e.y1),0!==e.x2&&(t.x2=e.x2),0!==e.y2&&(t.y2=e.y2),t},create:e=>oG.fromPartial(e??{}),fromPartial(e){let t=oJ();return t.x1=e.x1??0,t.y1=e.y1??0,t.x2=e.x2??0,t.y2=e.y2??0,t}};function oz(e){return null!=e}function oH(){return{$type:"proto.sdui.expressions.AppBackgroundTimeMillisLongExpression"}}rL.set(oG.$type,oG);let oq={$type:"proto.sdui.expressions.AppBackgroundTimeMillisLongExpression",encode:(t,r=e.Writer.create())=>r,decode(t,r){let i=t instanceof e.Reader?t:e.Reader.create(t),n=void 0===r?i.len:i.pos+r,o=oH();for(;i.pos<n;){let e=i.uint32();if((7&e)==4||0===e)break;i.skipType(7&e)}return o},fromJSON:e=>({$type:oq.$type}),toJSON:e=>({}),create:e=>oq.fromPartial(e??{}),fromPartial:e=>oH()};rL.set(oq.$type,oq);var oY=((im=oY||{}).BadgeSource_UNKNOWN="BadgeSource_UNKNOWN",im.BadgeSource_HOME="BadgeSource_HOME",im.BadgeSource_MY_NETWORK="BadgeSource_MY_NETWORK",im.BadgeSource_MESSAGING="BadgeSource_MESSAGING",im.BadgeSource_NOTIFICATIONS="BadgeSource_NOTIFICATIONS",im.BadgeSource_JOBS="BadgeSource_JOBS",im.BadgeSource_DISCOVER="BadgeSource_DISCOVER",im.BadgeSource_NURTURE="BadgeSource_NURTURE",im.BadgeSource_GROW="BadgeSource_GROW",im.BadgeSource_VIDEO="BadgeSource_VIDEO",im.BadgeSource_SALES_NOTIFICATIONS="BadgeSource_SALES_NOTIFICATIONS",im);function oX(e){switch(e){case 0:case"BadgeSource_UNKNOWN":default:return"BadgeSource_UNKNOWN";case 1:case"BadgeSource_HOME":return"BadgeSource_HOME";case 2:case"BadgeSource_MY_NETWORK":return"BadgeSource_MY_NETWORK";case 3:case"BadgeSource_MESSAGING":return"BadgeSource_MESSAGING";case 4:case"BadgeSource_NOTIFICATIONS":return"BadgeSource_NOTIFICATIONS";case 5:case"BadgeSource_JOBS":return"BadgeSource_JOBS";case 6:case"BadgeSource_DISCOVER":return"BadgeSource_DISCOVER";case 7:case"BadgeSource_NURTURE":return"BadgeSource_NURTURE";case 8:case"BadgeSource_GROW":return"BadgeSource_GROW";case 9:case"BadgeSource_VIDEO":return"BadgeSource_VIDEO";case 10:case"BadgeSource_SALES_NOTIFICATIONS":return"BadgeSource_SALES_NOTIFICATIONS"}}function oZ(){return{$type:"proto.sdui.expressions.CurrentBadgeCountIntExpression",source:oY.BadgeSource_UNKNOWN}}let oQ={$type:"proto.sdui.expressions.CurrentBadgeCountIntExpression",encode:(t,r=e.Writer.create())=>(t.source!==oY.BadgeSource_UNKNOWN&&r.uint32(8).int32(function(e){switch(e){case"BadgeSource_UNKNOWN":default:return 0;case"BadgeSource_HOME":return 1;case"BadgeSource_MY_NETWORK":return 2;case"BadgeSource_MESSAGING":return 3;case"BadgeSource_NOTIFICATIONS":return 4;case"BadgeSource_JOBS":return 5;case"BadgeSource_DISCOVER":return 6;case"BadgeSource_NURTURE":return 7;case"BadgeSource_GROW":return 8;case"BadgeSource_VIDEO":return 9;case"BadgeSource_SALES_NOTIFICATIONS":return 10}}(t.source)),r),decode(t,r){let i=t instanceof e.Reader?t:e.Reader.create(t),n=void 0===r?i.len:i.pos+r,o=oZ();for(;i.pos<n;){let e=i.uint32();switch(e>>>3){case 1:if(8!==e)break;o.source=oX(i.int32());continue}if((7&e)==4||0===e)break;i.skipType(7&e)}return o},fromJSON:e=>({$type:oQ.$type,source:null!=e.source?oX(e.source):oY.BadgeSource_UNKNOWN}),toJSON(e){let t={};return e.source!==oY.BadgeSource_UNKNOWN&&(t.source=function(e){switch(e){case"BadgeSource_UNKNOWN":default:return"BadgeSource_UNKNOWN";case"BadgeSource_HOME":return"BadgeSource_HOME";case"BadgeSource_MY_NETWORK":return"BadgeSource_MY_NETWORK";case"BadgeSource_MESSAGING":return"BadgeSource_MESSAGING";case"BadgeSource_NOTIFICATIONS":return"BadgeSource_NOTIFICATIONS";case"BadgeSource_JOBS":return"BadgeSource_JOBS";case"BadgeSource_DISCOVER":return"BadgeSource_DISCOVER";case"BadgeSource_NURTURE":return"BadgeSource_NURTURE";case"BadgeSource_GROW":return"BadgeSource_GROW";case"BadgeSource_VIDEO":return"BadgeSource_VIDEO";case"BadgeSource_SALES_NOTIFICATIONS":return"BadgeSource_SALES_NOTIFICATIONS"}}(e.source)),t},create:e=>oQ.fromPartial(e??{}),fromPartial(e){let t=oZ();return t.source=e.source??oY.BadgeSource_UNKNOWN,t}};function o0(){return{$type:"proto.sdui.common.Date",day:0,month:0,year:0}}rL.set(oQ.$type,oQ);let o1={$type:"proto.sdui.common.Date",encode:(t,r=e.Writer.create())=>(0!==t.day&&r.uint32(8).int32(t.day),0!==t.month&&r.uint32(16).int32(t.month),0!==t.year&&r.uint32(24).int32(t.year),r),decode(t,r){let i=t instanceof e.Reader?t:e.Reader.create(t),n=void 0===r?i.len:i.pos+r,o=o0();for(;i.pos<n;){let e=i.uint32();switch(e>>>3){case 1:if(8!==e)break;o.day=i.int32();continue;case 2:if(16!==e)break;o.month=i.int32();continue;case 3:if(24!==e)break;o.year=i.int32();continue}if((7&e)==4||0===e)break;i.skipType(7&e)}return o},fromJSON:e=>({$type:o1.$type,day:null!=e.day?globalThis.Number(e.day):0,month:null!=e.month?globalThis.Number(e.month):0,year:null!=e.year?globalThis.Number(e.year):0}),toJSON(e){let t={};return 0!==e.day&&(t.day=Math.round(e.day)),0!==e.month&&(t.month=Math.round(e.month)),0!==e.year&&(t.year=Math.round(e.year)),t},create:e=>o1.fromPartial(e??{}),fromPartial(e){let t=o0();return t.day=e.day??0,t.month=e.month??0,t.year=e.year??0,t}};function o2(){return{$type:"proto.sdui.expressions.DateExpression",expression:void 0,isReactive:!1}}rL.set(o1.$type,o1);let o3={$type:"proto.sdui.expressions.DateExpression",encode(t,r=e.Writer.create()){switch(t.expression?.$case){case"dateValue":o1.encode(t.expression.dateValue,r.uint32(10).fork()).ldelim();break;case"bindableDate":nM.encode(t.expression.bindableDate,r.uint32(18).fork()).ldelim()}return!1!==t.isReactive&&r.uint32(24).bool(t.isReactive),r},decode(t,r){let i=t instanceof e.Reader?t:e.Reader.create(t),n=void 0===r?i.len:i.pos+r,o=o2();for(;i.pos<n;){let e=i.uint32();switch(e>>>3){case 1:if(10!==e)break;o.expression={$case:"dateValue",dateValue:o1.decode(i,i.uint32())};continue;case 2:if(18!==e)break;o.expression={$case:"bindableDate",bindableDate:nM.decode(i,i.uint32())};continue;case 3:if(24!==e)break;o.isReactive=i.bool();continue}if((7&e)==4||0===e)break;i.skipType(7&e)}return o},fromJSON:e=>({$type:o3.$type,expression:null!=e.dateValue?{$case:"dateValue",dateValue:o1.fromJSON(e.dateValue)}:null!=e.bindableDate?{$case:"bindableDate",bindableDate:nM.fromJSON(e.bindableDate)}:void 0,isReactive:null!=e.isReactive&&globalThis.Boolean(e.isReactive)}),toJSON(e){let t={};return e.expression?.$case==="dateValue"&&(t.dateValue=o1.toJSON(e.expression.dateValue)),e.expression?.$case==="bindableDate"&&(t.bindableDate=nM.toJSON(e.expression.bindableDate)),!1!==e.isReactive&&(t.isReactive=e.isReactive),t},create:e=>o3.fromPartial(e??{}),fromPartial(e){let t=o2();return e.expression?.$case==="dateValue"&&e.expression?.dateValue!==void 0&&e.expression?.dateValue!==null&&(t.expression={$case:"dateValue",dateValue:o1.fromPartial(e.expression.dateValue)}),e.expression?.$case==="bindableDate"&&e.expression?.bindableDate!==void 0&&e.expression?.bindableDate!==null&&(t.expression={$case:"bindableDate",bindableDate:nM.fromPartial(e.expression.bindableDate)}),t.isReactive=e.isReactive??!1,t}};function o4(){return{$type:"proto.sdui.expressions.DeeplinkInProgressExpression"}}rL.set(o3.$type,o3);let o7={$type:"proto.sdui.expressions.DeeplinkInProgressExpression",encode:(t,r=e.Writer.create())=>r,decode(t,r){let i=t instanceof e.Reader?t:e.Reader.create(t),n=void 0===r?i.len:i.pos+r,o=o4();for(;i.pos<n;){let e=i.uint32();if((7&e)==4||0===e)break;i.skipType(7&e)}return o},fromJSON:e=>({$type:o7.$type}),toJSON:e=>({}),create:e=>o7.fromPartial(e??{}),fromPartial:e=>o4()};function o5(){return{$type:"proto.sdui.actions.core.RequestPermissionTarget",data:void 0}}rL.set(o7.$type,o7);let o6={$type:"proto.sdui.actions.core.RequestPermissionTarget",encode(t,r=e.Writer.create()){switch(t.data?.$case){case"microphone":o9.encode(t.data.microphone,r.uint32(10).fork()).ldelim();break;case"notifications":at.encode(t.data.notifications,r.uint32(18).fork()).ldelim()}return r},decode(t,r){let i=t instanceof e.Reader?t:e.Reader.create(t),n=void 0===r?i.len:i.pos+r,o=o5();for(;i.pos<n;){let e=i.uint32();switch(e>>>3){case 1:if(10!==e)break;o.data={$case:"microphone",microphone:o9.decode(i,i.uint32())};continue;case 2:if(18!==e)break;o.data={$case:"notifications",notifications:at.decode(i,i.uint32())};continue}if((7&e)==4||0===e)break;i.skipType(7&e)}return o},fromJSON:e=>({$type:o6.$type,data:null!=e.microphone?{$case:"microphone",microphone:o9.fromJSON(e.microphone)}:null!=e.notifications?{$case:"notifications",notifications:at.fromJSON(e.notifications)}:void 0}),toJSON(e){let t={};return e.data?.$case==="microphone"&&(t.microphone=o9.toJSON(e.data.microphone)),e.data?.$case==="notifications"&&(t.notifications=at.toJSON(e.data.notifications)),t},create:e=>o6.fromPartial(e??{}),fromPartial(e){let t=o5();return e.data?.$case==="microphone"&&e.data?.microphone!==void 0&&e.data?.microphone!==null&&(t.data={$case:"microphone",microphone:o9.fromPartial(e.data.microphone)}),e.data?.$case==="notifications"&&e.data?.notifications!==void 0&&e.data?.notifications!==null&&(t.data={$case:"notifications",notifications:at.fromPartial(e.data.notifications)}),t}};function o8(){return{$type:"proto.sdui.actions.core.MicrophonePermission"}}rL.set(o6.$type,o6);let o9={$type:"proto.sdui.actions.core.MicrophonePermission",encode:(t,r=e.Writer.create())=>r,decode(t,r){let i=t instanceof e.Reader?t:e.Reader.create(t),n=void 0===r?i.len:i.pos+r,o=o8();for(;i.pos<n;){let e=i.uint32();if((7&e)==4||0===e)break;i.skipType(7&e)}return o},fromJSON:e=>({$type:o9.$type}),toJSON:e=>({}),create:e=>o9.fromPartial(e??{}),fromPartial:e=>o8()};function ae(){return{$type:"proto.sdui.actions.core.NotificationsPermission"}}rL.set(o9.$type,o9);let at={$type:"proto.sdui.actions.core.NotificationsPermission",encode:(t,r=e.Writer.create())=>r,decode(t,r){let i=t instanceof e.Reader?t:e.Reader.create(t),n=void 0===r?i.len:i.pos+r,o=ae();for(;i.pos<n;){let e=i.uint32();if((7&e)==4||0===e)break;i.skipType(7&e)}return o},fromJSON:e=>({$type:at.$type}),toJSON:e=>({}),create:e=>at.fromPartial(e??{}),fromPartial:e=>ae()};function ar(){return{$type:"proto.sdui.expressions.HasPermissionExpression",permissionTarget:void 0}}rL.set(at.$type,at);let ai={$type:"proto.sdui.expressions.HasPermissionExpression",encode:(t,r=e.Writer.create())=>(void 0!==t.permissionTarget&&o6.encode(t.permissionTarget,r.uint32(10).fork()).ldelim(),r),decode(t,r){let i=t instanceof e.Reader?t:e.Reader.create(t),n=void 0===r?i.len:i.pos+r,o=ar();for(;i.pos<n;){let e=i.uint32();switch(e>>>3){case 1:if(10!==e)break;o.permissionTarget=o6.decode(i,i.uint32());continue}if((7&e)==4||0===e)break;i.skipType(7&e)}return o},fromJSON:e=>({$type:ai.$type,permissionTarget:null!=e.permissionTarget?o6.fromJSON(e.permissionTarget):void 0}),toJSON(e){let t={};return void 0!==e.permissionTarget&&(t.permissionTarget=o6.toJSON(e.permissionTarget)),t},create:e=>ai.fromPartial(e??{}),fromPartial(e){let t=ar();return t.permissionTarget=void 0!==e.permissionTarget&&null!==e.permissionTarget?o6.fromPartial(e.permissionTarget):void 0,t}};function an(e){switch(e){case 0:case"ScreenPositionOperator_UNKNOWN":default:return"ScreenPositionOperator_UNKNOWN";case 1:case"ScreenPositionOperator_HAS_NEXT":return"ScreenPositionOperator_HAS_NEXT";case 2:case"ScreenPositionOperator_HAS_PREVIOUS":return"ScreenPositionOperator_HAS_PREVIOUS"}}function ao(){return{$type:"proto.sdui.expressions.ScreenPositionExpression",screen:void 0,operator:"ScreenPositionOperator_UNKNOWN"}}rL.set(ai.$type,ai);let aa={$type:"proto.sdui.expressions.ScreenPositionExpression",encode:(t,r=e.Writer.create())=>(void 0!==t.screen&&nF.encode(t.screen,r.uint32(10).fork()).ldelim(),"ScreenPositionOperator_UNKNOWN"!==t.operator&&r.uint32(16).int32(function(e){switch(e){case"ScreenPositionOperator_UNKNOWN":default:return 0;case"ScreenPositionOperator_HAS_NEXT":return 1;case"ScreenPositionOperator_HAS_PREVIOUS":return 2}}(t.operator)),r),decode(t,r){let i=t instanceof e.Reader?t:e.Reader.create(t),n=void 0===r?i.len:i.pos+r,o=ao();for(;i.pos<n;){let e=i.uint32();switch(e>>>3){case 1:if(10!==e)break;o.screen=nF.decode(i,i.uint32());continue;case 2:if(16!==e)break;o.operator=an(i.int32());continue}if((7&e)==4||0===e)break;i.skipType(7&e)}return o},fromJSON:e=>({$type:aa.$type,screen:null!=e.screen?nF.fromJSON(e.screen):void 0,operator:null!=e.operator?an(e.operator):"ScreenPositionOperator_UNKNOWN"}),toJSON(e){let t={};return void 0!==e.screen&&(t.screen=nF.toJSON(e.screen)),"ScreenPositionOperator_UNKNOWN"!==e.operator&&(t.operator=function(e){switch(e){case"ScreenPositionOperator_UNKNOWN":default:return"ScreenPositionOperator_UNKNOWN";case"ScreenPositionOperator_HAS_NEXT":return"ScreenPositionOperator_HAS_NEXT";case"ScreenPositionOperator_HAS_PREVIOUS":return"ScreenPositionOperator_HAS_PREVIOUS"}}(e.operator)),t},create:e=>aa.fromPartial(e??{}),fromPartial(e){let t=ao();return t.screen=void 0!==e.screen&&null!==e.screen?nF.fromPartial(e.screen):void 0,t.operator=e.operator??"ScreenPositionOperator_UNKNOWN",t}};function as(){return{$type:"proto.sdui.expressions.StringExpression",expression:void 0,isReactive:!1}}rL.set(aa.$type,aa);let al={$type:"proto.sdui.expressions.StringExpression",encode(t,r=e.Writer.create()){switch(t.expression?.$case){case"stringValue":r.uint32(10).string(t.expression.stringValue);break;case"bindableString":nM.encode(t.expression.bindableString,r.uint32(18).fork()).ldelim()}return!1!==t.isReactive&&r.uint32(24).bool(t.isReactive),r},decode(t,r){let i=t instanceof e.Reader?t:e.Reader.create(t),n=void 0===r?i.len:i.pos+r,o=as();for(;i.pos<n;){let e=i.uint32();switch(e>>>3){case 1:if(10!==e)break;o.expression={$case:"stringValue",stringValue:i.string()};continue;case 2:if(18!==e)break;o.expression={$case:"bindableString",bindableString:nM.decode(i,i.uint32())};continue;case 3:if(24!==e)break;o.isReactive=i.bool();continue}if((7&e)==4||0===e)break;i.skipType(7&e)}return o},fromJSON:e=>({$type:al.$type,expression:null!=e.stringValue?{$case:"stringValue",stringValue:globalThis.String(e.stringValue)}:null!=e.bindableString?{$case:"bindableString",bindableString:nM.fromJSON(e.bindableString)}:void 0,isReactive:null!=e.isReactive&&globalThis.Boolean(e.isReactive)}),toJSON(e){let t={};return e.expression?.$case==="stringValue"&&(t.stringValue=e.expression.stringValue),e.expression?.$case==="bindableString"&&(t.bindableString=nM.toJSON(e.expression.bindableString)),!1!==e.isReactive&&(t.isReactive=e.isReactive),t},create:e=>al.fromPartial(e??{}),fromPartial(e){let t=as();return e.expression?.$case==="stringValue"&&e.expression?.stringValue!==void 0&&e.expression?.stringValue!==null&&(t.expression={$case:"stringValue",stringValue:e.expression.stringValue}),e.expression?.$case==="bindableString"&&e.expression?.bindableString!==void 0&&e.expression?.bindableString!==null&&(t.expression={$case:"bindableString",bindableString:nM.fromPartial(e.expression.bindableString)}),t.isReactive=e.isReactive??!1,t}};function ac(){return{$type:"proto.sdui.expressions.StringEqualsExpression",a:void 0,b:void 0,ignoreCase:!1}}rL.set(al.$type,al);let au={$type:"proto.sdui.expressions.StringEqualsExpression",encode:(t,r=e.Writer.create())=>(void 0!==t.a&&al.encode(t.a,r.uint32(10).fork()).ldelim(),void 0!==t.b&&al.encode(t.b,r.uint32(18).fork()).ldelim(),!1!==t.ignoreCase&&r.uint32(24).bool(t.ignoreCase),r),decode(t,r){let i=t instanceof e.Reader?t:e.Reader.create(t),n=void 0===r?i.len:i.pos+r,o=ac();for(;i.pos<n;){let e=i.uint32();switch(e>>>3){case 1:if(10!==e)break;o.a=al.decode(i,i.uint32());continue;case 2:if(18!==e)break;o.b=al.decode(i,i.uint32());continue;case 3:if(24!==e)break;o.ignoreCase=i.bool();continue}if((7&e)==4||0===e)break;i.skipType(7&e)}return o},fromJSON:e=>({$type:au.$type,a:null!=e.a?al.fromJSON(e.a):void 0,b:null!=e.b?al.fromJSON(e.b):void 0,ignoreCase:null!=e.ignoreCase&&globalThis.Boolean(e.ignoreCase)}),toJSON(e){let t={};return void 0!==e.a&&(t.a=al.toJSON(e.a)),void 0!==e.b&&(t.b=al.toJSON(e.b)),!1!==e.ignoreCase&&(t.ignoreCase=e.ignoreCase),t},create:e=>au.fromPartial(e??{}),fromPartial(e){let t=ac();return t.a=void 0!==e.a&&null!==e.a?al.fromPartial(e.a):void 0,t.b=void 0!==e.b&&null!==e.b?al.fromPartial(e.b):void 0,t.ignoreCase=e.ignoreCase??!1,t}};function ad(){return{$type:"proto.sdui.StringList",stringValues:[]}}rL.set(au.$type,au);let ap={$type:"proto.sdui.StringList",encode(t,r=e.Writer.create()){for(let e of t.stringValues)r.uint32(10).string(e);return r},decode(t,r){let i=t instanceof e.Reader?t:e.Reader.create(t),n=void 0===r?i.len:i.pos+r,o=ad();for(;i.pos<n;){let e=i.uint32();switch(e>>>3){case 1:if(10!==e)break;o.stringValues.push(i.string());continue}if((7&e)==4||0===e)break;i.skipType(7&e)}return o},fromJSON:e=>({$type:ap.$type,stringValues:globalThis.Array.isArray(e?.stringValues)?e.stringValues.map(e=>globalThis.String(e)):[]}),toJSON(e){let t={};return e.stringValues?.length&&(t.stringValues=e.stringValues),t},create:e=>ap.fromPartial(e??{}),fromPartial(e){let t=ad();return t.stringValues=e.stringValues?.map(e=>e)||[],t}};function af(){return{$type:"proto.sdui.expressions.CollectionIdsStringListExpression",collectionId:"",collectionKey:void 0}}rL.set(ap.$type,ap);let am={$type:"proto.sdui.expressions.CollectionIdsStringListExpression",encode:(t,r=e.Writer.create())=>(""!==t.collectionId&&r.uint32(10).string(t.collectionId),void 0!==t.collectionKey&&i2.encode(t.collectionKey,r.uint32(18).fork()).ldelim(),r),decode(t,r){let i=t instanceof e.Reader?t:e.Reader.create(t),n=void 0===r?i.len:i.pos+r,o=af();for(;i.pos<n;){let e=i.uint32();switch(e>>>3){case 1:if(10!==e)break;o.collectionId=i.string();continue;case 2:if(18!==e)break;o.collectionKey=i2.decode(i,i.uint32());continue}if((7&e)==4||0===e)break;i.skipType(7&e)}return o},fromJSON:e=>({$type:am.$type,collectionId:null!=e.collectionId?globalThis.String(e.collectionId):"",collectionKey:null!=e.collectionKey?i2.fromJSON(e.collectionKey):void 0}),toJSON(e){let t={};return""!==e.collectionId&&(t.collectionId=e.collectionId),void 0!==e.collectionKey&&(t.collectionKey=i2.toJSON(e.collectionKey)),t},create:e=>am.fromPartial(e??{}),fromPartial(e){let t=af();return t.collectionId=e.collectionId??"",t.collectionKey=void 0!==e.collectionKey&&null!==e.collectionKey?i2.fromPartial(e.collectionKey):void 0,t}};function ag(){return{$type:"proto.sdui.expressions.StringListExpression",expression:void 0,isReactive:!1}}rL.set(am.$type,am);let ah={$type:"proto.sdui.expressions.StringListExpression",encode(t,r=e.Writer.create()){switch(t.expression?.$case){case"stringListValue":ap.encode(t.expression.stringListValue,r.uint32(10).fork()).ldelim();break;case"bindableStringList":nM.encode(t.expression.bindableStringList,r.uint32(18).fork()).ldelim();break;case"collectionIdsStringList":am.encode(t.expression.collectionIdsStringList,r.uint32(26).fork()).ldelim()}return!1!==t.isReactive&&r.uint32(32).bool(t.isReactive),r},decode(t,r){let i=t instanceof e.Reader?t:e.Reader.create(t),n=void 0===r?i.len:i.pos+r,o=ag();for(;i.pos<n;){let e=i.uint32();switch(e>>>3){case 1:if(10!==e)break;o.expression={$case:"stringListValue",stringListValue:ap.decode(i,i.uint32())};continue;case 2:if(18!==e)break;o.expression={$case:"bindableStringList",bindableStringList:nM.decode(i,i.uint32())};continue;case 3:if(26!==e)break;o.expression={$case:"collectionIdsStringList",collectionIdsStringList:am.decode(i,i.uint32())};continue;case 4:if(32!==e)break;o.isReactive=i.bool();continue}if((7&e)==4||0===e)break;i.skipType(7&e)}return o},fromJSON:e=>({$type:ah.$type,expression:null!=e.stringListValue?{$case:"stringListValue",stringListValue:ap.fromJSON(e.stringListValue)}:null!=e.bindableStringList?{$case:"bindableStringList",bindableStringList:nM.fromJSON(e.bindableStringList)}:null!=e.collectionIdsStringList?{$case:"collectionIdsStringList",collectionIdsStringList:am.fromJSON(e.collectionIdsStringList)}:void 0,isReactive:null!=e.isReactive&&globalThis.Boolean(e.isReactive)}),toJSON(e){let t={};return e.expression?.$case==="stringListValue"&&(t.stringListValue=ap.toJSON(e.expression.stringListValue)),e.expression?.$case==="bindableStringList"&&(t.bindableStringList=nM.toJSON(e.expression.bindableStringList)),e.expression?.$case==="collectionIdsStringList"&&(t.collectionIdsStringList=am.toJSON(e.expression.collectionIdsStringList)),!1!==e.isReactive&&(t.isReactive=e.isReactive),t},create:e=>ah.fromPartial(e??{}),fromPartial(e){let t=ag();return e.expression?.$case==="stringListValue"&&e.expression?.stringListValue!==void 0&&e.expression?.stringListValue!==null&&(t.expression={$case:"stringListValue",stringListValue:ap.fromPartial(e.expression.stringListValue)}),e.expression?.$case==="bindableStringList"&&e.expression?.bindableStringList!==void 0&&e.expression?.bindableStringList!==null&&(t.expression={$case:"bindableStringList",bindableStringList:nM.fromPartial(e.expression.bindableStringList)}),e.expression?.$case==="collectionIdsStringList"&&e.expression?.collectionIdsStringList!==void 0&&e.expression?.collectionIdsStringList!==null&&(t.expression={$case:"collectionIdsStringList",collectionIdsStringList:am.fromPartial(e.expression.collectionIdsStringList)}),t.isReactive=e.isReactive??!1,t}};function ay(){return{$type:"proto.sdui.expressions.StringListContainsExpression",a:void 0,b:void 0,ignoreCase:!1}}rL.set(ah.$type,ah);let ab={$type:"proto.sdui.expressions.StringListContainsExpression",encode:(t,r=e.Writer.create())=>(void 0!==t.a&&ah.encode(t.a,r.uint32(10).fork()).ldelim(),void 0!==t.b&&al.encode(t.b,r.uint32(18).fork()).ldelim(),!1!==t.ignoreCase&&r.uint32(24).bool(t.ignoreCase),r),decode(t,r){let i=t instanceof e.Reader?t:e.Reader.create(t),n=void 0===r?i.len:i.pos+r,o=ay();for(;i.pos<n;){let e=i.uint32();switch(e>>>3){case 1:if(10!==e)break;o.a=ah.decode(i,i.uint32());continue;case 2:if(18!==e)break;o.b=al.decode(i,i.uint32());continue;case 3:if(24!==e)break;o.ignoreCase=i.bool();continue}if((7&e)==4||0===e)break;i.skipType(7&e)}return o},fromJSON:e=>({$type:ab.$type,a:null!=e.a?ah.fromJSON(e.a):void 0,b:null!=e.b?al.fromJSON(e.b):void 0,ignoreCase:null!=e.ignoreCase&&globalThis.Boolean(e.ignoreCase)}),toJSON(e){let t={};return void 0!==e.a&&(t.a=ah.toJSON(e.a)),void 0!==e.b&&(t.b=al.toJSON(e.b)),!1!==e.ignoreCase&&(t.ignoreCase=e.ignoreCase),t},create:e=>ab.fromPartial(e??{}),fromPartial(e){let t=ay();return t.a=void 0!==e.a&&null!==e.a?ah.fromPartial(e.a):void 0,t.b=void 0!==e.b&&null!==e.b?al.fromPartial(e.b):void 0,t.ignoreCase=e.ignoreCase??!1,t}};function ax(){return{$type:"proto.sdui.expressions.StringListSizeExpression",stringListExpression:void 0}}rL.set(ab.$type,ab);let aS={$type:"proto.sdui.expressions.StringListSizeExpression",encode:(t,r=e.Writer.create())=>(void 0!==t.stringListExpression&&ah.encode(t.stringListExpression,r.uint32(10).fork()).ldelim(),r),decode(t,r){let i=t instanceof e.Reader?t:e.Reader.create(t),n=void 0===r?i.len:i.pos+r,o=ax();for(;i.pos<n;){let e=i.uint32();switch(e>>>3){case 1:if(10!==e)break;o.stringListExpression=ah.decode(i,i.uint32());continue}if((7&e)==4||0===e)break;i.skipType(7&e)}return o},fromJSON:e=>({$type:aS.$type,stringListExpression:null!=e.stringListExpression?ah.fromJSON(e.stringListExpression):void 0}),toJSON(e){let t={};return void 0!==e.stringListExpression&&(t.stringListExpression=ah.toJSON(e.stringListExpression)),t},create:e=>aS.fromPartial(e??{}),fromPartial(e){let t=ax();return t.stringListExpression=void 0!==e.stringListExpression&&null!==e.stringListExpression?ah.fromPartial(e.stringListExpression):void 0,t}};function aE(){return{$type:"proto.sdui.expressions.SystemTimeMillisLongExpression"}}rL.set(aS.$type,aS);let av={$type:"proto.sdui.expressions.SystemTimeMillisLongExpression",encode:(t,r=e.Writer.create())=>r,decode(t,r){let i=t instanceof e.Reader?t:e.Reader.create(t),n=void 0===r?i.len:i.pos+r,o=aE();for(;i.pos<n;){let e=i.uint32();if((7&e)==4||0===e)break;i.skipType(7&e)}return o},fromJSON:e=>({$type:av.$type}),toJSON:e=>({}),create:e=>av.fromPartial(e??{}),fromPartial:e=>aE()};function aT(e){switch(e){case 0:case"NumericArithmeticOperator_UNKNOWN":default:return"NumericArithmeticOperator_UNKNOWN";case 1:case"NumericArithmeticOperator_Plus":return"NumericArithmeticOperator_Plus";case 2:case"NumericArithmeticOperator_Minus":return"NumericArithmeticOperator_Minus";case 3:case"NumericArithmeticOperator_Multiply":return"NumericArithmeticOperator_Multiply";case 4:case"NumericArithmeticOperator_Divide":return"NumericArithmeticOperator_Divide"}}function aN(){return{$type:"proto.sdui.expressions.BooleanExpression",expression:void 0,isReactive:!1}}rL.set(av.$type,av);let a_={$type:"proto.sdui.expressions.BooleanExpression",encode(t,r=e.Writer.create()){switch(t.expression?.$case){case"booleanValue":r.uint32(8).bool(t.expression.booleanValue);break;case"bindableBoolean":nM.encode(t.expression.bindableBoolean,r.uint32(18).fork()).ldelim();break;case"andExpression":aI.encode(t.expression.andExpression,r.uint32(26).fork()).ldelim();break;case"orExpression":aC.encode(t.expression.orExpression,r.uint32(34).fork()).ldelim();break;case"notExpression":aR.encode(t.expression.notExpression,r.uint32(42).fork()).ldelim();break;case"booleanEqualsExpression":aA.encode(t.expression.booleanEqualsExpression,r.uint32(98).fork()).ldelim();break;case"stringEqualsExpression":au.encode(t.expression.stringEqualsExpression,r.uint32(106).fork()).ldelim();break;case"numericLessThanExpression":az.encode(t.expression.numericLessThanExpression,r.uint32(122).fork()).ldelim();break;case"numericGreaterThanExpression":aJ.encode(t.expression.numericGreaterThanExpression,r.uint32(130).fork()).ldelim();break;case"numericEqualsExpression":aq.encode(t.expression.numericEqualsExpression,r.uint32(138).fork()).ldelim();break;case"stringListContainsExpression":ab.encode(t.expression.stringListContainsExpression,r.uint32(146).fork()).ldelim();break;case"screenRelationshipExpression":nJ.encode(t.expression.screenRelationshipExpression,r.uint32(162).fork()).ldelim();break;case"screenPositionExpression":aa.encode(t.expression.screenPositionExpression,r.uint32(170).fork()).ldelim();break;case"deeplinkInProgressExpression":o7.encode(t.expression.deeplinkInProgressExpression,r.uint32(178).fork()).ldelim();break;case"bindingValueEqualsExpression":aQ.encode(t.expression.bindingValueEqualsExpression,r.uint32(186).fork()).ldelim();break;case"hasPermissionExpression":ai.encode(t.expression.hasPermissionExpression,r.uint32(194).fork()).ldelim()}return!1!==t.isReactive&&r.uint32(152).bool(t.isReactive),r},decode(t,r){let i=t instanceof e.Reader?t:e.Reader.create(t),n=void 0===r?i.len:i.pos+r,o=aN();for(;i.pos<n;){let e=i.uint32();switch(e>>>3){case 1:if(8!==e)break;o.expression={$case:"booleanValue",booleanValue:i.bool()};continue;case 2:if(18!==e)break;o.expression={$case:"bindableBoolean",bindableBoolean:nM.decode(i,i.uint32())};continue;case 3:if(26!==e)break;o.expression={$case:"andExpression",andExpression:aI.decode(i,i.uint32())};continue;case 4:if(34!==e)break;o.expression={$case:"orExpression",orExpression:aC.decode(i,i.uint32())};continue;case 5:if(42!==e)break;o.expression={$case:"notExpression",notExpression:aR.decode(i,i.uint32())};continue;case 12:if(98!==e)break;o.expression={$case:"booleanEqualsExpression",booleanEqualsExpression:aA.decode(i,i.uint32())};continue;case 13:if(106!==e)break;o.expression={$case:"stringEqualsExpression",stringEqualsExpression:au.decode(i,i.uint32())};continue;case 15:if(122!==e)break;o.expression={$case:"numericLessThanExpression",numericLessThanExpression:az.decode(i,i.uint32())};continue;case 16:if(130!==e)break;o.expression={$case:"numericGreaterThanExpression",numericGreaterThanExpression:aJ.decode(i,i.uint32())};continue;case 17:if(138!==e)break;o.expression={$case:"numericEqualsExpression",numericEqualsExpression:aq.decode(i,i.uint32())};continue;case 18:if(146!==e)break;o.expression={$case:"stringListContainsExpression",stringListContainsExpression:ab.decode(i,i.uint32())};continue;case 20:if(162!==e)break;o.expression={$case:"screenRelationshipExpression",screenRelationshipExpression:nJ.decode(i,i.uint32())};continue;case 21:if(170!==e)break;o.expression={$case:"screenPositionExpression",screenPositionExpression:aa.decode(i,i.uint32())};continue;case 22:if(178!==e)break;o.expression={$case:"deeplinkInProgressExpression",deeplinkInProgressExpression:o7.decode(i,i.uint32())};continue;case 23:if(186!==e)break;o.expression={$case:"bindingValueEqualsExpression",bindingValueEqualsExpression:aQ.decode(i,i.uint32())};continue;case 24:if(194!==e)break;o.expression={$case:"hasPermissionExpression",hasPermissionExpression:ai.decode(i,i.uint32())};continue;case 19:if(152!==e)break;o.isReactive=i.bool();continue}if((7&e)==4||0===e)break;i.skipType(7&e)}return o},fromJSON:e=>({$type:a_.$type,expression:a0(e.booleanValue)?{$case:"booleanValue",booleanValue:globalThis.Boolean(e.booleanValue)}:a0(e.bindableBoolean)?{$case:"bindableBoolean",bindableBoolean:nM.fromJSON(e.bindableBoolean)}:a0(e.andExpression)?{$case:"andExpression",andExpression:aI.fromJSON(e.andExpression)}:a0(e.orExpression)?{$case:"orExpression",orExpression:aC.fromJSON(e.orExpression)}:a0(e.notExpression)?{$case:"notExpression",notExpression:aR.fromJSON(e.notExpression)}:a0(e.booleanEqualsExpression)?{$case:"booleanEqualsExpression",booleanEqualsExpression:aA.fromJSON(e.booleanEqualsExpression)}:a0(e.stringEqualsExpression)?{$case:"stringEqualsExpression",stringEqualsExpression:au.fromJSON(e.stringEqualsExpression)}:a0(e.numericLessThanExpression)?{$case:"numericLessThanExpression",numericLessThanExpression:az.fromJSON(e.numericLessThanExpression)}:a0(e.numericGreaterThanExpression)?{$case:"numericGreaterThanExpression",numericGreaterThanExpression:aJ.fromJSON(e.numericGreaterThanExpression)}:a0(e.numericEqualsExpression)?{$case:"numericEqualsExpression",numericEqualsExpression:aq.fromJSON(e.numericEqualsExpression)}:a0(e.stringListContainsExpression)?{$case:"stringListContainsExpression",stringListContainsExpression:ab.fromJSON(e.stringListContainsExpression)}:a0(e.screenRelationshipExpression)?{$case:"screenRelationshipExpression",screenRelationshipExpression:nJ.fromJSON(e.screenRelationshipExpression)}:a0(e.screenPositionExpression)?{$case:"screenPositionExpression",screenPositionExpression:aa.fromJSON(e.screenPositionExpression)}:a0(e.deeplinkInProgressExpression)?{$case:"deeplinkInProgressExpression",deeplinkInProgressExpression:o7.fromJSON(e.deeplinkInProgressExpression)}:a0(e.bindingValueEqualsExpression)?{$case:"bindingValueEqualsExpression",bindingValueEqualsExpression:aQ.fromJSON(e.bindingValueEqualsExpression)}:a0(e.hasPermissionExpression)?{$case:"hasPermissionExpression",hasPermissionExpression:ai.fromJSON(e.hasPermissionExpression)}:void 0,isReactive:!!a0(e.isReactive)&&globalThis.Boolean(e.isReactive)}),toJSON(e){let t={};return e.expression?.$case==="booleanValue"&&(t.booleanValue=e.expression.booleanValue),e.expression?.$case==="bindableBoolean"&&(t.bindableBoolean=nM.toJSON(e.expression.bindableBoolean)),e.expression?.$case==="andExpression"&&(t.andExpression=aI.toJSON(e.expression.andExpression)),e.expression?.$case==="orExpression"&&(t.orExpression=aC.toJSON(e.expression.orExpression)),e.expression?.$case==="notExpression"&&(t.notExpression=aR.toJSON(e.expression.notExpression)),e.expression?.$case==="booleanEqualsExpression"&&(t.booleanEqualsExpression=aA.toJSON(e.expression.booleanEqualsExpression)),e.expression?.$case==="stringEqualsExpression"&&(t.stringEqualsExpression=au.toJSON(e.expression.stringEqualsExpression)),e.expression?.$case==="numericLessThanExpression"&&(t.numericLessThanExpression=az.toJSON(e.expression.numericLessThanExpression)),e.expression?.$case==="numericGreaterThanExpression"&&(t.numericGreaterThanExpression=aJ.toJSON(e.expression.numericGreaterThanExpression)),e.expression?.$case==="numericEqualsExpression"&&(t.numericEqualsExpression=aq.toJSON(e.expression.numericEqualsExpression)),e.expression?.$case==="stringListContainsExpression"&&(t.stringListContainsExpression=ab.toJSON(e.expression.stringListContainsExpression)),e.expression?.$case==="screenRelationshipExpression"&&(t.screenRelationshipExpression=nJ.toJSON(e.expression.screenRelationshipExpression)),e.expression?.$case==="screenPositionExpression"&&(t.screenPositionExpression=aa.toJSON(e.expression.screenPositionExpression)),e.expression?.$case==="deeplinkInProgressExpression"&&(t.deeplinkInProgressExpression=o7.toJSON(e.expression.deeplinkInProgressExpression)),e.expression?.$case==="bindingValueEqualsExpression"&&(t.bindingValueEqualsExpression=aQ.toJSON(e.expression.bindingValueEqualsExpression)),e.expression?.$case==="hasPermissionExpression"&&(t.hasPermissionExpression=ai.toJSON(e.expression.hasPermissionExpression)),!1!==e.isReactive&&(t.isReactive=e.isReactive),t},create:e=>a_.fromPartial(e??{}),fromPartial(e){let t=aN();return e.expression?.$case==="booleanValue"&&e.expression?.booleanValue!==void 0&&e.expression?.booleanValue!==null&&(t.expression={$case:"booleanValue",booleanValue:e.expression.booleanValue}),e.expression?.$case==="bindableBoolean"&&e.expression?.bindableBoolean!==void 0&&e.expression?.bindableBoolean!==null&&(t.expression={$case:"bindableBoolean",bindableBoolean:nM.fromPartial(e.expression.bindableBoolean)}),e.expression?.$case==="andExpression"&&e.expression?.andExpression!==void 0&&e.expression?.andExpression!==null&&(t.expression={$case:"andExpression",andExpression:aI.fromPartial(e.expression.andExpression)}),e.expression?.$case==="orExpression"&&e.expression?.orExpression!==void 0&&e.expression?.orExpression!==null&&(t.expression={$case:"orExpression",orExpression:aC.fromPartial(e.expression.orExpression)}),e.expression?.$case==="notExpression"&&e.expression?.notExpression!==void 0&&e.expression?.notExpression!==null&&(t.expression={$case:"notExpression",notExpression:aR.fromPartial(e.expression.notExpression)}),e.expression?.$case==="booleanEqualsExpression"&&e.expression?.booleanEqualsExpression!==void 0&&e.expression?.booleanEqualsExpression!==null&&(t.expression={$case:"booleanEqualsExpression",booleanEqualsExpression:aA.fromPartial(e.expression.booleanEqualsExpression)}),e.expression?.$case==="stringEqualsExpression"&&e.expression?.stringEqualsExpression!==void 0&&e.expression?.stringEqualsExpression!==null&&(t.expression={$case:"stringEqualsExpression",stringEqualsExpression:au.fromPartial(e.expression.stringEqualsExpression)}),e.expression?.$case==="numericLessThanExpression"&&e.expression?.numericLessThanExpression!==void 0&&e.expression?.numericLessThanExpression!==null&&(t.expression={$case:"numericLessThanExpression",numericLessThanExpression:az.fromPartial(e.expression.numericLessThanExpression)}),e.expression?.$case==="numericGreaterThanExpression"&&e.expression?.numericGreaterThanExpression!==void 0&&e.expression?.numericGreaterThanExpression!==null&&(t.expression={$case:"numericGreaterThanExpression",numericGreaterThanExpression:aJ.fromPartial(e.expression.numericGreaterThanExpression)}),e.expression?.$case==="numericEqualsExpression"&&e.expression?.numericEqualsExpression!==void 0&&e.expression?.numericEqualsExpression!==null&&(t.expression={$case:"numericEqualsExpression",numericEqualsExpression:aq.fromPartial(e.expression.numericEqualsExpression)}),e.expression?.$case==="stringListContainsExpression"&&e.expression?.stringListContainsExpression!==void 0&&e.expression?.stringListContainsExpression!==null&&(t.expression={$case:"stringListContainsExpression",stringListContainsExpression:ab.fromPartial(e.expression.stringListContainsExpression)}),e.expression?.$case==="screenRelationshipExpression"&&e.expression?.screenRelationshipExpression!==void 0&&e.expression?.screenRelationshipExpression!==null&&(t.expression={$case:"screenRelationshipExpression",screenRelationshipExpression:nJ.fromPartial(e.expression.screenRelationshipExpression)}),e.expression?.$case==="screenPositionExpression"&&e.expression?.screenPositionExpression!==void 0&&e.expression?.screenPositionExpression!==null&&(t.expression={$case:"screenPositionExpression",screenPositionExpression:aa.fromPartial(e.expression.screenPositionExpression)}),e.expression?.$case==="deeplinkInProgressExpression"&&e.expression?.deeplinkInProgressExpression!==void 0&&e.expression?.deeplinkInProgressExpression!==null&&(t.expression={$case:"deeplinkInProgressExpression",deeplinkInProgressExpression:o7.fromPartial(e.expression.deeplinkInProgressExpression)}),e.expression?.$case==="bindingValueEqualsExpression"&&e.expression?.bindingValueEqualsExpression!==void 0&&e.expression?.bindingValueEqualsExpression!==null&&(t.expression={$case:"bindingValueEqualsExpression",bindingValueEqualsExpression:aQ.fromPartial(e.expression.bindingValueEqualsExpression)}),e.expression?.$case==="hasPermissionExpression"&&e.expression?.hasPermissionExpression!==void 0&&e.expression?.hasPermissionExpression!==null&&(t.expression={$case:"hasPermissionExpression",hasPermissionExpression:ai.fromPartial(e.expression.hasPermissionExpression)}),t.isReactive=e.isReactive??!1,t}};function ak(){return{$type:"proto.sdui.expressions.AndExpression",a:void 0,b:void 0}}rL.set(a_.$type,a_);let aI={$type:"proto.sdui.expressions.AndExpression",encode:(t,r=e.Writer.create())=>(void 0!==t.a&&a_.encode(t.a,r.uint32(10).fork()).ldelim(),void 0!==t.b&&a_.encode(t.b,r.uint32(18).fork()).ldelim(),r),decode(t,r){let i=t instanceof e.Reader?t:e.Reader.create(t),n=void 0===r?i.len:i.pos+r,o=ak();for(;i.pos<n;){let e=i.uint32();switch(e>>>3){case 1:if(10!==e)break;o.a=a_.decode(i,i.uint32());continue;case 2:if(18!==e)break;o.b=a_.decode(i,i.uint32());continue}if((7&e)==4||0===e)break;i.skipType(7&e)}return o},fromJSON:e=>({$type:aI.$type,a:a0(e.a)?a_.fromJSON(e.a):void 0,b:a0(e.b)?a_.fromJSON(e.b):void 0}),toJSON(e){let t={};return void 0!==e.a&&(t.a=a_.toJSON(e.a)),void 0!==e.b&&(t.b=a_.toJSON(e.b)),t},create:e=>aI.fromPartial(e??{}),fromPartial(e){let t=ak();return t.a=void 0!==e.a&&null!==e.a?a_.fromPartial(e.a):void 0,t.b=void 0!==e.b&&null!==e.b?a_.fromPartial(e.b):void 0,t}};function aO(){return{$type:"proto.sdui.expressions.OrExpression",a:void 0,b:void 0}}rL.set(aI.$type,aI);let aC={$type:"proto.sdui.expressions.OrExpression",encode:(t,r=e.Writer.create())=>(void 0!==t.a&&a_.encode(t.a,r.uint32(10).fork()).ldelim(),void 0!==t.b&&a_.encode(t.b,r.uint32(18).fork()).ldelim(),r),decode(t,r){let i=t instanceof e.Reader?t:e.Reader.create(t),n=void 0===r?i.len:i.pos+r,o=aO();for(;i.pos<n;){let e=i.uint32();switch(e>>>3){case 1:if(10!==e)break;o.a=a_.decode(i,i.uint32());continue;case 2:if(18!==e)break;o.b=a_.decode(i,i.uint32());continue}if((7&e)==4||0===e)break;i.skipType(7&e)}return o},fromJSON:e=>({$type:aC.$type,a:a0(e.a)?a_.fromJSON(e.a):void 0,b:a0(e.b)?a_.fromJSON(e.b):void 0}),toJSON(e){let t={};return void 0!==e.a&&(t.a=a_.toJSON(e.a)),void 0!==e.b&&(t.b=a_.toJSON(e.b)),t},create:e=>aC.fromPartial(e??{}),fromPartial(e){let t=aO();return t.a=void 0!==e.a&&null!==e.a?a_.fromPartial(e.a):void 0,t.b=void 0!==e.b&&null!==e.b?a_.fromPartial(e.b):void 0,t}};function aP(){return{$type:"proto.sdui.expressions.NotExpression",a:void 0}}rL.set(aC.$type,aC);let aR={$type:"proto.sdui.expressions.NotExpression",encode:(t,r=e.Writer.create())=>(void 0!==t.a&&a_.encode(t.a,r.uint32(10).fork()).ldelim(),r),decode(t,r){let i=t instanceof e.Reader?t:e.Reader.create(t),n=void 0===r?i.len:i.pos+r,o=aP();for(;i.pos<n;){let e=i.uint32();switch(e>>>3){case 1:if(10!==e)break;o.a=a_.decode(i,i.uint32());continue}if((7&e)==4||0===e)break;i.skipType(7&e)}return o},fromJSON:e=>({$type:aR.$type,a:a0(e.a)?a_.fromJSON(e.a):void 0}),toJSON(e){let t={};return void 0!==e.a&&(t.a=a_.toJSON(e.a)),t},create:e=>aR.fromPartial(e??{}),fromPartial(e){let t=aP();return t.a=void 0!==e.a&&null!==e.a?a_.fromPartial(e.a):void 0,t}};function aw(){return{$type:"proto.sdui.expressions.BooleanEqualsExpression",a:void 0,b:void 0}}rL.set(aR.$type,aR);let aA={$type:"proto.sdui.expressions.BooleanEqualsExpression",encode:(t,r=e.Writer.create())=>(void 0!==t.a&&a_.encode(t.a,r.uint32(10).fork()).ldelim(),void 0!==t.b&&a_.encode(t.b,r.uint32(18).fork()).ldelim(),r),decode(t,r){let i=t instanceof e.Reader?t:e.Reader.create(t),n=void 0===r?i.len:i.pos+r,o=aw();for(;i.pos<n;){let e=i.uint32();switch(e>>>3){case 1:if(10!==e)break;o.a=a_.decode(i,i.uint32());continue;case 2:if(18!==e)break;o.b=a_.decode(i,i.uint32());continue}if((7&e)==4||0===e)break;i.skipType(7&e)}return o},fromJSON:e=>({$type:aA.$type,a:a0(e.a)?a_.fromJSON(e.a):void 0,b:a0(e.b)?a_.fromJSON(e.b):void 0}),toJSON(e){let t={};return void 0!==e.a&&(t.a=a_.toJSON(e.a)),void 0!==e.b&&(t.b=a_.toJSON(e.b)),t},create:e=>aA.fromPartial(e??{}),fromPartial(e){let t=aw();return t.a=void 0!==e.a&&null!==e.a?a_.fromPartial(e.a):void 0,t.b=void 0!==e.b&&null!==e.b?a_.fromPartial(e.b):void 0,t}};function a$(){return{$type:"proto.sdui.expressions.NumericExpression",expression:void 0}}rL.set(aA.$type,aA);let aL={$type:"proto.sdui.expressions.NumericExpression",encode(t,r=e.Writer.create()){switch(t.expression?.$case){case"intExpression":aD.encode(t.expression.intExpression,r.uint32(10).fork()).ldelim();break;case"longExpression":aB.encode(t.expression.longExpression,r.uint32(18).fork()).ldelim();break;case"floatExpression":aF.encode(t.expression.floatExpression,r.uint32(26).fork()).ldelim()}return r},decode(t,r){let i=t instanceof e.Reader?t:e.Reader.create(t),n=void 0===r?i.len:i.pos+r,o=a$();for(;i.pos<n;){let e=i.uint32();switch(e>>>3){case 1:if(10!==e)break;o.expression={$case:"intExpression",intExpression:aD.decode(i,i.uint32())};continue;case 2:if(18!==e)break;o.expression={$case:"longExpression",longExpression:aB.decode(i,i.uint32())};continue;case 3:if(26!==e)break;o.expression={$case:"floatExpression",floatExpression:aF.decode(i,i.uint32())};continue}if((7&e)==4||0===e)break;i.skipType(7&e)}return o},fromJSON:e=>({$type:aL.$type,expression:a0(e.intExpression)?{$case:"intExpression",intExpression:aD.fromJSON(e.intExpression)}:a0(e.longExpression)?{$case:"longExpression",longExpression:aB.fromJSON(e.longExpression)}:a0(e.floatExpression)?{$case:"floatExpression",floatExpression:aF.fromJSON(e.floatExpression)}:void 0}),toJSON(e){let t={};return e.expression?.$case==="intExpression"&&(t.intExpression=aD.toJSON(e.expression.intExpression)),e.expression?.$case==="longExpression"&&(t.longExpression=aB.toJSON(e.expression.longExpression)),e.expression?.$case==="floatExpression"&&(t.floatExpression=aF.toJSON(e.expression.floatExpression)),t},create:e=>aL.fromPartial(e??{}),fromPartial(e){let t=a$();return e.expression?.$case==="intExpression"&&e.expression?.intExpression!==void 0&&e.expression?.intExpression!==null&&(t.expression={$case:"intExpression",intExpression:aD.fromPartial(e.expression.intExpression)}),e.expression?.$case==="longExpression"&&e.expression?.longExpression!==void 0&&e.expression?.longExpression!==null&&(t.expression={$case:"longExpression",longExpression:aB.fromPartial(e.expression.longExpression)}),e.expression?.$case==="floatExpression"&&e.expression?.floatExpression!==void 0&&e.expression?.floatExpression!==null&&(t.expression={$case:"floatExpression",floatExpression:aF.fromPartial(e.expression.floatExpression)}),t}};function aM(){return{$type:"proto.sdui.expressions.IntegerExpression",expression:void 0,isReactive:!1}}rL.set(aL.$type,aL);let aD={$type:"proto.sdui.expressions.IntegerExpression",encode(t,r=e.Writer.create()){switch(t.expression?.$case){case"intValue":r.uint32(8).int32(t.expression.intValue);break;case"bindableInteger":nM.encode(t.expression.bindableInteger,r.uint32(18).fork()).ldelim();break;case"currentBadgeCountExpression":oQ.encode(t.expression.currentBadgeCountExpression,r.uint32(34).fork()).ldelim();break;case"arithmeticExpression":aX.encode(t.expression.arithmeticExpression,r.uint32(42).fork()).ldelim();break;case"stringListSizeExpression":aS.encode(t.expression.stringListSizeExpression,r.uint32(50).fork()).ldelim();break;case"dayInDateExpression":o3.encode(t.expression.dayInDateExpression,r.uint32(66).fork()).ldelim();break;case"monthInDateExpression":o3.encode(t.expression.monthInDateExpression,r.uint32(74).fork()).ldelim();break;case"yearInDateExpression":o3.encode(t.expression.yearInDateExpression,r.uint32(82).fork()).ldelim()}return!1!==t.isReactive&&r.uint32(56).bool(t.isReactive),r},decode(t,r){let i=t instanceof e.Reader?t:e.Reader.create(t),n=void 0===r?i.len:i.pos+r,o=aM();for(;i.pos<n;){let e=i.uint32();switch(e>>>3){case 1:if(8!==e)break;o.expression={$case:"intValue",intValue:i.int32()};continue;case 2:if(18!==e)break;o.expression={$case:"bindableInteger",bindableInteger:nM.decode(i,i.uint32())};continue;case 4:if(34!==e)break;o.expression={$case:"currentBadgeCountExpression",currentBadgeCountExpression:oQ.decode(i,i.uint32())};continue;case 5:if(42!==e)break;o.expression={$case:"arithmeticExpression",arithmeticExpression:aX.decode(i,i.uint32())};continue;case 6:if(50!==e)break;o.expression={$case:"stringListSizeExpression",stringListSizeExpression:aS.decode(i,i.uint32())};continue;case 8:if(66!==e)break;o.expression={$case:"dayInDateExpression",dayInDateExpression:o3.decode(i,i.uint32())};continue;case 9:if(74!==e)break;o.expression={$case:"monthInDateExpression",monthInDateExpression:o3.decode(i,i.uint32())};continue;case 10:if(82!==e)break;o.expression={$case:"yearInDateExpression",yearInDateExpression:o3.decode(i,i.uint32())};continue;case 7:if(56!==e)break;o.isReactive=i.bool();continue}if((7&e)==4||0===e)break;i.skipType(7&e)}return o},fromJSON:e=>({$type:aD.$type,expression:a0(e.intValue)?{$case:"intValue",intValue:globalThis.Number(e.intValue)}:a0(e.bindableInteger)?{$case:"bindableInteger",bindableInteger:nM.fromJSON(e.bindableInteger)}:a0(e.currentBadgeCountExpression)?{$case:"currentBadgeCountExpression",currentBadgeCountExpression:oQ.fromJSON(e.currentBadgeCountExpression)}:a0(e.arithmeticExpression)?{$case:"arithmeticExpression",arithmeticExpression:aX.fromJSON(e.arithmeticExpression)}:a0(e.stringListSizeExpression)?{$case:"stringListSizeExpression",stringListSizeExpression:aS.fromJSON(e.stringListSizeExpression)}:a0(e.dayInDateExpression)?{$case:"dayInDateExpression",dayInDateExpression:o3.fromJSON(e.dayInDateExpression)}:a0(e.monthInDateExpression)?{$case:"monthInDateExpression",monthInDateExpression:o3.fromJSON(e.monthInDateExpression)}:a0(e.yearInDateExpression)?{$case:"yearInDateExpression",yearInDateExpression:o3.fromJSON(e.yearInDateExpression)}:void 0,isReactive:!!a0(e.isReactive)&&globalThis.Boolean(e.isReactive)}),toJSON(e){let t={};return e.expression?.$case==="intValue"&&(t.intValue=Math.round(e.expression.intValue)),e.expression?.$case==="bindableInteger"&&(t.bindableInteger=nM.toJSON(e.expression.bindableInteger)),e.expression?.$case==="currentBadgeCountExpression"&&(t.currentBadgeCountExpression=oQ.toJSON(e.expression.currentBadgeCountExpression)),e.expression?.$case==="arithmeticExpression"&&(t.arithmeticExpression=aX.toJSON(e.expression.arithmeticExpression)),e.expression?.$case==="stringListSizeExpression"&&(t.stringListSizeExpression=aS.toJSON(e.expression.stringListSizeExpression)),e.expression?.$case==="dayInDateExpression"&&(t.dayInDateExpression=o3.toJSON(e.expression.dayInDateExpression)),e.expression?.$case==="monthInDateExpression"&&(t.monthInDateExpression=o3.toJSON(e.expression.monthInDateExpression)),e.expression?.$case==="yearInDateExpression"&&(t.yearInDateExpression=o3.toJSON(e.expression.yearInDateExpression)),!1!==e.isReactive&&(t.isReactive=e.isReactive),t},create:e=>aD.fromPartial(e??{}),fromPartial(e){let t=aM();return e.expression?.$case==="intValue"&&e.expression?.intValue!==void 0&&e.expression?.intValue!==null&&(t.expression={$case:"intValue",intValue:e.expression.intValue}),e.expression?.$case==="bindableInteger"&&e.expression?.bindableInteger!==void 0&&e.expression?.bindableInteger!==null&&(t.expression={$case:"bindableInteger",bindableInteger:nM.fromPartial(e.expression.bindableInteger)}),e.expression?.$case==="currentBadgeCountExpression"&&e.expression?.currentBadgeCountExpression!==void 0&&e.expression?.currentBadgeCountExpression!==null&&(t.expression={$case:"currentBadgeCountExpression",currentBadgeCountExpression:oQ.fromPartial(e.expression.currentBadgeCountExpression)}),e.expression?.$case==="arithmeticExpression"&&e.expression?.arithmeticExpression!==void 0&&e.expression?.arithmeticExpression!==null&&(t.expression={$case:"arithmeticExpression",arithmeticExpression:aX.fromPartial(e.expression.arithmeticExpression)}),e.expression?.$case==="stringListSizeExpression"&&e.expression?.stringListSizeExpression!==void 0&&e.expression?.stringListSizeExpression!==null&&(t.expression={$case:"stringListSizeExpression",stringListSizeExpression:aS.fromPartial(e.expression.stringListSizeExpression)}),e.expression?.$case==="dayInDateExpression"&&e.expression?.dayInDateExpression!==void 0&&e.expression?.dayInDateExpression!==null&&(t.expression={$case:"dayInDateExpression",dayInDateExpression:o3.fromPartial(e.expression.dayInDateExpression)}),e.expression?.$case==="monthInDateExpression"&&e.expression?.monthInDateExpression!==void 0&&e.expression?.monthInDateExpression!==null&&(t.expression={$case:"monthInDateExpression",monthInDateExpression:o3.fromPartial(e.expression.monthInDateExpression)}),e.expression?.$case==="yearInDateExpression"&&e.expression?.yearInDateExpression!==void 0&&e.expression?.yearInDateExpression!==null&&(t.expression={$case:"yearInDateExpression",yearInDateExpression:o3.fromPartial(e.expression.yearInDateExpression)}),t.isReactive=e.isReactive??!1,t}};function aU(){return{$type:"proto.sdui.expressions.FloatExpression",expression:void 0,isReactive:!1,transition:void 0}}rL.set(aD.$type,aD);let aF={$type:"proto.sdui.expressions.FloatExpression",encode(t,r=e.Writer.create()){switch(t.expression?.$case){case"floatValue":r.uint32(13).float(t.expression.floatValue);break;case"bindableFloat":nM.encode(t.expression.bindableFloat,r.uint32(18).fork()).ldelim();break;case"arithmeticExpression":aX.encode(t.expression.arithmeticExpression,r.uint32(26).fork()).ldelim()}return!1!==t.isReactive&&r.uint32(32).bool(t.isReactive),void 0!==t.transition&&oW.encode(t.transition,r.uint32(42).fork()).ldelim(),r},decode(t,r){let i=t instanceof e.Reader?t:e.Reader.create(t),n=void 0===r?i.len:i.pos+r,o=aU();for(;i.pos<n;){let e=i.uint32();switch(e>>>3){case 1:if(13!==e)break;o.expression={$case:"floatValue",floatValue:i.float()};continue;case 2:if(18!==e)break;o.expression={$case:"bindableFloat",bindableFloat:nM.decode(i,i.uint32())};continue;case 3:if(26!==e)break;o.expression={$case:"arithmeticExpression",arithmeticExpression:aX.decode(i,i.uint32())};continue;case 4:if(32!==e)break;o.isReactive=i.bool();continue;case 5:if(42!==e)break;o.transition=oW.decode(i,i.uint32());continue}if((7&e)==4||0===e)break;i.skipType(7&e)}return o},fromJSON:e=>({$type:aF.$type,expression:a0(e.floatValue)?{$case:"floatValue",floatValue:globalThis.Number(e.floatValue)}:a0(e.bindableFloat)?{$case:"bindableFloat",bindableFloat:nM.fromJSON(e.bindableFloat)}:a0(e.arithmeticExpression)?{$case:"arithmeticExpression",arithmeticExpression:aX.fromJSON(e.arithmeticExpression)}:void 0,isReactive:!!a0(e.isReactive)&&globalThis.Boolean(e.isReactive),transition:a0(e.transition)?oW.fromJSON(e.transition):void 0}),toJSON(e){let t={};return e.expression?.$case==="floatValue"&&(t.floatValue=e.expression.floatValue),e.expression?.$case==="bindableFloat"&&(t.bindableFloat=nM.toJSON(e.expression.bindableFloat)),e.expression?.$case==="arithmeticExpression"&&(t.arithmeticExpression=aX.toJSON(e.expression.arithmeticExpression)),!1!==e.isReactive&&(t.isReactive=e.isReactive),void 0!==e.transition&&(t.transition=oW.toJSON(e.transition)),t},create:e=>aF.fromPartial(e??{}),fromPartial(e){let t=aU();return e.expression?.$case==="floatValue"&&e.expression?.floatValue!==void 0&&e.expression?.floatValue!==null&&(t.expression={$case:"floatValue",floatValue:e.expression.floatValue}),e.expression?.$case==="bindableFloat"&&e.expression?.bindableFloat!==void 0&&e.expression?.bindableFloat!==null&&(t.expression={$case:"bindableFloat",bindableFloat:nM.fromPartial(e.expression.bindableFloat)}),e.expression?.$case==="arithmeticExpression"&&e.expression?.arithmeticExpression!==void 0&&e.expression?.arithmeticExpression!==null&&(t.expression={$case:"arithmeticExpression",arithmeticExpression:aX.fromPartial(e.expression.arithmeticExpression)}),t.isReactive=e.isReactive??!1,t.transition=void 0!==e.transition&&null!==e.transition?oW.fromPartial(e.transition):void 0,t}};function aj(){return{$type:"proto.sdui.expressions.LongExpression",expression:void 0,isReactive:!1}}rL.set(aF.$type,aF);let aB={$type:"proto.sdui.expressions.LongExpression",encode(t,r=e.Writer.create()){switch(t.expression?.$case){case"longValue":if(BigInt.asUintN(64,t.expression.longValue)!==t.expression.longValue)throw new globalThis.Error("value provided for field message.expression.longValue of type uint64 too large");r.uint32(8).uint64(t.expression.longValue.toString());break;case"bindableLong":nM.encode(t.expression.bindableLong,r.uint32(18).fork()).ldelim();break;case"timeMillis":av.encode(t.expression.timeMillis,r.uint32(26).fork()).ldelim();break;case"arithmeticExpression":aX.encode(t.expression.arithmeticExpression,r.uint32(34).fork()).ldelim();break;case"appBackgroundTimeMillis":oq.encode(t.expression.appBackgroundTimeMillis,r.uint32(42).fork()).ldelim();break;case"longChoice":aK.encode(t.expression.longChoice,r.uint32(58).fork()).ldelim()}return!1!==t.isReactive&&r.uint32(48).bool(t.isReactive),r},decode(t,r){let i=t instanceof e.Reader?t:e.Reader.create(t),n=void 0===r?i.len:i.pos+r,o=aj();for(;i.pos<n;){let e=i.uint32();switch(e>>>3){case 1:if(8!==e)break;o.expression={$case:"longValue",longValue:BigInt(i.uint64().toString())};continue;case 2:if(18!==e)break;o.expression={$case:"bindableLong",bindableLong:nM.decode(i,i.uint32())};continue;case 3:if(26!==e)break;o.expression={$case:"timeMillis",timeMillis:av.decode(i,i.uint32())};continue;case 4:if(34!==e)break;o.expression={$case:"arithmeticExpression",arithmeticExpression:aX.decode(i,i.uint32())};continue;case 5:if(42!==e)break;o.expression={$case:"appBackgroundTimeMillis",appBackgroundTimeMillis:oq.decode(i,i.uint32())};continue;case 7:if(58!==e)break;o.expression={$case:"longChoice",longChoice:aK.decode(i,i.uint32())};continue;case 6:if(48!==e)break;o.isReactive=i.bool();continue}if((7&e)==4||0===e)break;i.skipType(7&e)}return o},fromJSON:e=>({$type:aB.$type,expression:a0(e.longValue)?{$case:"longValue",longValue:BigInt(e.longValue)}:a0(e.bindableLong)?{$case:"bindableLong",bindableLong:nM.fromJSON(e.bindableLong)}:a0(e.timeMillis)?{$case:"timeMillis",timeMillis:av.fromJSON(e.timeMillis)}:a0(e.arithmeticExpression)?{$case:"arithmeticExpression",arithmeticExpression:aX.fromJSON(e.arithmeticExpression)}:a0(e.appBackgroundTimeMillis)?{$case:"appBackgroundTimeMillis",appBackgroundTimeMillis:oq.fromJSON(e.appBackgroundTimeMillis)}:a0(e.longChoice)?{$case:"longChoice",longChoice:aK.fromJSON(e.longChoice)}:void 0,isReactive:!!a0(e.isReactive)&&globalThis.Boolean(e.isReactive)}),toJSON(e){let t={};return e.expression?.$case==="longValue"&&(t.longValue=e.expression.longValue.toString()),e.expression?.$case==="bindableLong"&&(t.bindableLong=nM.toJSON(e.expression.bindableLong)),e.expression?.$case==="timeMillis"&&(t.timeMillis=av.toJSON(e.expression.timeMillis)),e.expression?.$case==="arithmeticExpression"&&(t.arithmeticExpression=aX.toJSON(e.expression.arithmeticExpression)),e.expression?.$case==="appBackgroundTimeMillis"&&(t.appBackgroundTimeMillis=oq.toJSON(e.expression.appBackgroundTimeMillis)),e.expression?.$case==="longChoice"&&(t.longChoice=aK.toJSON(e.expression.longChoice)),!1!==e.isReactive&&(t.isReactive=e.isReactive),t},create:e=>aB.fromPartial(e??{}),fromPartial(e){let t=aj();return e.expression?.$case==="longValue"&&e.expression?.longValue!==void 0&&e.expression?.longValue!==null&&(t.expression={$case:"longValue",longValue:e.expression.longValue}),e.expression?.$case==="bindableLong"&&e.expression?.bindableLong!==void 0&&e.expression?.bindableLong!==null&&(t.expression={$case:"bindableLong",bindableLong:nM.fromPartial(e.expression.bindableLong)}),e.expression?.$case==="timeMillis"&&e.expression?.timeMillis!==void 0&&e.expression?.timeMillis!==null&&(t.expression={$case:"timeMillis",timeMillis:av.fromPartial(e.expression.timeMillis)}),e.expression?.$case==="arithmeticExpression"&&e.expression?.arithmeticExpression!==void 0&&e.expression?.arithmeticExpression!==null&&(t.expression={$case:"arithmeticExpression",arithmeticExpression:aX.fromPartial(e.expression.arithmeticExpression)}),e.expression?.$case==="appBackgroundTimeMillis"&&e.expression?.appBackgroundTimeMillis!==void 0&&e.expression?.appBackgroundTimeMillis!==null&&(t.expression={$case:"appBackgroundTimeMillis",appBackgroundTimeMillis:oq.fromPartial(e.expression.appBackgroundTimeMillis)}),e.expression?.$case==="longChoice"&&e.expression?.longChoice!==void 0&&e.expression?.longChoice!==null&&(t.expression={$case:"longChoice",longChoice:aK.fromPartial(e.expression.longChoice)}),t.isReactive=e.isReactive??!1,t}};function aV(){return{$type:"proto.sdui.expressions.LongChoice",condition:void 0,whenTrue:void 0,whenFalse:void 0}}rL.set(aB.$type,aB);let aK={$type:"proto.sdui.expressions.LongChoice",encode:(t,r=e.Writer.create())=>(void 0!==t.condition&&a_.encode(t.condition,r.uint32(10).fork()).ldelim(),void 0!==t.whenTrue&&aB.encode(t.whenTrue,r.uint32(18).fork()).ldelim(),void 0!==t.whenFalse&&aB.encode(t.whenFalse,r.uint32(26).fork()).ldelim(),r),decode(t,r){let i=t instanceof e.Reader?t:e.Reader.create(t),n=void 0===r?i.len:i.pos+r,o=aV();for(;i.pos<n;){let e=i.uint32();switch(e>>>3){case 1:if(10!==e)break;o.condition=a_.decode(i,i.uint32());continue;case 2:if(18!==e)break;o.whenTrue=aB.decode(i,i.uint32());continue;case 3:if(26!==e)break;o.whenFalse=aB.decode(i,i.uint32());continue}if((7&e)==4||0===e)break;i.skipType(7&e)}return o},fromJSON:e=>({$type:aK.$type,condition:a0(e.condition)?a_.fromJSON(e.condition):void 0,whenTrue:a0(e.whenTrue)?aB.fromJSON(e.whenTrue):void 0,whenFalse:a0(e.whenFalse)?aB.fromJSON(e.whenFalse):void 0}),toJSON(e){let t={};return void 0!==e.condition&&(t.condition=a_.toJSON(e.condition)),void 0!==e.whenTrue&&(t.whenTrue=aB.toJSON(e.whenTrue)),void 0!==e.whenFalse&&(t.whenFalse=aB.toJSON(e.whenFalse)),t},create:e=>aK.fromPartial(e??{}),fromPartial(e){let t=aV();return t.condition=void 0!==e.condition&&null!==e.condition?a_.fromPartial(e.condition):void 0,t.whenTrue=void 0!==e.whenTrue&&null!==e.whenTrue?aB.fromPartial(e.whenTrue):void 0,t.whenFalse=void 0!==e.whenFalse&&null!==e.whenFalse?aB.fromPartial(e.whenFalse):void 0,t}};function aW(){return{$type:"proto.sdui.expressions.NumericGreaterThanExpression",a:void 0,b:void 0}}rL.set(aK.$type,aK);let aJ={$type:"proto.sdui.expressions.NumericGreaterThanExpression",encode:(t,r=e.Writer.create())=>(void 0!==t.a&&aL.encode(t.a,r.uint32(10).fork()).ldelim(),void 0!==t.b&&aL.encode(t.b,r.uint32(18).fork()).ldelim(),r),decode(t,r){let i=t instanceof e.Reader?t:e.Reader.create(t),n=void 0===r?i.len:i.pos+r,o=aW();for(;i.pos<n;){let e=i.uint32();switch(e>>>3){case 1:if(10!==e)break;o.a=aL.decode(i,i.uint32());continue;case 2:if(18!==e)break;o.b=aL.decode(i,i.uint32());continue}if((7&e)==4||0===e)break;i.skipType(7&e)}return o},fromJSON:e=>({$type:aJ.$type,a:a0(e.a)?aL.fromJSON(e.a):void 0,b:a0(e.b)?aL.fromJSON(e.b):void 0}),toJSON(e){let t={};return void 0!==e.a&&(t.a=aL.toJSON(e.a)),void 0!==e.b&&(t.b=aL.toJSON(e.b)),t},create:e=>aJ.fromPartial(e??{}),fromPartial(e){let t=aW();return t.a=void 0!==e.a&&null!==e.a?aL.fromPartial(e.a):void 0,t.b=void 0!==e.b&&null!==e.b?aL.fromPartial(e.b):void 0,t}};function aG(){return{$type:"proto.sdui.expressions.NumericLessThanExpression",a:void 0,b:void 0}}rL.set(aJ.$type,aJ);let az={$type:"proto.sdui.expressions.NumericLessThanExpression",encode:(t,r=e.Writer.create())=>(void 0!==t.a&&aL.encode(t.a,r.uint32(10).fork()).ldelim(),void 0!==t.b&&aL.encode(t.b,r.uint32(18).fork()).ldelim(),r),decode(t,r){let i=t instanceof e.Reader?t:e.Reader.create(t),n=void 0===r?i.len:i.pos+r,o=aG();for(;i.pos<n;){let e=i.uint32();switch(e>>>3){case 1:if(10!==e)break;o.a=aL.decode(i,i.uint32());continue;case 2:if(18!==e)break;o.b=aL.decode(i,i.uint32());continue}if((7&e)==4||0===e)break;i.skipType(7&e)}return o},fromJSON:e=>({$type:az.$type,a:a0(e.a)?aL.fromJSON(e.a):void 0,b:a0(e.b)?aL.fromJSON(e.b):void 0}),toJSON(e){let t={};return void 0!==e.a&&(t.a=aL.toJSON(e.a)),void 0!==e.b&&(t.b=aL.toJSON(e.b)),t},create:e=>az.fromPartial(e??{}),fromPartial(e){let t=aG();return t.a=void 0!==e.a&&null!==e.a?aL.fromPartial(e.a):void 0,t.b=void 0!==e.b&&null!==e.b?aL.fromPartial(e.b):void 0,t}};function aH(){return{$type:"proto.sdui.expressions.NumericEqualsExpression",a:void 0,b:void 0}}rL.set(az.$type,az);let aq={$type:"proto.sdui.expressions.NumericEqualsExpression",encode:(t,r=e.Writer.create())=>(void 0!==t.a&&aL.encode(t.a,r.uint32(10).fork()).ldelim(),void 0!==t.b&&aL.encode(t.b,r.uint32(18).fork()).ldelim(),r),decode(t,r){let i=t instanceof e.Reader?t:e.Reader.create(t),n=void 0===r?i.len:i.pos+r,o=aH();for(;i.pos<n;){let e=i.uint32();switch(e>>>3){case 1:if(10!==e)break;o.a=aL.decode(i,i.uint32());continue;case 2:if(18!==e)break;o.b=aL.decode(i,i.uint32());continue}if((7&e)==4||0===e)break;i.skipType(7&e)}return o},fromJSON:e=>({$type:aq.$type,a:a0(e.a)?aL.fromJSON(e.a):void 0,b:a0(e.b)?aL.fromJSON(e.b):void 0}),toJSON(e){let t={};return void 0!==e.a&&(t.a=aL.toJSON(e.a)),void 0!==e.b&&(t.b=aL.toJSON(e.b)),t},create:e=>aq.fromPartial(e??{}),fromPartial(e){let t=aH();return t.a=void 0!==e.a&&null!==e.a?aL.fromPartial(e.a):void 0,t.b=void 0!==e.b&&null!==e.b?aL.fromPartial(e.b):void 0,t}};function aY(){return{$type:"proto.sdui.expressions.NumericArithmeticExpression",a:void 0,operator:"NumericArithmeticOperator_UNKNOWN",b:void 0}}rL.set(aq.$type,aq);let aX={$type:"proto.sdui.expressions.NumericArithmeticExpression",encode:(t,r=e.Writer.create())=>(void 0!==t.a&&aL.encode(t.a,r.uint32(10).fork()).ldelim(),"NumericArithmeticOperator_UNKNOWN"!==t.operator&&r.uint32(16).int32(function(e){switch(e){case"NumericArithmeticOperator_UNKNOWN":default:return 0;case"NumericArithmeticOperator_Plus":return 1;case"NumericArithmeticOperator_Minus":return 2;case"NumericArithmeticOperator_Multiply":return 3;case"NumericArithmeticOperator_Divide":return 4}}(t.operator)),void 0!==t.b&&aL.encode(t.b,r.uint32(26).fork()).ldelim(),r),decode(t,r){let i=t instanceof e.Reader?t:e.Reader.create(t),n=void 0===r?i.len:i.pos+r,o=aY();for(;i.pos<n;){let e=i.uint32();switch(e>>>3){case 1:if(10!==e)break;o.a=aL.decode(i,i.uint32());continue;case 2:if(16!==e)break;o.operator=aT(i.int32());continue;case 3:if(26!==e)break;o.b=aL.decode(i,i.uint32());continue}if((7&e)==4||0===e)break;i.skipType(7&e)}return o},fromJSON:e=>({$type:aX.$type,a:a0(e.a)?aL.fromJSON(e.a):void 0,operator:a0(e.operator)?aT(e.operator):"NumericArithmeticOperator_UNKNOWN",b:a0(e.b)?aL.fromJSON(e.b):void 0}),toJSON(e){let t={};return void 0!==e.a&&(t.a=aL.toJSON(e.a)),"NumericArithmeticOperator_UNKNOWN"!==e.operator&&(t.operator=function(e){switch(e){case"NumericArithmeticOperator_UNKNOWN":default:return"NumericArithmeticOperator_UNKNOWN";case"NumericArithmeticOperator_Plus":return"NumericArithmeticOperator_Plus";case"NumericArithmeticOperator_Minus":return"NumericArithmeticOperator_Minus";case"NumericArithmeticOperator_Multiply":return"NumericArithmeticOperator_Multiply";case"NumericArithmeticOperator_Divide":return"NumericArithmeticOperator_Divide"}}(e.operator)),void 0!==e.b&&(t.b=aL.toJSON(e.b)),t},create:e=>aX.fromPartial(e??{}),fromPartial(e){let t=aY();return t.a=void 0!==e.a&&null!==e.a?aL.fromPartial(e.a):void 0,t.operator=e.operator??"NumericArithmeticOperator_UNKNOWN",t.b=void 0!==e.b&&null!==e.b?aL.fromPartial(e.b):void 0,t}};function aZ(){return{$type:"proto.sdui.expressions.BindingValueEqualsExpression",bindingExpA:void 0,bindingExpB:void 0}}rL.set(aX.$type,aX);let aQ={$type:"proto.sdui.expressions.BindingValueEqualsExpression",encode:(t,r=e.Writer.create())=>(void 0!==t.bindingExpA&&nM.encode(t.bindingExpA,r.uint32(10).fork()).ldelim(),void 0!==t.bindingExpB&&nM.encode(t.bindingExpB,r.uint32(18).fork()).ldelim(),r),decode(t,r){let i=t instanceof e.Reader?t:e.Reader.create(t),n=void 0===r?i.len:i.pos+r,o=aZ();for(;i.pos<n;){let e=i.uint32();switch(e>>>3){case 1:if(10!==e)break;o.bindingExpA=nM.decode(i,i.uint32());continue;case 2:if(18!==e)break;o.bindingExpB=nM.decode(i,i.uint32());continue}if((7&e)==4||0===e)break;i.skipType(7&e)}return o},fromJSON:e=>({$type:aQ.$type,bindingExpA:a0(e.bindingExpA)?nM.fromJSON(e.bindingExpA):void 0,bindingExpB:a0(e.bindingExpB)?nM.fromJSON(e.bindingExpB):void 0}),toJSON(e){let t={};return void 0!==e.bindingExpA&&(t.bindingExpA=nM.toJSON(e.bindingExpA)),void 0!==e.bindingExpB&&(t.bindingExpB=nM.toJSON(e.bindingExpB)),t},create:e=>aQ.fromPartial(e??{}),fromPartial(e){let t=aZ();return t.bindingExpA=void 0!==e.bindingExpA&&null!==e.bindingExpA?nM.fromPartial(e.bindingExpA):void 0,t.bindingExpB=void 0!==e.bindingExpB&&null!==e.bindingExpB?nM.fromPartial(e.bindingExpB):void 0,t}};function a0(e){return null!=e}function a1(){return{$type:"proto.sdui.components.core.color.ColorExpression",value:void 0,isReactive:!1}}rL.set(aQ.$type,aQ),e.util.Long!==n&&(e.util.Long=n,e.configure());let a2={$type:"proto.sdui.components.core.color.ColorExpression",encode(t,r=e.Writer.create()){switch(t.value?.$case){case"color":oM.encode(t.value.color,r.uint32(10).fork()).ldelim();break;case"bindableColor":nM.encode(t.value.bindableColor,r.uint32(18).fork()).ldelim();break;case"colorChoiceExpression":a4.encode(t.value.colorChoiceExpression,r.uint32(34).fork()).ldelim()}return!1!==t.isReactive&&r.uint32(24).bool(t.isReactive),r},decode(t,r){let i=t instanceof e.Reader?t:e.Reader.create(t),n=void 0===r?i.len:i.pos+r,o=a1();for(;i.pos<n;){let e=i.uint32();switch(e>>>3){case 1:if(10!==e)break;o.value={$case:"color",color:oM.decode(i,i.uint32())};continue;case 2:if(18!==e)break;o.value={$case:"bindableColor",bindableColor:nM.decode(i,i.uint32())};continue;case 4:if(34!==e)break;o.value={$case:"colorChoiceExpression",colorChoiceExpression:a4.decode(i,i.uint32())};continue;case 3:if(24!==e)break;o.isReactive=i.bool();continue}if((7&e)==4||0===e)break;i.skipType(7&e)}return o},fromJSON:e=>({$type:a2.$type,value:a7(e.color)?{$case:"color",color:oM.fromJSON(e.color)}:a7(e.bindableColor)?{$case:"bindableColor",bindableColor:nM.fromJSON(e.bindableColor)}:a7(e.colorChoiceExpression)?{$case:"colorChoiceExpression",colorChoiceExpression:a4.fromJSON(e.colorChoiceExpression)}:void 0,isReactive:!!a7(e.isReactive)&&globalThis.Boolean(e.isReactive)}),toJSON(e){let t={};return e.value?.$case==="color"&&(t.color=oM.toJSON(e.value.color)),e.value?.$case==="bindableColor"&&(t.bindableColor=nM.toJSON(e.value.bindableColor)),e.value?.$case==="colorChoiceExpression"&&(t.colorChoiceExpression=a4.toJSON(e.value.colorChoiceExpression)),!1!==e.isReactive&&(t.isReactive=e.isReactive),t},create:e=>a2.fromPartial(e??{}),fromPartial(e){let t=a1();return e.value?.$case==="color"&&e.value?.color!==void 0&&e.value?.color!==null&&(t.value={$case:"color",color:oM.fromPartial(e.value.color)}),e.value?.$case==="bindableColor"&&e.value?.bindableColor!==void 0&&e.value?.bindableColor!==null&&(t.value={$case:"bindableColor",bindableColor:nM.fromPartial(e.value.bindableColor)}),e.value?.$case==="colorChoiceExpression"&&e.value?.colorChoiceExpression!==void 0&&e.value?.colorChoiceExpression!==null&&(t.value={$case:"colorChoiceExpression",colorChoiceExpression:a4.fromPartial(e.value.colorChoiceExpression)}),t.isReactive=e.isReactive??!1,t}};function a3(){return{$type:"proto.sdui.components.core.color.ColorChoiceExpression",condition:void 0,whenTrue:void 0,whenFalse:void 0}}rL.set(a2.$type,a2);let a4={$type:"proto.sdui.components.core.color.ColorChoiceExpression",encode:(t,r=e.Writer.create())=>(void 0!==t.condition&&a_.encode(t.condition,r.uint32(10).fork()).ldelim(),void 0!==t.whenTrue&&a2.encode(t.whenTrue,r.uint32(18).fork()).ldelim(),void 0!==t.whenFalse&&a2.encode(t.whenFalse,r.uint32(26).fork()).ldelim(),r),decode(t,r){let i=t instanceof e.Reader?t:e.Reader.create(t),n=void 0===r?i.len:i.pos+r,o=a3();for(;i.pos<n;){let e=i.uint32();switch(e>>>3){case 1:if(10!==e)break;o.condition=a_.decode(i,i.uint32());continue;case 2:if(18!==e)break;o.whenTrue=a2.decode(i,i.uint32());continue;case 3:if(26!==e)break;o.whenFalse=a2.decode(i,i.uint32());continue}if((7&e)==4||0===e)break;i.skipType(7&e)}return o},fromJSON:e=>({$type:a4.$type,condition:a7(e.condition)?a_.fromJSON(e.condition):void 0,whenTrue:a7(e.whenTrue)?a2.fromJSON(e.whenTrue):void 0,whenFalse:a7(e.whenFalse)?a2.fromJSON(e.whenFalse):void 0}),toJSON(e){let t={};return void 0!==e.condition&&(t.condition=a_.toJSON(e.condition)),void 0!==e.whenTrue&&(t.whenTrue=a2.toJSON(e.whenTrue)),void 0!==e.whenFalse&&(t.whenFalse=a2.toJSON(e.whenFalse)),t},create:e=>a4.fromPartial(e??{}),fromPartial(e){let t=a3();return t.condition=void 0!==e.condition&&null!==e.condition?a_.fromPartial(e.condition):void 0,t.whenTrue=void 0!==e.whenTrue&&null!==e.whenTrue?a2.fromPartial(e.whenTrue):void 0,t.whenFalse=void 0!==e.whenFalse&&null!==e.whenFalse?a2.fromPartial(e.whenFalse):void 0,t}};function a7(e){return null!=e}function a5(){return{$type:"proto.sdui.expressions.StatefulExpression",expression:void 0}}rL.set(a4.$type,a4);let a6={$type:"proto.sdui.expressions.StatefulExpression",encode(t,r=e.Writer.create()){switch(t.expression?.$case){case"integerExpression":aD.encode(t.expression.integerExpression,r.uint32(10).fork()).ldelim();break;case"longExpression":aB.encode(t.expression.longExpression,r.uint32(18).fork()).ldelim();break;case"booleanExpression":a_.encode(t.expression.booleanExpression,r.uint32(26).fork()).ldelim();break;case"stringExpression":al.encode(t.expression.stringExpression,r.uint32(34).fork()).ldelim();break;case"stringListExpression":ah.encode(t.expression.stringListExpression,r.uint32(42).fork()).ldelim();break;case"floatExpression":aF.encode(t.expression.floatExpression,r.uint32(50).fork()).ldelim();break;case"colorExpression":a2.encode(t.expression.colorExpression,r.uint32(58).fork()).ldelim();break;case"dateExpression":o3.encode(t.expression.dateExpression,r.uint32(66).fork()).ldelim()}return r},decode(t,r){let i=t instanceof e.Reader?t:e.Reader.create(t),n=void 0===r?i.len:i.pos+r,o=a5();for(;i.pos<n;){let e=i.uint32();switch(e>>>3){case 1:if(10!==e)break;o.expression={$case:"integerExpression",integerExpression:aD.decode(i,i.uint32())};continue;case 2:if(18!==e)break;o.expression={$case:"longExpression",longExpression:aB.decode(i,i.uint32())};continue;case 3:if(26!==e)break;o.expression={$case:"booleanExpression",booleanExpression:a_.decode(i,i.uint32())};continue;case 4:if(34!==e)break;o.expression={$case:"stringExpression",stringExpression:al.decode(i,i.uint32())};continue;case 5:if(42!==e)break;o.expression={$case:"stringListExpression",stringListExpression:ah.decode(i,i.uint32())};continue;case 6:if(50!==e)break;o.expression={$case:"floatExpression",floatExpression:aF.decode(i,i.uint32())};continue;case 7:if(58!==e)break;o.expression={$case:"colorExpression",colorExpression:a2.decode(i,i.uint32())};continue;case 8:if(66!==e)break;o.expression={$case:"dateExpression",dateExpression:o3.decode(i,i.uint32())};continue}if((7&e)==4||0===e)break;i.skipType(7&e)}return o},fromJSON:e=>({$type:a6.$type,expression:a8(e.integerExpression)?{$case:"integerExpression",integerExpression:aD.fromJSON(e.integerExpression)}:a8(e.longExpression)?{$case:"longExpression",longExpression:aB.fromJSON(e.longExpression)}:a8(e.booleanExpression)?{$case:"booleanExpression",booleanExpression:a_.fromJSON(e.booleanExpression)}:a8(e.stringExpression)?{$case:"stringExpression",stringExpression:al.fromJSON(e.stringExpression)}:a8(e.stringListExpression)?{$case:"stringListExpression",stringListExpression:ah.fromJSON(e.stringListExpression)}:a8(e.floatExpression)?{$case:"floatExpression",floatExpression:aF.fromJSON(e.floatExpression)}:a8(e.colorExpression)?{$case:"colorExpression",colorExpression:a2.fromJSON(e.colorExpression)}:a8(e.dateExpression)?{$case:"dateExpression",dateExpression:o3.fromJSON(e.dateExpression)}:void 0}),toJSON(e){let t={};return e.expression?.$case==="integerExpression"&&(t.integerExpression=aD.toJSON(e.expression.integerExpression)),e.expression?.$case==="longExpression"&&(t.longExpression=aB.toJSON(e.expression.longExpression)),e.expression?.$case==="booleanExpression"&&(t.booleanExpression=a_.toJSON(e.expression.booleanExpression)),e.expression?.$case==="stringExpression"&&(t.stringExpression=al.toJSON(e.expression.stringExpression)),e.expression?.$case==="stringListExpression"&&(t.stringListExpression=ah.toJSON(e.expression.stringListExpression)),e.expression?.$case==="floatExpression"&&(t.floatExpression=aF.toJSON(e.expression.floatExpression)),e.expression?.$case==="colorExpression"&&(t.colorExpression=a2.toJSON(e.expression.colorExpression)),e.expression?.$case==="dateExpression"&&(t.dateExpression=o3.toJSON(e.expression.dateExpression)),t},create:e=>a6.fromPartial(e??{}),fromPartial(e){let t=a5();return e.expression?.$case==="integerExpression"&&e.expression?.integerExpression!==void 0&&e.expression?.integerExpression!==null&&(t.expression={$case:"integerExpression",integerExpression:aD.fromPartial(e.expression.integerExpression)}),e.expression?.$case==="longExpression"&&e.expression?.longExpression!==void 0&&e.expression?.longExpression!==null&&(t.expression={$case:"longExpression",longExpression:aB.fromPartial(e.expression.longExpression)}),e.expression?.$case==="booleanExpression"&&e.expression?.booleanExpression!==void 0&&e.expression?.booleanExpression!==null&&(t.expression={$case:"booleanExpression",booleanExpression:a_.fromPartial(e.expression.booleanExpression)}),e.expression?.$case==="stringExpression"&&e.expression?.stringExpression!==void 0&&e.expression?.stringExpression!==null&&(t.expression={$case:"stringExpression",stringExpression:al.fromPartial(e.expression.stringExpression)}),e.expression?.$case==="stringListExpression"&&e.expression?.stringListExpression!==void 0&&e.expression?.stringListExpression!==null&&(t.expression={$case:"stringListExpression",stringListExpression:ah.fromPartial(e.expression.stringListExpression)}),e.expression?.$case==="floatExpression"&&e.expression?.floatExpression!==void 0&&e.expression?.floatExpression!==null&&(t.expression={$case:"floatExpression",floatExpression:aF.fromPartial(e.expression.floatExpression)}),e.expression?.$case==="colorExpression"&&e.expression?.colorExpression!==void 0&&e.expression?.colorExpression!==null&&(t.expression={$case:"colorExpression",colorExpression:a2.fromPartial(e.expression.colorExpression)}),e.expression?.$case==="dateExpression"&&e.expression?.dateExpression!==void 0&&e.expression?.dateExpression!==null&&(t.expression={$case:"dateExpression",dateExpression:o3.fromPartial(e.expression.dateExpression)}),t}};function a8(e){return null!=e}function a9(){return{$type:"proto.sdui.components.core.text.TextExpression",expression:void 0,pattern:"",currencyCode:""}}rL.set(a6.$type,a6);let se={$type:"proto.sdui.components.core.text.TextExpression",encode:(t,r=e.Writer.create())=>(void 0!==t.expression&&a6.encode(t.expression,r.uint32(10).fork()).ldelim(),""!==t.pattern&&r.uint32(18).string(t.pattern),""!==t.currencyCode&&r.uint32(26).string(t.currencyCode),r),decode(t,r){let i=t instanceof e.Reader?t:e.Reader.create(t),n=void 0===r?i.len:i.pos+r,o=a9();for(;i.pos<n;){let e=i.uint32();switch(e>>>3){case 1:if(10!==e)break;o.expression=a6.decode(i,i.uint32());continue;case 2:if(18!==e)break;o.pattern=i.string();continue;case 3:if(26!==e)break;o.currencyCode=i.string();continue}if((7&e)==4||0===e)break;i.skipType(7&e)}return o},fromJSON:e=>({$type:se.$type,expression:null!=e.expression?a6.fromJSON(e.expression):void 0,pattern:null!=e.pattern?globalThis.String(e.pattern):"",currencyCode:null!=e.currencyCode?globalThis.String(e.currencyCode):""}),toJSON(e){let t={};return void 0!==e.expression&&(t.expression=a6.toJSON(e.expression)),""!==e.pattern&&(t.pattern=e.pattern),""!==e.currencyCode&&(t.currencyCode=e.currencyCode),t},create:e=>se.fromPartial(e??{}),fromPartial(e){let t=a9();return t.expression=void 0!==e.expression&&null!==e.expression?a6.fromPartial(e.expression):void 0,t.pattern=e.pattern??"",t.currencyCode=e.currencyCode??"",t}};function st(){return{$type:"proto.sdui.components.core.text.TypeStyle",fontFamily:0,fontSize:0,fontWeight:0,lineHeight:0,fontStyle:0}}rL.set(se.$type,se);let sr={$type:"proto.sdui.components.core.text.TypeStyle",encode:(t,r=e.Writer.create())=>(0!==t.fontFamily&&r.uint32(8).int32(t.fontFamily),0!==t.fontSize&&r.uint32(16).int32(t.fontSize),0!==t.fontWeight&&r.uint32(24).int32(t.fontWeight),0!==t.lineHeight&&r.uint32(32).int32(t.lineHeight),0!==t.fontStyle&&r.uint32(40).int32(t.fontStyle),r),decode(t,r){let i=t instanceof e.Reader?t:e.Reader.create(t),n=void 0===r?i.len:i.pos+r,o=st();for(;i.pos<n;){let e=i.uint32();switch(e>>>3){case 1:if(8!==e)break;o.fontFamily=i.int32();continue;case 2:if(16!==e)break;o.fontSize=i.int32();continue;case 3:if(24!==e)break;o.fontWeight=i.int32();continue;case 4:if(32!==e)break;o.lineHeight=i.int32();continue;case 5:if(40!==e)break;o.fontStyle=i.int32();continue}if((7&e)==4||0===e)break;i.skipType(7&e)}return o},fromJSON:e=>({$type:sr.$type,fontFamily:si(e.fontFamily)?globalThis.Number(e.fontFamily):0,fontSize:si(e.fontSize)?globalThis.Number(e.fontSize):0,fontWeight:si(e.fontWeight)?globalThis.Number(e.fontWeight):0,lineHeight:si(e.lineHeight)?globalThis.Number(e.lineHeight):0,fontStyle:si(e.fontStyle)?globalThis.Number(e.fontStyle):0}),toJSON(e){let t={};return 0!==e.fontFamily&&(t.fontFamily=Math.round(e.fontFamily)),0!==e.fontSize&&(t.fontSize=Math.round(e.fontSize)),0!==e.fontWeight&&(t.fontWeight=Math.round(e.fontWeight)),0!==e.lineHeight&&(t.lineHeight=Math.round(e.lineHeight)),0!==e.fontStyle&&(t.fontStyle=Math.round(e.fontStyle)),t},create:e=>sr.fromPartial(e??{}),fromPartial(e){let t=st();return t.fontFamily=e.fontFamily??0,t.fontSize=e.fontSize??0,t.fontWeight=e.fontWeight??0,t.lineHeight=e.lineHeight??0,t.fontStyle=e.fontStyle??0,t}};function si(e){return null!=e}function sn(){return{$type:"proto.sdui.components.core.text.TextStyle",content:void 0}}rL.set(sr.$type,sr);let so={$type:"proto.sdui.components.core.text.TextStyle",encode(t,r=e.Writer.create()){switch(t.content?.$case){case"identifier":r.uint32(8).int32(t.content.identifier);break;case"typeStyle":sr.encode(t.content.typeStyle,r.uint32(18).fork()).ldelim()}return r},decode(t,r){let i=t instanceof e.Reader?t:e.Reader.create(t),n=void 0===r?i.len:i.pos+r,o=sn();for(;i.pos<n;){let e=i.uint32();switch(e>>>3){case 1:if(8!==e)break;o.content={$case:"identifier",identifier:i.int32()};continue;case 2:if(18!==e)break;o.content={$case:"typeStyle",typeStyle:sr.decode(i,i.uint32())};continue}if((7&e)==4||0===e)break;i.skipType(7&e)}return o},fromJSON:e=>({$type:so.$type,content:null!=e.identifier?{$case:"identifier",identifier:globalThis.Number(e.identifier)}:null!=e.typeStyle?{$case:"typeStyle",typeStyle:sr.fromJSON(e.typeStyle)}:void 0}),toJSON(e){let t={};return e.content?.$case==="identifier"&&(t.identifier=Math.round(e.content.identifier)),e.content?.$case==="typeStyle"&&(t.typeStyle=sr.toJSON(e.content.typeStyle)),t},create:e=>so.fromPartial(e??{}),fromPartial(e){let t=sn();return e.content?.$case==="identifier"&&e.content?.identifier!==void 0&&e.content?.identifier!==null&&(t.content={$case:"identifier",identifier:e.content.identifier}),e.content?.$case==="typeStyle"&&e.content?.typeStyle!==void 0&&e.content?.typeStyle!==null&&(t.content={$case:"typeStyle",typeStyle:sr.fromPartial(e.content.typeStyle)}),t}};rL.set(so.$type,so);var sa=((ig=sa||{}).StyleType_UNKNOWN="StyleType_UNKNOWN",ig.StyleType_BOLD="StyleType_BOLD",ig.StyleType_ITALIC="StyleType_ITALIC",ig.StyleType_PARAGRAPH="StyleType_PARAGRAPH",ig.StyleType_LIST_ITEM="StyleType_LIST_ITEM",ig.StyleType_ORDERED_LIST="StyleType_ORDERED_LIST",ig.StyleType_UNORDERED_LIST="StyleType_UNORDERED_LIST",ig.StyleType_SUBSCRIPT="StyleType_SUBSCRIPT",ig.StyleType_SUPERSCRIPT="StyleType_SUPERSCRIPT",ig.StyleType_STRIKETHROUGH="StyleType_STRIKETHROUGH",ig);function ss(e){switch(e){case 0:case"StyleType_UNKNOWN":default:return"StyleType_UNKNOWN";case 1:case"StyleType_BOLD":return"StyleType_BOLD";case 2:case"StyleType_ITALIC":return"StyleType_ITALIC";case 3:case"StyleType_PARAGRAPH":return"StyleType_PARAGRAPH";case 4:case"StyleType_LIST_ITEM":return"StyleType_LIST_ITEM";case 5:case"StyleType_ORDERED_LIST":return"StyleType_ORDERED_LIST";case 6:case"StyleType_UNORDERED_LIST":return"StyleType_UNORDERED_LIST";case 7:case"StyleType_SUBSCRIPT":return"StyleType_SUBSCRIPT";case 8:case"StyleType_SUPERSCRIPT":return"StyleType_SUPERSCRIPT";case 9:case"StyleType_STRIKETHROUGH":return"StyleType_STRIKETHROUGH"}}function sl(){return{$type:"proto.sdui.components.core.text.TextAttribute",start:0,length:0,type:void 0}}let sc={$type:"proto.sdui.components.core.text.TextAttribute",encode(t,r=e.Writer.create()){switch(0!==t.start&&r.uint32(8).int32(t.start),0!==t.length&&r.uint32(16).int32(t.length),t.type?.$case){case"style":r.uint32(24).int32(function(e){switch(e){case"StyleType_UNKNOWN":default:return 0;case"StyleType_BOLD":return 1;case"StyleType_ITALIC":return 2;case"StyleType_PARAGRAPH":return 3;case"StyleType_LIST_ITEM":return 4;case"StyleType_ORDERED_LIST":return 5;case"StyleType_UNORDERED_LIST":return 6;case"StyleType_SUBSCRIPT":return 7;case"StyleType_SUPERSCRIPT":return 8;case"StyleType_STRIKETHROUGH":return 9}}(t.type.style));break;case"action":oP.encode(t.type.action,r.uint32(50).fork()).ldelim();break;case"textBindable":oV.encode(t.type.textBindable,r.uint32(66).fork()).ldelim();break;case"icon":oU.encode(t.type.icon,r.uint32(74).fork()).ldelim();break;case"color":oM.encode(t.type.color,r.uint32(82).fork()).ldelim();break;case"textStyle":so.encode(t.type.textStyle,r.uint32(90).fork()).ldelim();break;case"mention":oj.encode(t.type.mention,r.uint32(98).fork()).ldelim();break;case"textExpression":se.encode(t.type.textExpression,r.uint32(106).fork()).ldelim()}return r},decode(t,r){let i=t instanceof e.Reader?t:e.Reader.create(t),n=void 0===r?i.len:i.pos+r,o=sl();for(;i.pos<n;){let e=i.uint32();switch(e>>>3){case 1:if(8!==e)break;o.start=i.int32();continue;case 2:if(16!==e)break;o.length=i.int32();continue;case 3:if(24!==e)break;o.type={$case:"style",style:ss(i.int32())};continue;case 6:if(50!==e)break;o.type={$case:"action",action:oP.decode(i,i.uint32())};continue;case 8:if(66!==e)break;o.type={$case:"textBindable",textBindable:oV.decode(i,i.uint32())};continue;case 9:if(74!==e)break;o.type={$case:"icon",icon:oU.decode(i,i.uint32())};continue;case 10:if(82!==e)break;o.type={$case:"color",color:oM.decode(i,i.uint32())};continue;case 11:if(90!==e)break;o.type={$case:"textStyle",textStyle:so.decode(i,i.uint32())};continue;case 12:if(98!==e)break;o.type={$case:"mention",mention:oj.decode(i,i.uint32())};continue;case 13:if(106!==e)break;o.type={$case:"textExpression",textExpression:se.decode(i,i.uint32())};continue}if((7&e)==4||0===e)break;i.skipType(7&e)}return o},fromJSON:e=>({$type:sc.$type,start:su(e.start)?globalThis.Number(e.start):0,length:su(e.length)?globalThis.Number(e.length):0,type:su(e.style)?{$case:"style",style:ss(e.style)}:su(e.action)?{$case:"action",action:oP.fromJSON(e.action)}:su(e.textBindable)?{$case:"textBindable",textBindable:oV.fromJSON(e.textBindable)}:su(e.icon)?{$case:"icon",icon:oU.fromJSON(e.icon)}:su(e.color)?{$case:"color",color:oM.fromJSON(e.color)}:su(e.textStyle)?{$case:"textStyle",textStyle:so.fromJSON(e.textStyle)}:su(e.mention)?{$case:"mention",mention:oj.fromJSON(e.mention)}:su(e.textExpression)?{$case:"textExpression",textExpression:se.fromJSON(e.textExpression)}:void 0}),toJSON(e){let t={};return 0!==e.start&&(t.start=Math.round(e.start)),0!==e.length&&(t.length=Math.round(e.length)),e.type?.$case==="style"&&(t.style=function(e){switch(e){case"StyleType_UNKNOWN":default:return"StyleType_UNKNOWN";case"StyleType_BOLD":return"StyleType_BOLD";case"StyleType_ITALIC":return"StyleType_ITALIC";case"StyleType_PARAGRAPH":return"StyleType_PARAGRAPH";case"StyleType_LIST_ITEM":return"StyleType_LIST_ITEM";case"StyleType_ORDERED_LIST":return"StyleType_ORDERED_LIST";case"StyleType_UNORDERED_LIST":return"StyleType_UNORDERED_LIST";case"StyleType_SUBSCRIPT":return"StyleType_SUBSCRIPT";case"StyleType_SUPERSCRIPT":return"StyleType_SUPERSCRIPT";case"StyleType_STRIKETHROUGH":return"StyleType_STRIKETHROUGH"}}(e.type.style)),e.type?.$case==="action"&&(t.action=oP.toJSON(e.type.action)),e.type?.$case==="textBindable"&&(t.textBindable=oV.toJSON(e.type.textBindable)),e.type?.$case==="icon"&&(t.icon=oU.toJSON(e.type.icon)),e.type?.$case==="color"&&(t.color=oM.toJSON(e.type.color)),e.type?.$case==="textStyle"&&(t.textStyle=so.toJSON(e.type.textStyle)),e.type?.$case==="mention"&&(t.mention=oj.toJSON(e.type.mention)),e.type?.$case==="textExpression"&&(t.textExpression=se.toJSON(e.type.textExpression)),t},create:e=>sc.fromPartial(e??{}),fromPartial(e){let t=sl();return t.start=e.start??0,t.length=e.length??0,e.type?.$case==="style"&&e.type?.style!==void 0&&e.type?.style!==null&&(t.type={$case:"style",style:e.type.style}),e.type?.$case==="action"&&e.type?.action!==void 0&&e.type?.action!==null&&(t.type={$case:"action",action:oP.fromPartial(e.type.action)}),e.type?.$case==="textBindable"&&e.type?.textBindable!==void 0&&e.type?.textBindable!==null&&(t.type={$case:"textBindable",textBindable:oV.fromPartial(e.type.textBindable)}),e.type?.$case==="icon"&&e.type?.icon!==void 0&&e.type?.icon!==null&&(t.type={$case:"icon",icon:oU.fromPartial(e.type.icon)}),e.type?.$case==="color"&&e.type?.color!==void 0&&e.type?.color!==null&&(t.type={$case:"color",color:oM.fromPartial(e.type.color)}),e.type?.$case==="textStyle"&&e.type?.textStyle!==void 0&&e.type?.textStyle!==null&&(t.type={$case:"textStyle",textStyle:so.fromPartial(e.type.textStyle)}),e.type?.$case==="mention"&&e.type?.mention!==void 0&&e.type?.mention!==null&&(t.type={$case:"mention",mention:oj.fromPartial(e.type.mention)}),e.type?.$case==="textExpression"&&e.type?.textExpression!==void 0&&e.type?.textExpression!==null&&(t.type={$case:"textExpression",textExpression:se.fromPartial(e.type.textExpression)}),t}};function su(e){return null!=e}function sd(){return{$type:"proto.sdui.components.core.text.TextWebDataAttribute",key:"",value:""}}rL.set(sc.$type,sc);let sp={$type:"proto.sdui.components.core.text.TextWebDataAttribute",encode:(t,r=e.Writer.create())=>(""!==t.key&&r.uint32(10).string(t.key),""!==t.value&&r.uint32(18).string(t.value),r),decode(t,r){let i=t instanceof e.Reader?t:e.Reader.create(t),n=void 0===r?i.len:i.pos+r,o=sd();for(;i.pos<n;){let e=i.uint32();switch(e>>>3){case 1:if(10!==e)break;o.key=i.string();continue;case 2:if(18!==e)break;o.value=i.string();continue}if((7&e)==4||0===e)break;i.skipType(7&e)}return o},fromJSON:e=>({$type:sp.$type,key:null!=e.key?globalThis.String(e.key):"",value:null!=e.value?globalThis.String(e.value):""}),toJSON(e){let t={};return""!==e.key&&(t.key=e.key),""!==e.value&&(t.value=e.value),t},create:e=>sp.fromPartial(e??{}),fromPartial(e){let t=sd();return t.key=e.key??"",t.value=e.value??"",t}};function sf(){return{$type:"proto.sdui.components.core.text.TextModel",text:"",attribute:[],bindableTextModel:void 0,webDataAttributes:[]}}rL.set(sp.$type,sp);let sm={$type:"proto.sdui.components.core.text.TextModel",encode(t,r=e.Writer.create()){for(let e of(""!==t.text&&r.uint32(10).string(t.text),t.attribute))sc.encode(e,r.uint32(18).fork()).ldelim();for(let e of(void 0!==t.bindableTextModel&&nM.encode(t.bindableTextModel,r.uint32(34).fork()).ldelim(),t.webDataAttributes))sp.encode(e,r.uint32(26).fork()).ldelim();return r},decode(t,r){let i=t instanceof e.Reader?t:e.Reader.create(t),n=void 0===r?i.len:i.pos+r,o=sf();for(;i.pos<n;){let e=i.uint32();switch(e>>>3){case 1:if(10!==e)break;o.text=i.string();continue;case 2:if(18!==e)break;o.attribute.push(sc.decode(i,i.uint32()));continue;case 4:if(34!==e)break;o.bindableTextModel=nM.decode(i,i.uint32());continue;case 3:if(26!==e)break;o.webDataAttributes.push(sp.decode(i,i.uint32()));continue}if((7&e)==4||0===e)break;i.skipType(7&e)}return o},fromJSON:e=>({$type:sm.$type,text:null!=e.text?globalThis.String(e.text):"",attribute:globalThis.Array.isArray(e?.attribute)?e.attribute.map(e=>sc.fromJSON(e)):[],bindableTextModel:null!=e.bindableTextModel?nM.fromJSON(e.bindableTextModel):void 0,webDataAttributes:globalThis.Array.isArray(e?.webDataAttributes)?e.webDataAttributes.map(e=>sp.fromJSON(e)):[]}),toJSON(e){let t={};return""!==e.text&&(t.text=e.text),e.attribute?.length&&(t.attribute=e.attribute.map(e=>sc.toJSON(e))),void 0!==e.bindableTextModel&&(t.bindableTextModel=nM.toJSON(e.bindableTextModel)),e.webDataAttributes?.length&&(t.webDataAttributes=e.webDataAttributes.map(e=>sp.toJSON(e))),t},create:e=>sm.fromPartial(e??{}),fromPartial(e){let t=sf();return t.text=e.text??"",t.attribute=e.attribute?.map(e=>sc.fromPartial(e))||[],t.bindableTextModel=void 0!==e.bindableTextModel&&null!==e.bindableTextModel?nM.fromPartial(e.bindableTextModel):void 0,t.webDataAttributes=e.webDataAttributes?.map(e=>sp.fromPartial(e))||[],t}};rL.set(sm.$type,sm);let sg={BOLD:"bold",ITALIC:"italic"},sh={BULLET_LIST:"bulletList",ORDERED_LIST:"orderedList",LIST_ITEM:"listItem",PARAGRAPH:"paragraph"},sy={MENTION:"mention"},sb="text",sx={[sg.BOLD]:sa.StyleType_BOLD,[sg.ITALIC]:sa.StyleType_ITALIC},sS=RegExp("(\\p{Emoji_Modifier_Base}\\p{EMod})|(\\p{Emoji})","gu");function sE(e){return!!e&&"object"==typeof e&&"text"in e&&"attribute"in e}function sv(e){return"object"==typeof e&&null!==e&&"type"in e&&"doc"===e.type&&"content"in e&&Array.isArray(e.content)}let sT=e=>({type:"doc",content:[{type:sh.PARAGRAPH,content:e?[{type:sb,text:e}]:[]}]}),sN=e=>{if(!e?.text)return{type:"doc",content:[{type:sh.PARAGRAPH}]};let{text:t}=e,r=Array.isArray(e.attribute)?e.attribute:[],i=[],n=0,o=null,a=r.sort((e,t)=>e.start!==t.start?e.start-t.start:e.length!==t.length?t.length-e.length:e.type?.$case==="mention"&&t.type?.$case==="style"?-1:e.type?.$case==="style"&&t.type?.$case==="mention"?1:0);for(let e=0;e<a.length;e++){var s,l,c;let r=a[e],{type:u}=r,{start:d,end:p,length:f}=function(e,t){let{length:r}=t,{start:i}=t,n=i+r;return[...e.matchAll(sS)].forEach(e=>{e.index>=0&&(e.index<i&&(i+=e[0].length-1,n+=e[0].length-1),e.index>=i&&e.index<=n&&(n+=e[0].length-1))}),{start:i,end:n,length:r}}(t,r);if(d>n&&s_(i,t.slice(n,d)),n=p,!u){s_(i,t.slice(d,p));continue}if("mention"===u.$case){let r=function(e,t,r,i){let n=[];for(let o=t+1;o<e.length;o++){let t=e[o];if(t.start!==r||t.length!==i||t.type?.$case!=="style")break;let a={StyleType_BOLD:sg.BOLD,StyleType_ITALIC:sg.ITALIC}[t.type.style];a&&n.push({type:a})}return n}(a,e,d,f);(function(e,t,r,i){let{entityID:n,allowPartialDelete:o}=r,a={type:sy.MENTION,attrs:{entityID:n,allowPartialDelete:o},content:[{type:sb,text:i,...t.length>0?{marks:t}:{}}]},s=e.find(e=>e.type===sh.PARAGRAPH);s||(s={type:sh.PARAGRAPH,content:[]},e.push(s)),s.content.push(a)})(i,r,u.mention,t.slice(d,p)),e+=r.length;continue}if("style"!==u.$case){s_(i,t.slice(d,p));continue}switch(u.style){case"StyleType_ORDERED_LIST":case"StyleType_UNORDERED_LIST":o=function(e,t,r){let i="StyleType_ORDERED_LIST"===r,n=i?sh.ORDERED_LIST:sh.BULLET_LIST;if(!t||t.type!==n){let t={type:n,...i?{attrs:{start:1}}:{},content:[]};return e.push(t),t}return t}(i,o,u.style);break;case"StyleType_LIST_ITEM":o||(o={type:sh.BULLET_LIST,content:[]},i.push(o)),s=o,(l=t.slice(d,p))&&s.content.push({type:sh.LIST_ITEM,content:[{type:sh.PARAGRAPH,content:[{type:sb,text:l}]}]});break;case"StyleType_PARAGRAPH":(c=t.slice(d,p))&&i.push({type:sh.PARAGRAPH,content:[{type:sb,text:c}]});break;case"StyleType_BOLD":s_(i,t.slice(d,p),sg.BOLD);break;case"StyleType_ITALIC":s_(i,t.slice(d,p),sg.ITALIC);break;default:s_(i,t.slice(d,p))}}return n<t.length&&s_(i,t.slice(n)),{type:"doc",content:i}};function s_(e,t,r=null){if(!t)return;let i={type:sb,text:t};r&&(i.marks=[{type:r}]);let n=e.find(e=>e.type===sh.PARAGRAPH);n||(n={type:sh.PARAGRAPH,content:[]},e.push(n)),n.content.push(i)}function sk(e){let t={text:"",currentIndex:0,previousNodeWasList:!1,attributes:[]};return e&&"doc"===e.type&&e.content&&e.content.forEach(e=>(function e(t,r,i){var n,o;if(sO(t)){let e;let i=r.currentIndex,a=(e=(n=t.text).length,[...n.matchAll(sS)].forEach(t=>{e-=Math.floor(t[0].length/2)}),e);r.currentIndex+=a,r.text+=t.text,o=r.attributes,t.marks?.forEach(e=>{let t=sx[e.type];t&&o.push(sc.create({start:i,length:a,type:{$case:"style",style:t}}))})}else t.type===sh.PARAGRAPH?(!i&&r.text.length>0&&!r.previousNodeWasList&&(r.text+="\n",r.currentIndex++),r.previousNodeWasList=!1,t.content?.forEach(t=>e(t,r,i))):t.type===sh.LIST_ITEM?function(t,r){let i=r.currentIndex;t.content?.forEach(t=>e(t,r,!0)),r.attributes.push(sc.create({start:i,length:r.currentIndex-i,type:{$case:"style",style:sa.StyleType_LIST_ITEM}}))}(t,r):t.type===sh.BULLET_LIST||t.type===sh.ORDERED_LIST?function(t,r){let i=r.currentIndex;t.content?.forEach(t=>e(t,r,!0)),r.attributes.push(sc.create({start:i,length:r.currentIndex-i,type:{$case:"style",style:t.type===sh.ORDERED_LIST?sa.StyleType_ORDERED_LIST:sa.StyleType_UNORDERED_LIST}})),r.previousNodeWasList=!0}(t,r):t.type===sy.MENTION&&function(t,r){let{entityID:i,allowPartialDelete:n}=t.attrs??{},o=r.currentIndex;t.content?.forEach(t=>{sO(t)&&e(t,r,!1)}),r.attributes.push(sc.create({start:o,length:r.currentIndex-o,type:{$case:"mention",mention:{entityID:i,allowPartialDelete:n}}}))}(t,r)})(e,t,!1)),t}function sI(e){if(sE(e))return sm.create({text:e.text,attribute:e.attribute});if(!e||"doc"!==e.type||!e.content)return sm.create({text:"",attribute:[]});let t=sk(e);return sm.create({text:t.text,attribute:t.attributes})}function sO(e){return e.type===sb&&!!e.text}function sC(e){if(void 0!==e)switch(typeof e){case"string":return"";case"number":return 0;case"boolean":return!1;case"bigint":return BigInt(0);case"object":if(Array.isArray(e))return[];return{}}}async function sP(e,t){return new Uint8Array(await crypto.subtle.encrypt({name:"RSA-OAEP"},e,t))}async function sR(e,t,r){try{let i=Uint8Array.from(atob(t),e=>e.charCodeAt(0)),n=await r(),o=new TextEncoder().encode(e),a=new Uint8Array(8+o.length);a.set(i,0),a.set(o,8);let s=await sP(n,a);if(256!==s.length)throw Error(`Invalid ciphertext size: ${s.length}, expected: 256`);let l=new Uint8Array(258);return l[0]=1,l[1]=1,l.set(s,2),{token:btoa(String.fromCharCode(...l)).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}}catch(t){let e=t instanceof Error?t.message:"Unknown error";throw Error(`Failed to create cloak token: ${e}`)}}let sw=new iV;class sA{stateKey;constructor(e){this.stateKey=e}equals(e){return this?.stateKey?.value===e?.stateKey?.value&&this?.stateKey?.namespace===e?.stateKey?.namespace}static valueOf(e){let t=null;return e?.$type==="proto.sdui.bindings.core.Bindable"?t=new sA(e.key):console.error("Unsupported observable type",e),t}}let s$=(e,t)=>e;function sL(e,r,i){let n=()=>{let t=s$(e),r=sw.getItem(t);if(r?.isDirty&&r?.expression){let e=sB(r.expression);null!==e&&sw.setItem(t,{...r,value:e,isDirty:!1})}return i?r?.internalValue??r?.value:r?.optimisticValue??r?.value};return t.useSyncExternalStore(t=>(sw.subscribe(e,t),()=>{sw.unsubscribe(e,t)}),n,n)}function sM(e){let r=t.useRef(0),i=t.useCallback(()=>{r.current+=1},[r]);t.useMemo(()=>{e.forEach(e=>{let t=n8(e);t&&sw.subscribe(t,i)})},[e,i]);let n=()=>r.current;return t.useSyncExternalStore(t=>{let r=()=>{i(),t()};return e.forEach(e=>{let t=n8(e);t&&sw.subscribe(t,r)}),()=>{e.forEach(e=>{let t=n8(e);t&&(sw.unsubscribe(t,r),sw.unsubscribe(t,i))})}},n,n),e.map(e=>{let t=n8(e),r=sw.getItem(t);return{key:t,value:r?.optimisticValue??r?.value}})}function sD(e,t=sw,r){let i=new Map;e.forEach(e=>{let n=e.isOptimistic,o=n8(e.key);if(!o||!e.key.value)return;let a=t.getItem(e.key.value),s=t.getItem(o)||a;e?.expression&&s?.expression&&sq(e.key,t);let l={key:e.key,...s,value:n?s?.value:e.value,optimisticValue:n?e.value:s?.optimisticValue,internalValue:e.internalValue??s?.internalValue,originalProtoCase:e.originalProtoCase??s?.originalProtoCase};e?.expression&&(l={...l,expression:e.expression,dependencies:e.dependencies?.map(e=>n8(e)),isDirty:e.isDirty,listener:e.listener}),l.shouldForceEvaluateOnGet=e.shouldForceEvaluateOnGet,e.key.isEncrypted&&"string"==typeof e.value&&(l.internalValue=e.value,"undefined"!=typeof window&&void 0!==crypto?.subtle&&r?.getRsaKey&&r?.encryptionSalt&&e.value.length>0&&(async()=>{await sU(t,e,o,r,n)})()),e?.key?.value&&e?.key?.value!==o&&i.set(e.key.value,l),i.set(o,l),t.setItems(i),e?.expression&&function(e,t,r=sw){let i=n8(e);if(!i)return;sq(e);let n=e.value&&r?.getItem(e.value),{dependencies:o}=r?.getItem(i)||n||{dependencies:[]};o?.includes(i)&&console.error(`Cyclic dependency detected: stateKey: ${e} depends on ${o}`),o&&o.forEach(e=>{r?.subscribe(e,t)})}(e.key,()=>(function(e,t=sw){let r=n8(e);if(r){let e=t.getItem(r);t.setItem(r,{...e,isDirty:!0})}if(e.value&&e.value!==r){let r=t.getItem(e.value);t.setItem(e.value,{...r,isDirty:!0})}})(e.key,t),t)})}async function sU(e,t,r,i,n){try{let{token:o}=await sR(t.value,i.encryptionSalt??"",i.getRsaKey),a=e.getItem(r);if(a&&(e.setItem(r,{...a,value:n?a.value:o,optimisticValue:n?o:void 0,internalValue:a.internalValue??a.optimisticValue??a.value}),t?.key?.value&&t.key.value!==r)){let r=e.getItem(t.key.value);r&&e.setItem(t.key.value,{...r,value:n?r.value:o,optimisticValue:n?o:void 0,internalValue:r.internalValue??r.optimisticValue??r.value})}}catch{}}function sF(e,t,r=!1){sj({value:e},t,r)}function sj(e,t,r=!1,i=sw,n){sD([{key:e,value:t,isOptimistic:r}],i,n)}function sB(e,t=null,r=sw){let i;let n=new oE((e,t)=>sz(e,t,r)),o=null;if(e&&"$type"in e){if("proto.sdui.expressions.BooleanExpression"===e.$type)return n.evaluateBooleanExpression(e,null,t);if("proto.sdui.components.core.color.ColorExpression"===e.$type)return n.evaluateColorExpression(e,null,t);if("proto.sdui.expressions.DateExpression"===e.$type)return n.evaluateDateExpression(e,null,t);if("proto.sdui.expressions.IntegerExpression"===e.$type)return n.evaluateIntegerExpression(e,null,t);else if("proto.sdui.expressions.LongExpression"===e.$type)return n.evaluateLongExpression(e,null,t);else if("proto.sdui.expressions.MediaListExpression"===e.$type)return n.evaluateMediaListExpression(e,t);i=e.expression}else i=e;switch(i?.$case){case"booleanExpression":o=n.evaluateBooleanExpression(i?.booleanExpression,null,t);break;case"floatExpression":o=n.evaluateFloatExpression(i?.floatExpression,null,t);break;case"integerExpression":o=n.evaluateIntegerExpression(i?.integerExpression,null,t);break;case"intExpression":o=n.evaluateIntegerExpression(i?.intExpression,null,t);break;case"longExpression":o=n.evaluateLongExpression(i?.longExpression,null,t);break;case"stringExpression":o=n.evaluateStringExpression(i?.stringExpression,null,t);break;case"stringListExpression":o=n.evaluateStringListExpression(i?.stringListExpression,null,t)}return o}function sV(e,t=sw,r){e.forEach(e=>{if(!e.value||!e.key?.value)return;let i=e.isOptimistic,n=null,o=!1,a=null,s=new ov;switch(e.value.$case){case"stringValue":n=e.value.stringValue;break;case"intValue":n=e.value.intValue;break;case"floatValue":n=e.value.floatValue;break;case"longValue":n=e.value.longValue;break;case"booleanValue":n=e.value.booleanValue;break;case"stringListValue":n=e.value.stringListValue;break;case"dateValue":n=e.value.dateValue;break;case"colorValue":n=e.value.colorValue;break;case"textModelForWrite":n=sN(e.value.textModelForWrite);break;case"textModel":n=e.value.textModel;break;case"mediaListValue":n=e.value.mediaListValue;break;case"expression":n=(o=e.value.expression.isReactive)?sB(a=e.value.expression.expression,e=>{let t=sA.valueOf(e);t&&s.add(t)},t):sB(e.value.expression.expression,void 0,t)}if(null!==n){let l={key:e.key,value:n,internalValue:n,isOptimistic:i,originalProtoCase:e.value.$case};if(o&&s?.size){for(let e of(a&&(l.expression=a),l.dependencies=[],Array.from(s)))e.stateKey&&l.dependencies.push(e.stateKey);l.isDirty=!1}e?.value?.$case==="expression"&&e?.value?.expression?.expression?.$case==="stringListExpression"&&e?.value?.expression?.expression?.stringListExpression?.expression?.$case==="collectionIdsStringList"&&"expression"===e.value.$case&&(l.shouldForceEvaluateOnGet=!0,l.expression=e.value.expression.expression),sD([l],t,r)}})}function sK(e,t=sw){e.forEach(e=>{let r=n8(e);if(!r)return;let i=t.getItem(r);if(i){let n=e.isEncrypted?i.internalValue??i.optimisticValue??i.value:i.optimisticValue??i.value;t.setItem(r,{...i,value:i.optimisticValue??i.value,optimisticValue:void 0,internalValue:n})}if(e.value&&e.value!==r){let r=t.getItem(e.value);if(r){let i=e.isEncrypted?r.internalValue??r.optimisticValue??r.value:r.optimisticValue??r.value;t.setItem(e.value,{...r,value:r.optimisticValue??r.value,optimisticValue:void 0,internalValue:i})}}})}function sW(e,t=sw){e.forEach(e=>{let r=n8(e);if(!r)return;let i=t.getItem(r);if(i&&t.setItem(r,{value:i.value??sC(i.optimisticValue),optimisticValue:void 0}),e.value&&e.value!==r){let r=t.getItem(e.value);r&&t.setItem(e.value,{value:r.value??sC(r.optimisticValue),optimisticValue:void 0})}})}function sJ(e,t=sw){let r=t.getItem(e);return r?.expression&&(r.shouldForceEvaluateOnGet||r.isDirty)?sB(r.expression)??void 0:r?.optimisticValue??r?.value}function sG(e,t=sw){let r=n8(e);if(!r)return;let i=t.getItem(r);return i?.shouldForceEvaluateOnGet&&i?.expression?sB(i.expression)??void 0:i?.optimisticValue??i?.value}function sz(e,t=null,r=sw){let i=e=>(console.error(e),t);if(!e.key||!e.content)return t;let n=sG(e.key,r),o=sJ(e.key.value,r)??n;if(void 0===o)return t;let a=t=>i(`Expected ${t} value for bindable with key: ${e.key?.value} but value was of type: ${typeof o}`);switch(e.content.$case){case"booleanBinding":if("boolean"!=typeof o)return a("boolean");break;case"intBinding":case"floatBinding":if("number"!=typeof o)return a("number");break;case"longBinding":if("bigint"!=typeof o)return a("bigint");break;case"stringBinding":if("string"!=typeof o)return a("string");break;case"listBinding":if(!Array.isArray(o)&&!sH(o))return a("array")}return o}function sH(e){return!!e&&"object"==typeof e&&"proto.sdui.StringList"===e.$type&&"stringValues"in e&&Array.isArray(e.stringValues)}function sq(e,t=sw){let r=n8(e);if(!r)return;let i=e.value&&t?.getItem(e.value),{dependencies:n,listener:o}=t?.getItem(r)||i||{dependencies:[]};o&&n&&n.forEach(e=>{t?.unsubscribe(e,o)})}class sY{initialize(e,t){var r;r={enableSecureVariables:!0,zoneId:e,interceptId:t,hostedJSLocation:"https://platform.linkedin.com/litms/vendor/qualtrics/v2.22.0/",brandId:"linkedinresearch"},function(){"undefined"!=typeof window&&void 0===window.QSI&&(window.QSI={},window.QSI.config={hostedJSLocation:r.hostedJSLocation,interceptId:r.interceptId,zoneId:r.zoneId,brandId:r.brandId,editing:r.editing,enableJSSanitization:r.enableJSSanitization,enableSecureVariables:r.enableSecureVariables,sampleType:r.sampleType,sampleRate:r.sampleRate});try{"undefined"!=typeof window&&new function(e,t,r,i){this._get=function(e){if(e+="=","undefined"!=typeof document)for(let t=document.cookie.split(";"),r=0,i=t.length;r<i;r++){let i;for(i=t[r];" "==i.charAt(0);)i=i.substring(1,i.length);if(0==i.indexOf(e))return i.substring(e.length,i.length)}return null},this._set=function(e,t){let r=new Date;r.setTime(r.getTime()+6048e5);let i="; expires="+r.toUTCString();"undefined"!=typeof document&&(document.cookie=e+"="+t+i+"; path=/; ")},this.check=function(){let i=this._get(r);if(i)i=i.split(":");else{if(100==e)return!0;"visitor"==t&&(e=Math.random()>=e/100?0:100),i=[t,e,0],this._set(r,i.join(":"))}let n=i[1];if(100==n)return!0;switch(i[0]){case"visitor":return!1;case"pageview":return n=i[2]%Math.floor(100/n),i[2]++,this._set(r,i.join(":")),!n}return!0},this.go=function(){if(this.check()&&"undefined"!=typeof document){let e=document.createElement("script");e.type="text/javascript",e.src=i+"OrchestratorMain.js",document.body&&document.body.appendChild(e)}},this.start=function(){let e=this;"undefined"!=typeof document&&"complete"===document.readyState?e.go():"undefined"!=typeof window&&(window.addEventListener?window.addEventListener("load",function(){e.go()},!1):window.attachEvent&&window.attachEvent("onload",function(){e.go()}))}}(0===window.QSI.config.sampleRate?0:window.QSI.config.sampleRate||100,window.QSI.config.sampleType||"visitor","QSI_S_"+(window.QSI.config.interceptId||window.QSI.config.zoneId),window.QSI.config.hostedJSLocation).start()}catch(e){throw console.error(e),e}}()}attemptSurvey(e){let{data:t,interceptId:r,onOpen:i=()=>{},onClose:n=()=>{},retainFocus:o=!1}=e;if("undefined"!=typeof window&&!window.QSI?.API)return Promise.resolve();let a="undefined"!=typeof document?document.activeElement:null;"undefined"!=typeof window&&window.QSI.API.unload();let s=Promise.resolve();return r&&"undefined"!=typeof window&&(s=window.QSI.API.getIntercept(r).then(e=>{let t=e.onClose(()=>{n(),t()})})),"undefined"!=typeof window?s.then(window.QSI.API.load).then(()=>{window.QSI.API.run({jsExpressionValues:{...t,qualtricsSurveyId:r}})}).then(i).then(()=>{setTimeout(()=>{o&&this.shiftFocusToElement(a)},1500)}):Promise.resolve()}shiftFocusToElement(e){e&&e.focus()}}function sX(){return"undefined"!=typeof document?document.getElementById("interop-outlet")?.shadowRoot??null:null}function sZ(){return $.hasDialogs()}function sQ(){let e=sX();if(!e)return!1;let t=e.getElementById("artdeco-modal-outlet");return!!t?.childNodes.length}async function s0(){if(!(sZ()||sQ()))return;let e=sZ(),t=sQ();return new Promise(r=>{if(e){let e=$.onCloseSubscribe(()=>(e(),r(),!1));return}if(t){let e=sX(),t=e?.getElementById("artdeco-modal-outlet");if(!t){r();return}let i=new MutationObserver(()=>{sQ()||(i.disconnect(),r())});i.observe(t,{childList:!0})}})}function s1(e){return!!e&&(e.isContentEditable||["INPUT","SELECT","TEXTAREA"].includes(e.tagName))}async function s2(e){return!!(e&&s1(e))&&(await new Promise(t=>{e.addEventListener("focusout",()=>t(),{once:!0})}),!0)}async function s3(){if(!function(){if("undefined"==typeof document)return!1;if("undefined"!=typeof document&&s1(document.activeElement))return!0;let e=sX();return!!(e&&s1(e.activeElement))}()||"undefined"!=typeof document&&await s2(document.activeElement))return;let e=sX();await s2(e?.activeElement??null)}let s4=t.createContext({isLoaded:!1,initializeAndAttemptSurvey:()=>{},attemptSurvey:async()=>{}});function s7(){let e=t.useContext(s4);if(!e)throw Error("useQualtricsSurvey must be used within a QualtricsSurveyContextProvider");return e}let s5=Object.freeze(Object.defineProperty({__proto__:null,QualtricsSurveyContext:s4,QualtricsSurveyContextProvider:function({children:e}){let[i,n]=t.useState(!1),[l,c]=t.useState(),{isInteropVisible:u,isMessagingOverlayVisible:d}=tV(),{getInitialContext:p,getClients:f}=tB(),{trackingCore:m}=f(),{theme:g}=tK(),h=new sY,[y,b]=t.useState(),x=!!oe(y)||u||d;t.useEffect(()=>{i&&l&&!x&&S()},[i,l,x]);let S=async()=>{if(!i||!l||x)return;await s0(),await s3(),"undefined"!=typeof window&&window?.QSI?.DOMPurify?.setConfig?.({RETURN_TRUSTED_TYPE:!0});let e=m.getCurrentContext()?.pageKey||p()?.pageKey,t="undefined"!=typeof window?window.navigator.userAgent:"",{data:r,surveyInProgressBindingKey:n,...o}=l;h.attemptSurvey({data:{...r,page_key:e,li_theme:g,deviceIdentifier:t},...o}).catch(()=>{n&&sj(n,!1)}),c(void 0)};return r.jsx(s4.Provider,{value:{isLoaded:i,initializeAndAttemptSurvey:(e,t)=>{let{interceptId:r,zoneId:l,metadata:u,onOpenAction:d,onCloseAction:p,questionGuidBinding:f,surveyInProgressBinding:m,shouldHoldSurveyBinding:g}=e;g?.key&&b(g.key);let y=u;if(f?.key){let e=o();sj(f.key,e),y={...u,questionGUID:e}}let x={interceptId:r,zoneId:l,data:y,onOpen:()=>d&&t(d),onClose:()=>p&&t(p),surveyInProgressBindingKey:m?.key};if(i){c(x);return}let{consent:{optedInConsentMap:S}}=a(null);S[s.ANALYTICS_AND_RESEARCH]&&(h.initialize(l),"undefined"!=typeof window&&window.addEventListener("qsi_js_loaded",()=>{c(x),n(!0)},{once:!0}))},attemptSurvey:S},children:e})},useQualtricsSurvey:s7},Symbol.toStringTag,{value:"Module"}));async function s6(e,t,r,i,n){if(!t||0===t.length)throw Error("No components provided for upsert.");if(n)switch(n.$case){case"asFirstItem":for(let r of t)iY({collectionId:e,addedElement:r,position:0});break;case"asLastItem":for(let r of t)iY({collectionId:e,addedElement:r});break;case"beforeReferenceItemSemanticId":for(let r of t)iX({collectionId:e,addedElement:r,referenceId:n.beforeReferenceItemSemanticId,position:iJ.BEFORE});break;case"afterReferenceItemSemanticId":for(let r of t)iX({collectionId:e,addedElement:r,referenceId:n.afterReferenceItemSemanticId,position:iJ.AFTER});break;default:throw Error("Unknown position case.")}else!function({collectionId:e,upsertComponents:t}){iG(e,e=>{let r=new Map(e.map(e=>[e.key,e]));return t.forEach(e=>{r.set(e.key,e)}),Array.from(r.values())})}({collectionId:e,upsertComponents:t});r&&await i(r)}async function s8({collectionId:e,addedElement:t,position:r}){iY({collectionId:e,addedElement:t,position:r})}async function s9({collectionId:e,addedElement:t,referenceId:r,position:i}){iX({collectionId:e,addedElement:t,referenceId:r,position:i})}function le(e){let r=t.useRef(null),[i,n]=t.useState([]),o=t.useCallback((t,r)=>{let i=Array.from(t);n(i);let o=r.onFilesSelected||e;o&&o(i)},[e]);return{openFilePicker:t.useCallback((e={})=>{if("undefined"!=typeof document){r.current&&(document.body.removeChild(r.current),r.current=null);let t=document.createElement("input");t.type="file",t.style.display="none",e.accept&&(t.accept=e.accept),e.multiple&&(t.multiple=e.multiple),t.onchange=t=>{let r=t.target;r.files&&0!==r.files.length&&o(r.files,e)},r.current=t,document.body.appendChild(t)}r.current?.click()},[o]),clearFiles:t.useCallback(()=>{n([]),r.current&&(r.current.value="")},[]),files:i}}let lt=Object.freeze(Object.defineProperty({__proto__:null,default:le,useFilePicker:le},Symbol.toStringTag,{value:"Module"}));var lr=((ih=lr||{}).Placement_UNKNOWN="Placement_UNKNOWN",ih.Placement_TOP="Placement_TOP",ih.Placement_TOP_START="Placement_TOP_START",ih.Placement_TOP_END="Placement_TOP_END",ih.Placement_RIGHT="Placement_RIGHT",ih.Placement_RIGHT_START="Placement_RIGHT_START",ih.Placement_RIGHT_END="Placement_RIGHT_END",ih.Placement_BOTTOM="Placement_BOTTOM",ih.Placement_BOTTOM_START="Placement_BOTTOM_START",ih.Placement_BOTTOM_END="Placement_BOTTOM_END",ih.Placement_LEFT="Placement_LEFT",ih.Placement_LEFT_START="Placement_LEFT_START",ih.Placement_LEFT_END="Placement_LEFT_END",ih);let li={GET_COMPONENT:e=>`rsc-action/actions/component?componentId=${encodeURIComponent(e)}`},ln=new class{store;listeners;constructor(){this.store={},this.listeners=new Map}setItem(e,t){this.store[e]=t,this.notify(e)}getItem(e){return this.store[e]??!1}subscribe(e,t){this.listeners.has(e)||this.listeners.set(e,new Set),this.listeners.get(e)?.add(t)}unsubscribe(e,t){if(this.listeners.has(e)){let r=this.listeners.get(e);r&&(r?.delete(t),r?.size===0&&this.listeners.delete(e))}}notify(e){if(this.listeners.has(e)){let t=this.listeners.get(e);if(t)for(let e of t)e()}}};class lo{static instance=null;#o;#a;#s=()=>{"undefined"==typeof document||document.fullscreenElement||(this.#a?.(),this.reset())};constructor(){}static getInstance(){return lo.instance||(lo.instance=new lo),lo.instance}reset(){this.#o=void 0,"undefined"!=typeof document&&document.removeEventListener("fullscreenchange",this.#s)}enterFullscreen(e,t,r){if("undefined"!=typeof document){if(this.#o||document.fullscreenElement||!document.fullscreenEnabled)return;this.#o=e,this.#a=r;let i=document.querySelector(`[componentkey="${this.#o}"]`);i?.requestFullscreen().then(t),document.addEventListener("fullscreenchange",this.#s)}}exitFullscreen(e){"undefined"!=typeof document&&this.#o===e&&document.fullscreenElement&&document.exitFullscreen&&document.exitFullscreen()}}function la(e){let{expression:t}=e,r=new oE(sz);if(!t)throw Error("ConditionalAction must have an expression");return r.evaluateBooleanExpression(t)}function ls(e){switch(e){case"ModalSize_XSMALL":return"xsmall";case"ModalSize_SMALL":return"small";case"ModalSize_MEDIUM":default:return"medium";case"ModalSize_LARGE":return"large";case"ModalSize_XLARGE":return"xlarge"}}function ll(e,t){if(!t)return"center";switch(e){case"Position_CENTER":return"center";case"Position_CENTER_END":return"right";case"Position_CENTER_START":return"left";default:return"top"}}async function lc(){if(!("undefined"!=typeof window))throw Error("SnappleAuth can only be used in the browser");try{let[{SnappleAuth:e,SnappleEvents:t},r]=await Promise.all([import("./index-es6-BCYRM7z3.es.js"),import("./snapple-lib-Acck64aY.es.js")]),i=r.default;return{SnappleAuth:e,SnappleEvents:t,SnappleLibSrc:i}}catch(e){throw Error("Failed to load SnappleAuth library",{cause:e})}}let lu=null;async function ld(){if("undefined"==typeof window)return null;let[e,t]=await Promise.all([import("./index-es6-BCYRM7z3.es.js"),import("./microsoft-auth-lib-Bl0WcZRd.es.js")]),r=t.default,{MicrosoftAuth:i,MicrosoftSignInConstants:n}=e;if(!i)throw Error("MicrosoftAuth is not available in the current version of @linkedin/li-third-party-auth");return{MicrosoftAuth:i,MicrosoftEvents:n.EVENTS,MicrosoftLibSrc:r}}let lp=null;function lf(e){return!!(e&&"string"==typeof e.id&&e.rawId instanceof ArrayBuffer&&e.response&&e.response.clientDataJSON instanceof ArrayBuffer&&e.response.authenticatorData instanceof ArrayBuffer&&e.response.signature instanceof ArrayBuffer&&(null===e.response.userHandle||e.response.userHandle instanceof ArrayBuffer)&&"public-key"===e.type)}function lm(e){if(!(e instanceof ArrayBuffer))throw Error("Input must be an ArrayBuffer");if(0===e.byteLength)throw Error("ArrayBuffer cannot be empty");let t=new Uint8Array(e),r="";for(let e of t)r+=String.fromCharCode(e);if(!btoa)throw Error("btoa is not available in this environment");try{return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}catch{throw Error("Failed to convert buffer to base64url")}}async function lg(){if(!(navigator?.credentials&&"function"==typeof navigator.credentials.get&&PublicKeyCredential))return!1;if("undefined"!=typeof PublicKeyCredential&&"function"==typeof PublicKeyCredential.isConditionalMediationAvailable)try{return await PublicKeyCredential.isConditionalMediationAvailable()}catch{}return!1}async function lh(e,t){if(!e)throw Error("Passkey data is required for authentication");if(!e.challenge)throw Error("Challenge is required for passkey authentication");let r={publicKey:{challenge:function(e){if("string"!=typeof e)throw Error("Input must be a string");if(0===e.length)throw Error("Base64url string cannot be empty");if(!/^[A-Za-z0-9_-]*$/.test(e))throw Error("Invalid base64url characters");let t="=".repeat((4-e.length%4)%4),r=e.replace(/-/g,"+").replace(/_/g,"/")+t;if("undefined"==typeof window||!atob)throw Error("atob is not available in this environment");try{let e=atob(r),t=new ArrayBuffer(e.length),i=new Uint8Array(t);for(let t=0;t<e.length;t++)i[t]=e.charCodeAt(t);return t}catch{throw Error("Invalid base64url string")}}(e.challenge),timeout:e.timeoutMillis>0&&e.timeoutMillis<=BigInt(Number.MAX_SAFE_INTEGER)?Number(e.timeoutMillis):6e4,rpId:e.relyingParty||void 0,userVerification:"preferred"},mediation:t?"conditional":"optional"};if(t)try{let e=await navigator.credentials.get(r);if(!e)return null;if(!lf(e))throw Error("Invalid credential response format");return e}catch(e){if(e instanceof Error&&("AbortError"===e.name||"NotAllowedError"===e.name))return null;throw e}try{let e=await navigator.credentials.get(r);if(!e)return null;if(!lf(e))throw Error("Invalid credential response format");return e}catch(e){if(e instanceof Error&&("AbortError"===e.name||"NotAllowedError"===e.name))return null;throw e}}function ly(e){return e?e.querySelector('input[type="text"], input[type="email"], input[type="tel"], input[type="password"], input:not([type])'):null}async function lb(e){let t=await lg();return e?.isAutofillSupported?.key&&sj(e.isAutofillSupported.key,t),t}async function lx(e,t,r,i){if(!i)return;!function(e){let t=ly(e?.current);if(!t)return;let r=t.getAttribute("autocomplete")||"";if(!r.includes("webauthn")){let e=r?`${r} webauthn`.trim():"webauthn";t.setAttribute("autocomplete",e)}}(r);let n=null;try{n=await lh(e.passkeyData,!0)}catch{return}n&&await lE(e,t,n)}async function lS(e,t){let r=await lh(e.passkeyData,!1);r&&await lE(e,t,r)}async function lE(e,t,r){!function(e,t){if(!e)return;let{credentialId:r,credentialType:i,clientData:n,authenticatorData:o,signatureKey:a,userHandleKey:s,clientExtensions:l}=e;if(r?.key&&sj(r.key,t.id),i?.key&&sj(i.key,t.type),n?.key&&t.response?.clientDataJSON){let e=lm(t.response.clientDataJSON);sj(n.key,e)}if(o?.key&&t.response?.authenticatorData){let e=lm(t.response.authenticatorData);sj(o.key,e)}if(a?.key&&t.response?.signature){let e=lm(t.response.signature);sj(a.key,e)}if(s?.key&&t.response){let e=t.response.userHandle?lm(t.response.userHandle):"";sj(s.key,e)}if(l?.key){let e=function(e){if(!e||"object"!=typeof e||0===Object.keys(e).length)return null;if(!btoa)throw Error("btoa is not available in this environment");try{let t=JSON.stringify(e);return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}catch{throw Error("Failed to encode client extension results")}}(t.getClientExtensionResults?t.getClientExtensionResults():void 0);null!==e&&sj(l.key,e)}}(e.passkeyData,r),e.passkeyData?.onSuccess&&await t(e.passkeyData.onSuccess)}async function lv(e,t,r){if(t.passkeyData?.onFailure){await r(t.passkeyData.onFailure);return}let i=e instanceof Error?e.message:"Unknown error";throw Error(`Failed to perform passkey authentication: ${i}`)}let lT=t.lazy(()=>import("./media-editor-C7EFtjJc.es.js").then(e=>e.CLIENT_COMPONENT_36610642f83d7097c7cf4dceb774deeb).then(e=>({default:e.MediaEditor}))),lN=t.lazy(()=>import("./media-editor-C7EFtjJc.es.js").then(e=>e.CLIENT_COMPONENT_e66676ac1c1e334826be4ab8460d7536).then(e=>({default:e.MediaEditor})));function l_({source:e,editorConfig:i,outputMediaList:n,onCompleteFn:o,onCancelledFn:a,tagEditor:s}){let{lixClient:l}=tQ(),{t:c}=t0(),u=l?.getTreatmentIsEnabled("web.media-experience.media-editor-enhanced-features");return r.jsx(r.Fragment,{children:u?r.jsxs(r.Fragment,{children:[r.jsx(D,{children:r.jsx(U,{tagName:"h2",children:"Editor"})}),r.jsx(M,{children:r.jsx(t.Suspense,{fallback:r.jsx(F,{a11yText:c("media_editor_loading")}),children:r.jsx(lN,{input:e,editorConfig:i,outputMediaList:n,onComplete:o,onCancelled:a,tagEditor:s})})})]}):r.jsxs(r.Fragment,{children:[r.jsx(D,{children:r.jsx(U,{tagName:"h2",children:c("media_editor_edit_image")})}),r.jsx(M,{children:r.jsx(t.Suspense,{fallback:r.jsx(F,{a11yText:c("media_editor_loading")}),children:r.jsx(lT,{input:e,editorConfig:i,outputMediaList:n,onComplete:o,onCancelled:a})})})]})})}class lk extends Error{url;constructor(e,t){super(e),this.name=this.constructor.name,this.url=t,Object.setPrototypeOf(this,new.target.prototype)}}class lI extends lk{constructor(e,t="Network error"){super(t,e)}}class lO extends lk{statusCode;statusText;constructor(e,t,r){super(`HTTP ${e} ${t}`,r),this.statusCode=e,this.statusText=t}}let lC={IMAGE_LOAD_START:"image-load-start",IMAGE_LOAD_SUCCEED:"image-load-succeed",IMAGE_LOAD_FAIL:"image-load-fail",MEDIA_INGESTION_FILE_NOT_FOUND:"media-ingestion-file-not-found"},lP={"image/jpeg":"jpg","image/png":"png","image/gif":"gif","image/heif":"heif","image/heic":"heic","image/heif-sequence":"heifs","image/heic-sequence":"heics","image/webp":"webp","image/svg+xml":"svg","video/mp4":"mp4","video/webm":"webm","video/quicktime":"mov","video/x-msvideo":"avi","video/x-ms-wmv":"wmv","video/x-ms-asf":"asf","video/x-matroska":"mkv","video/mpeg":"mpeg","video/mpeg2":"mpeg","video/mpeg1":"mpeg","video/mpeg1video":"mpeg","video/3gpp":"3gp","video/dv":"dv","video/vc1":"wmv","video/qtrle":"mov","video/tscc2":"avi","audio/mpeg":"mp3","audio/mp2":"mp2","audio/x-mp2":"mp2","audio/wav":"wav","audio/x-wav":"wav","audio/flac":"flac","audio/aac":"aac","audio/mp4":"m4a","audio/x-m4a":"m4a","audio/alac":"m4a","audio/x-alac":"m4a","audio/amr":"amr","audio/amr-nb":"amr","audio/3gpp":"3gp","audio/x-ms-wma":"wma","audio/wmav1":"wma","audio/wmav2":"wma","audio/wmavoice":"wma","audio/ogg":"ogg","video/ogg":"ogv","audio/opus":"opus","audio/vorbis":"ogg","audio/pcm":"pcm","audio/adpcm":"wav","audio/l16":"pcm","audio/l24":"pcm","application/pdf":"pdf","application/msword":"doc","application/vnd.openxmlformats-officedocument.wordprocessingml.document":"docx","application/vnd.ms-excel":"xls","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":"xlsx","application/vnd.ms-powerpoint":"ppt","application/vnd.openxmlformats-officedocument.presentationml.presentation":"pptx","application/vnd.openxmlformats-officedocument.presentationml.slideshow":"ppsx","application/vnd.oasis.opendocument.text":"odt","application/vnd.oasis.opendocument.spreadsheet":"ods","application/vnd.oasis.opendocument.presentation":"odp","application/zip":"zip","application/x-rar-compressed":"rar","application/vnd.rar":"rar","application/x-7z-compressed":"7z","application/x-tar":"tar","application/gzip":"gz","application/x-gzip":"gz","text/plain":"txt","text/csv":"csv","text/markdown":"md","application/json":"json","application/xml":"xml","text/xml":"xml"};function lR(e){try{let t=new URL(e).pathname.split("/").filter(e=>e.trim().length>0).at(-1);if(!t)return"";return decodeURIComponent(t)}catch{return""}}async function lw(e,t){let r=e.map(e=>new Promise((r,i)=>{if(!("undefined"==typeof window||window.navigator.onLine))return i(new lI(e.url,"Failed to fetch metadata."));let n=new XMLHttpRequest;n.open("HEAD",e.url,!0),n.timeout=5e3,n.onload=()=>{if(n.status>=200&&n.status<300){(function(e,t,r){if(!t.size){let r=e.getResponseHeader("Content-Length");r&&(t.size=BigInt(r))}let i=e.getResponseHeader("Content-Type");if(i&&!t.mimeType&&(t.mimeType=i.split(";")[0]?.trim()??""),!t.filename){let r=e.getResponseHeader("Content-Disposition");if(r){let e=function(e){if(!e)return null;let t=e.match(/filename\*\s*=\s*([^;]+)/i);if(t){let e=(t[1]?.trim()??"").split("'",3);if(3===e.length)try{return decodeURIComponent(e[2])}catch{return null}}let r=e.match(/filename\s*=\s*(?:"([^"]*)"|'([^']*)'|([^\s;]+))/i);if(r){let e=r[1]??r[2]??r[3];return e?.trim()??null}return null}(r);if(e){t.filename=e;return}}t.filename=lR(t.url)}if(t.filename&&!t.filename.includes(".")&&t.mimeType){var n;let e=lP[n=t.mimeType]?lP[n]:(r?.reportLog(`Download metadata: unknown mimeType "${n}" (no extension mapping)`),"bin");t.filename=`${t.filename}.${e}`}})(n,e,t),r();return}i(new lO(n.status,n.statusText||"Metadata fetch failed",e.url))},n.onerror=()=>{i(new lI(e.url,"Metadata fetch network error"))},n.ontimeout=()=>{i(new lI(e.url,"Metadata fetch timeout"))},n.send()}));(await Promise.allSettled(r)).forEach((t,r)=>{if("rejected"===t.status&&e[r]){let t=e[r];t.filename||(t.filename=lR(t.url))}})}function lA(){return{$type:"proto.sdui.common.Coordinate2D",x:0,y:0}}let l$={$type:"proto.sdui.common.Coordinate2D",encode:(t,r=e.Writer.create())=>(0!==t.x&&r.uint32(13).float(t.x),0!==t.y&&r.uint32(21).float(t.y),r),decode(t,r){let i=t instanceof e.Reader?t:e.Reader.create(t),n=void 0===r?i.len:i.pos+r,o=lA();for(;i.pos<n;){let e=i.uint32();switch(e>>>3){case 1:if(13!==e)break;o.x=i.float();continue;case 2:if(21!==e)break;o.y=i.float();continue}if((7&e)==4||0===e)break;i.skipType(7&e)}return o},fromJSON:e=>({$type:l$.$type,x:null!=e.x?globalThis.Number(e.x):0,y:null!=e.y?globalThis.Number(e.y):0}),toJSON(e){let t={};return 0!==e.x&&(t.x=e.x),0!==e.y&&(t.y=e.y),t},create:e=>l$.fromPartial(e??{}),fromPartial(e){let t=lA();return t.x=e.x??0,t.y=e.y??0,t}};function lL(){return{$type:"proto.sdui.common.Rect",topLeft:void 0,topRight:void 0,bottomLeft:void 0,bottomRight:void 0}}rL.set(l$.$type,l$);let lM={$type:"proto.sdui.common.Rect",encode:(t,r=e.Writer.create())=>(void 0!==t.topLeft&&l$.encode(t.topLeft,r.uint32(10).fork()).ldelim(),void 0!==t.topRight&&l$.encode(t.topRight,r.uint32(18).fork()).ldelim(),void 0!==t.bottomLeft&&l$.encode(t.bottomLeft,r.uint32(26).fork()).ldelim(),void 0!==t.bottomRight&&l$.encode(t.bottomRight,r.uint32(34).fork()).ldelim(),r),decode(t,r){let i=t instanceof e.Reader?t:e.Reader.create(t),n=void 0===r?i.len:i.pos+r,o=lL();for(;i.pos<n;){let e=i.uint32();switch(e>>>3){case 1:if(10!==e)break;o.topLeft=l$.decode(i,i.uint32());continue;case 2:if(18!==e)break;o.topRight=l$.decode(i,i.uint32());continue;case 3:if(26!==e)break;o.bottomLeft=l$.decode(i,i.uint32());continue;case 4:if(34!==e)break;o.bottomRight=l$.decode(i,i.uint32());continue}if((7&e)==4||0===e)break;i.skipType(7&e)}return o},fromJSON:e=>({$type:lM.$type,topLeft:null!=e.topLeft?l$.fromJSON(e.topLeft):void 0,topRight:null!=e.topRight?l$.fromJSON(e.topRight):void 0,bottomLeft:null!=e.bottomLeft?l$.fromJSON(e.bottomLeft):void 0,bottomRight:null!=e.bottomRight?l$.fromJSON(e.bottomRight):void 0}),toJSON(e){let t={};return void 0!==e.topLeft&&(t.topLeft=l$.toJSON(e.topLeft)),void 0!==e.topRight&&(t.topRight=l$.toJSON(e.topRight)),void 0!==e.bottomLeft&&(t.bottomLeft=l$.toJSON(e.bottomLeft)),void 0!==e.bottomRight&&(t.bottomRight=l$.toJSON(e.bottomRight)),t},create:e=>lM.fromPartial(e??{}),fromPartial(e){let t=lL();return t.topLeft=void 0!==e.topLeft&&null!==e.topLeft?l$.fromPartial(e.topLeft):void 0,t.topRight=void 0!==e.topRight&&null!==e.topRight?l$.fromPartial(e.topRight):void 0,t.bottomLeft=void 0!==e.bottomLeft&&null!==e.bottomLeft?l$.fromPartial(e.bottomLeft):void 0,t.bottomRight=void 0!==e.bottomRight&&null!==e.bottomRight?l$.fromPartial(e.bottomRight):void 0,t}};rL.set(lM.$type,lM);var lD=((iy=lD||{}).ImageFilter_UNKNOWN="ImageFilter_UNKNOWN",iy.ImageFilter_None="ImageFilter_None",iy.ImageFilter_Spotlight="ImageFilter_Spotlight",iy.ImageFilter_Prime="ImageFilter_Prime",iy.ImageFilter_Studio="ImageFilter_Studio",iy.ImageFilter_Classic="ImageFilter_Classic",iy.ImageFilter_Edge="ImageFilter_Edge",iy.ImageFilter_Guru="ImageFilter_Guru",iy);function lU(e){switch(e){case 0:case"ImageFilter_UNKNOWN":default:return"ImageFilter_UNKNOWN";case 1:case"ImageFilter_None":return"ImageFilter_None";case 2:case"ImageFilter_Spotlight":return"ImageFilter_Spotlight";case 3:case"ImageFilter_Prime":return"ImageFilter_Prime";case 4:case"ImageFilter_Studio":return"ImageFilter_Studio";case 5:case"ImageFilter_Classic":return"ImageFilter_Classic";case 6:case"ImageFilter_Edge":return"ImageFilter_Edge";case 7:case"ImageFilter_Guru":return"ImageFilter_Guru"}}function lF(e){switch(e){case"ImageFilter_UNKNOWN":default:return"ImageFilter_UNKNOWN";case"ImageFilter_None":return"ImageFilter_None";case"ImageFilter_Spotlight":return"ImageFilter_Spotlight";case"ImageFilter_Prime":return"ImageFilter_Prime";case"ImageFilter_Studio":return"ImageFilter_Studio";case"ImageFilter_Classic":return"ImageFilter_Classic";case"ImageFilter_Edge":return"ImageFilter_Edge";case"ImageFilter_Guru":return"ImageFilter_Guru"}}function lj(e){switch(e){case"ImageFilter_UNKNOWN":default:return 0;case"ImageFilter_None":return 1;case"ImageFilter_Spotlight":return 2;case"ImageFilter_Prime":return 3;case"ImageFilter_Studio":return 4;case"ImageFilter_Classic":return 5;case"ImageFilter_Edge":return 6;case"ImageFilter_Guru":return 7}}function lB(){return{$type:"proto.sdui.media.ImageEditData",croppedRegion:void 0,imageFilter:"ImageFilter_UNKNOWN"}}let lV={$type:"proto.sdui.media.ImageEditData",encode:(t,r=e.Writer.create())=>(void 0!==t.croppedRegion&&lM.encode(t.croppedRegion,r.uint32(10).fork()).ldelim(),void 0!==t.scaleRatio&&r.uint32(21).float(t.scaleRatio),void 0!==t.brightness&&r.uint32(29).float(t.brightness),void 0!==t.contrast&&r.uint32(37).float(t.contrast),void 0!==t.saturation&&r.uint32(45).float(t.saturation),void 0!==t.vignette&&r.uint32(53).float(t.vignette),"ImageFilter_UNKNOWN"!==t.imageFilter&&r.uint32(56).int32(lj(t.imageFilter)),r),decode(t,r){let i=t instanceof e.Reader?t:e.Reader.create(t),n=void 0===r?i.len:i.pos+r,o=lB();for(;i.pos<n;){let e=i.uint32();switch(e>>>3){case 1:if(10!==e)break;o.croppedRegion=lM.decode(i,i.uint32());continue;case 2:if(21!==e)break;o.scaleRatio=i.float();continue;case 3:if(29!==e)break;o.brightness=i.float();continue;case 4:if(37!==e)break;o.contrast=i.float();continue;case 5:if(45!==e)break;o.saturation=i.float();continue;case 6:if(53!==e)break;o.vignette=i.float();continue;case 7:if(56!==e)break;o.imageFilter=lU(i.int32());continue}if((7&e)==4||0===e)break;i.skipType(7&e)}return o},fromJSON:e=>({$type:lV.$type,croppedRegion:lK(e.croppedRegion)?lM.fromJSON(e.croppedRegion):void 0,scaleRatio:lK(e.scaleRatio)?globalThis.Number(e.scaleRatio):void 0,brightness:lK(e.brightness)?globalThis.Number(e.brightness):void 0,contrast:lK(e.contrast)?globalThis.Number(e.contrast):void 0,saturation:lK(e.saturation)?globalThis.Number(e.saturation):void 0,vignette:lK(e.vignette)?globalThis.Number(e.vignette):void 0,imageFilter:lK(e.imageFilter)?lU(e.imageFilter):"ImageFilter_UNKNOWN"}),toJSON(e){let t={};return void 0!==e.croppedRegion&&(t.croppedRegion=lM.toJSON(e.croppedRegion)),void 0!==e.scaleRatio&&(t.scaleRatio=e.scaleRatio),void 0!==e.brightness&&(t.brightness=e.brightness),void 0!==e.contrast&&(t.contrast=e.contrast),void 0!==e.saturation&&(t.saturation=e.saturation),void 0!==e.vignette&&(t.vignette=e.vignette),"ImageFilter_UNKNOWN"!==e.imageFilter&&(t.imageFilter=lF(e.imageFilter)),t},create:e=>lV.fromPartial(e??{}),fromPartial(e){let t=lB();return t.croppedRegion=void 0!==e.croppedRegion&&null!==e.croppedRegion?lM.fromPartial(e.croppedRegion):void 0,t.scaleRatio=e.scaleRatio??void 0,t.brightness=e.brightness??void 0,t.contrast=e.contrast??void 0,t.saturation=e.saturation??void 0,t.vignette=e.vignette??void 0,t.imageFilter=e.imageFilter??"ImageFilter_UNKNOWN",t}};function lK(e){return null!=e}function lW(){return{$type:"proto.sdui.media.VideoEditData",enableAutoCaption:!1,reviewAutoCaptionBeforePublishing:!1}}rL.set(lV.$type,lV);let lJ={$type:"proto.sdui.media.VideoEditData",encode:(t,r=e.Writer.create())=>(!1!==t.enableAutoCaption&&r.uint32(8).bool(t.enableAutoCaption),!1!==t.reviewAutoCaptionBeforePublishing&&r.uint32(16).bool(t.reviewAutoCaptionBeforePublishing),r),decode(t,r){let i=t instanceof e.Reader?t:e.Reader.create(t),n=void 0===r?i.len:i.pos+r,o=lW();for(;i.pos<n;){let e=i.uint32();switch(e>>>3){case 1:if(8!==e)break;o.enableAutoCaption=i.bool();continue;case 2:if(16!==e)break;o.reviewAutoCaptionBeforePublishing=i.bool();continue}if((7&e)==4||0===e)break;i.skipType(7&e)}return o},fromJSON:e=>({$type:lJ.$type,enableAutoCaption:null!=e.enableAutoCaption&&globalThis.Boolean(e.enableAutoCaption),reviewAutoCaptionBeforePublishing:null!=e.reviewAutoCaptionBeforePublishing&&globalThis.Boolean(e.reviewAutoCaptionBeforePublishing)}),toJSON(e){let t={};return!1!==e.enableAutoCaption&&(t.enableAutoCaption=e.enableAutoCaption),!1!==e.reviewAutoCaptionBeforePublishing&&(t.reviewAutoCaptionBeforePublishing=e.reviewAutoCaptionBeforePublishing),t},create:e=>lJ.fromPartial(e??{}),fromPartial(e){let t=lW();return t.enableAutoCaption=e.enableAutoCaption??!1,t.reviewAutoCaptionBeforePublishing=e.reviewAutoCaptionBeforePublishing??!1,t}};function lG(){return{$type:"proto.sdui.media.MediaEditData",croppedRegion:void 0,imageFilter:lD.ImageFilter_UNKNOWN,editData:void 0}}rL.set(lJ.$type,lJ);let lz={$type:"proto.sdui.media.MediaEditData",encode(t,r=e.Writer.create()){switch(void 0!==t.originalMediaFileId&&r.uint32(10).string(t.originalMediaFileId),void 0!==t.croppedRegion&&lM.encode(t.croppedRegion,r.uint32(18).fork()).ldelim(),void 0!==t.scaleRatio&&r.uint32(29).float(t.scaleRatio),void 0!==t.brightness&&r.uint32(37).float(t.brightness),void 0!==t.contrast&&r.uint32(45).float(t.contrast),void 0!==t.saturation&&r.uint32(53).float(t.saturation),void 0!==t.vignette&&r.uint32(61).float(t.vignette),t.imageFilter!==lD.ImageFilter_UNKNOWN&&r.uint32(64).int32(lj(t.imageFilter)),t.editData?.$case){case"imageEditData":lV.encode(t.editData.imageEditData,r.uint32(74).fork()).ldelim();break;case"videoEditData":lJ.encode(t.editData.videoEditData,r.uint32(82).fork()).ldelim()}return void 0!==t.editedMediaFilePointer&&r.uint32(90).string(t.editedMediaFilePointer),r},decode(t,r){let i=t instanceof e.Reader?t:e.Reader.create(t),n=void 0===r?i.len:i.pos+r,o=lG();for(;i.pos<n;){let e=i.uint32();switch(e>>>3){case 1:if(10!==e)break;o.originalMediaFileId=i.string();continue;case 2:if(18!==e)break;o.croppedRegion=lM.decode(i,i.uint32());continue;case 3:if(29!==e)break;o.scaleRatio=i.float();continue;case 4:if(37!==e)break;o.brightness=i.float();continue;case 5:if(45!==e)break;o.contrast=i.float();continue;case 6:if(53!==e)break;o.saturation=i.float();continue;case 7:if(61!==e)break;o.vignette=i.float();continue;case 8:if(64!==e)break;o.imageFilter=lU(i.int32());continue;case 9:if(74!==e)break;o.editData={$case:"imageEditData",imageEditData:lV.decode(i,i.uint32())};continue;case 10:if(82!==e)break;o.editData={$case:"videoEditData",videoEditData:lJ.decode(i,i.uint32())};continue;case 11:if(90!==e)break;o.editedMediaFilePointer=i.string();continue}if((7&e)==4||0===e)break;i.skipType(7&e)}return o},fromJSON:e=>({$type:lz.$type,originalMediaFileId:lH(e.originalMediaFileId)?globalThis.String(e.originalMediaFileId):void 0,croppedRegion:lH(e.croppedRegion)?lM.fromJSON(e.croppedRegion):void 0,scaleRatio:lH(e.scaleRatio)?globalThis.Number(e.scaleRatio):void 0,brightness:lH(e.brightness)?globalThis.Number(e.brightness):void 0,contrast:lH(e.contrast)?globalThis.Number(e.contrast):void 0,saturation:lH(e.saturation)?globalThis.Number(e.saturation):void 0,vignette:lH(e.vignette)?globalThis.Number(e.vignette):void 0,imageFilter:lH(e.imageFilter)?lU(e.imageFilter):lD.ImageFilter_UNKNOWN,editData:lH(e.imageEditData)?{$case:"imageEditData",imageEditData:lV.fromJSON(e.imageEditData)}:lH(e.videoEditData)?{$case:"videoEditData",videoEditData:lJ.fromJSON(e.videoEditData)}:void 0,editedMediaFilePointer:lH(e.editedMediaFilePointer)?globalThis.String(e.editedMediaFilePointer):void 0}),toJSON(e){let t={};return void 0!==e.originalMediaFileId&&(t.originalMediaFileId=e.originalMediaFileId),void 0!==e.croppedRegion&&(t.croppedRegion=lM.toJSON(e.croppedRegion)),void 0!==e.scaleRatio&&(t.scaleRatio=e.scaleRatio),void 0!==e.brightness&&(t.brightness=e.brightness),void 0!==e.contrast&&(t.contrast=e.contrast),void 0!==e.saturation&&(t.saturation=e.saturation),void 0!==e.vignette&&(t.vignette=e.vignette),e.imageFilter!==lD.ImageFilter_UNKNOWN&&(t.imageFilter=lF(e.imageFilter)),e.editData?.$case==="imageEditData"&&(t.imageEditData=lV.toJSON(e.editData.imageEditData)),e.editData?.$case==="videoEditData"&&(t.videoEditData=lJ.toJSON(e.editData.videoEditData)),void 0!==e.editedMediaFilePointer&&(t.editedMediaFilePointer=e.editedMediaFilePointer),t},create:e=>lz.fromPartial(e??{}),fromPartial(e){let t=lG();return t.originalMediaFileId=e.originalMediaFileId??void 0,t.croppedRegion=void 0!==e.croppedRegion&&null!==e.croppedRegion?lM.fromPartial(e.croppedRegion):void 0,t.scaleRatio=e.scaleRatio??void 0,t.brightness=e.brightness??void 0,t.contrast=e.contrast??void 0,t.saturation=e.saturation??void 0,t.vignette=e.vignette??void 0,t.imageFilter=e.imageFilter??lD.ImageFilter_UNKNOWN,e.editData?.$case==="imageEditData"&&e.editData?.imageEditData!==void 0&&e.editData?.imageEditData!==null&&(t.editData={$case:"imageEditData",imageEditData:lV.fromPartial(e.editData.imageEditData)}),e.editData?.$case==="videoEditData"&&e.editData?.videoEditData!==void 0&&e.editData?.videoEditData!==null&&(t.editData={$case:"videoEditData",videoEditData:lJ.fromPartial(e.editData.videoEditData)}),t.editedMediaFilePointer=e.editedMediaFilePointer??void 0,t}};function lH(e){return null!=e}function lq(){return{$type:"proto.sdui.media.MediaTagData",text:"",entityID:""}}rL.set(lz.$type,lz);let lY={$type:"proto.sdui.media.MediaTagData",encode:(t,r=e.Writer.create())=>(""!==t.text&&r.uint32(10).string(t.text),""!==t.entityID&&r.uint32(18).string(t.entityID),r),decode(t,r){let i=t instanceof e.Reader?t:e.Reader.create(t),n=void 0===r?i.len:i.pos+r,o=lq();for(;i.pos<n;){let e=i.uint32();switch(e>>>3){case 1:if(10!==e)break;o.text=i.string();continue;case 2:if(18!==e)break;o.entityID=i.string();continue}if((7&e)==4||0===e)break;i.skipType(7&e)}return o},fromJSON:e=>({$type:lY.$type,text:null!=e.text?globalThis.String(e.text):"",entityID:null!=e.entityID?globalThis.String(e.entityID):""}),toJSON(e){let t={};return""!==e.text&&(t.text=e.text),""!==e.entityID&&(t.entityID=e.entityID),t},create:e=>lY.fromPartial(e??{}),fromPartial(e){let t=lq();return t.text=e.text??"",t.entityID=e.entityID??"",t}};function lX(){return{$type:"proto.sdui.media.MediaFileMetadata",tags:[],altText:"",hasC2PAManifest:!1}}rL.set(lY.$type,lY);let lZ={$type:"proto.sdui.media.MediaFileMetadata",encode(t,r=e.Writer.create()){for(let e of t.tags)lY.encode(e,r.uint32(10).fork()).ldelim();return""!==t.altText&&r.uint32(18).string(t.altText),!1!==t.hasC2PAManifest&&r.uint32(24).bool(t.hasC2PAManifest),r},decode(t,r){let i=t instanceof e.Reader?t:e.Reader.create(t),n=void 0===r?i.len:i.pos+r,o=lX();for(;i.pos<n;){let e=i.uint32();switch(e>>>3){case 1:if(10!==e)break;o.tags.push(lY.decode(i,i.uint32()));continue;case 2:if(18!==e)break;o.altText=i.string();continue;case 3:if(24!==e)break;o.hasC2PAManifest=i.bool();continue}if((7&e)==4||0===e)break;i.skipType(7&e)}return o},fromJSON:e=>({$type:lZ.$type,tags:globalThis.Array.isArray(e?.tags)?e.tags.map(e=>lY.fromJSON(e)):[],altText:null!=e.altText?globalThis.String(e.altText):"",hasC2PAManifest:null!=e.hasC2PAManifest&&globalThis.Boolean(e.hasC2PAManifest)}),toJSON(e){let t={};return e.tags?.length&&(t.tags=e.tags.map(e=>lY.toJSON(e))),""!==e.altText&&(t.altText=e.altText),!1!==e.hasC2PAManifest&&(t.hasC2PAManifest=e.hasC2PAManifest),t},create:e=>lZ.fromPartial(e??{}),fromPartial(e){let t=lX();return t.tags=e.tags?.map(e=>lY.fromPartial(e))||[],t.altText=e.altText??"",t.hasC2PAManifest=e.hasC2PAManifest??!1,t}};function lQ(){return{$type:"proto.sdui.media.MediaFile",mediaFileId:"",filePointer:"",mimeType:"",size:0n,fileName:"",source:void 0,editData:void 0,metadata:void 0,thumbnails:[],captions:[]}}rL.set(lZ.$type,lZ);let l0={$type:"proto.sdui.media.MediaFile",encode(t,r=e.Writer.create()){if(""!==t.mediaFileId&&r.uint32(10).string(t.mediaFileId),""!==t.filePointer&&r.uint32(18).string(t.filePointer),""!==t.mimeType&&r.uint32(26).string(t.mimeType),0n!==t.size){if(BigInt.asIntN(64,t.size)!==t.size)throw new globalThis.Error("value provided for field message.size of type int64 too large");r.uint32(32).int64(t.size.toString())}switch(""!==t.fileName&&r.uint32(42).string(t.fileName),t.source?.$case){case"remoteImageFile":l2.encode(t.source.remoteImageFile,r.uint32(58).fork()).ldelim();break;case"remoteImageUrl":l4.encode(t.source.remoteImageUrl,r.uint32(74).fork()).ldelim();break;case"localFile":l5.encode(t.source.localFile,r.uint32(66).fork()).ldelim()}for(let e of(void 0!==t.editData&&lz.encode(t.editData,r.uint32(50).fork()).ldelim(),void 0!==t.metadata&&lZ.encode(t.metadata,r.uint32(82).fork()).ldelim(),t.thumbnails))l8.encode(e,r.uint32(90).fork()).ldelim();for(let e of t.captions)ce.encode(e,r.uint32(98).fork()).ldelim();return r},decode(t,r){let i=t instanceof e.Reader?t:e.Reader.create(t),n=void 0===r?i.len:i.pos+r,o=lQ();for(;i.pos<n;){let e=i.uint32();switch(e>>>3){case 1:if(10!==e)break;o.mediaFileId=i.string();continue;case 2:if(18!==e)break;o.filePointer=i.string();continue;case 3:if(26!==e)break;o.mimeType=i.string();continue;case 4:if(32!==e)break;o.size=ct(i.int64());continue;case 5:if(42!==e)break;o.fileName=i.string();continue;case 7:if(58!==e)break;o.source={$case:"remoteImageFile",remoteImageFile:l2.decode(i,i.uint32())};continue;case 9:if(74!==e)break;o.source={$case:"remoteImageUrl",remoteImageUrl:l4.decode(i,i.uint32())};continue;case 8:if(66!==e)break;o.source={$case:"localFile",localFile:l5.decode(i,i.uint32())};continue;case 6:if(50!==e)break;o.editData=lz.decode(i,i.uint32());continue;case 10:if(82!==e)break;o.metadata=lZ.decode(i,i.uint32());continue;case 11:if(90!==e)break;o.thumbnails.push(l8.decode(i,i.uint32()));continue;case 12:if(98!==e)break;o.captions.push(ce.decode(i,i.uint32()));continue}if((7&e)==4||0===e)break;i.skipType(7&e)}return o},fromJSON:e=>({$type:l0.$type,mediaFileId:cr(e.mediaFileId)?globalThis.String(e.mediaFileId):"",filePointer:cr(e.filePointer)?globalThis.String(e.filePointer):"",mimeType:cr(e.mimeType)?globalThis.String(e.mimeType):"",size:cr(e.size)?BigInt(e.size):0n,fileName:cr(e.fileName)?globalThis.String(e.fileName):"",source:cr(e.remoteImageFile)?{$case:"remoteImageFile",remoteImageFile:l2.fromJSON(e.remoteImageFile)}:cr(e.remoteImageUrl)?{$case:"remoteImageUrl",remoteImageUrl:l4.fromJSON(e.remoteImageUrl)}:cr(e.localFile)?{$case:"localFile",localFile:l5.fromJSON(e.localFile)}:void 0,editData:cr(e.editData)?lz.fromJSON(e.editData):void 0,metadata:cr(e.metadata)?lZ.fromJSON(e.metadata):void 0,thumbnails:globalThis.Array.isArray(e?.thumbnails)?e.thumbnails.map(e=>l8.fromJSON(e)):[],captions:globalThis.Array.isArray(e?.captions)?e.captions.map(e=>ce.fromJSON(e)):[]}),toJSON(e){let t={};return""!==e.mediaFileId&&(t.mediaFileId=e.mediaFileId),""!==e.filePointer&&(t.filePointer=e.filePointer),""!==e.mimeType&&(t.mimeType=e.mimeType),0n!==e.size&&(t.size=e.size.toString()),""!==e.fileName&&(t.fileName=e.fileName),e.source?.$case==="remoteImageFile"&&(t.remoteImageFile=l2.toJSON(e.source.remoteImageFile)),e.source?.$case==="remoteImageUrl"&&(t.remoteImageUrl=l4.toJSON(e.source.remoteImageUrl)),e.source?.$case==="localFile"&&(t.localFile=l5.toJSON(e.source.localFile)),void 0!==e.editData&&(t.editData=lz.toJSON(e.editData)),void 0!==e.metadata&&(t.metadata=lZ.toJSON(e.metadata)),e.thumbnails?.length&&(t.thumbnails=e.thumbnails.map(e=>l8.toJSON(e))),e.captions?.length&&(t.captions=e.captions.map(e=>ce.toJSON(e))),t},create:e=>l0.fromPartial(e??{}),fromPartial(e){let t=lQ();return t.mediaFileId=e.mediaFileId??"",t.filePointer=e.filePointer??"",t.mimeType=e.mimeType??"",t.size=e.size??0n,t.fileName=e.fileName??"",e.source?.$case==="remoteImageFile"&&e.source?.remoteImageFile!==void 0&&e.source?.remoteImageFile!==null&&(t.source={$case:"remoteImageFile",remoteImageFile:l2.fromPartial(e.source.remoteImageFile)}),e.source?.$case==="remoteImageUrl"&&e.source?.remoteImageUrl!==void 0&&e.source?.remoteImageUrl!==null&&(t.source={$case:"remoteImageUrl",remoteImageUrl:l4.fromPartial(e.source.remoteImageUrl)}),e.source?.$case==="localFile"&&e.source?.localFile!==void 0&&e.source?.localFile!==null&&(t.source={$case:"localFile",localFile:l5.fromPartial(e.source.localFile)}),t.editData=void 0!==e.editData&&null!==e.editData?lz.fromPartial(e.editData):void 0,t.metadata=void 0!==e.metadata&&null!==e.metadata?lZ.fromPartial(e.metadata):void 0,t.thumbnails=e.thumbnails?.map(e=>l8.fromPartial(e))||[],t.captions=e.captions?.map(e=>ce.fromPartial(e))||[],t}};function l1(){return{$type:"proto.sdui.media.RemoteImageFile",renderPayload:new Uint8Array(0)}}rL.set(l0.$type,l0);let l2={$type:"proto.sdui.media.RemoteImageFile",encode:(t,r=e.Writer.create())=>(0!==t.renderPayload.length&&r.uint32(10).bytes(t.renderPayload),r),decode(t,r){let i=t instanceof e.Reader?t:e.Reader.create(t),n=void 0===r?i.len:i.pos+r,o=l1();for(;i.pos<n;){let e=i.uint32();switch(e>>>3){case 1:if(10!==e)break;o.renderPayload=i.bytes();continue}if((7&e)==4||0===e)break;i.skipType(7&e)}return o},fromJSON:e=>({$type:l2.$type,renderPayload:cr(e.renderPayload)?function(e){if(globalThis.Buffer)return Uint8Array.from(globalThis.Buffer.from(e,"base64"));{let t=globalThis.atob(e),r=new Uint8Array(t.length);for(let e=0;e<t.length;++e)r[e]=t.charCodeAt(e);return r}}(e.renderPayload):new Uint8Array(0)}),toJSON(e){let t={};return 0!==e.renderPayload.length&&(t.renderPayload=function(e){if(globalThis.Buffer)return globalThis.Buffer.from(e).toString("base64");{let t=[];return e.forEach(e=>{t.push(globalThis.String.fromCharCode(e))}),globalThis.btoa(t.join(""))}}(e.renderPayload)),t},create:e=>l2.fromPartial(e??{}),fromPartial(e){let t=l1();return t.renderPayload=e.renderPayload??new Uint8Array(0),t}};function l3(){return{$type:"proto.sdui.media.RemoteImageUrl",imageUrl:""}}rL.set(l2.$type,l2);let l4={$type:"proto.sdui.media.RemoteImageUrl",encode:(t,r=e.Writer.create())=>(""!==t.imageUrl&&r.uint32(10).string(t.imageUrl),r),decode(t,r){let i=t instanceof e.Reader?t:e.Reader.create(t),n=void 0===r?i.len:i.pos+r,o=l3();for(;i.pos<n;){let e=i.uint32();switch(e>>>3){case 1:if(10!==e)break;o.imageUrl=i.string();continue}if((7&e)==4||0===e)break;i.skipType(7&e)}return o},fromJSON:e=>({$type:l4.$type,imageUrl:cr(e.imageUrl)?globalThis.String(e.imageUrl):""}),toJSON(e){let t={};return""!==e.imageUrl&&(t.imageUrl=e.imageUrl),t},create:e=>l4.fromPartial(e??{}),fromPartial(e){let t=l3();return t.imageUrl=e.imageUrl??"",t}};function l7(){return{$type:"proto.sdui.media.LocalFile",filePointer:"",mimeType:"",size:0n,fileName:""}}rL.set(l4.$type,l4);let l5={$type:"proto.sdui.media.LocalFile",encode(t,r=e.Writer.create()){if(""!==t.filePointer&&r.uint32(18).string(t.filePointer),""!==t.mimeType&&r.uint32(26).string(t.mimeType),0n!==t.size){if(BigInt.asIntN(64,t.size)!==t.size)throw new globalThis.Error("value provided for field message.size of type int64 too large");r.uint32(32).int64(t.size.toString())}return""!==t.fileName&&r.uint32(42).string(t.fileName),r},decode(t,r){let i=t instanceof e.Reader?t:e.Reader.create(t),n=void 0===r?i.len:i.pos+r,o=l7();for(;i.pos<n;){let e=i.uint32();switch(e>>>3){case 2:if(18!==e)break;o.filePointer=i.string();continue;case 3:if(26!==e)break;o.mimeType=i.string();continue;case 4:if(32!==e)break;o.size=ct(i.int64());continue;case 5:if(42!==e)break;o.fileName=i.string();continue}if((7&e)==4||0===e)break;i.skipType(7&e)}return o},fromJSON:e=>({$type:l5.$type,filePointer:cr(e.filePointer)?globalThis.String(e.filePointer):"",mimeType:cr(e.mimeType)?globalThis.String(e.mimeType):"",size:cr(e.size)?BigInt(e.size):0n,fileName:cr(e.fileName)?globalThis.String(e.fileName):""}),toJSON(e){let t={};return""!==e.filePointer&&(t.filePointer=e.filePointer),""!==e.mimeType&&(t.mimeType=e.mimeType),0n!==e.size&&(t.size=e.size.toString()),""!==e.fileName&&(t.fileName=e.fileName),t},create:e=>l5.fromPartial(e??{}),fromPartial(e){let t=l7();return t.filePointer=e.filePointer??"",t.mimeType=e.mimeType??"",t.size=e.size??0n,t.fileName=e.fileName??"",t}};function l6(){return{$type:"proto.sdui.media.Thumbnail",source:void 0}}rL.set(l5.$type,l5);let l8={$type:"proto.sdui.media.Thumbnail",encode:(t,r=e.Writer.create())=>(t.source?.$case==="localFile"&&l5.encode(t.source.localFile,r.uint32(10).fork()).ldelim(),r),decode(t,r){let i=t instanceof e.Reader?t:e.Reader.create(t),n=void 0===r?i.len:i.pos+r,o=l6();for(;i.pos<n;){let e=i.uint32();switch(e>>>3){case 1:if(10!==e)break;o.source={$case:"localFile",localFile:l5.decode(i,i.uint32())};continue}if((7&e)==4||0===e)break;i.skipType(7&e)}return o},fromJSON:e=>({$type:l8.$type,source:cr(e.localFile)?{$case:"localFile",localFile:l5.fromJSON(e.localFile)}:void 0}),toJSON(e){let t={};return e.source?.$case==="localFile"&&(t.localFile=l5.toJSON(e.source.localFile)),t},create:e=>l8.fromPartial(e??{}),fromPartial(e){let t=l6();return e.source?.$case==="localFile"&&e.source?.localFile!==void 0&&e.source?.localFile!==null&&(t.source={$case:"localFile",localFile:l5.fromPartial(e.source.localFile)}),t}};function l9(){return{$type:"proto.sdui.media.Caption",source:void 0,language:"",country:""}}rL.set(l8.$type,l8);let ce={$type:"proto.sdui.media.Caption",encode:(t,r=e.Writer.create())=>(t.source?.$case==="localFile"&&l5.encode(t.source.localFile,r.uint32(10).fork()).ldelim(),""!==t.language&&r.uint32(18).string(t.language),""!==t.country&&r.uint32(26).string(t.country),r),decode(t,r){let i=t instanceof e.Reader?t:e.Reader.create(t),n=void 0===r?i.len:i.pos+r,o=l9();for(;i.pos<n;){let e=i.uint32();switch(e>>>3){case 1:if(10!==e)break;o.source={$case:"localFile",localFile:l5.decode(i,i.uint32())};continue;case 2:if(18!==e)break;o.language=i.string();continue;case 3:if(26!==e)break;o.country=i.string();continue}if((7&e)==4||0===e)break;i.skipType(7&e)}return o},fromJSON:e=>({$type:ce.$type,source:cr(e.localFile)?{$case:"localFile",localFile:l5.fromJSON(e.localFile)}:void 0,language:cr(e.language)?globalThis.String(e.language):"",country:cr(e.country)?globalThis.String(e.country):""}),toJSON(e){let t={};return e.source?.$case==="localFile"&&(t.localFile=l5.toJSON(e.source.localFile)),""!==e.language&&(t.language=e.language),""!==e.country&&(t.country=e.country),t},create:e=>ce.fromPartial(e??{}),fromPartial(e){let t=l9();return e.source?.$case==="localFile"&&e.source?.localFile!==void 0&&e.source?.localFile!==null&&(t.source={$case:"localFile",localFile:l5.fromPartial(e.source.localFile)}),t.language=e.language??"",t.country=e.country??"",t}};function ct(e){return BigInt(e.toString())}function cr(e){return null!=e}function ci(){return{$type:"proto.sdui.media.MediaList",mediaFiles:[]}}rL.set(ce.$type,ce),e.util.Long!==n&&(e.util.Long=n,e.configure());let cn={$type:"proto.sdui.media.MediaList",encode(t,r=e.Writer.create()){for(let e of t.mediaFiles)l0.encode(e,r.uint32(10).fork()).ldelim();return r},decode(t,r){let i=t instanceof e.Reader?t:e.Reader.create(t),n=void 0===r?i.len:i.pos+r,o=ci();for(;i.pos<n;){let e=i.uint32();switch(e>>>3){case 1:if(10!==e)break;o.mediaFiles.push(l0.decode(i,i.uint32()));continue}if((7&e)==4||0===e)break;i.skipType(7&e)}return o},fromJSON:e=>({$type:cn.$type,mediaFiles:globalThis.Array.isArray(e?.mediaFiles)?e.mediaFiles.map(e=>l0.fromJSON(e)):[]}),toJSON(e){let t={};return e.mediaFiles?.length&&(t.mediaFiles=e.mediaFiles.map(e=>l0.toJSON(e))),t},create:e=>cn.fromPartial(e??{}),fromPartial(e){let t=ci();return t.mediaFiles=e.mediaFiles?.map(e=>l0.fromPartial(e))||[],t}};rL.set(cn.$type,cn);class co{#e=new Map;setItem(e,t){"undefined"!=typeof document&&this.#e.set(e,t)}getItem(e){return this.#e.get(e)}removeItem(e){"undefined"!=typeof document&&this.#e.delete(e)}clear(){"undefined"!=typeof document&&this.#e.clear()}}let ca=new co;function cs(e=[]){return{$type:"proto.sdui.media.MediaList",mediaFiles:e.map(({file:e,editData:t})=>{let r=Math.random().toString(36).substring(2,15),i={metadata:void 0,fileName:e.name,source:{$case:"localFile",localFile:{fileName:e.name,mimeType:e.type,filePointer:r}},size:e.size.toString(),mimeType:e.type,filePointer:r,mediaFileId:r,editData:t,captions:[],thumbnails:[]};return ca.setItem(i.mediaFileId,e),i})}}async function cl(e,t){try{let r=await fetch(e);if(!r.ok)throw Error(`Error fetching image: ${r.status}`);let i=await r.blob(),n=i.type;return new File([i],t,{type:n})}catch{return null}}async function cc(e){if(e.source?.$case==="remoteImageUrl"){if(ca.getItem(e.mediaFileId))return e;let t=await cl(e.source.remoteImageUrl.imageUrl,e.mediaFileId);if(t)return ca.setItem(e.mediaFileId,t),{...e,fileName:e.mediaFileId,size:t.size.toString(),mimeType:t.type,filePointer:t.webkitRelativePath}}return e}async function cu(e){let t=await Promise.all(e.mediaFiles.map(e=>cc(e)));return{...e,mediaFiles:t}}function cd(e,t,r,i){return()=>{let{onCompleted:n,importedMedia:o,pickerConfig:a}=e;r.openFilePicker({accept:a?[a.imagePickerConfig,a.videoPickerConfig,a.documentPickerConfig,a.audioPickerConfig].filter(e=>void 0!==e).reduce((e,t)=>e.concat(t.allowedMimeTypes||[]),[]).join(","):"",multiple:1!==a?.imagePickerConfig?.maxCount,onFilesSelected:e=>{if(e.length>0&&o?.key){let t=cs(e.map(e=>({file:e,editData:void 0})));i(o?.key,t)}n&&t(n)}})}}function cp({onCompleteFn:e,onCancelFn:i,action:n,setSduiState:o}){let{t:a}=t0(),s=le(),[l,c]=t.useState(!1),[u,d]=t.useState(!1),[p,f]=t.useState(null),[m,g]=t.useState(!1);return u?r.jsx(j,{onPrimaryAction:()=>{cd({...n,onCompleted:{actions:[]}},async()=>{e?.()},s,o)()},headingText:a("camera_update_photo"),blockedMessageText:a("camera_blocked_message"),permissionInstructionText:a("camera_permission_instruction"),secondaryActionText:a("camera_use_camera"),primaryActionText:a("camera_upload_photo"),isSecondaryActionDisabled:!0}):m&&p?r.jsx(B,{capturedPhoto:p,onRetake:()=>{f(null),g(!1),c(!1)},onContinue:()=>{e?.(p||void 0)},headingText:a("camera_photo_preview"),retakeText:a("camera_retake"),continueText:a("camera_continue")}):r.jsxs(r.Fragment,{children:[r.jsx(D,{children:r.jsx(U,{tagName:"h2",children:a("camera_take_photo")})}),r.jsx(M,{children:r.jsx(V,{onCapture:e=>{f(e),g(!0)},triggerCapture:l,onCameraBlocked:()=>{d(!0)}})}),r.jsx(K,{children:r.jsxs(W,{display:"flex",justifyContent:"spaceBetween",children:[r.jsx(J,{category:"secondary",text:a("camera_capture_cancel"),onClick:i}),r.jsx(J,{category:"primary",isEmphasized:!0,text:a("camera_take_photo"),onClick:()=>{c(e=>!e)}})]})})]})}let cf={REGISTRATION:"REGISTRATION",PREPROCESSING:"PREPROCESSING",UPLOAD:"UPLOAD",FINALIZE:"FINALIZE",POLL:"POLL",VALIDATION:"VALIDATION",UNKNOWN:"UNKNOWN"},cm={UNKNOWN:"UNKNOWN",QUEUED:"QUEUED",INPROGRESS:"INPROGRESS",CANCELLED:"CANCELLED",FAILED:"FAILED",COMPLETED:"COMPLETED",TERMINATED:"TERMINATED"},cg={USER_CANCELLED:"USER_CANCELLED",TERMINATED:"TERMINATED"},ch={FILE_NOT_FOUND:"FILE_NOT_FOUND",INVALID_FILE_SIZE:"INVALID_FILE_SIZE",NETWORK_LOST:"NETWORK_LOST",SERVER_PROCESSING_ERROR:"SERVER_PROCESSING_ERROR",UNSUPPORTED_FILE_TYPE:"UNSUPPORTED_FILE_TYPE",UNKNOWN:"UNKNOWN"},cy={STARTED:"STARTED",IN_PROGRESS:"IN_PROGRESS",REGISTRATION_COMPLETED:"REGISTRATION_COMPLETED",PREPROCESSING_STARTED:"PREPROCESSING_STARTED",PREPROCESSING_COMPLETED:"PREPROCESSING_COMPLETED",FILE_UPLOAD_STARTED:"FILE_UPLOAD_STARTED",POLLING_STARTED:"POLLING_STARTED",COMPLETED:"COMPLETED",FAILED:"FAILED",CANCELLED:"CANCELLED",TERMINATED:"TERMINATED",RETRY:"RETRY",APPLICATION_BACKGROUNDED:"APPLICATION_BACKGROUNDED",APPLICATION_FOREGROUNDED:"APPLICATION_FOREGROUNDED"},cb={CLIENT:"CLIENT",SERVER:"SERVER",UNKNOWN:"UNKNOWN",NETWORK:"NETWORK"},cx={TERMINATED:"TERMINATED",USER_CANCELLED:"USER_CANCELLED",UNKNOWN:"UNKNOWN",SERVER_ERROR:"SERVER_ERROR",NETWORK_ERROR:"NETWORK_ERROR",CLIENT_ERROR:"CLIENT_ERROR"},cS=new Uint8Array([99,50,112,97,0,17,0,16,128,0,0,170,0,56,155,113]),cE=new Uint8Array([100,99,116,101,114,109,115,58,112,114,111,118,101,110,97,110,99,101]);class cv extends Error{phase;reason=ch.UNKNOWN;errorType=cb.CLIENT;httpErrorCode=void 0;isCancelled;isTerminated;statusMessage;constructor(e,t){super(e);let{abortReason:r,phase:i}=t;this.phase=i,this.isCancelled=r===cg.USER_CANCELLED,this.isTerminated=r===cg.TERMINATED,this.statusMessage=`Reason: ${r} - ${e}`}}class cT extends Error{reason;phase;httpErrorCode;statusMessage;errorType;constructor(e,t){super(e),this.reason=t.reason,this.phase=t.phase,this.httpErrorCode=t.httpErrorCode,this.errorType=t.errorType,this.statusMessage=`Reason: ${t.reason} - ${t.statusMessage}`}}class cN extends Error{reason;originalError;isCancelled;constructor(e,t){super(e),this.reason=t.reason,this.originalError=t.originalError,this.isCancelled=t.isCancelled}}function c_({component:e,message:t="",error:r}){let i=function(e){let t="";try{e&&(t=e instanceof Error?`${e.message}`:`${JSON.stringify(e)}`)}catch{}return t}(r);return t&&i?`${e} - ${t} : ${i}`:t?`${e} - ${t}`:i?`${e} - ${i}`:`${e}`}function ck(e){let t=cb.UNKNOWN;return void 0===e||(e>=500?t=cb.SERVER:e>=400?t=cb.CLIENT:0===e&&(t=cb.NETWORK)),t}function cI(e){return void 0===e?ch.UNKNOWN:0===e?ch.NETWORK_LOST:e>=400?ch.SERVER_PROCESSING_ERROR:ch.UNKNOWN}class cO{constructor(e,t){this.listener=t,this.id=e,this.listener=t}id;tasks=new Map;taskPromises=[];jobState=cm.UNKNOWN;jobProgress=0;get state(){return this.jobState}get progress(){return this.jobProgress}getTask(e){return this.tasks.get(e)??null}getTaskList(){return Array.from(this.tasks.values())}getFirstTask(){return this.getTaskList()[0]??null}addTask(e){this.jobState=cm.QUEUED,this.tasks.has(e.id)||this.tasks.set(e.id,e)}run(){this.jobState=cm.INPROGRESS,this.tasks.forEach(e=>{this.taskPromises.push(e.run())})}async isDone(){try{let e=await Promise.all(this.taskPromises);return this.jobState=cm.COMPLETED,e}catch(e){throw e instanceof cN?this.jobState=e.isCancelled?cm.CANCELLED:cm.FAILED:this.jobState=cm.FAILED,this.tasks.forEach(e=>{e.status.state!==this.state&&e.terminate()}),e}}onUpdate(){if(0===this.tasks.size)this.jobProgress=0;else{let e=0;this.tasks.forEach(t=>{e+=t.status.progress}),this.jobProgress=parseFloat((e/this.tasks.size).toFixed(2))}this.listener?.onProgress(this)}cancel(){this.tasks.forEach(e=>e.cancel())}}function cC(e="",t){let r=t.find(t=>t.url===e);return{partUploadId:e,firstByteOffset:r?.chunk.firstByteOffset,lastByteOffset:r?.chunk.lastByteOffset}}class cP{trackingId;ingestionStartTime;assetUrn;assetId;uploadMechanism;trackingCore;contentCreationUseCase;media;constructor({trackingCore:e,assetUrn:t,uploadMechanism:r,useCaseUrns:i}){this.trackingCore=e,this.trackingId=o(),this.ingestionStartTime=performance.now(),this.assetUrn=t,this.assetId=this.getAssetIdFromAssetUrn(),this.uploadMechanism=r,this.contentCreationUseCase=function(e){let t=e[0];if(!t)return"UNKNOWN";switch(t.toLowerCase()){case"urn:li:digitalmediausecase:comment-image":return"COMMENT_IMAGE";case"urn:li:digitalmediausecase:profile-displayphoto-image":return"PROFILE_DISPLAY_PHOTO";case"urn:li:digitalmediausecase:profile-originalphoto-image":return"PROFILE_ORIGINAL_PHOTO";case"urn:li:digitalmediausecase:profile-displaybackground-image":return"PROFILE_DISPLAY_BACKGROUND";case"urn:li:digitalmediausecase:profile-originalbackground-image":return"PROFILE_ORIGINAL_BACKGROUND";case"urn:li:digitalmediausecase:profile-treasury-image":return"PROFILE_TREASURY_IMAGE";case"urn:li:digitalmediausecase:profile-treasury-document":return"PROFILE_TREASURY_DOCUMENT";default:return"UNKNOWN"}}(i)}getAssetIdFromAssetUrn(){return this.assetUrn.split("urn:li:digitalmediaAsset:")[1]??""}buildMediaFileInfo(e,t){let r={};if(e&&(r.fileName=e.name,r.size=e.size,r.contentType=e.type),t&&(r.fileHash=t.metadata?.fileHash,r.containsC2PAManifest=t.metadata?.hasC2PA),0!==Object.keys(r).length)return r}buildUploadStatusEvent({mediaFileInfo:e,uploadState:t,videoDuration:r,statusMessage:i,httpErrorCode:n,errorPhase:o,errorType:a}){return{assetId:this.assetId,digitalMediaArtifactUrn:this.assetUrn,durationSinceUploadStarted:Math.round(performance.now()-this.ingestionStartTime),errorPhase:o,errorType:a,httpErrorCode:n,mediaFileInfo:e,mediaContentCreationSessionTrackingObject:{sessionTrackingId:this.trackingId,useCase:this.contentCreationUseCase},uploadMechanism:this.uploadMechanism,uploadSessionTrackingId:this.trackingId,uploadState:t,videoDuration:r,isNile:!0,statusMessage:i,uploadUseCase:"UNKNOWN",fileSizeInBytes:0}}setMediaToIngest(e){this.media=e}fireUploadStatusEvent({file:e,media:t,uploadState:r,statusMessage:i,httpErrorCode:n,errorPhase:o,errorType:a}){let s=t??this.media;this.trackingCore.fireEvent("UploadStatusEvent",this.buildUploadStatusEvent({mediaFileInfo:this.buildMediaFileInfo(e??s?.file,t??s),uploadState:r,statusMessage:i,videoDuration:s?.metadata?.duration??void 0,httpErrorCode:n,errorPhase:o,errorType:a}))}fireDebugEvent({file:e,statusMessage:t}){this.trackingCore.fireEvent("UploadStatusEvent",this.buildUploadStatusEvent({mediaFileInfo:this.buildMediaFileInfo(e??this.media?.file,this.media),uploadState:"UNKNOWN",statusMessage:`DEBUG: ${t}`}))}firePartUploadCompletedEvent({uploadHandler:e,uploadRequests:t,file:r}){let i=e.xhrRequest;if(!i||void 0===i.partUploadStartTime){this.fireDebugEvent({file:r,statusMessage:c_({component:"Ingestion Tracker",message:"PartUploadCompletedEvent not fired because the upload handler is not defined or the part upload start time is not defined"})});return}this.trackingCore.fireEvent("PartUploadCompletedEvent",{digitalMediaArtifactUrn:this.assetUrn,numberOfRetries:e.getAttemptCount()-1,partUploadMetadata:cC(e.url,t),uploadSessionTrackingId:this.trackingId,uploadMechanism:this.uploadMechanism,uploadDuration:Math.round(performance.now()-i.partUploadStartTime)})}firePartUploadFailureEvent({uploadHandler:e,uploadRequests:t,file:r,bytesTransferred:i}){let n;let o=e.xhrRequest;if(!o||void 0===o.partUploadStartTime){this.fireDebugEvent({file:r,statusMessage:c_({component:"Ingestion Tracker",message:"PartUploadFailureEvent not fired because the upload handler is not defined or the part upload start time is not defined"})});return}let{responseText:a,status:s}=o,l=o.getAllResponseHeaders();this.trackingCore.fireEvent("PartUploadFailureEvent",{bytesTransferred:i,digitalMediaArtifactUrn:this.assetUrn,errorType:function(e){switch(e){case cg.TERMINATED:return cx.TERMINATED;case cg.USER_CANCELLED:return cx.USER_CANCELLED;default:return null}}(e.abortReason)??function(e){switch(ck(e)){case cb.SERVER:return cx.SERVER_ERROR;case cb.CLIENT:return cx.CLIENT_ERROR;case cb.NETWORK:return cx.NETWORK_ERROR;case cb.UNKNOWN:default:return cx.UNKNOWN}}(s),partUploadMetadata:cC(e.url,t),responseBody:(n="",l&&(n+=`[Headers]: ${l}`),a&&(n+=`${n.length?"\n":""}[Response Text]: ${a}`),n),statusCode:s,uploadDuration:Math.round(performance.now()-o.partUploadStartTime),uploadMechanism:this.uploadMechanism,uploadSessionTrackingId:this.trackingId})}}function cR(e){return/^image\//.test(e.type)}function cw(e){return new Promise((t,r)=>{let i=new FileReader;i.onloadend=e=>{if(!e.target)return r(Error("readFileAsArrayBuffer - Failed to read file"));let i=e.target.result;if(null===i)return r(Error("readFileAsArrayBuffer - File read completed but result is null"));t(i)},i.onerror=e=>r(Error(`readFileAsArrayBuffer - Error reading file: ${e.target?.error?.name}`)),i.readAsArrayBuffer(e)})}async function cA(e){let t=await cw(e);return Array.from(new Uint8Array(await crypto.subtle.digest("SHA-256",t))).map(e=>e.toString(16).padStart(2,"0")).join("")}let c$=e=>e.subarray(0,1e6),cL=e=>e.subarray(-1e6);async function cM(e){let t=new Uint8Array(await cw(e));return cD(c$(t),cS)||cD(cL(t),cS)||cD(c$(t),cE)||cD(cL(t),cE)}function cD(e,t){let r=0,i=0,n=e.length,o=t.length;for(;r<n&&i<o;)if(e[r]===t[i]){if(r++,++i===o)return!0}else r=r-i+1,i=0;return!1}class cU{fileReference;file;fileMetadata={duration:null,fileHash:"",hasC2PA:!1};tracker;constructor({fileReference:e,tracker:t}){this.fileReference=e,this.tracker=t;let r=ca.getItem(this.fileReference);if(!r)throw new cT("Validation Failed",{reason:ch.FILE_NOT_FOUND,phase:cf.VALIDATION,statusMessage:`File not found with reference: ${this.fileReference} in client media file store`,errorType:cb.CLIENT});if(r.size<=0)throw new cT("Validation Failed",{reason:ch.INVALID_FILE_SIZE,phase:cf.VALIDATION,statusMessage:`Invalid file size: ${r.size}`,errorType:cb.CLIENT});this.file=r}get hasC2PA(){return!!this.fileMetadata?.hasC2PA}get metadata(){return this.fileMetadata}fetchMetadata(){return Promise.all([this.fetchAndUpdateVideoDurationInfo(),this.fetchAndUpdateFileHashInfo(),this.fetchAndUpdateC2PAInfo()])}updateMetadata(e){this.fileMetadata={...this.fileMetadata,...e}}async fetchAndUpdateVideoDurationInfo(){var e,t;if(e=this.file,/^video\//.test(e.type))try{let e=await (t=this.file,new Promise((e,r)=>{if("undefined"!=typeof document&&"undefined"!=typeof window){let i=document.createElement("video");i.preload="metadata";let n=window.URL.createObjectURL(t),o=()=>{window.URL.revokeObjectURL(n),i.removeEventListener("loadedmetadata",a),i.removeEventListener("error",s)},a=()=>{let t=Math.round(1e3*i.duration);o(),e(t)},s=e=>{o(),r(Error(`Error loading video metadata: ${e.message}`))};i.addEventListener("loadedmetadata",a),i.addEventListener("error",s),i.src=n}else r(Error("Document or window not defined"))}));this.updateMetadata({duration:e})}catch(e){this.fireDebugEvent(this.file,e)}}async fetchAndUpdateFileHashInfo(){try{let e=await cA(this.file);this.updateMetadata({fileHash:e})}catch(e){this.fireDebugEvent(this.file,e)}}async fetchAndUpdateC2PAInfo(){try{let e=await cM(this.file);this.updateMetadata({hasC2PA:e})}catch(e){this.fireDebugEvent(this.file,e)}}fireDebugEvent(e,t){this.tracker.fireDebugEvent({file:e,statusMessage:c_({component:"Media",error:t})})}updateFileToIngest(e){this.file=e}}let cF="Media Validation Step Aborted";class cj{fileReference;tracker;constructor({fileReference:e,tracker:t}){this.fileReference=e,this.tracker=t}run(e,t){return e.aborted?Promise.reject(new cv(cF,{abortReason:e.reason,phase:cf.VALIDATION})):(t(),this.validate(e))}async validate(e){let t=()=>{throw new cv(cF,{abortReason:e.reason,phase:cf.VALIDATION})};e.addEventListener("abort",t);try{let e=new cU({fileReference:this.fileReference,tracker:this.tracker});return await e.fetchMetadata(),e}catch(e){if(e instanceof cT||e instanceof cv)throw e;throw new cT("Validation Failed",{errorType:cb.UNKNOWN,reason:ch.UNKNOWN,phase:cf.VALIDATION,statusMessage:e instanceof Error?e.message:JSON.stringify(e)})}finally{e.removeEventListener("abort",t)}}}class cB{media;file;tracker;constructor({media:e,tracker:t}){this.media=e,this.file=e.file,this.tracker=t}async run(e){return e.aborted?Promise.reject(new cv("Image Preprocessor Aborted",{abortReason:e.reason,phase:cf.PREPROCESSING})):this.preprocessImage(e)}async preprocessImage(e){let t=()=>{throw new cv("Image Preprocessor Aborted",{abortReason:e.reason,phase:cf.PREPROCESSING})};e.addEventListener("abort",t);let r=null;try{if("undefined"!=typeof window&&"undefined"!=typeof document){r=window.URL.createObjectURL(this.file);let t=await this.loadImage(r,e),{naturalHeight:i,naturalWidth:n}=t;if(i*n<=0x227a400)return;this.tracker.fireUploadStatusEvent({media:this.media,file:this.file,uploadState:cy.PREPROCESSING_STARTED});let{height:o,width:a}=this.getImageDimensionsToResize(n,i);if(e.aborted)throw new cv("Image Preprocessor Aborted",{abortReason:e.reason,phase:cf.PREPROCESSING});let s=await this.resizeImage(t,a,o,this.file);this.media.updateFileToIngest(s),this.tracker.fireUploadStatusEvent({media:this.media,file:s,uploadState:cy.PREPROCESSING_COMPLETED})}else throw Error("Document or window not available")}catch(e){if(this.fireDebugEvent("Image Preprocessor Error",e),e instanceof cv)throw e}finally{r&&"undefined"!=typeof window&&window.URL.revokeObjectURL(r),e.removeEventListener("abort",t)}}getImageDimensionsToResize(e,t){let r=Math.floor(1e3*Math.sqrt(0x227a400/(e*t)))/1e3;return{height:Math.floor(t*r),width:Math.floor(e*r)}}async resizeImage(e,t,r,i){if("undefined"!=typeof document){let n=document.createElement("canvas");n.width=t,n.height=r;let o=n.getContext("2d");if(!o)throw Error("Failed to get 2D context from canvas");o.drawImage(e,0,0,n.width,n.height);let a=await this.canvasToBlob(n,i.type);if(!a)throw Error("Failed to convert image to blob");return new File([a],i.name,{type:i.type,lastModified:i.lastModified})}throw Error("Document not available for image resizing")}canvasToBlob(e,t){return new Promise(r=>{e.toBlob(e=>{r(e)},t)})}loadImage(e,t){return new Promise((r,i)=>{if(t.aborted){i(new cv("Image loading aborted",{abortReason:t.reason,phase:cf.PREPROCESSING}));return}let n=new Image,o=()=>{n.onload=null,n.onerror=null,t.removeEventListener("abort",a)},a=()=>{o(),i(new cv("Image loading aborted",{abortReason:t.reason,phase:cf.PREPROCESSING}))};t.addEventListener("abort",a),n.onload=()=>{o(),r(n)},n.onerror=()=>{o(),i(Error("Failed to load image"))},n.src=e})}fireDebugEvent(e,t){this.tracker.fireDebugEvent({file:this.file,statusMessage:c_({component:"Image Preprocessor",message:e,error:t})})}}async function cV(e,t,r){let i=e[0];if(!i)return!1;let n=i.toLowerCase().split("urn:li:digitalmediausecase:")[1],o=t.type.split("image/")[1];return!!(n&&o&&["comment-image","feedshare-image","profile-displayphoto-image","profile-originalphoto-image","profile-displaybackground-image","profile-originalbackground-image","profile-treasury-image"].includes(n))&&(await cJ(t,r)?!["heic","heif","webp","png","jpeg","bmp","tiff","gif"].includes(o):(r?.fireDebugEvent({statusMessage:c_({component:"Preprocessing Utils",message:"Invalid magic number, transform file"}),file:t}),!0))}let cK={"image/jpeg":[[255,216,255]],"image/png":[[137,80,78,71,13,10,26,10]],"image/gif":[[71,73,70,56,55,97],[71,73,70,56,57,97]],"image/webp":[[82,73,70,70,null,null,null,null,87,69,66,80]],"image/bmp":[[66,77]],"image/tiff":[[73,73,42,0],[77,77,0,42]],"image/heic":[[null,null,null,null,102,116,121,112,104,101,105,99],[null,null,null,null,102,116,121,112,109,105,102,49]],"image/heif":[[null,null,null,null,102,116,121,112,104,101,105,102],[null,null,null,null,102,116,121,112,104,101,105,120]]};async function cW(e,t){let r=e.slice(0,t);return new Uint8Array(await cw(r))}async function cJ(e,t){let r=e.type.toLowerCase(),i=cK[r];if(!i)return t?.fireDebugEvent({statusMessage:c_({component:"Preprocessing Utils",message:`No magic numbers defined for MIME type: ${r}`}),file:e}),!1;try{let t=Math.max(...i.map(e=>e.length)),r=await cW(e,t);return i.some(e=>!(r.length<e.length)&&e.every((e,t)=>null===e||r[t]===e))}catch(r){return t?.fireDebugEvent({statusMessage:c_({component:"Preprocessing Utils",message:"Failed to read file bytes",error:r}),file:e}),!1}}function cG(e,t){return new Promise((r,i)=>{if(t.aborted){i(new cv("Image loading aborted",{abortReason:t.reason,phase:cf.PREPROCESSING}));return}let n=new Image,o=()=>{n.onload=null,n.onerror=null,t.removeEventListener("abort",a)},a=()=>{o(),i(new cv("Image loading aborted",{abortReason:t.reason,phase:cf.PREPROCESSING}))};t.addEventListener("abort",a),n.onload=()=>{o(),r(n)},n.onerror=()=>{o(),i(Error("Failed to load image"))},n.src=e})}function cz(e,t){return new Promise(r=>{e.toBlob(e=>{r(e)},t)})}function cH(e,t,r){if("undefined"!=typeof document){let i=document.createElement("canvas");i.width=t,i.height=r;let n=i.getContext("2d");if(!n)throw Error("Failed to get 2D context from canvas");return n.drawImage(e,0,0,i.width,i.height),i}throw Error("Document not available for canvas creation")}async function cq(e,t){if("undefined"!=typeof window){let r=window.URL.createObjectURL(e);try{return await t(r)}finally{window.URL.revokeObjectURL(r)}}throw Error("Window not available for object URL creation")}let cY="image/webp",cX="Image Format Preprocessor Aborted";class cZ{media;tracker;constructor({media:e,tracker:t}){this.media=e,this.tracker=t}async run(e){return e.aborted?Promise.reject(new cv(cX,{abortReason:e.reason,phase:cf.PREPROCESSING})):this.preprocessImageFormat(e)}async preprocessImageFormat(e){let t=()=>{throw new cv(cX,{abortReason:e.reason,phase:cf.PREPROCESSING})};try{e.addEventListener("abort",t);let r=null;return await cq(this.media.file,async t=>{let i=await cG(t,e);r=await this.convertImageToTargetFormat(i),this.media.updateFileToIngest(r)}),!!r}catch(e){if(this.tracker.fireDebugEvent({file:this.media.file,statusMessage:c_({component:"Image Format Preprocessor",message:"Failed to preprocess image format",error:e})}),e instanceof cv)throw e;return!1}finally{e.removeEventListener("abort",t)}}async convertImageToTargetFormat(e){let{naturalHeight:t,naturalWidth:r}=e,i=cH(e,r,t),n=await cz(i,cY);if(!n)throw Error("Failed to convert image to blob");return new File([n],this.media.file.name.replace(/\.[^.]+$/,"")+"."+cY.replace("image/",""),{type:cY,lastModified:this.media.file.lastModified})}}let cQ="Image Size Preprocessor Aborted";class c0{file;media;isTransformedFile;tracker;constructor({file:e,media:t,tracker:r,isTransformedFile:i}){this.file=e,this.media=t,this.tracker=r,this.isTransformedFile=i}async run(e){return e.aborted?Promise.reject(new cv(cQ,{abortReason:e.reason,phase:cf.PREPROCESSING})):this.preprocessImageSize(e)}async preprocessImageSize(e){let t=()=>{throw new cv(cQ,{abortReason:e.reason,phase:cf.PREPROCESSING})};try{e.addEventListener("abort",t);let r=null;return await cq(this.file,async t=>{let i=await cG(t,e),{naturalHeight:n,naturalWidth:o}=i;if(n*o<=0x227a400)return;this.tracker.fireDebugEvent({file:this.file,statusMessage:c_({component:"Image Size Preprocessor",message:"Image resolution is too large, resizing image"})}),this.isTransformedFile||this.tracker.fireUploadStatusEvent({media:this.media,file:this.file,uploadState:cy.PREPROCESSING_STARTED});let{height:a,width:s}=this.getImageDimensionsToResize(o,n);r=await this.resizeImage(i,s,a,this.file),this.media.updateFileToIngest(r)}),!!r}catch(e){if(this.tracker.fireDebugEvent({file:this.file,statusMessage:c_({component:"Image Size Preprocessor",message:"Failed to preprocess image size",error:e})}),e instanceof cv)throw e;return!1}finally{e.removeEventListener("abort",t)}}getImageDimensionsToResize(e,t){let r=Math.floor(1e3*Math.sqrt(0x227a400/(e*t)))/1e3;return{height:Math.floor(t*r),width:Math.floor(e*r)}}async resizeImage(e,t,r,i){let n=cH(e,t,r),o=await cz(n,i.type);if(!o)throw Error("Failed to convert image to blob");return new File([o],i.name,{type:i.type,lastModified:i.lastModified})}}let c1="Image Preprocessor V2 Aborted";class c2{media;tracker;useCaseUrns;constructor({media:e,tracker:t,useCaseUrns:r}){this.media=e,this.tracker=t,this.useCaseUrns=r}async run(e){var t;if(e.aborted)return Promise.reject(new cv(c1,{abortReason:e.reason,phase:cf.PREPROCESSING}));if(cR(t=this.media.file)&&"image/svg+xml"===t.type)throw this.tracker.fireDebugEvent({file:this.media.file,statusMessage:c_({component:"Image Preprocessor V2",message:`${ch.UNSUPPORTED_FILE_TYPE} - SVG files are not supported`})}),new cT("SVG files are not supported",{reason:ch.UNSUPPORTED_FILE_TYPE,phase:cf.PREPROCESSING,statusMessage:"SVG files are not supported",errorType:cb.CLIENT});return this.preprocessImage(e)}async preprocessImage(e){let t=()=>{throw new cv(c1,{abortReason:e.reason,phase:cf.PREPROCESSING})};e.addEventListener("abort",t);try{let t=await cV(this.useCaseUrns,this.media.file,this.tracker),r=!1;if(t){this.tracker.fireUploadStatusEvent({media:this.media,file:this.media.file,uploadState:cy.PREPROCESSING_STARTED});let t=new cZ({media:this.media,tracker:this.tracker});r=await t.run(e)}let i=new c0({media:this.media,tracker:this.tracker,file:this.media.file,isTransformedFile:r}),n=await i.run(e);(r||n)&&this.tracker.fireUploadStatusEvent({media:this.media,file:this.media.file,uploadState:cy.PREPROCESSING_COMPLETED})}finally{e.removeEventListener("abort",t)}}}let c3="Media Preprocessing Step Aborted";class c4{media;tracker;featureFlags;useCaseUrns;constructor({media:e,tracker:t,featureFlags:r,useCaseUrns:i}){this.media=e,this.tracker=t,this.featureFlags=r,this.useCaseUrns=i}run(e,t){return e.aborted?Promise.reject(new cv(c3,{abortReason:e.reason,phase:cf.PREPROCESSING})):(t(),this.preprocess(e))}async preprocess(e){let t=()=>{throw new cv(c3,{abortReason:e.reason,phase:cf.PREPROCESSING})};e.addEventListener("abort",t);try{if(!cR(this.media.file))return;if(this.featureFlags?.enableMediaPreprocessorV2){let t=new c2({media:this.media,tracker:this.tracker,useCaseUrns:this.useCaseUrns});await t.run(e);return}let t=new cB({media:this.media,tracker:this.tracker});await t.run(e)}catch(e){if(e instanceof cv||e instanceof cT)throw e;throw new cT("Media Preprocessing Failed",{reason:ch.UNKNOWN,phase:cf.PREPROCESSING,errorType:cb.UNKNOWN,statusMessage:e instanceof Error?e.message:JSON.stringify(e)})}finally{e.removeEventListener("abort",t)}}}function c7({tracker:e,component:t,message:r,phase:i}){throw e.fireDebugEvent({statusMessage:c_({component:t,message:"Media / Upload file not found"})}),new cT("Media not found",{reason:ch.UNKNOWN,phase:i,errorType:cb.CLIENT,statusMessage:c_({component:t,message:r})})}function c5(e){if(e instanceof cv){if(e.isCancelled)return cy.CANCELLED;if(e.isTerminated)return cy.TERMINATED}return cy.FAILED}function c6(){return"undefined"!=typeof window?window.navigator.onLine?"ONLINE":"OFFLINE":"UNKNOWN"}class c8{firstByte;lastByte;uploadBlob;constructor({firstByte:e,lastByte:t,blob:r}){this.firstByte=e,this.lastByte=t,this.uploadBlob=r}get blob(){return this.uploadBlob}get firstByteOffset(){return this.firstByte}get lastByteOffset(){return this.lastByte}}let c9="multipartUploadInstruction";class ue{media;uploadInstruction;uploadRequests=[];finalizeUrl;constructor({uploadInstruction:e,media:t}){this.uploadInstruction=e,this.media=t,this.generateUploadRequests()}getFile(){return this.media.file}getMedia(){return this.media}getUploadRequests(){return[...this.uploadRequests]}getFinalizeUrl(){if(this.uploadInstruction.$case!==c9)throw Error(`Invalid access of finalize url. Finalize url is only supported for multipart upload. Current upload instruction type: ${this.uploadInstruction.$case}`);if(!this.finalizeUrl)throw Error("Finalize url is not set");return this.finalizeUrl}generateUploadRequests(){if("singleRequestUploadInstruction"===this.uploadInstruction.$case){this.uploadRequests.length=0;let e=this.uploadInstruction.singleRequestUploadInstruction;this.uploadRequests.push({headers:e.uploadHeaders.reduce((e,t)=>(e[t.key]=t.value,e),{}),url:e.uploadUrl,chunk:new c8({firstByte:0,lastByte:this.media.file.size-1,blob:this.media.file})})}if(this.uploadInstruction.$case===c9){this.uploadRequests.length=0;let{uploadUrlPrefix:e,partUploadRequests:t,finalizeUrl:r}=this.uploadInstruction.multipartUploadInstruction;for(let i of(this.finalizeUrl=r,t)){let t=Number(i.byteRange?.start??0),r=i.byteRange?.end?Number(i.byteRange.end):this.media.file.size-1;this.uploadRequests.push({headers:i.uploadHeaders.reduce((e,t)=>(e[t.key]=t.value,e),{}),url:`${e}${i.uploadUrlSuffix}`,chunk:new c8({firstByte:t,lastByte:r,blob:this.media.file.slice(t,r+1)})})}}}}class ut extends Error{status;statusText;response;xhr;isAborted;constructor(e,t){super(`[IngestionRequestHandler] ${e}`),this.name="RequestError",this.status=t?.status,this.statusText=t?.statusText,this.response=t?.response,this.xhr=t?.xhr,this.isAborted=t?.isAborted}}class ur{xhr;isAborted=!1;requestSent=!1;config;attemptCount=0;requestAbortReason;constructor(e){this.config=e}get xhrRequest(){return this.xhr}get url(){return this.config.url}get abortReason(){return this.requestAbortReason}createRequestError(e,t){return new ut(e,{isAborted:this.isAborted,status:t?.status,statusText:t?.statusText,response:t?.responseText||"",xhr:t})}execute(){return this.attemptCount++,new Promise((e,t)=>{this.xhr=new XMLHttpRequest;let{method:r,url:i,headers:n,timeout:o,onProgress:a,onUploadProgress:s,beforeSend:l,body:c}=this.config;if(this.xhr.open(r,i,!0),o&&(this.xhr.timeout=o),n&&Object.entries(n).forEach(([e,t])=>{this.xhr?.setRequestHeader(e,t)}),a&&this.xhr.addEventListener("progress",a),s&&this.xhr.upload&&this.xhr.upload.addEventListener("progress",s),this.xhr.addEventListener("load",()=>{if(!this.xhr){t(this.createRequestError("Failed to create XMLHttpRequest"));return}if(this.xhr.status>=200&&this.xhr.status<300||304===this.xhr.status){let t;try{t=this.xhr.responseText?JSON.parse(this.xhr.responseText):null}catch{t=this.xhr.responseText}e({data:t,status:this.xhr.status,statusText:this.xhr.statusText,xhr:this.xhr})}else t(this.createRequestError(`Failed with status ${this.xhr.status}: ${this.xhr.statusText}`,this.xhr))}),this.xhr.addEventListener("error",()=>{t(this.createRequestError("Network error occurred",this.xhr))}),this.xhr.addEventListener("timeout",()=>{t(this.createRequestError("Request timed out",this.xhr))}),this.xhr.addEventListener("abort",()=>{t(this.createRequestError("Request was aborted",this.xhr))}),this.isAborted){t(this.createRequestError("Request was aborted before sending",this.xhr));return}if(l&&this.xhr)try{l(this.xhr)}catch(e){t(this.createRequestError(`beforeSend callback failed: ${e instanceof Error?e.message:String(e)}`,this.xhr));return}try{this.requestSent=!0,this.xhr?.send(c||null)}catch(e){t(this.createRequestError(`Failed to send request: ${e instanceof Error?e.message:String(e)}`))}})}abort(e){this.isAborted=!0,this.requestAbortReason=e,this.xhr&&this.xhr.abort()}getAttemptCount(){return this.attemptCount}getState(){return{isAborted:this.isAborted,requestSent:this.requestSent,hasXhr:!!this.xhr,attemptCount:this.attemptCount}}}let ui="Single Uploader Aborted",un="Single Uploader",uo={INVALID_REQUESTS:"Expected 1 upload request, got",NO_UPLOAD_URL:"No upload url found"},ua={MAX_RETRIES:3,INITIAL_DELAY_SECONDS:5,BACKOFF_FACTOR:2};class us{uploadClient;tracker;onProgressCallback;bytesTransferred=0;constructor({uploadClient:e,tracker:t,onProgressCallback:r}){this.uploadClient=e,this.tracker=t,this.onProgressCallback=r}async upload(e){if(e.aborted)throw new cv(ui,{abortReason:e.reason,phase:cf.UPLOAD});let t=this.uploadClient.getUploadRequests();if(1!==t.length)throw new cT("Invalid upload requests",{reason:ch.UNKNOWN,phase:cf.UPLOAD,errorType:cb.UNKNOWN,statusMessage:c_({component:un,message:`${uo.INVALID_REQUESTS} ${t.length}`})});let{url:r,headers:i,chunk:n}=t[0];if(!r)throw new cT(uo.NO_UPLOAD_URL,{reason:ch.UNKNOWN,phase:cf.UPLOAD,errorType:cb.UNKNOWN,statusMessage:c_({component:un,message:uo.NO_UPLOAD_URL})});let o=new ur({method:"PUT",url:r,headers:i,body:n.blob,beforeSend:e=>{e.partUploadStartTime=performance.now()},onUploadProgress:({lengthComputable:e,loaded:t,total:r})=>{e&&(this.bytesTransferred=t,this.onProgressCallback(t/r))}}),a=()=>{o.abort(e.reason)};e.addEventListener("abort",a);try{return this.tracker.fireUploadStatusEvent({file:this.uploadClient.getFile(),media:this.uploadClient.getMedia(),uploadState:cy.IN_PROGRESS}),await this.attemptUploadWithRetry(e,o)}finally{e.removeEventListener("abort",a)}}async attemptUploadWithRetry(e,t){if(e.aborted)throw new cv(ui,{abortReason:e.reason,phase:cf.UPLOAD});try{await t.execute(),this.onProgressCallback(1),this.tracker.firePartUploadCompletedEvent({uploadHandler:t,uploadRequests:this.uploadClient.getUploadRequests(),file:this.uploadClient.getFile()})}catch(i){if(!(i instanceof ut))throw new cT("Unknown error",{errorType:cb.UNKNOWN,phase:cf.UPLOAD,reason:ch.UNKNOWN,statusMessage:c_({component:un,message:"Unknown error occured when trying to upload",error:i})});if(this.tracker.firePartUploadFailureEvent({uploadHandler:t,uploadRequests:this.uploadClient.getUploadRequests(),file:this.uploadClient.getFile(),bytesTransferred:this.bytesTransferred}),i.isAborted)throw new cv(ui,{abortReason:e.reason,phase:cf.UPLOAD});if(this.shouldFail(t)){if(!t.xhrRequest)throw new cT("Invalid XHR request",{errorType:cb.UNKNOWN,phase:cf.UPLOAD,reason:ch.UNKNOWN,statusMessage:c_({component:un,message:`Invalid XHR request, online status: ${c6()}`,error:i})});throw new cT(this.has4xxError(t.xhrRequest)?"Upload failed due to 4xx error":"Upload failed after max attempts",{errorType:ck(i.status),phase:cf.UPLOAD,httpErrorCode:i.status,reason:cI(i.status),statusMessage:c_({component:un,message:`Upload failed with status code ${i.status} after ${t.getAttemptCount()} attempts, online status: ${c6()}`,error:i})})}let r=ua.INITIAL_DELAY_SECONDS*Math.pow(ua.BACKOFF_FACTOR,t.getAttemptCount()-1);return this.tracker.fireUploadStatusEvent({file:this.uploadClient.getFile(),media:this.uploadClient.getMedia(),uploadState:cy.RETRY,statusMessage:c_({component:un,message:`Upload failed with status code ${i.status} after ${t.getAttemptCount()-1} retries - retrying again in ${r} seconds, online status: ${c6()}`,error:i}),errorPhase:cf.UPLOAD,errorType:ck(i.status),httpErrorCode:i.status}),await this.sleep(r,e),this.attemptUploadWithRetry(e,t)}}shouldFail(e){if(!e.xhrRequest)return!0;let t=e.getAttemptCount()>ua.MAX_RETRIES;return this.has4xxError(e.xhrRequest)||t}has4xxError(e){return 4===Math.floor(e.status/100)}sleep(e,t){return new Promise((r,i)=>{if(t.aborted){i(new cv(ui,{abortReason:t.reason,phase:cf.UPLOAD}));return}let n=()=>{clearTimeout(o),i(new cv(ui,{abortReason:t.reason,phase:cf.UPLOAD}))},o=setTimeout(()=>{t.removeEventListener("abort",n),r()},1e3*e);t.addEventListener("abort",n)})}}class ul{permits;waitingQueue=[];constructor(e){if(e<=0)throw Error("Permits must be greater than 0");this.permits=e}async acquire(){return new Promise(e=>{this.permits>0?(this.permits--,e(()=>this.release())):this.waitingQueue.push(()=>{this.permits--,e(()=>this.release())})})}release(){if(this.permits++,this.waitingQueue.length>0){let e=this.waitingQueue.shift();e&&e()}}}let uc={MAX_RETRIES:3,INITIAL_DELAY_SECONDS:5,BACKOFF_FACTOR:2};function uu(e){return 4===Math.floor(e.status/100)}let ud="Multipart Uploader Aborted",up="Multipart Uploader",uf={INVALID_REQUESTS:"Expected multiple upload requests, got",NO_UPLOAD_URL:"No upload url found"};class um{uploadClient;tracker;onProgressCallback;maxConcurrentRequests;totalBytes=0;activeUploadHandlers=[];uploadQueue=[];partProgress=[];uploadResults=[];uploadFailureCause=null;constructor({uploadClient:e,tracker:t,onProgressCallback:r}){this.uploadClient=e,this.tracker=t,this.onProgressCallback=r,this.maxConcurrentRequests=10}async upload(e){if(e.aborted)throw new cv(ud,{abortReason:e.reason,phase:cf.UPLOAD});let t=this.uploadClient.getUploadRequests();if(t.length<=1)throw new cT("Invalid upload requests",{reason:ch.UNKNOWN,phase:cf.UPLOAD,errorType:cb.UNKNOWN,statusMessage:c_({component:up,message:`${uf.INVALID_REQUESTS} ${t.length}`})});this.totalBytes=t.reduce((e,t)=>e+t.chunk.blob.size,0),this.uploadQueue=t.map((e,t)=>({request:e,index:t})),this.partProgress=t.map(e=>({loaded:0,total:e.chunk.blob.size})),this.uploadResults=[],this.uploadFailureCause=null;try{return this.tracker.fireUploadStatusEvent({file:this.uploadClient.getFile(),media:this.uploadClient.getMedia(),uploadState:cy.IN_PROGRESS}),await this.uploadWithConcurrencyControl(e),this.onProgressCallback(1),this.uploadResults}catch(e){throw this.abortAllActiveUploads(),e}}async uploadWithConcurrencyControl(e){let t=new ul(this.maxConcurrentRequests),r=this.uploadQueue.map(({request:r,index:i})=>t.acquire().then(async t=>{try{await this.uploadPart({request:r,partIndex:i,abortSignal:e})}catch(t){let e=!this.uploadFailureCause;if(e&&(this.uploadFailureCause=t),t instanceof cv&&!e)return;throw t}finally{t()}}));try{await Promise.all(r)}catch(e){if(this.uploadFailureCause)throw this.uploadFailureCause;throw e}}async uploadPart({request:e,partIndex:t,abortSignal:r}){if(r.aborted)throw new cv(ud,{abortReason:r.reason,phase:cf.UPLOAD});if(!e.url)throw new cT(uf.NO_UPLOAD_URL,{reason:ch.UNKNOWN,phase:cf.UPLOAD,errorType:cb.UNKNOWN,statusMessage:c_({component:up,message:`${uf.NO_UPLOAD_URL} for part ${t+1}`})});let i=new ur({method:"PUT",url:e.url,headers:e.headers,body:e.chunk.blob,beforeSend:e=>{e.partUploadStartTime=performance.now()},onUploadProgress:({lengthComputable:e,loaded:r,total:i})=>{e&&this.updateProgress(r,i,t)}});this.activeUploadHandlers.push(i);let n=()=>{i.abort(r.reason)};r.addEventListener("abort",n);try{await this.attemptPartUploadWithRetry(r,i,t),this.uploadResults.push(i)}finally{r.removeEventListener("abort",n),this.activeUploadHandlers=this.activeUploadHandlers.filter(e=>e!==i)}}async attemptPartUploadWithRetry(e,t,r){if(e.aborted)throw new cv(ud,{abortReason:e.reason,phase:cf.UPLOAD});try{await t.execute(),this.tracker.firePartUploadCompletedEvent({uploadHandler:t,uploadRequests:this.uploadClient.getUploadRequests(),file:this.uploadClient.getFile()})}catch(n){if(this.tracker.firePartUploadFailureEvent({uploadHandler:t,uploadRequests:this.uploadClient.getUploadRequests(),file:this.uploadClient.getFile(),bytesTransferred:function(e,t){let r=e[t];return r?r.loaded:0}(this.partProgress,r)}),!(n instanceof ut))throw new cT("Unknown error",{errorType:cb.UNKNOWN,phase:cf.UPLOAD,reason:ch.UNKNOWN,statusMessage:c_({component:up,message:`Unknown error occurred when trying to upload part ${r+1}`,error:n})});if(n.isAborted)throw new cv(ud,{abortReason:e.reason,phase:cf.UPLOAD});if(function(e){if(!e.xhrRequest)return!0;let t=e.getAttemptCount()>uc.MAX_RETRIES;return uu(e.xhrRequest)||t}(t)){if(!t.xhrRequest)throw new cT("Invalid XHR request",{errorType:cb.UNKNOWN,phase:cf.UPLOAD,reason:ch.UNKNOWN,statusMessage:c_({component:up,message:`Invalid XHR request for part ${r+1}, online status: ${c6()}`,error:n})});throw new cT(uu(t.xhrRequest)?`Part ${r+1} upload failed due to 4xx error`:`Part ${r+1} upload failed after max attempts`,{errorType:ck(n.status),phase:cf.UPLOAD,httpErrorCode:n.status,reason:cI(n.status),statusMessage:c_({component:up,message:`Part ${r+1} upload failed with status code ${n.status} after ${t.getAttemptCount()} attempts, online status: ${c6()}`,error:n})})}let i=uc.INITIAL_DELAY_SECONDS*Math.pow(uc.BACKOFF_FACTOR,t.getAttemptCount()-1);return this.tracker.fireUploadStatusEvent({file:this.uploadClient.getFile(),media:this.uploadClient.getMedia(),uploadState:cy.RETRY,statusMessage:c_({component:up,message:`Part ${r+1} upload failed with status code ${n.status} after ${t.getAttemptCount()-1} retries - retrying again in ${i} seconds, online status: ${c6()}`,error:n}),errorPhase:cf.UPLOAD,errorType:ck(n.status),httpErrorCode:n.status}),await function({seconds:e,abortSignal:t,abortErrorMessage:r}){return new Promise((i,n)=>{if(t.aborted){n(new cv(r,{abortReason:t.reason,phase:cf.UPLOAD}));return}let o=()=>{clearTimeout(a),n(new cv(r,{abortReason:t.reason,phase:cf.UPLOAD}))},a=setTimeout(()=>{t.removeEventListener("abort",o),i()},1e3*e);t.addEventListener("abort",o)})}({seconds:i,abortSignal:e,abortErrorMessage:ud}),this.attemptPartUploadWithRetry(e,t,r)}}updateProgress(e,t,r){this.partProgress[r]={loaded:e,total:t};let i=0;this.partProgress.forEach(({loaded:e})=>{i+=e});let n=i/this.totalBytes;this.onProgressCallback(Math.min(n,.999))}abortAllActiveUploads(){this.activeUploadHandlers.forEach(e=>{try{e.abort(cg.TERMINATED)}catch{}}),this.activeUploadHandlers=[]}}class ug{media;uploadInstruction;uploadMechanism;tracker;featureFlags;constructor({uploadInstruction:e,uploadMechanism:t,media:r,tracker:i,featureFlags:n}){this.uploadInstruction=e,this.uploadMechanism=t,this.media=r,this.tracker=i,this.featureFlags=n}run(e,t){return e.aborted?Promise.reject(new cv("Media Upload Step Aborted",{abortReason:e.reason,phase:cf.UPLOAD})):(t(),this.upload(e,t))}async upload(e,t){let r=new ue({uploadInstruction:this.uploadInstruction,media:this.media});if("MULTIPART"===this.uploadMechanism){let i=new um({uploadClient:r,tracker:this.tracker,onProgressCallback:t});return await i.upload(e)}if("SINGLE"!==this.uploadMechanism){let e=`Unsupported upload mechanism: ${this.uploadMechanism}`;throw new cT(e,{reason:ch.UNKNOWN,errorType:cb.UNKNOWN,phase:cf.UPLOAD,statusMessage:e})}let i=new us({uploadClient:r,tracker:this.tracker,onProgressCallback:t});return await i.upload(e),[]}}class uh{phase=cf.UNKNOWN;state=cm.UNKNOWN;progress=0;updatePhase(e){this.phase=e}updateState(e){this.state=e}updateStatus(e){this.updatePhase(e.phase),this.updateState(e.state),e.progress&&!(e.progress<0)&&(this.progress=e.progress)}}let uy="Media Upload Finalization Step Aborted",ub="Finalize Upload Step";class ux{media;tracker;uploadResults;finalizeUrl;constructor({media:e,tracker:t,uploadResults:r,finalizeUrl:i}){this.media=e,this.tracker=t,this.uploadResults=r,this.finalizeUrl=i}run(e,t){if(e.aborted)return Promise.reject(new cv(uy,{abortReason:e.reason,phase:cf.FINALIZE}));if(t(),0===this.finalizeUrl.length)throw new cT("Invalid finalize URL",{reason:ch.UNKNOWN,phase:cf.FINALIZE,errorType:cb.UNKNOWN,statusMessage:c_({component:ub,message:`Invalid finalize URL: ${this.finalizeUrl}`})});return this.finalizeUpload(e)}async finalizeUpload(e){let t;this.tracker.fireDebugEvent({file:this.media.file,statusMessage:c_({component:ub,message:`Starting finalization for ${this.uploadResults.length} upload part(s)`})});try{t=this.getFinalizeRequestBody()}catch(e){throw new cT("Failed to get finalize request body",{reason:ch.UNKNOWN,phase:cf.FINALIZE,errorType:cb.UNKNOWN,statusMessage:c_({component:ub,message:"Failed to get finalize request body",error:e})})}let r=new ur({method:"POST",url:this.finalizeUrl,body:t,headers:{"Content-Type":"application/json; charset=UTF-8"}}),i=()=>{r.abort(e.reason)};e.addEventListener("abort",i);try{await r.execute(),this.tracker.fireDebugEvent({file:this.media.file,statusMessage:c_({component:ub,message:"Finalization completed successfully"})})}catch(t){if(this.tracker.fireDebugEvent({file:this.media.file,statusMessage:c_({component:ub,message:"Failed to finalize upload",error:t})}),!(t instanceof ut))throw new cT("Unknown error",{errorType:cb.UNKNOWN,phase:cf.FINALIZE,reason:ch.UNKNOWN,statusMessage:c_({component:ub,message:"Unknown error occurred when trying to finalize upload",error:t})});if(t.isAborted)throw new cv(uy,{abortReason:e.reason,phase:cf.FINALIZE});throw new cT("Failed to finalize upload",{reason:cI(t.status),phase:cf.FINALIZE,errorType:ck(t.status),httpErrorCode:t.status,statusMessage:c_({component:ub,message:`Failed to finalize upload with status code ${t.status}`,error:t})})}finally{e.removeEventListener("abort",i)}}parseRawResponseHeaders(e){let t=e.split("\r\n"),r=this.parseHeaders(": ");return t.reduce(r,{})}parseHeaders(e){return(t,r)=>{let i=r.trim(),n=i.indexOf(e);if(n>0){let r=i.substring(0,n),o=i.substring(n+e.length);t[r]=o}return t}}getFinalizeRequestBody(){return JSON.stringify({completeUploadRequest:{partUploadResponses:this.uploadResults.map(({xhrRequest:e})=>({headers:this.parseRawResponseHeaders(e.getAllResponseHeaders()),httpStatusCode:e.status}))}})}}class uS{id=o();status=new uh;fileReference;abortSignal;tracker;uploadMechanism;uploadInstruction;media;useCaseUrns;hasPolling;visibilityHandler;pageHideHandler;onStatusUpdate;featureFlags;uploadResults;constructor({fileReference:e,assetUrn:t,uploadInstruction:r,trackingCore:i,abortSignal:n,useCaseUrns:o,onStatusUpdate:a,hasPolling:s=!1,featureFlags:l}){this.fileReference=e,this.abortSignal=n,this.uploadMechanism=function(e){switch(e.$case){case"singleRequestUploadInstruction":return"SINGLE";case"multipartUploadInstruction":return"MULTIPART";case"dynamicUploadInstruction":return"DYNAMIC";default:return"UNKNOWN"}}(r),this.uploadInstruction=r,this.tracker=new cP({trackingCore:i,assetUrn:t,uploadMechanism:this.uploadMechanism,useCaseUrns:o}),this.useCaseUrns=o,this.onStatusUpdate=a,this.hasPolling=s,this.featureFlags=l}get ingestionTracker(){return this.tracker}executeStep(e,t){return async()=>{this.updateStatus({phase:t,state:cm.QUEUED});try{let r=await e.bind(this,{abortSignal:this.abortSignal,onProgress:e=>{this.updateStatus({phase:t,state:cm.INPROGRESS,progress:e})}})();return this.updateStatus({phase:t,state:cm.COMPLETED}),r}catch(e){throw this.updateStatus({phase:t,state:cm.FAILED}),e}}}updateStatus(e){this.status.updateStatus(e),this.onStatusUpdate(this.status)}fireIngestionStartEvents(){let e=ca.getItem(this.fileReference);this.tracker.fireUploadStatusEvent({file:e,uploadState:cy.STARTED}),this.tracker.fireUploadStatusEvent({file:e,uploadState:cy.REGISTRATION_COMPLETED})}async run(){this.fireIngestionStartEvents(),"undefined"!=typeof document&&(this.visibilityHandler=this.handleVisibilityChange.bind(this),document.addEventListener("visibilitychange",this.visibilityHandler)),"undefined"!=typeof window&&(this.pageHideHandler=this.handlePageHide.bind(this),window.addEventListener("pagehide",this.pageHideHandler));let{VALIDATION:e,PREPROCESSING:t,UPLOAD:r,FINALIZE:i}=cf;try{await this.executeStep(this.validateAndDigestStep,e)(),await this.executeStep(this.mediaPreprocessingStep,t)(),await this.executeStep(this.mediaUploadStep,r)(),await this.executeStep(this.mediaUploadFinalizeStep,i)(),this.hasPolling||this.completeIngestionSubtask()}catch(e){if(e instanceof cT||e instanceof cv)this.handleIngestionSubtaskFailure(e);else throw this.tracker.fireUploadStatusEvent({media:this.media,file:this.media?.file||ca.getItem(this.fileReference),uploadState:cy.FAILED,statusMessage:c_({component:"Ingestion Subtask",message:"Unknown error",error:e})}),new cN("INGESTION FAILED",{reason:ch.UNKNOWN,originalError:Error("Unknown error",{cause:e}),isCancelled:!1})}finally{this.cleanup()}}async validateAndDigestStep({abortSignal:e,onProgress:t}){let r=new cj({fileReference:this.fileReference,tracker:this.tracker}),i=await r.run(e,t);this.media=i,this.tracker.setMediaToIngest(i)}async mediaPreprocessingStep({abortSignal:e,onProgress:t}){if(!this.media?.file)return c7({tracker:this.tracker,component:"Preprocessing Step",message:"Media not found during preprocessing step",phase:cf.PREPROCESSING});if(this.media.hasC2PA){this.tracker.fireDebugEvent({statusMessage:c_({component:"Preprocessing Step",message:"Preprocessing Step Skipped - Media has C2PA"})});return}let r=new c4({media:this.media,tracker:this.tracker,featureFlags:this.featureFlags,useCaseUrns:this.useCaseUrns});await r.run(e,t)}async mediaUploadStep({abortSignal:e,onProgress:t}){if(!this.media?.file)return c7({tracker:this.tracker,component:"Upload Step",message:"Media not found during upload step",phase:cf.UPLOAD});this.tracker.fireUploadStatusEvent({file:this.media.file,media:this.media,uploadState:cy.FILE_UPLOAD_STARTED});let r=new ug({media:this.media,uploadInstruction:this.uploadInstruction,uploadMechanism:this.uploadMechanism,tracker:this.tracker,featureFlags:this.featureFlags}),i=await r.run(e,t);this.uploadResults=i}async mediaUploadFinalizeStep({abortSignal:e,onProgress:t}){if("multipartUploadInstruction"!==this.uploadInstruction.$case)return;if(!this.media?.file)return c7({tracker:this.tracker,component:"Finalize Upload Step",message:"Media not found during finalize upload step",phase:cf.FINALIZE});if(!this.uploadResults)throw new cT("Upload results not found during finalize upload step",{reason:ch.UNKNOWN,phase:cf.FINALIZE,errorType:cb.UNKNOWN,statusMessage:c_({component:"Finalize Upload Step",message:"Upload results not found during finalize upload step"})});let r=this.uploadInstruction.multipartUploadInstruction.finalizeUrl,i=new ux({media:this.media,tracker:this.tracker,uploadResults:this.uploadResults,finalizeUrl:r});await i.run(e,t)}completeIngestionSubtask(){if(!this.media?.file)return c7({tracker:this.tracker,component:"Complete Ingestion Subtask",message:"Media not found during complete ingestion subtask",phase:cf.UNKNOWN});this.tracker.fireUploadStatusEvent({file:this.media?.file,media:this.media,uploadState:cy.COMPLETED})}handleIngestionSubtaskFailure(e){let{httpErrorCode:t,phase:r,statusMessage:i,reason:n,errorType:o}=e;if(this.tracker.fireUploadStatusEvent({media:this.media,uploadState:c5(e),file:this.media?.file||ca.getItem(this.fileReference),statusMessage:i,httpErrorCode:t,errorPhase:r,errorType:o}),e instanceof cv&&e.isTerminated)return;let a=e instanceof cv&&e.isCancelled;throw new cN("INGESTION FAILED",{reason:n,originalError:e,isCancelled:a})}cleanup(){"undefined"!=typeof document&&this.visibilityHandler&&(document.removeEventListener("visibilitychange",this.visibilityHandler),this.visibilityHandler=void 0),"undefined"!=typeof window&&this.pageHideHandler&&(window.removeEventListener("pagehide",this.pageHideHandler),this.pageHideHandler=void 0)}handleVisibilityChange(){let e=this.media?.file||ca.getItem(this.fileReference);"undefined"!=typeof document&&("hidden"===document.visibilityState?this.tracker.fireUploadStatusEvent({file:e,media:this.media,uploadState:cy.APPLICATION_BACKGROUNDED}):this.tracker.fireUploadStatusEvent({file:e,media:this.media,uploadState:cy.APPLICATION_FOREGROUNDED}))}handlePageHide(e){if(e.persisted)return;let t=this.media?.file||ca.getItem(this.fileReference);this.tracker.fireUploadStatusEvent({file:t,media:this.media,uploadState:cy.CANCELLED,errorPhase:this.status.phase,statusMessage:c_({component:"Ingestion Subtask",message:"Ingestion cancelled due to page unload"}),errorType:cb.CLIENT})}}let uE="Polling Aborted",uv="Polling";class uT{initialPollingUrl;initialPollingDelay;tracker;static RETRY_STATUS_CODES=new Set([500,504]);constructor({pollingInstruction:e,tracker:t}){let{initialPollingUrl:r,initialPollingDelay:i}=e;this.initialPollingUrl=r,this.initialPollingDelay=Math.max(Number(i),0),this.tracker=t}async run(e){if(e.aborted)return Promise.reject(new cN("INGESTION FAILED",{reason:ch.UNKNOWN,originalError:Error(uE),isCancelled:e.reason===cg.USER_CANCELLED}));try{this.tracker.fireUploadStatusEvent({uploadState:cy.POLLING_STARTED}),await this.poll(e),this.tracker.fireUploadStatusEvent({uploadState:cy.COMPLETED})}catch(e){if(e instanceof cT||e instanceof cv){let{reason:t,statusMessage:r,errorType:i,phase:n,httpErrorCode:o}=e;if(this.tracker.fireUploadStatusEvent({uploadState:c5(e),statusMessage:r,errorType:i,errorPhase:n,httpErrorCode:o}),e instanceof cv&&e.isTerminated)return;let a=e instanceof cv&&e.isCancelled;throw new cN("INGESTION FAILED",{reason:t,originalError:e,isCancelled:a})}throw this.tracker.fireUploadStatusEvent({uploadState:cy.FAILED,statusMessage:c_({component:uv,message:"Unknown error",error:e})}),new cN("INGESTION FAILED",{reason:ch.UNKNOWN,originalError:Error("Unknown error",{cause:e}),isCancelled:!1})}}async poll(e){return new Promise((t,r)=>{let i={pollingUrl:this.initialPollingUrl,pollingDelayInMs:this.initialPollingDelay},n=()=>{r(new cv(uE,{abortReason:e.reason,phase:cf.POLL}))};e.addEventListener("abort",n),this.schedulePollingAttempt({pollingState:i,abortSignal:e,cleanup:()=>{e.removeEventListener("abort",n)},resolve:t,reject:r})})}async schedulePollingAttempt({pollingState:e,abortSignal:t,cleanup:r,resolve:i,reject:n}){let{pollingDelayInMs:o}=e,a=!1,s=setTimeout(async()=>{if(a||t.removeEventListener("abort",l),t.aborted)return r(),n(new cv(uE,{abortReason:t.reason,phase:cf.POLL}));await this.performPollingAttempt({pollingState:e,abortSignal:t,cleanup:r,resolve:i,reject:n})},o),l=()=>{a=!0,clearTimeout(s),t.removeEventListener("abort",l)};t.addEventListener("abort",l)}async performPollingAttempt({pollingState:e,abortSignal:t,cleanup:r,resolve:i,reject:n}){let o;this.tracker.fireDebugEvent({statusMessage:c_({component:uv,message:`Attempting to poll URL: ${e.pollingUrl}, after ${e.pollingDelayInMs}ms`})});try{let a=new ur({method:"GET",url:e.pollingUrl});o=()=>{a.abort(t.reason)},t.addEventListener("abort",o,{once:!0});let s=await a.execute();t.removeEventListener("abort",o),await this.handlePollingResponse({pollingState:e,response:s,abortSignal:t,cleanup:r,resolve:i,reject:n})}catch(a){o&&t.removeEventListener("abort",o),await this.handlePollingError({pollingState:e,error:a,abortSignal:t,cleanup:r,resolve:i,reject:n})}}async handlePollingResponse({pollingState:e,response:t,abortSignal:r,cleanup:i,resolve:n,reject:o}){let{nextPollingUrl:a,nextPollingTime:s,status:l}=t.data;switch(this.tracker.fireDebugEvent({statusMessage:c_({component:uv,message:`Completed polling for URL: ${e.pollingUrl}, polling status: ${l}`})}),l){case"SUCCESS":return i(),n();case"FAILURE":return i(),o(new cT("Polling failed: Server returned FAILURE status",{reason:ch.SERVER_PROCESSING_ERROR,phase:cf.POLL,errorType:cb.CLIENT,statusMessage:c_({component:uv,message:`Server reported failure for URL: ${e.pollingUrl}, polling status: ${l}`})}));case"IN_PROGRESS":case"NEW":e.pollingUrl=a||e.pollingUrl,e.pollingDelayInMs=s,this.schedulePollingAttempt({pollingState:e,abortSignal:r,cleanup:i,resolve:n,reject:o});break;default:i(),o(new cT(`Polling failed: polling status - ${l}`,{reason:ch.UNKNOWN,phase:cf.POLL,errorType:cb.CLIENT,statusMessage:c_({component:uv,message:`Unknown status received from server, polling status: ${l}`})}))}}async handlePollingError({pollingState:e,error:t,abortSignal:r,cleanup:i,resolve:n,reject:o}){if(!(t instanceof ut)){i();let r=t instanceof Error?t.message:"Unknown error occurred";return o(new cT(`Polling failed: ${r}`,{reason:ch.UNKNOWN,phase:cf.POLL,errorType:cb.UNKNOWN,statusMessage:c_({component:uv,message:`Error occurred while polling URL: ${e.pollingUrl}`,error:t})}))}if(t.status&&uT.RETRY_STATUS_CODES.has(t.status)){if(r.aborted)return i(),o(new cv(uE,{abortReason:r.reason,phase:cf.POLL}));this.tracker.fireDebugEvent({statusMessage:c_({component:uv,message:`Polling failed with status code ${t.status}, retrying again in ${e.pollingDelayInMs}ms for URL: ${e.pollingUrl}`})}),this.schedulePollingAttempt({pollingState:e,abortSignal:r,resolve:n,reject:o,cleanup:i})}else i(),o(new cT("Polling failed: Server returned non-retryable status",{reason:cI(t.status),phase:cf.POLL,httpErrorCode:t.status,errorType:ck(t.status),statusMessage:c_({component:uv,message:`Server returned non-retryable status: ${t.status}`})}))}}class uN{id=o();mediaStatusItems=[];status=new uh;abortController=new AbortController;abortSignal=this.abortController.signal;pollingInstruction;ingestionOperations;subtasks=[];assetUrn;useCaseUrns;trackingCore;onUpdateCallback;featureFlags;constructor({ingestionRequest:e,trackingCore:t,onUpdateCallback:r,featureFlags:i}){let{ingestionOperations:n,assetUrn:o,useCaseUrns:a,pollingInstruction:s}=e.uploadInstructions;this.ingestionOperations=n,this.pollingInstruction=s,this.assetUrn=o,this.useCaseUrns=a,this.trackingCore=t,this.mediaStatusItems=n.map(e=>({status:new uh,fileReference:e.fileReference})),this.onUpdateCallback=r,this.featureFlags=i}isDone(){return[cm.CANCELLED,cm.FAILED,cm.TERMINATED,cm.COMPLETED].includes(this.status.state)}async run(){let e=async()=>{for(let{fileReference:e,uploadInstruction:t}of this.ingestionOperations){if(!t?.instruction)throw new cN("Missing upload instruction",{reason:ch.UNKNOWN,originalError:Error("Missing upload instruction"),isCancelled:!1});let r=this.mediaStatusItems.find(t=>t.fileReference===e);if(!r)throw new cN("Media status item not found",{reason:ch.UNKNOWN,originalError:Error(`Media status item not found for file reference: ${e}`),isCancelled:!1});let i=e=>{r.status.updateStatus(e),this.computeAndUpdateTaskStatus()},n=t.instruction,o=new uS({fileReference:e,assetUrn:this.assetUrn,uploadInstruction:n,trackingCore:this.trackingCore,abortSignal:this.abortSignal,useCaseUrns:this.useCaseUrns,onStatusUpdate:i,hasPolling:!!this.pollingInstruction,featureFlags:this.featureFlags});this.subtasks.push(o),await o.run()}};await e(),await this.pollIngestionTask()}async pollIngestionTask(){let{pollingInstruction:e}=this;if(!e)return;this.updateTaskStatus({phase:cf.POLL,state:cm.QUEUED});let t=this.subtasks[this.subtasks.length-1];if(!t)throw new cN("Ingestion subtask not found",{reason:ch.UNKNOWN,originalError:Error("Ingestion subtask not found"),isCancelled:!1});this.updateTaskStatus({phase:cf.POLL,state:cm.INPROGRESS});let r=new uT({pollingInstruction:e,tracker:t.ingestionTracker});await r.run(this.abortSignal),this.updateTaskStatus({phase:cf.POLL,state:cm.COMPLETED})}updateTaskStatus({phase:e,state:t,progress:r}){this.status.updateStatus({phase:e,state:t,progress:r}),this.onUpdateCallback()}computeAndUpdateTaskStatus(){let e=this.computeTaskPhase(),t=this.computeTaskState(),r=this.computeTaskProgress();this.updateTaskStatus({phase:e,state:t,progress:r})}computeTaskPhase(){if(0===this.mediaStatusItems.length)return cf.UNKNOWN;for(let e of[cf.VALIDATION,cf.PREPROCESSING,cf.UPLOAD,cf.FINALIZE])if(this.mediaStatusItems.some(t=>t.status.phase===e))return e;return cf.UNKNOWN}computeTaskState(){if(0===this.mediaStatusItems.length)return cm.UNKNOWN;let e=this.mediaStatusItems.map(e=>e.status.state);return e.some(e=>e===cm.FAILED)?cm.FAILED:e.some(e=>e===cm.CANCELLED)?cm.CANCELLED:e.some(e=>e===cm.TERMINATED)?cm.TERMINATED:e.every(e=>e===cm.COMPLETED)?cm.COMPLETED:cm.INPROGRESS}computeTaskProgress(){return 0===this.mediaStatusItems.length?0:parseFloat((this.mediaStatusItems.reduce((e,t)=>e+t.status.progress,0)/this.mediaStatusItems.length).toFixed(2))}cancel(){this.abortController.abort(cg.USER_CANCELLED)}terminate(){this.abortController.abort(cg.TERMINATED)}}class u_{static instance=null;ingestionJobMap=new Map;trackingCore;featureFlags;constructor({trackingCore:e,featureFlags:t}){this.trackingCore=e,this.featureFlags=t}static getInstance(e){return u_.instance||(u_.instance=new u_(e)),u_.instance}ingest(e,t,r){let i=new cO(e,r);return t.forEach(e=>{let t=new uN({ingestionRequest:e,trackingCore:this.trackingCore,onUpdateCallback:i.onUpdate.bind(i),featureFlags:this.featureFlags});i.addTask(t)}),this.ingestionJobMap.set(i.id,i),i.run(),i}cancel(e){let t=this.ingestionJobMap.get(e);t&&(t.cancel(),this.ingestionJobMap.delete(e))}cancelAll(){this.ingestionJobMap.forEach(e=>e.cancel()),this.ingestionJobMap.clear()}}function uk(e){return!!(e&&"object"==typeof e&&"preventDefault"in e&&"stopPropagation"in e)}function uI(e){return!!(uk(e)&&("metaKey"in e&&e?.metaKey||"ctrlKey"in e&&e?.ctrlKey))}function uO(e,t){return!!uI(e)&&"undefined"!=typeof window&&!!t&&(uk(e)&&(e.preventDefault(),e.stopPropagation()),window.open(t,"_blank"),!0)}function uC(e){return sH(e)?e.stringValues:"bigint"==typeof e?{type:"bigint",value:e.toString()}:e}function uP(e=[],t){if(!e&&!t)return[];let r=t?(function(e,t=sw){return t.getItemsByGroup(e)})(t).map(e=>{if(void 0===e.value||e.key?.value===void 0)return;let r=uC(e.value);return{key:e.key.value,namespace:t,value:r,originalProtoCase:e.originalProtoCase}}).filter(e=>void 0!==e):[];return e.map(e=>{let t=sJ(e.value);if(void 0===t)return;let r=uC(t);return{key:e.value,namespace:e.namespace,value:r,originalProtoCase:function(e,t=sw){return t.getItem(e)}(e.value)?.originalProtoCase}}).filter(e=>void 0!==e).concat(r)}function uR(e,t,r){let i=e.requestedArguments?.requestedStateKeys||[];return{requestId:e.requestId,serverRequest:e,states:uP(i,t),requestedArguments:uw(e.requestedArguments,t,r)}}function uw(e,t,r){return e&&{...e,states:uP(e.requestedStateKeys,t),screenId:r??""}}function uA(e,t){return{payload:e?.payload,states:uP(e?.requestedStateKeys),requestMetadata:e?.requestMetadata,screenId:t??""}}let u$={currentActor:"x-li-actor"};function uL(e){let t=e?.requestMetadata?.currentActor?.key;if(t)return function(e,t){let r=uP([e])[0];if(r)return{[u$[t]]:r.value.toString()}}(t,"currentActor")}let uM=t.createContext({});function uD(){return t.useContext(uM)}let uU=Object.freeze(Object.defineProperty({__proto__:null,TracedParentContext:uM,useTracedParentContext:uD},Symbol.toStringTag,{value:"Module"}));function uF({children:e}){let i=t1(),n=t.useMemo(()=>({parentSpan:i}),[i]);return r.jsx(uM.Provider,{value:n,children:e})}let uj=Object.freeze(Object.defineProperty({__proto__:null,PageLoadTracingProvider:uF},Symbol.toStringTag,{value:"Module"}));function uB(e,t,r){return`${e}:${t}:${JSON.stringify(r??"")}`}function uV(e){if(!e)return null;for(let t of e.querySelectorAll("div"))if(t.scrollHeight>t.clientHeight)return t;return null}let uK=new t2;function uW(e,t){return e?.isRoutableModalsEnabled?(t.current=!0,$.removeDialog(),e.back()):($.removeDialog(),!0)}function uJ({screenId:e,screenURL:i,postData:n,navigateScreen:o,actorHeaders:a,shouldCache:s,isRoutableModalsEnabled:l=!1,isModal:c=!1}){let{endNavigationSpan:u}=tF(),d=c?{...a,"x-li-layout-tree":e}:a,{fetchNext:p,isLoading:f,renderedContents:m,error:g}=t3(i,"replace",JSON.stringify(n),d),{isInteropNavigationEnabled:h,navigateInteropToUrl:y}=tV();if(t.useEffect(()=>{p()},[e,o]),s&&!g&&m.length>0){let t=uB(e,o.newHierarchy?.screenHash||"",n);uK.setItem(t,{screenElement:m,scrollPosition:0})}return l&&g&&g instanceof t4&&(h?y(g.url):"undefined"!=typeof window&&(window.location.href=g.url)),t.useEffect(()=>{c&&!f&&(m.length>0||g)&&u?.()},[c,f,m,g,u]),f&&!o.shouldHideLoadingSpinner?r.jsx(W,{inset:"3x",children:r.jsx(F,{})}):c?r.jsx(uF,{children:m}):m}function uG({router:e,navigateScreen:t,screenId:r,isBackNavigation:i=!1}){let n=!i&&e.isFetchOnForwardNavigationEnabled(r),o=e.isBrowserRouteCacheEnabled;if(!(o&&!n))return{modalCachedKey:null,cachedScreen:null,shouldCache:o};let a={clientArguments:uw(t.requestedArguments,void 0,r),isModal:!0},s=uB(r,t.newHierarchy?.screenHash||"",a),l=uK.getItem(s);return{modalCachedKey:s,cachedScreen:l,shouldCache:o}}function uz({navigateScreen:e,isModal:i=!1}){let n=tF(),{isRoutableModalsEnabled:o,endNavigationSpan:a,cachedRender:s}=n,{currentScreen:l,isBackNavigation:c}=r9(),u=t.useContext(H),d=o?l??e:e,{screenId:p,requestedArguments:f}=d,m=`rsc-action/actions/navigation?screenId=${encodeURIComponent(p)}&sduiid=${encodeURIComponent(p)}`,g=uL(f),h={clientArguments:uw(f,void 0,p),isModal:i},{cachedScreen:y,shouldCache:b,modalCachedKey:x}=i?uG({router:n,navigateScreen:d,isBackNavigation:c,screenId:p}):{cachedScreen:null,shouldCache:!1,modalCachedKey:null};return t.useEffect(()=>{if(y&&u?.current){let e=uV(u.current);e&&requestAnimationFrame(()=>{e.scrollTo({top:y.scrollPosition})})}return()=>{if(!u?.current)return;let e=uV(u.current);if(b&&x&&e){let t=uK.getItem(x);t&&uK.setItem(x,{scrollPosition:e.scrollTop,screenElement:t.screenElement})}}},[b,x,y,u]),t.useEffect(()=>{i&&y&&a?.()},[i,y,a]),y?i?r.jsx(uF,{children:s({cachedNode:y.screenElement})}):s({cachedNode:y.screenElement}):r.jsx(uJ,{screenId:p,screenURL:m,postData:h,navigateScreen:e,actorHeaders:g,shouldCache:b,isModal:i,isRoutableModalsEnabled:o})}let uH=function(e,t,r){if(e)return`${e}:${t||""}:${r}`},uq=new Set;function uY(e,t,r,i,n,o){return a=>{let s,l;if(uO(a,e))return;let{requestedArguments:c,...u}=r||{};c?.requestedStateKeys.forEach(e=>{let t=n8(e);t&&uq.add(t)}),c&&(s=uA(c));let d=uL(c);r?.newHierarchy&&(l=function(e){let t=[];t.push(e.screenHash);let r=e.childHierarchy;for(;r;)t.push(r.screenHash),r=r.childHierarchy;return t}(r?.newHierarchy));let p=JSON.stringify({...u,requestedArguments:s}),f=$.hasDialogs(),m=uH(r?.screenId,r?.newHierarchy?.screenHash,p);if(f&&i&&n){uW(i,n);let a=!1,s=i.onHistoryPop(()=>(a||$.hasDialogs()||n.current||(a=!0,s(),t(e,{clientNavigationData:p,toLayoutIds:l,headers:d,screenId:r?.screenId,pageKey:r?.pageKey,shouldHideLoadingSpinner:r?.shouldHideLoadingSpinner,replace:!1,triggerControlUrn:o},{navigationCacheKey:m})),!1))}else f&&$.remove(),t(e,{clientNavigationData:p,toLayoutIds:l,headers:d,screenId:r?.screenId,pageKey:r?.pageKey,shouldHideLoadingSpinner:r?.shouldHideLoadingSpinner,replace:!!f||r?.replaceCurrentScreen,triggerControlUrn:o},{navigationCacheKey:m})}}let uX=e=>{let{$type:t,...r}=e,i=Object.entries(r),n="undefined"!=typeof window?window.screenX??0:0,o="undefined"!=typeof window?window.screenY??0:0;return i.map(([e,t])=>void 0===t?void 0:"boolean"==typeof t?t?e:void 0:"left"===e?`left=${n+t}`:"top"===e?`top=${o+t}`:`${e}=${t}`).filter(e=>void 0!==e).join(",")};var uZ=((ib=uZ||{}).ColorScheme_UNKNOWN="ColorScheme_UNKNOWN",ib.ColorScheme_LIGHT="ColorScheme_LIGHT",ib.ColorScheme_DARK="ColorScheme_DARK",ib);let uQ={[uZ.ColorScheme_LIGHT]:"light",[uZ.ColorScheme_DARK]:"dark"};function u0({fallbackTitle:e}){let{currentScreen:t}=r9(),{isRoutableModalsEnabled:i}=tF(),n=t?.screenTitle?t.screenTitle:t?.title,o=i?n:e;return o?r.jsx(D,{children:r.jsx(U,{tagName:"h2",children:o})}):null}class u1{static instance=null;actions=new Map;static getInstance(){return u1.instance||(u1.instance=new u1),u1.instance}scheduleAction(e,t){let r;let i=e.action;if(!e.scheduledActionId||!i){this.cancelAction(e.scheduledActionId);return}let n={...e,action:i,actionRunner:t};this.cancelAction(n.scheduledActionId);let o=0;if(n.whenToExecute?.delayMillis){let e=sB(n.whenToExecute?.delayMillis);("number"==typeof e||"bigint"==typeof e)&&(o=Number(e))}o<=0&&(o=0),"undefined"!=typeof window&&(r=window.setTimeout(()=>{n.actionRunner(n.action).then(()=>{n.shouldRepeat&&!0===sB(n.shouldRepeat)?(n.repeatOnlyOnScreenId,this.internalRescheduleAction(n)):this.removeAction(n.scheduledActionId)})},o)),this.actions.set(n.scheduledActionId,{...n,timeoutId:r})}cancelAction(e){let t=this.actions.get(e);t?.timeoutId!==void 0&&"undefined"!=typeof window&&window.clearTimeout(t.timeoutId),this.removeAction(e)}removeAction(e){this.actions.delete(e)}getAction(e){return this.actions.get(e)}getAllActions(){return Array.from(this.actions.values())}internalRescheduleAction(e){this.scheduleAction(e,e.actionRunner)}cancelAllActions(){"undefined"!=typeof window&&this.actions.forEach(e=>{void 0!==e.timeoutId&&window.clearTimeout(e.timeoutId)}),this.actions.clear()}}let u2=u1.getInstance(),u3=null;async function u4(e,t,r){if("undefined"==typeof window||"undefined"==typeof document)return Promise.resolve();try{let i=r||"";return await (u3||("undefined"!=typeof window&&window.grecaptcha&&window.grecaptcha.enterprise?Promise.resolve():u3=new Promise(e=>{if("undefined"!=typeof document){let t=document.createElement("script");t.src=`https://www.google.com/recaptcha/enterprise.js?render=${encodeURIComponent(i)}`,t.addEventListener("load",()=>e()),document.head.appendChild(t)}else e()}))),await new Promise(r=>{"undefined"!=typeof window&&window.grecaptcha&&window.grecaptcha.enterprise&&window.grecaptcha.enterprise.ready?window.grecaptcha.enterprise.ready(()=>{if("undefined"==typeof window||!window.grecaptcha?.enterprise){r();return}"undefined"!=typeof window&&window.grecaptcha?.enterprise&&window.grecaptcha.enterprise.execute(i,{action:t}).then(i=>{let n=e.getClients();try{let e=JSON.stringify({token:i,expectedAction:t});n.rumCore?.fireApfcEvent("RECAPTCHA_V3_WEB",e)}catch(e){n.jetCore&&n.jetCore.reportError(e instanceof Error?e:Error("JSON stringify failed for reCAPTCHA payload"),["recaptcha-v3-stringify-error"])}finally{r()}}).catch(()=>{r()})}):r()}),Promise.resolve()}catch{return Promise.resolve()}}class u7 extends Error{constructor(e){super(`Server request action failed on SDUI with errors: ${e.map(e=>e.message).join(", ")}`),this.name="ServerResponseContainedErrors"}}async function u5(e,t,r,i,n={},o){let a=Date.now(),s=500*r,l=await tG(e,n,o);if(l.ok||t<=0||r<=0)return l;let c=i-Math.floor((Date.now()-a)/1e3)-s/1e3;return c<=0?l:(await new Promise(e=>setTimeout(e,s)),u5(e,t-1,r*r,c,n,o))}async function u6(e,t,r){try{if(e?.value?.$case!=="mediaListValue")return;let r=await cu(e.value.mediaListValue);if(!r)return e;let i={...e,value:{...e.value,mediaListValue:r}};return u8([i],t),i}catch(e){r?.jetCore.reportError(e,["post-process-set-state"])}}function u8(e,t){e&&0!==e.length&&(sV(e),sV(e,t))}let u9=/urn:li:([a-z]\w*)(?::(.+))?/;function de(e){let t=u9.exec(e);return t&&t[1]&&t[2]?{entityType:t[1],id:t[2]}:void 0}var dt=((ix=dt||{}).ADD="add",ix.REMOVE="remove",ix.CLEAR="clear",ix);let dr=[],di={streamingSubscribers:[]},dn=e=>{di=da(di,e),dr.forEach(e=>{e(di)})},da=(e,t)=>{let r=e.streamingSubscribers;switch(t.type){case"add":{let e=r.filter(e=>e.id!==t.subscriber.id);r=[t.subscriber,...e]}break;case"remove":r=r.filter(e=>e.id!==t.id);break;case"clear":r=[];break;default:throw Error("Unhandled realTimeSubscribers action type.")}return{...e,streamingSubscribers:r}},ds=e=>{let[r,i]=t.useState(e);return t.useEffect(()=>(dr.push(i),()=>{let e=dr.indexOf(i);e>-1&&dr.splice(e,1)}),[r]),r},dl={add:e=>{dn({type:dt.ADD,subscriber:e})},remove:e=>{dn({type:dt.REMOVE,id:e})}},dc="sdui-core",du={COMPONENT_TRANSFORM_FAILURE:"sdui-component-transform-failure",REALTIME_CONNECTION_FAILURE:"sdui-realtime-connection-failure"},dd=e=>!!e&&"object"==typeof e&&("states"in e||"done"in e);function dp({actionRunner:e,request:i,keepAlive:n,namespace:o,screenId:a}){let s=JSON.stringify(uR(i,o,a)),l=i.requestId,c=t9(),u=l.endsWith("realtimeDefaultHandler"),d=t.useCallback(t=>{let r;if(dd(t)){if("response"in t){let{states:e,response:i}=t;r=i,sV(e)}else r=t;r&&r.completionAction&&e(r.completionAction)}},[l]),p=t.useCallback(()=>{dl.remove(l),n&&dl.add({id:l,element:r.jsx(dp,{actionRunner:e,request:i,keepAlive:n},`${l}-keep-alive-${Date.now()}`)})},[e,n,i,l]),f=t.useCallback(()=>{u&&c?.incrementCounterMetric({groupName:dc,metricName:du.REALTIME_CONNECTION_FAILURE})},[c,u]);return re(`/rsc-action/actions/server-stream-request?sduiid=${encodeURIComponent(l)}&payload=${encodeURIComponent(s)}`,d,p,f),null}let df=new Map,dm=new Map;function dg(e,t,r,i){let n=new Map,o=df.get(e)?.timestamp;o&&o>r||(n.set(e,{content:t,timestamp:r,serverRequestRumPageKey:i}),function(e){e.forEach((e,t)=>{if(df.get(t)!==e){void 0===e?df.delete(t):df.set(t,e);let r=dm.get(t);r?.forEach(e=>e())}})}(n))}function dh(e,t){if("undefined"!=typeof document){let r=t?.current?.closest(`[componentkey="${e}"]`);if(r){let e=r.parentElement?.hasAttribute("data-view-name")?r.parentElement:r,t=()=>{let t=null,i=e.previousElementSibling;for(;i&&!t;)t=Q(i),i=i.previousElementSibling;let n=e=>!r.contains(e);for(i=e.parentElement,i?.firstChild===e&&(i=i.parentElement);i&&!t;)t=Q(i,n),i=i.parentElement;t&&document.activeElement!==t&&t.focus()},i=new MutationObserver(()=>{document.body.contains(r)||(t(),i.disconnect())});r.parentElement&&i.observe(r.parentElement,{childList:!0,subtree:!0})}}}async function dy(e,t){try{let r;let{screenId:i,requestedArguments:n,clientTtlDuration:o,url:a}=e,s=rt(o),l=new Set;n?.requestedStateKeys.forEach(e=>{let t=n8(e);t&&l.add(t)}),n&&(r=uA(n));let c=uL(n),u=JSON.stringify({requestedArguments:r});await t(a,{headers:c,clientNavigationData:u,screenId:i},{clientTtlDurationMilliseconds:s??rr})}catch(e){console.error("failed to prefetch screen",e)}}let db=new class{state;listeners;constructor(){this.state={isOpen:!1,debugContext:null},this.listeners=new Set}getState(){return this.state}openFeedback(e){this.state={isOpen:!0,debugContext:e},this.notify()}closeFeedback(){this.state={isOpen:!1,debugContext:null},this.notify()}subscribe(e){return this.listeners.add(e),()=>{this.listeners.delete(e)}}notify(){this.listeners.forEach(e=>{e()})}};function dx(){return t.useSyncExternalStore(e=>db.subscribe(e),()=>db.getState(),()=>db.getState())}let dS=new class{open(e){db.openFeedback(e)}close(){db.closeFeedback()}},dE=Object.freeze(Object.defineProperty({__proto__:null,feedbackManager:dS,useFeedbackStore:dx},Symbol.toStringTag,{value:"Module"}));class dv extends Error{status;statusText;constructor(e,t){super(e),this.name="AmbryUploadError",this.status=t?.status,this.statusText=t?.statusText}}async function dT(e,t,r){return new Promise((i,n)=>{let o=new XMLHttpRequest;r&&o.upload.addEventListener("progress",e=>{e.lengthComputable&&r(Math.min(Math.round(e.loaded/e.total*100),100))}),o.addEventListener("load",()=>{o.status>=200&&o.status<300?(r?.(100),i({locationHeader:o.getResponseHeader("Location")})):n(new dv(`Ambry upload failed: ${o.statusText}`,{status:o.status,statusText:o.statusText}))}),o.addEventListener("error",()=>{n(new dv("Network error during Ambry upload"))}),o.addEventListener("abort",()=>{n(new dv("Ambry upload was aborted"))}),o.addEventListener("timeout",()=>{n(new dv("Ambry upload timed out"))}),o.open("POST",t,!0),o.setRequestHeader("Content-Type",e.type||"application/octet-stream"),o.send(e)})}function dN(e,t={}){let r="undefined"!=typeof document&&document.querySelector(`[componentkey="${e}"]`);if(!(r instanceof HTMLElement))return;let i=function(e){if("LazyColumn"===e.getAttribute("data-component-type"))return e;let t=e.querySelector('[data-component-type="LazyColumn"]');return t instanceof HTMLElement?t:null}(r);if(i){if(!t.preventScroll){let e=t.isScrollAnimated?"smooth":"auto";i.scrollHeight>i.clientHeight?i.scrollTo({top:0,behavior:e}):i.scrollIntoView({behavior:e,block:"start"}),t.scrollAnnouncementMessage&&function(e){if("undefined"==typeof document)return;let t=document,r=t.getElementById("sdui-a11y-announcer");r||((r=t.createElement("div")).id="sdui-a11y-announcer",r.setAttribute("role","status"),r.setAttribute("aria-live","polite"),r.setAttribute("aria-atomic","true"),r.style.position="absolute",r.style.left="-10000px",r.style.width="1px",r.style.height="1px",r.style.overflow="hidden",t.body.appendChild(r)),r.textContent="",setTimeout(()=>{r.textContent=e},100)}(t.scrollAnnouncementMessage)}return}let n=(ei(r)?r:Q(r))||r;if(!t.preventScroll){let e=t.isScrollAnimated?"smooth":"auto",r=function(e){let t={BlockPosition_START:"start",BlockPosition_CENTER:"center",BlockPosition_END:"end",BlockPosition_NEAREST:"nearest"};if(e&&e in t)return t[e]}(t.blockPosition)??"start";n.scrollIntoView({behavior:e,block:r})}n!==r||-1!==r.tabIndex&&r.hasAttribute("tabindex")||(r.tabIndex=0,n.addEventListener("blur",()=>{r.removeAttribute("tabindex")},{once:!0})),n.focus({preventScroll:!0})}function d_(e,i){let n=tF(),{t:o}=t0(),{store:a,setValue:s,getValue:d}=n5(),{fetchData:p,fetchComponentSpan:f}=function(){let e=tW(),r=t.useRef(void 0);return{fetchData:async function(t,i,n={}){let o=i.getClients(),a=e.getTracer(),s=new URL(t,"undefined"!=typeof window?window.location.href:"https://www.linkedin.com").searchParams.get("componentId")??"";return a.wrapSpan({name:tJ.FETCH_COMPONENT,attrs:{[tX.SPAN_TYPE]:"LOAD",[tX.ENTITY_TYPE]:"COMPONENT",[tX.CALCULATE_METRICS]:!0,[tX.COMPONENT_ID]:s},parentToPageSpan:!0,operation:async e=>{let a,l;r.current=e;let c=e?.spanContext.spanId,u=c?`${t}&parentSpanId=${encodeURIComponent(c)}`:t,d=tG(u,{headers:{"x-li-rsc-stream":"true","Content-Type":"application/json",...tz({trackingContext:i})},method:"POST",body:JSON.stringify({...n})},e);try{return await tH(d,{serverConsumerManifest:{moduleMap:void 0,moduleLoading:null}})}catch(e){if(e instanceof Error){let t=tq(void 0,o.trackingCore.getCurrentContext()?.pageKey,void 0,s);o.jetCore.reportError(tY(e,{id:s,targetViewNames:t?[t]:[],tags:["fetch-component"]}))}throw e}finally{try{a=await d}catch(e){l=e}finally{let{rumCore:e,trackingCore:t}=o,r=a?new Map(Array.from(a.headers.entries())):null,i=tq(void 0,t.getCurrentContext()?.pageKey,void 0,s);e.onDataResponse(u,Date.now(),i?[i]:[],a?.status??null,r,l)}}}})},fetchComponentSpan:r}}(),[m,g]=t.useState(),[h,y]=t.useState(!1),b=c(),[x,S]=t.useState({url:void 0,target:void 0,interop:void 0}),{applicationContext:E="/",recaptchaV3Config:v={recaptchaV3SiteKey:"",recaptchaV3Timeout:0}}=ri(),{isInteropNavigationEnabled:T,navigateInteropToUrl:N,postSyncBadgeMessage:_,subscribeToMessages:k}=tV(),I=le(),{setCurrentScreen:O,isClosingAllModalsRef:C,focusableElOnDismissRef:P,firstModalTriggerRef:R,setIsBackNavigation:w,closeViewSpec:A,pageReappearDataRef:D,isModalNavigationChangeEnabled:U}=r9(),F=tB(),{lixClient:j}=tQ(),{screenId:B}=ia(),V=t.useContext(rn),K=t.useRef(e?.tracking?.actionType),W=t.useMemo(()=>(e?.tracking?.breadcrumbs||[]).map(e=>u(e,"proto.sdui.tracking.TrackingBreadcrumb")),[e?.tracking?.breadcrumbs]),J=e=>{e&&(K.current=e)},{initializeAndAttemptSurvey:H}=s7(),Q=tB(),ei=Q.getClients(),eo=tW().getTracer(),ea=()=>{ee.toasts.forEach(e=>{void 0!==e.duration&&et.remove(e.id)})},es=(e,t)=>{if(e.component&&!h){let n=function(e){switch(e){case lr.Placement_TOP_START:return"top-start";case lr.Placement_TOP_END:return"top-end";case lr.Placement_BOTTOM_START:return"bottom-start";case lr.Placement_RIGHT_START:return"right-start";case lr.Placement_RIGHT_END:return"right-end";case lr.Placement_BOTTOM_END:default:return"bottom-end"}}(e.placement),o=Array.isArray(e.component)?e.component[0]?.props?.viewTrackingSpecs:e.component?.props?.viewTrackingSpecs;g(r.jsx(en,{placement:n,triggerRef:i?.ref,dismissActionType:e.dismissActionType,viewTrackingSpecs:o,widthType:e.widthType,onClose:()=>{y(!1),g(void 0),e.onCloseAction&&t(e.onCloseAction)},children:(i,o,a,s)=>r.jsx(en.Content,{onClose:()=>{y(!1),g(void 0),e.onCloseAction&&t(e.onCloseAction)},isOpen:!0,placement:n,widthType:e.widthType,setFloating:i.setFloating,context:a,style:o,...s(),children:e.component})})),y(!0),i?.ref?.current?.setAttribute("aria-expanded","true"),P.current=i?.ref?.current??null}else g(void 0),y(!1),i?.ref?.current?.setAttribute("aria-expanded","false")};t.useEffect(()=>{let t=e=>!!e&&e.some(e=>{if("proto.sdui.actions.core.ShowMenu"===e.$type)return!0;if("proto.sdui.actions.core.ConditionalAction"===e.$type){let r=e.value;return t(r.whenTrue?.actions)||t(r.whenFalse?.actions)}return!1});i?.ref?.current&&!i.ref.current.ariaExpanded&&t(e?.actions)&&(i.ref.current.ariaExpanded="false")},[]);let el=t.useCallback(({actions:e},t={})=>{let c;let u=(e,t={})=>{let r=el(e,t);return r?r(t.event):Promise.resolve()},m=[];return e.forEach(e=>{var c,h,x,W,en,ec,eu,ed,ep,ef,em,eg,eh,ey,eb,ex,eS,eE,ev,eT,eN,e_,ek,eI,eO,eC,eP,eR,ew,eA,e$,eL,eM,eD,eU,eF,ej,eB,eV,eK,eW,eJ,eG,ez,eH,eq,eY,eX,eZ,eQ;let e0;switch(e.$type){case"proto.sdui.actions.core.ResetPagination":e0=()=>{let{componentKey:t,nextPageRequest:r,completionAction:i,perfTrackingPageKey:n}=e.value,o=r$(t);o&&r&&iB.notify(o,{componentKey:t,nextPageRequest:r,perfTrackingPageKey:n,$type:e.$type,completionAction:i||void 0,completionActionFn:i?()=>{u(i)}:void 0})};break;case"proto.sdui.actions.core.Navigate":let e1=e.value;ea();let{actionTypeToLegacyControlName:e2,legacyControlName:e3}=i?.viewTrackingSpecs||{},e4=K.current&&e2?e2[K.current]:e3,e7=e4?ei?.trackingCore?.generateControlUrn(e4):void 0;switch(e1.content?.$case){case"url":{let{url:e,openInNewTab:r,openBehaviorConfig:i,interop:o}=e1.content.url,a=r||i?.$case==="openInNewTabOrWindow";e0=function(e,t,r,i,n,o,a,s,l,c){let{url:u,openInNewTab:d,interop:p,openBehaviorConfig:f,urlType:m}=e;if(t)return()=>{if("undefined"!=typeof window)switch(f?.$case){case"openInNewTabOrWindow":window.open(u,"_blank");break;case"popupInCurrentWindow":window.open(u,"",uX(f.popupInCurrentWindow));break;default:d?window.open(u,"_blank"):p||i?r(u,p):window.location.href=u}};if(f?.$case==="popupInCurrentWindow")return()=>{window.open(u,"",uX(f.popupInCurrentWindow))};if(!n&&(i||p)){let e=Symbol("route:change");return t=>{if(uO(t,u))return;let i=$.hasDialogs();if(i&&o?.isRoutableModalsEnabled&&a){uW(o,a);let e=!1,t=o.onHistoryPop(()=>(e||$.hasDialogs()||a.current||(e=!0,t(),n(),r(u,p)),!1))}else i&&$.remove(),n(),r(u,p);function n(){if(m?.$case==="embeddedWebView"&&m.embeddedWebView.onDismiss&&s&&o&&l){let t;let r=m.embeddedWebView.onDismiss,i=!1,n=l(e,e=>{if(e?.activeModal){i=!0;return}i&&e?.kind==="did-change"&&(s(r),t?.())});"function"==typeof n&&(t=n)}if(c?.current&&o&&l){let t;let r=c.current,i=!1,n=l(e,e=>{e?.activeModal?i=!0:i&&e?.kind==="did-change"&&(setTimeout(()=>r.focus(),0),t?.())});"function"==typeof n&&(t=n)}}uk(t)&&(t.stopPropagation(),t.preventDefault())}}}(e1.content.url,t.isServerRequestAction??!1,N,T,a,n,C,e=>{let r=el(e,t);r?.()},k,P),S({url:e,target:a?"_blank":void 0,interop:o});break}case"destination":n.buildUrl(e1?.content?.destination.url)&&(e0=uY(e1?.content?.destination.url,n.navigate,void 0,n,C,e7));break;case"screen":if("string"==typeof(c=e1.content.screen.screenId)&&c.startsWith("com.linkedin.sdui.")){if(h=e1.content.screen,h.presentation?.$case==="modal"||h.presentation?.$case==="bottomSheet"){let e=e1.content.screen,{pageKeyApp:t,isMobile:o}=F.getInitialContext(),a=D.current,s=a?.onReappearAction?el(a.onReappearAction):void 0;e0=function({navigateScreen:e,triggerRef:t,setIsBackNavigation:i,setCurrentScreen:n,router:o,trackingClients:a,getBasePageKey:s,focusableElOnDismissRef:l,firstModalTriggerRef:c,isClosingAllModalsRef:u,isModalNavigationChangeEnabled:d,pageKeyApp:p,isMobile:f,closeViewSpec:m,isBackNavigation:g,triggerControlUrn:h,isModalHeightCustomizationLixEnabled:y,pageReappearActionFunc:b}){let x=t=>(uk(t)&&(t.preventDefault(),t.stopPropagation()),!!(uI(t)&&"undefined"!=typeof window&&e?.url)&&(window.open(e?.url,"_blank"),!0)),S=e=>{let t=e?.current;t&&setTimeout(()=>{t.focus(),e&&e.current===t&&(e.current=null)},100)};return E=>{if(x(E))return;let v=uQ[e.colorScheme],T=e.presentation?.$case==="modal"?e.presentation.modal.size:void 0,N=e.presentation?.$case==="modal"?e.presentation.modal.position:void 0,_=()=>{let t;let r=e.presentation;return r?.$case==="modal"?t=r.modal.closeViewTracking:r?.$case==="bottomSheet"&&(t=r.bottomSheet.closeViewTracking),!t&&m&&(t=m),t?function(e){let t;if(!e)return;let{impressionThresholds:r,interactionTypes:i,viewName:n,contentTrackingId:o,legacyControlName:a,emitNonAnchorPVEForPageKey:s,cooloffToken:l,trackingScope:c,actionTypeToLegacyControlName:u,semanticPosition:d,metadata:p,multiImpressionThresholdCues:f,isMultiImpressionEnabled:m,entityUrn:g}=e,h=[];if(i&&i.length>0){let e={InteractionType_SHORT_PRESS:"SHORT_PRESS",InteractionType_HOVER:"HOVER",InteractionType_KEYBOARD_PRESS:"KEYBOARD_PRESS",InteractionType_FOCUS:"FOCUS",InteractionType_UNFOCUS:"UNFOCUS"};i.forEach(t=>{let r=e[t];"string"==typeof r&&h.push(r)})}let y=[];return r&&r.length>0&&r.forEach(({minDurationMs:e,minVisibilityPercentage:t,shouldTriggerOnStart:r})=>{y.push({minDurationMs:e,minVisibilityPercentage:t,triggerOnStart:r})}),p&&p.length>0&&(t=p.map(e=>e.value?.$case==="sponsoredData"?{sponsoredData:e.value.sponsoredData}:{})),{impressionThresholds:y,interactionTypes:h,legacyControlName:a,emitNonAnchorPVEForPageKey:s,cooloffToken:l,viewName:n,trackingScope:function(e){try{let t=e=>e&&"proto.sdui.tracking.TrackingBreadcrumb"===e.$type;if(e)return e.map(e=>{let r;let i={contentTrackingId:e.contentTrackingId,topicName:e.topicName,transporterKeys:e.transporterKeys};return e.trackingBreadcrumb&&t(e.trackingBreadcrumb)&&(r=e.trackingBreadcrumb),r&&(i.breadcrumb={...r}),i})}catch(e){console.warn("Error decoding trackingScope",e)}}(c),contentTrackingId:function(e){if(e)return"object"==typeof e&&e.data?new TextDecoder().decode(Uint8Array.from(e.data)):new TextDecoder().decode(e)}(o),actionTypeToLegacyControlName:u,semanticPosition:d,metadata:t,multiImpressionThresholdCues:f||[],isMultiImpressionEnabled:m,entityUrn:g}}(t):void 0};if(d&&c&&!c.current&&(c.current=l?.current??t?.current??null),o?.isRoutableModalsEnabled){let t=e.screenId,r=e.newHierarchy?.childHierarchy?.screenHash||t;if(t&&e.pageKey){let r=!1;if(o.isBrowserRouteCacheEnabled){let{cachedScreen:i}=uG({router:o,navigateScreen:e,screenId:t,isBackNavigation:g});i&&(r=!0)}o.startNavigationSpan?.(t,e.pageKey,r)}try{o.pushHistoryEntry({id:r,url:e.url,type:"modal",data:{navigateScreen:{...e,screenTitle:void 0}}})}catch(e){a?.jetCore.reportError(tY(e,{tags:["modal-navigate"]}))}i?.(!1),n?.(e)}let k=e.presentation?.$case==="modal"&&o?.isModalPveEnabled;e.pageKey&&p&&a?.trackingCore.navigate(t7(p,e.pageKey,f??!1),h?{licu:h}:void 0,{suppressEventsFiring:!k});let I=ls(T),O=ll(N,y),C=r.jsx(u0,{fallbackTitle:e.screenTitle}),P=r.jsx(M,{children:r.jsx(uz,{navigateScreen:e,isModal:!0})});if(l&&!l.current){if(t?.current)l.current=t.current;else if(uk(E)){let e=E.currentTarget??E.target;e&&(l.current=e)}}$.add({type:e.presentation?.$case==="bottomSheet"?"sheet":"dialog",position:e.presentation?.$case==="bottomSheet"?"bottom":O,content:P,header:C,size:I,onDialogClose:()=>{if(o?.isRoutableModalsEnabled&&!$.canRemoveDialog())return;let e=_();e&&t5(e,"SHORT_PRESS",a,"COMO_TRACKING",void 0,void 0,"DISMISS"),b&&b();let t=s?.();t&&a?.trackingCore.navigate(t,void 0,{suppressEventsFiring:!k}),o?.isRoutableModalsEnabled?d&&u?(uW(o,u)||$.removeDialog(),S(c)):(o.back()||$.removeDialog(),S(l)):($.remove(),S(l))},...v&&q[v]},t)}}({navigateScreen:e,triggerRef:i?.ref,router:n,setCurrentScreen:O,setIsBackNavigation:w,trackingClients:ei,getBasePageKey:F.getBasePageKey,focusableElOnDismissRef:P,firstModalTriggerRef:R,isClosingAllModalsRef:C,isModalNavigationChangeEnabled:U,pageKeyApp:t,isMobile:o,closeViewSpec:A,triggerControlUrn:e7,isModalHeightCustomizationLixEnabled:j?.getTreatmentIsEnabled("web.infra.modal-height-customization"),pageReappearActionFunc:s})}else e1.content.screen.presentation?.$case==="fullPage"&&n.buildUrl(e1?.content?.screen.url)&&(e0=uY(e1?.content?.screen.url,n.navigate,e1.content.screen,n,C,e7))}break;case"back":e0=function(e,t,r,i){let n=()=>{let n=$.hasDialogs();if(t?.to?.$case==="nearestFullScreen"&&n&&e){r&&uW(e,r);return}(function(e,t,r,i){if(t){if(e?.isRoutableModalsEnabled){if(!$.canRemoveDialog())return;e.back()||$.removeDialog()}else $.removeDialog();setTimeout(()=>{i?.current&&(i.current.focus(),i.current=null)},100)}else"undefined"!=typeof window&&window.history.length<=1&&r?e?.navigate(r):e?.back()})(e,n,t?.fallbackUrlOnWeb,i)};return()=>{setTimeout(n,0)}}(n,e1.content.back,C,P)}break;case"proto.sdui.actions.core.PlaySound":e0=function(e){let t;switch(e.type){case"SoundType_CONNECT_FOLLOW":t="CONNECT_FOLLOW";break;case"SoundType_CONNECTION_ACCEPTED":t="CONNECTION_ACCEPTED";break;case"SoundType_ERROR":t="ERROR";break;case"SoundType_EXIT":t="EXIT";break;case"SoundType_JOIN":t="JOIN";break;case"SoundType_LIVE_OFF":t="LIVE_OFF";break;case"SoundType_LIVE_ON":t="LIVE_ON";break;case"SoundType_MESSAGE_DELETED":t="MESSAGE_DELETED";break;case"SoundType_MESSAGE_RECEIVED":t="MESSAGE_RECEIVED";break;case"SoundType_MESSAGE_SENT":t="MESSAGE_SENT";break;case"SoundType_POST_SUCCESS":t="POST_SUCCESS";break;case"SoundType_PUSH_NOTIFICATION":t="PUSH_NOTIFICATION"}return()=>{!1!==sJ("enableSoundsDesktop")&&Y.play(t)}}(e.value);break;case"proto.sdui.actions.core.ServerRequest":e.value.isStreaming?e0=function(e,t,i,n,o=!1,a,s){return async()=>{let i=r.jsx(dp,{actionRunner:t,request:e,keepAlive:o,namespace:a,screenId:s});dl.add({id:e.requestId,element:i})}}(e.value,u,i?.viewTrackingSpecs,K.current,i?.keepAlive,i?.namespace,B):(x=e.value,W=i?.viewTrackingSpecs,en=K.current,ec=F.getAppContext().shouldReportActionsErrorsToPEM,eu={recaptchaV3SiteKey:v?.recaptchaV3SiteKey,recaptchaV3Timeout:v?.recaptchaV3Timeout},e0=async(e,t)=>{let r,i,n,o,s;let c="";x.rumPageKey&&(r=t7(Q.getAppContext().context.pageKeyApp,x.rumPageKey,Q.getAppContext().context.isMobile),Q.startRumSession(r),i=t6("server_request_action",x.requestId));let d=Date.now();try{let e,s;let l=uR(x,void 0,B);i?.markStart(),{createFromFetch:e,fetchRequest:n,normalizedEndpoint:c,compositeViewName:o}=function(e,t,r,i,n,o){let{maxRetries:a,backOffMultiplier:s,maxSeconds:l}=e.serverRequest,c=e.requestId||e.serverRequest.requestId,u=t8(`/rsc-action/actions/server-request?sduiid=${encodeURIComponent(c)}${o?`&parentSpanId=${encodeURIComponent(o.spanContext.spanId)}`:""}`,t),d=uL(e?.requestedArguments),p=u5(u,a,s,l,{method:"POST",headers:{...tz({trackingContext:r}),"Content-Type":"application/json",...d},body:JSON.stringify(e,(e,t)=>"maxRetries"===e||"backOffMultiplier"===e||"maxSeconds"===e?void 0:"bigint"==typeof t?Number(t):t)},o);return{createFromFetch:tH(p,{serverConsumerManifest:{moduleMap:void 0,moduleLoading:null}}),fetchRequest:p,normalizedEndpoint:u,compositeViewName:tq(i?.viewName,r.getClients().trackingCore.getCurrentContext()?.pageKey,n,e.serverRequest.requestId)}}(l,E,Q,W,en,t?.parentSpan);let p=await e;if(i?.markEnd(),x.isApfcEnabled&&u4(Q,(x.requestId??"undefinedAction").replace(/\./g,"_"),eu?.recaptchaV3SiteKey),"states"in p){let{states:e,response:t}=p;s=t,sV(e),sV(e,a)}else s=p;if(s&&(s.completionAction&&await u(s.completionAction,{isServerRequestAction:!0,serverRequestRumPageKey:r,timestamp:d}),s.errors&&s.errors.length>0))throw new u7(s.errors)}catch(e){if(e instanceof Error&&(ec&&e instanceof u7&&(s=e),Q.getClients().jetCore.reportError(tY(e,{id:x.requestId,targetViewNames:o?[o]:[],tags:["server-request-action"]}))),x.onClientRequestFailureAction)return u(x.onClientRequestFailureAction,{timestamp:d,isServerRequestAction:!0,serverRequestRumPageKey:r});throw e}finally{let e,t;try{e=await n}catch(e){t=e}finally{let{rumCore:r}=Q.getClients(),i=e?new Map(Array.from(e.headers.entries())):null;r.onDataResponse(c,Date.now(),o?[o]:[],e?.status??null,i,s??t,s?{errorTypeOverride:l.SERVER_ERROR}:void 0)}}});break;case"proto.sdui.actions.core.SetState":ed=e.value,e0=async()=>{let e=ed.state;e&&(u8([{...e,isOptimistic:ed.isOptimistic}],a),u6(ed.state,a,ei))};break;case"proto.sdui.actions.core.CommitStates":ep=e.value,e0=()=>{sK(ep.keys),sK(ep.keys,a)};break;case"proto.sdui.actions.core.RollbackStates":ef=e.value,e0=()=>{sW(ef.keys),sW(ef.keys,a)};break;case"proto.sdui.actions.core.RemoveUi":{let t=e.value;e0=()=>{if(ee.toasts.find(e=>e.id===t.key))et.remove(t.key);else if(iL.bubbles.find(e=>e.id===t.key))iF.remove(t.key);else{var e;dh(t.key,i?.ref),e=t.key,ln.setItem(e,!0)}};break}case"proto.sdui.actions.core.ShowMenu":e0=()=>{es(e.value,u)};break;case"proto.sdui.actions.core.ShowToast":e0=()=>{let t;let r=e.value,i=Date.now();switch(r.duration){case"ToastDuration_SHORT":t=4e3;break;case"ToastDuration_LONG":t=7e3;break;default:t=void 0}!function({id:e,component:t,duration:r,created:i}){if(!t)throw Error("Error: component is required for toast`");if(e){let n={id:e,children:t,created:i,duration:r};et.add(n),r&&setTimeout(()=>{et.remove(n.id)},r)}}({id:r.key,component:r.component,duration:t,created:i})};break;case"proto.sdui.actions.core.DismissToast":e0=()=>{et.pop()};break;case"proto.sdui.actions.core.ReplaceComponent":em=e.value,eg=t.timestamp,eh=t.serverRequestRumPageKey,ey=i?.ref,e0=async()=>{let e=eg??Date.now(),{componentKey:t,content:i}=em;if(dh(t,ey),i&&"newComponent"===i.$case)return dg(t,i.newComponent,e,eh);if(i&&"asyncContent"===i.$case)try{let n=await p(t8(li.GET_COMPONENT(i.asyncContent.newComponentId),E),Q,{clientArguments:uA(i.asyncContent.requestedArguments,B)});return dg(t,r.jsx(uM.Provider,{value:{parentSpan:f?.current},children:n}),e,eh)}catch{let e=i.asyncContent.onClientRequestFailureAction;e&&u(e)}dg(t,r.jsx(r.Fragment,{}),Date.now())};break;case"proto.sdui.actions.core.RefreshScreen":e0=()=>{n.reload()};break;case"proto.sdui.actions.core.Focus":e0=()=>{let t=e.value.key?.value?.$case==="id"?e.value.key.value.id:e.value.key?.value?.prefixToExecutionId;t?.includes("commentBox")?setTimeout(()=>{dN(e.value.componentKey,{preventScroll:e.value.preventScroll,isScrollAnimated:e.value.isScrollAnimated,blockPosition:e.value.blockPosition,scrollAnnouncementMessage:o("scrolled_to_top_of_feed")})},300):dN(e.value.componentKey,{preventScroll:e.value.preventScroll,isScrollAnimated:e.value.isScrollAnimated,blockPosition:e.value.blockPosition,scrollAnnouncementMessage:o("scrolled_to_top_of_feed")})};break;case"proto.sdui.actions.core.ShowSemaphore":e0=function(e,t,i,n){let{reportedInfo:o,genericReportedInfo:a,actionInfo:s,onSuccess:l}=e;if(s&&"blockInfo"===s.$case){let{contentSource:o,profileUrn:a}=s.blockInfo;if(!o||!a)throw Error("Invalid data for showSemaphore blockInfo action");let c=new URLSearchParams({blockeeProfileId:de(a)?.id??""});return async()=>{let o=Date.now(),a=await fetch(`/trust/block-confirmation-screen-info-v2?${c.toString()}`),s=await a.json();i(r.jsx(X,{data:{data:s,type:Z.BLOCK},onSuccess:()=>l&&t(l,{timestamp:o}),onFailure:()=>e.onFailure&&t(e.onFailure,{timestamp:o})})),n?.trackingCore?.fireCIE("semaphore-comments-block","SHORT_PRESS")}}if(a){let{targetEntityUrn:e,contentSource:o,authorUrn:s}=a;if(!e||!o)throw Error("Invalid data for showSemaphore action");let c=de(s),u=new URLSearchParams({contentSource:o,entityUrn:e});return c?.entityType==="member"?u.append("authorProfileId",c.id):u.append("authorUrn",s),async()=>{let e=Date.now(),o=await fetch(`/trust/report-landing-screen?${u.toString()}`),a=await o.json();i(r.jsx(X,{data:a.menu,onSuccess:()=>l&&t(l,{timestamp:e})})),n?.trackingCore?.fireCIE("semaphore-generic","SHORT_PRESS")}}if(o?.$case==="invitationReportedInfo"){let{invitationUrn:e,authorUrn:a,contentSource:s}=o?.invitationReportedInfo??{};if(!e||!s)throw Error("Invalid data for showSemaphore action");let c=new URLSearchParams({entityUrn:e,authorProfileId:de(a)?.id??"",contentSource:s});return async()=>{let e=Date.now(),o=await fetch(`/trust/report-landing-screen?${c.toString()}`),a=await o.json();i(r.jsx(X,{data:a.menu,onSuccess:()=>l&&t(l,{timestamp:e})})),n?.trackingCore?.fireCIE("semaphore-open-invitation","SHORT_PRESS")}}return()=>{}}(e.value,u,g,ei);break;case"proto.sdui.actions.core.ConditionalAction":{let t=function(e){if("undefined"==typeof document)return;let{whenTrue:t,whenFalse:r}=e,i=la(e);return i&&t?t.tracking?.actionType:!i&&r?r.tracking?.actionType:void 0}(e.value);t&&(K.current=t),eb=e.value,e0=async e=>{let t=la(eb),{whenTrue:r,whenFalse:i}=eb;return t&&r?(J(r.tracking?.actionType),u(r,{event:e})):!t&&i?(J(i.tracking?.actionType),u(i,{event:e})):void 0};break}case"proto.sdui.actions.core.ClearBadge":e0=()=>{oc(e.value.badgeSource,_)};break;case"proto.sdui.actions.core.ManualFireGAE":e0=()=>{let t=e.value.viewTrackingAnnotations,r=e.value.breadcrumbs||[];t&&t5(t,"SHAKE",ei,e.value.manualFireReason?.toString(),r)};break;case"proto.sdui.actions.core.Share":e0=async()=>{"undefined"!=typeof window&&await window.navigator.clipboard.writeText(e.value.value)};break;case"proto.sdui.actions.core.login.SignInWithApple":ex=e.value,eS=i?.ref,e0=async()=>{if(!eS?.current)throw Error("Trigger element reference is required for Apple Sign-In");try{let{SnappleAuth:e,SnappleEvents:t,SnappleLibSrc:r}=await lc(),{clientId:i,redirectURI:n}=function(e){try{let t=new URL(e);if(!t.hostname||!t.pathname)throw Error(`Invalid URL structure. URL must have hostname and pathname: ${e}`);let r=t.searchParams.get("client_id"),i=t.searchParams.get("redirect_uri");if(!r||!i)throw Error(`Missing required parameters: client_id or redirect_uri in URL: ${e}`);return{clientId:r,redirectURI:i}}catch(t){if(t instanceof Error)throw t;throw Error(`Failed to parse Apple Auth URL: ${e}. Error: ${t instanceof Error?t.message:"Unknown error"}`)}}(ex.url);lu||(lu=new e({libSrcPath:r,snappleCTA:eS.current,clientId:i,redirectURI:n,shouldAttachEvents:!1}),await new Promise(e=>{lu?.addEventListener(t.INITIALIZED,()=>{e()})}));let o=async e=>{let{authorization:r,user:i}=e.detail;ex.idToken?.key&&r?.id_token&&sj(ex.idToken.key,r.id_token),ex.authCode?.key&&r?.code&&sj(ex.authCode.key,r.code),ex.email?.key&&i?.email&&sj(ex.email.key,i.email),ex.firstName?.key&&i?.name?.firstName&&sj(ex.firstName.key,i.name.firstName),ex.lastName?.key&&i?.name?.lastName&&sj(ex.lastName.key,i.name.lastName),ex.onSuccess&&await u(ex.onSuccess),lu?.removeEventListener(t.SNAPPLE_USER_FETCHED,o),lu?.removeEventListener(t.DISMISSED,a)},a=async()=>{ex.onFailure&&await u(ex.onFailure),lu?.removeEventListener(t.SNAPPLE_USER_FETCHED,o),lu?.removeEventListener(t.DISMISSED,a)};lu.addEventListener(t.SNAPPLE_USER_FETCHED,o),lu.addEventListener(t.DISMISSED,a),lu.triggerLogin()}catch(e){throw ex.onFailure&&await u(ex.onFailure),Error("Failed to initialize SignInWithApple: "+(e instanceof Error?e.message:"Unknown error"))}};break;case"proto.sdui.actions.core.login.SignInWithMicrosoft":eE=e.value,ev=i?.ref,e0=async()=>{if(!ev?.current)throw Error("Trigger element reference is required for Microsoft Sign-In");try{let e=await ld();if(!e)throw Error("Failed to load Microsoft Auth library (SSR context)");let{MicrosoftAuth:t,MicrosoftEvents:r,MicrosoftLibSrc:i}=e;lp||(lp=new t({libSrcPath:i,uxMode:"redirect",showOneTap:!1}),await new Promise(e=>{let t=()=>{lp?.removeEventListener(r.INITIALIZED,t),e()};lp?.addEventListener(r.INITIALIZED,t)}));let n=async e=>{let{idToken:t,email:r,givenName:i,familyName:n,imageUrl:o,id:s}=e.detail;eE.idToken?.key?.value&&t&&sF(eE.idToken.key.value,t),eE.email?.key?.value&&r&&sF(eE.email.key.value,r),eE.firstName?.key?.value&&i&&sF(eE.firstName.key.value,i),eE.lastName?.key?.value&&n&&sF(eE.lastName.key.value,n),eE.profilePictureUrl?.key?.value&&o&&sF(eE.profilePictureUrl.key.value,o),eE.id?.key?.value&&s&&sF(eE.id.key.value,s),a(),eE.onSuccess&&await u(eE.onSuccess)},o=async e=>{a(),eE.onFailure&&await u(eE.onFailure)},a=()=>{lp&&(lp.removeEventListener(r.USER_FETCHED,n),lp.removeEventListener(r.MICROSOFT_ERROR,o))};lp.addEventListener(r.USER_FETCHED,n),lp.addEventListener(r.MICROSOFT_ERROR,o);try{await lp._triggerLogin()}catch(e){throw a(),e}}catch(e){throw eE.onFailure&&await u(eE.onFailure),Error("Failed to initialize SignInWithMicrosoft: "+(e instanceof Error?e.message:"Unknown error"))}};break;case"proto.sdui.actions.core.login.SignInWithPasskey":eT=e.value,eN=i?.ref,e0=async()=>{try{if(!eT.passkeyData)throw Error("Passkey data is required for authentication");let e=await lb(eT.passkeyData);if(ly(eN?.current)){await lx(eT,u,eN,e);return}await lS(eT,u)}catch(e){await lv(e,eT,u)}};break;case"proto.sdui.actions.mynetwork.GoogleContactsImport":e_=e.value.importOrigin,e0=async()=>{let e=(function(e,t){let r=[];r="both"===t?["https://www.googleapis.com/auth/contacts.other.readonly","https://www.googleapis.com/auth/contacts.readonly"]:"contacts"===t?["https://www.googleapis.com/auth/contacts.readonly"]:["https://www.googleapis.com/auth/contacts.other.readonly"];let i=new URLSearchParams;i.append("client_id","114044818647-7ivhpcar5rhg1jvphop7fgg3u2sf216j.apps.googleusercontent.com"),i.append("redirect_uri","https://www.linkedin.com/flagship-web/redirect"),i.append("response_type","token"),i.append("scope",r.join(" "));try{let t=JSON.stringify({importOrigin:e,redirectUrl:"https://www.linkedin.com/mynetwork/upload-contacts"});i.append("state",t)}catch{}return i})(e_,j?.getTreatment("web.mynetwork-google-contacts-import-additional-scope")??"control").toString();"undefined"!=typeof window&&window.open(`https://accounts.google.com/o/oauth2/v2/auth?${e}`,"_self")};break;case"proto.sdui.actions.core.RemoveFromCollection":e0=()=>{let{value:{collectionId:t,semanticId:r,deleteDirection:n}}=e;dh(r,i?.ref),function(e,t,r){if(e)iq({collectionId:e,semanticId:t,deleteDirection:r});else for(let e of iz.getAllKeys())iq({collectionId:e,semanticId:t,deleteDirection:r})}(t,r,n)};break;case"proto.sdui.actions.core.UpsertToCollection":e0=async()=>{let{value:{components:t,collectionId:r,action:i,position:n}}=e;t&&Array.isArray(t)&&await s6(r,t,i,u,n)};break;case"proto.sdui.actions.core.ClearCollection":ek=e.value.collectionId,e0=()=>{ek&&iH(ek)};break;case"proto.sdui.actions.core.AddToStringList":eI=e.value,e0=()=>{if(!eI.key)return;let e=sJ(eI.key.value);if(e&&"object"==typeof e&&"$type"in e&&"proto.sdui.StringList"===e.$type&&"stringValues"in e){let t=[...e.stringValues];t.push(eI.newString);let r=[{key:eI.key,value:{...e,stringValues:t},isOptimistic:!1}];sD(r),sD(r,a)}};break;case"proto.sdui.actions.core.RemoveFromStringList":eO=e.value,e0=()=>{if(!eO.key)return;let e=sJ(eO.key.value);if(e&&"object"==typeof e&&"$type"in e&&"proto.sdui.StringList"===e.$type&&"stringValues"in e){let t=[...e.stringValues].filter(e=>e!==eO.removeString),r=[{key:eO.key,value:{...e,stringValues:t},isOptimistic:!1}];sD(r),sD(r,a)}};break;case"proto.sdui.actions.core.TriggerQualtricsSurvey":e0=()=>H(e.value,u);break;case"proto.sdui.actions.core.AddToCollection":e0=async()=>{let{value:{collectionId:t,componentId:r,requestedArguments:i,position:n}}=e,o=await p(t8(li.GET_COMPONENT(r),E),Q,{clientArguments:uA(i)}),a=o?{item:o,key:i?.payload?.semanticId,semanticId:i?.payload?.semanticId}:{};switch(n?.$case){case"asFirstItem":await s8({collectionId:t,addedElement:a,position:0});break;case"asLastItem":await s8({collectionId:t,addedElement:a});break;case"afterReferenceItemSemanticId":await s9({collectionId:t,addedElement:a,referenceId:n.afterReferenceItemSemanticId,position:iJ.AFTER});break;case"beforeReferenceItemSemanticId":await s9({collectionId:t,addedElement:a,referenceId:n.beforeReferenceItemSemanticId,position:iJ.BEFORE})}};break;case"proto.sdui.actions.core.ReloadAd":e0=()=>{let t=e.value.key;if(t)try{er.reload(t)}catch(e){}};break;case"proto.sdui.actions.core.CloseMenu":e0=()=>{b?b.events.emit("close"):(y(!1),g(void 0))};break;case"proto.sdui.actions.core.Validate":eC=e.value,e0=async()=>{let{jetCore:e}=ei,t=!0;eC.validator.forEach(async r=>{let i=!0,n=r.value?.key?.value;if(!n){e.reportLog("missing valueBindingKey during Validate action");return}let o=sJ(n);switch(r.type?.$case){case"required":null==o?i=!1:"string"==typeof o?i=""!==o.trim():"number"==typeof o&&(i=!isNaN(o));break;case"characterCount":{let t=r.type.characterCount.range;if(void 0===t)break;let n=t.start,a=0===t.end?void 0:t.end;"string"==typeof o?i=o.length>=n&&(void 0===a||o.length<=a):e.reportLog("Error: you tried to use a characterCount validation on a non-string field value")}break;case"integerRange":{let t=r.type.integerRange.range?.start,n=r.type.integerRange.range?.end,a="number"==typeof o?o:Number(o);isNaN(a)?e.reportLog("Error: you tried to use an integerRange validation on a non-numeric field value"):i=(void 0===t||a>=t)&&(void 0===n||a<=n)}break;case"floatRange":{let t=r.type.floatRange.range?.start,n=r.type.floatRange.range?.end,a="number"==typeof o?o:Number(o);isNaN(a)?e.reportLog("Error: you tried to use an floatRange validation on a non-numeric field value"):i=(void 0===t||a>=t)&&(void 0===n||a<=n)}break;case"regex":{let t=r.type.regex.regexPattern;if("string"==typeof o)try{i=RegExp(t,"u").test(o)}catch{i=!1,e.reportLog(`Error: invalid regex pattern "${t}"`)}else i=!1,e.reportLog("Error: you tried to use a regex validation on a non-string field value")}break;case"wordCount":{let t=r.type.wordCount.range;if(void 0===t)break;let n=t.start,a=0===t.end?void 0:t.end;if("string"==typeof o){let e=o.trim().split(/\s+/).filter(e=>e.length>0).length,t=""===o.trim()?0:e;i=t>=n&&(void 0===a||t<=a)}else i=!1,e.reportLog("Error: you tried to use a wordCount validation on a non-string field value")}break;case"booleanExpression":{let t=!0===sB(r.type.booleanExpression.validationExpression);"boolean"==typeof t?i=t:(i=!1,e.reportLog("Error: invalid boolean expression"))}}i?r.onSuccess&&await u(r.onSuccess):(t=!1,r.onFailure&&await u(r.onFailure))}),t?eC.onSuccess&&await u(eC.onSuccess):eC.onFailure&&await u(eC.onFailure)};break;case"proto.sdui.actions.core.CreateOverlayBubble":{let{value:{key:t,component:r}}=e;e0=async()=>{!function({id:e,component:t}){if(!t)throw Error("Error: component is required for overlay bubbles`");e&&iF.add({id:e,children:t})}({id:t,component:r})};break}case"proto.sdui.actions.core.CountLines":eP=e.value,e0=()=>{let e=eP.text?.key?.value;if(!e)return;let t=sJ(e);if("string"!=typeof t)return;let r=function(e,t="\n",r){return e?(r&&e.endsWith(r)&&(e=e.slice(0,-r.length)),e.split(t).filter(e=>{let t=e.trim();return""!==t&&(!r||t!==r)}).length):0}(t,eP.delimiter,eP.trailingCharToOmit);eP.lineCount?.key&&s({value:eP.lineCount?.key?.value},r.toString())};break;case"proto.sdui.actions.core.ShowFullscreen":{let{key:t,onEnterAction:r,onExitAction:i}=e.value;e0=()=>{let e=r$(t);e&&lo.getInstance().enterFullscreen(e,()=>r&&u(r),()=>i&&u(i))};break}case"proto.sdui.actions.core.DismissFullscreen":{let{key:t}=e.value;e0=()=>{let e=r$(t);e&&lo.getInstance().exitFullscreen(e)};break}case"proto.sdui.actions.core.media.MediaPlaybackAction":e0=function(e){let{escapedPlayerId:t,action:r,playlistToReplaceWith:i}=e;return async()=>{let e=await G(t);if(!(!r||!e||e.error()))switch(r.$case){case"play":e.paused()&&await e.play(),e.usingPlugin("controlInteraction")&&(e.controlInteraction().setFirstInteractionCompleted(),e.controlInteraction().setPlayPauseOverlayInteraction(!1));break;case"pause":e.paused()||e.pause(),e.usingPlugin("controlInteraction")&&(e.controlInteraction().setFirstInteractionCompleted(),e.controlInteraction().setPlayPauseOverlayInteraction(!0));break;case"replay":e.currentTime(0),await e.play();break;case"playPause":{let t=e.paused();t?await e.play():e.pause(),e.usingPlugin("controlInteraction")&&(e.controlInteraction().setFirstInteractionCompleted(),e.controlInteraction().setPlayPauseOverlayInteraction(!t));break}case"replaceVideo":{let t=i?.playlist?.[0];if(i?.hasInvalidSources||!t?.sources)throw Error("MediaPlaybackAction - replaceVideo: Invalid VideoAsset source(s)");if(e.src(t.sources),e.usingPlugin("tracking")){let r={assetUrn:t.assetUrn,isEndedLiveStream:t.liveState?.wasLive,contextTrackingId:e.tracking().getContextTrackingId()};e.tracking().createNewSession(r)}t.textTracks?.length&&z(e,t.textTracks,!0);break}case"skipInterstitial":e.usingPlugin("interstitials")&&e.interstitials().next()}}}(e.value);break;case"proto.sdui.actions.core.media.DownloadMedia":eR=e.value,e0=async()=>{let{mediaType:e,documentDownloadUrl:t,onSuccess:r,onFailure:i,onLoading:n,progress:o,downloadInstructions:a,downloadedMedias:l}=eR,c=a&&a.length>0;if(!c&&!e)return;if(!c)return"document"===e?t&&"undefined"!=typeof window?(window.open(t,"_blank"),r&&void u(r)):i&&void u(i):void 0;if("undefined"==typeof window||"undefined"==typeof document)return i&&void u(i);let d=document;try{n&&u(n);let e=d.createElement("a");for(let t of(e.target="_blank",e.rel="noopener noreferrer",e.style.display="none",a))e.href=t.url,d.body.appendChild(e),e.click(),d.body.removeChild(e);await lw(a,ei?.jetCore);let t=a.map(e=>l0.fromPartial({fileName:e.filename,size:e.size,mimeType:e.mimeType,source:{$case:"localFile",localFile:l5.fromPartial({fileName:e.filename,mimeType:e.mimeType,size:e.size})}}));if(l?.key&&s){let e=cn.fromPartial({mediaFiles:t});s(l.key,e)}o?.key&&s&&s(o.key,100),r&&u(r)}catch{i&&u(i)}};break;case"proto.sdui.actions.core.media.ImportMedia":{let{captureConfig:t}=e.value;e0=t&&t.cameraTypes&&t.cameraTypes.length>0?function({action:e,triggerRef:t,actionRunner:i,setSduiState:n}){return()=>{let{onCompleted:o,importedMedia:a}=e,s=()=>{$.removeConfirmation()},l=r.jsx(cp,{onCompleteFn:e=>{if($.removeConfirmation(),e&&a?.key){let t=cs([{file:e}]);n(a.key,t)}o&&i(o)},onCancelFn:s,action:e,actionRunner:i,setSduiState:n}),c=ls("ModalSize_LARGE");$.add({type:"confirmation",content:l,size:c,onDismiss:s},t)}}({action:e.value,actionRunner:u,setSduiState:s,triggerRef:i?.ref}):cd(e.value,u,I,s);break}case"proto.sdui.actions.core.games.Clear":e0=()=>L()?.onClear();break;case"proto.sdui.actions.core.games.Hint":e0=()=>L()?.onHint();break;case"proto.sdui.actions.core.games.Undo":e0=()=>L()?.onUndo();break;case"proto.sdui.actions.core.NotifyParentApp":ew=e.value,e0=()=>{let{messageName:e,payload:t}=ew,r={message:e};if(t)switch(e){case"gamePlayState":{let{gamePlayState:e,...i}=t;r={data:e,...r,...i};let n=L();n?.getNumBacktracks&&(r.numBacktracks=n.getNumBacktracks()),n?.getSolveOrder&&(r.gameSolveOrder=n.getSolveOrder());break}case"showCompanyCTA":case"showConnectionsCTA":r.gameUrn=t.gameUrn;break;case"showSettingsCTA":{let e=L();if(e){let{getIsTimerHidden:r,getIsAutoCheckToggled:i,getIsAutoNotateToggled:n,getVisibilitySetting:o,getGameScoreVisibilitySetting:a}=e;t.menus?.forEach(e=>{if("setting"in e)switch(e.setting){case"isTimerHidden":e.value=!r();break;case"isAutoCheckedToggled":e.value=i?.();break;case"isAutoNotateToggled":e.value=n?.()}else"name"in e&&"visibilitySettings"===e.name&&e.data&&(e.data.visibilitySetting=o()??e.data.visibilitySetting,e.data.gameScoreVisibilitySetting=a()??e.data.gameScoreVisibilitySetting)})}r.data=t;break}default:r.data=t}n4.notify(JSON.stringify(r))};break;case"proto.sdui.actions.core.media.AddMediaToCollection":eA=e.value,e0=async()=>{let{key:e,mediaFile:t}=eA;if(!e||!t)return;let r=d(e);r||(r={$type:"proto.sdui.media.MediaList",mediaFiles:[]});let i=r.mediaFiles??[],n=i.find(e=>e.mediaFileId===t.mediaFileId),o=await cc(t);n?Object.assign(n,o):i.push(o),s(e,{...r,mediaFiles:i})};break;case"proto.sdui.actions.core.media.RemoveMediaFromCollection":e$=e.value,e0=()=>{let{key:e,mediaFileId:t}=e$;if(!e||!t)return;let r=d(e);if(!r)return;let i=r.mediaFiles??[],n=i.findIndex(e=>e.mediaFileId===t);-1!==n&&i.splice(n,1),s(e,{...r,mediaFiles:i})};break;case"proto.sdui.actions.core.media.UploadMedia":eL=e.value,e0=async()=>{let{uploadInstructions:e,uploadId:t}=eL;if(!e||e?.length===0)return;j?.getTreatmentIsEnabled("web.media-ingester-enable-client-sensors")&&V&&e.forEach(e=>{e.uploadInstructions.ingestionOperations.forEach(({fileReference:e})=>{ca.getItem(e)||V.incrementCounterMetric({groupName:"web-media-ingester",metricName:lC.MEDIA_INGESTION_FILE_NOT_FOUND})})});let r=j?.getTreatmentIsEnabled("web.media-ingester-enable-image-preprocessor-v2")??!1,i=u_.getInstance({trackingCore:ei.trackingCore,featureFlags:{enableMediaPreprocessorV2:r}}).ingest(t,e.map(e=>({uploadInstructions:e.uploadInstructions})),{onProgress:e=>{eL.progress?.key&&s(eL.progress?.key,100*e.progress)}});try{await i.isDone(),eL.onSuccess&&u(eL.onSuccess)}catch(e){if(e instanceof cN&&e.isCancelled){eL.onCancellation&&u(eL.onCancellation);return}eL.onFailure&&u(eL.onFailure)}finally{(function(e){e.forEach(e=>{e.uploadInstructions.ingestionOperations.forEach(e=>{let t=e.fileReference;t&&ca.removeItem(t)})})})(e)}};break;case"proto.sdui.actions.core.UploadToAmbry":eM=e.value,e0=async()=>{let{mediaList:e,uploadUrl:t}=eM,r=new oE(sz),i=e?r.evaluateMediaListExpression(e):null;if(!i||!i.mediaFiles||0===i.mediaFiles.length)return;let n=t?r.evaluateStringExpression(t):null;if(!n||!function(e){try{let t=new URL(e);return"https:"===t.protocol}catch{return!1}}(n)){eM.onFailure&&u(eM.onFailure);return}let o=i.mediaFiles[0];if(!o)return;let a=ca.getItem(o.mediaFileId);if(!a){eM.onFailure&&u(eM.onFailure);return}try{let e=await dT(a,n,e=>{eM.progress?.key&&s(eM.progress.key,e)});eM.uploadedAssetIds?.key&&e.locationHeader&&s(eM.uploadedAssetIds.key,[e.locationHeader]),eM.onSuccess&&u(eM.onSuccess)}catch{eM.onFailure&&u(eM.onFailure)}finally{ca.removeItem(o.mediaFileId)}};break;case"proto.sdui.actions.core.media.CancelMediaUpload":eD=e.value,e0=()=>{let{uploadId:e}=eD;u_.getInstance({trackingCore:ei.trackingCore}).cancel(e)};break;case"proto.sdui.actions.core.ScheduleAction":eU=e.value,e0=()=>{eU.action?u2.scheduleAction(eU,u):u2.cancelAction(eU.scheduledActionId)};break;case"proto.sdui.actions.core.CancelScheduledAction":eF=e.value,e0=()=>{let e=eF.scheduledActionId;u2.cancelAction(e)};break;case"proto.sdui.actions.core.ObserveWorkflowAction":ej=e.value,e0=()=>{ir.observeWorkflow(ej,u)};break;case"proto.sdui.actions.core.UpdateWorkflowAction":eB=e.value,e0=()=>{ir.updateWorkflow(eB.workflowId)};break;case"proto.sdui.actions.core.ClearWorkflowObserverAction":eV=e.value,e0=()=>{ir.clearWorkflowObserver(eV)};break;case"proto.sdui.actions.core.ShowConfirmationAlert":{let t=P?.current?P:i?.ref;e0=()=>{!function(e,t,i,n,o){if($.hasConfirmationDialog())return;let{component:a,presentation:s,closeViewTracking:l}=e;if(!a)throw Error("component is required to show confirmation alert dialog");l?.emitNonAnchorPVEForPageKey&&n&&i?.trackingCore?.firePVE(n(l.emitNonAnchorPVEForPageKey));let c=r.jsx(M,{children:a}),u=s?.$case==="modal"?s.modal.size:void 0,d=s?.$case==="modal"?s.modal.position:void 0,p=ls(u),f=ll(d,o);$.add({type:"confirmation",position:f,content:c,size:p,onClose:()=>{$.removeConfirmation(),i&&l&&tZ({trackingClients:i,viewTrackingSpecs:l})}},t)}(e.value,t,ei,F.formatPageKey,j?.getTreatmentIsEnabled("web.infra.modal-height-customization"))};break}case"proto.sdui.actions.core.DismissConfirmationAlert":e0=()=>{$.hasConfirmationDialog()&&$.removeConfirmation()};break;case"proto.sdui.actions.core.media.EditImage":e0=function({action:e,triggerRef:t,actionRunner:i}){return()=>{let{editorConfig:n,outputMediaList:o,onComplete:a,onCancelled:s,source:l,tagEditor:c}=e,u=()=>{s&&i(s)},d=r.jsx(l_,{source:l,editorConfig:n,outputMediaList:o,onCompleteFn:()=>{$.removeConfirmation(),a&&i(a)},onCancelledFn:u,tagEditor:c}),p=ls("ModalSize_XLARGE");$.add({type:"confirmation",content:d,size:p,onDismiss:u},t)}}({action:e.value,triggerRef:i?.ref,actionRunner:u});break;case"proto.sdui.actions.core.SetBindableTextModelForWrite":eK=e.value,e0=()=>{if(!eK.keyToCopy||!eK.keyToSet)return;let e=sJ(eK.keyToCopy.value);if(sv(e)){let t=[{key:eK.keyToSet,value:{...e,source:"server"},isOptimistic:!1}];sD(t),sD(t,a)}};break;case"proto.sdui.actions.core.SetSnapshotState":eW=e.value,e0=()=>{if(!eW.keyToCopy||!eW.keyToSet)return;let e=sJ(eW.keyToCopy.value);if(void 0!==e){let t=[{key:eW.keyToSet,value:e,isOptimistic:!1}];sD(t),sD(t,a)}};break;case"proto.sdui.actions.core.PrefetchScreen":eJ=e.value,eG=n.prefetch,e0=async()=>{await dy(eJ,eG)};break;case"proto.sdui.actions.core.PrefetchScreens":ez=e.value,eH=n.prefetch,e0=async()=>{let{screens:e}=ez;await Promise.all(e.map(async e=>dy(e,eH)))};break;case"proto.sdui.actions.core.LaunchShaky":eq=e.value,e0=()=>{console.log("LaunchShakyAction triggered:",eq);let e=JSON.stringify({actionType:eq.$type,jiraLabels:eq.debugInfo?.jiraLabels||[],customData:eq.debugInfo?.customDebugEntries||{}});dS.open(e)};break;case"proto.sdui.actions.core.SetCookie":eY=e.value,e0=()=>{var e;return eY.value.includes("; HttpOnly")?Promise.resolve():(e=eY.value,void("undefined"!=typeof window&&"undefined"!=typeof document&&(document.cookie=e,window.location.reload())))};break;case"proto.sdui.actions.temp.FireNonAnchorPageKey":eX=e.value,eZ=F.formatPageKey,e0=()=>{let{pageKey:e}=eX,t=e?eZ?.(e):void 0;t&&ei?.trackingCore?.firePVE(t)}}e0&&m.push((eQ=e0,"proto.sdui.actions.core.ServerRequest"!==e.$type||e.value.isStreaming?e=>eQ(e):async t=>{let r=eo.otelSdk.getCurrentPageSpan().createChild(tJ.RENDER_ACTION);r.setAttributes({[tX.SPAN_TYPE]:"LOAD",[tX.ENTITY_TYPE]:"ACTION",[tX.CALCULATE_METRICS]:!0,[tX.ACTION_ID]:e.value.requestId}),r.start();try{let e=await eQ(t,{parentSpan:r});return r.setStatus({code:"OK",message:""}),e}catch(e){throw r.recordError(e),r.setStatus({code:"ERROR",message:e?e.toString():"unknown"}),e}finally{r.end()}}))}),m.length&&(c=e=>Promise.allSettled(m.map(t=>t(e))).then(()=>{i?.sideEffect?.()})),c},[h,n]);return t.useMemo(()=>{let t=e?el(e):void 0;return{actionType:K,url:x.url,target:x.target,interop:x.interop,func:t,content:m||void 0,trackingBreadcrumbs:W}},[K,e,x.url,x.target,x.interop,m,el,W])}let dk=Object.freeze(Object.defineProperty({__proto__:null,default:function({adProps:e,sponsoredCreativeUrnBinding:t,disinterestReasonBinding:i,onWhyAmISeeingThisAdAction:n,onDontWantToSeeThisAdSubmitAction:o,...a}){let{setValue:s}=n5(),l=d_(n),c=d_(o);async function u(e){t?.key&&s({value:t.key.value},e),await l.func?.()}async function d(e,r){t?.key&&s({value:t.key.value},e),i?.key&&s({value:i.key.value},r),await c.func?.()}return r.jsxs(r.Fragment,{children:[r.jsx(eo,{...e,...a,onWhyAmISeeingThisAd:u,onDontWantToSeeThisAdSubmit:d}),l.content,c.content]})}},Symbol.toStringTag,{value:"Module"})),dI=Object.freeze(Object.defineProperty({__proto__:null,ClientLottieAnimation:function({onError:e,onLoaded:t,onEnd:i,path:n,...o}){let{func:a}=d_(e),{func:s}=d_(t),{func:l}=d_(i);return r.jsx(ea,{path:n,onError:a,onLoad:s,onComplete:l,...o})}},Symbol.toStringTag,{value:"Module"})),dO=Object.freeze(Object.defineProperty({__proto__:null,AppConfigProvider:function({children:e,isAppConfigForLoadingStateEnabled:i}){let[n,o]=t.useState(!1),a=tF(),{fetchNext:s,renderedContents:l}=t3("/rsc-action/actions/app-config","replace",JSON.stringify({}),void 0,"flagship3_app_config");t.useEffect(()=>{i&&!n&&(s(),o(!0))},[n,i,s]);let c=t.useCallback(()=>{if(0===l.length||!a.saveLoadingComponents||!i)return;let e=new Map,t=new Map;l.forEach(r=>{(Array.isArray(r)?r:[r]).forEach(r=>{if("object"==typeof r&&null!==r&&(!("id"in r)||void 0===r.id||"string"==typeof r.id)&&r.id&&r.loadingComponent){let i=r.id;e.set(i,r.loadingComponent),r.screenIdAliases&&Object.keys(r.screenIdAliases).forEach(e=>{t.set(e,i)})}})}),e.size>0&&a.saveLoadingComponents(e,t)},[l,a.saveLoadingComponents,i]);return t.useEffect(()=>{c()},[c]),r.jsx(r.Fragment,{children:e})}},Symbol.toStringTag,{value:"Module"})),dC=Object.freeze(Object.defineProperty({__proto__:null,default:function({badgeCountKey:e,bindingKey:t,badgeProps:i,...n}){let o=n9(t,e??"");return r.jsx(es,{count:"number"==typeof o?o:0,...i,...n})}},Symbol.toStringTag,{value:"Module"})),dP=Object.freeze(Object.defineProperty({__proto__:null,default:function({children:e,...t}){return r.jsx(el,{...t,children:e})}},Symbol.toStringTag,{value:"Module"}));function dR({id:e,label:i,children:n,action:o,viewTrackingSpecs:a,setHighlightedReaction:s,highlightedReaction:l,showPopoverMenuBelow:c,setShowPopover:u,setToggleReaction:d,animationTarget:p,setHoveringPopupMenuReaction:f,onClick:m,...g}){let{func:h,actionType:y}=d_(o),{onTrackClick:b}=ro(a,t.useRef("object"==typeof y?y.current:y??o?.tracking?.actionType))||{};return r.jsx(ec,{action:h,onClick:e=>{b?.(e),m?.(e)},label:i,onMouseEnter:()=>{f?.(!0),s?.(e)},onMouseLeave:()=>{f?.(!1),s?.(null)},shrink:null!==l&&l!==e,enlarge:null!==l&&l===e,showPopoverMenuBelow:c,setHighlightedReaction:s,setShowPopover:u,setToggleReaction:d,animationTarget:p,setHoveringPopupMenuReaction:f,enlargeIconIndex:l||-1,...g,children:n})}var dw=((iS=dw||{}).KeyType_UNKNOWN="KeyType_UNKNOWN",iS.KeyType_ANY="KeyType_ANY",iS.KeyType_ENTER="KeyType_ENTER",iS.KeyType_ESCAPE="KeyType_ESCAPE",iS.KeyType_ARROW_UP="KeyType_ARROW_UP",iS.KeyType_ARROW_DOWN="KeyType_ARROW_DOWN",iS.KeyType_ARROW_LEFT="KeyType_ARROW_LEFT",iS.KeyType_ARROW_RIGHT="KeyType_ARROW_RIGHT",iS);function dA(e){switch(e){case 0:case"KeyType_UNKNOWN":default:return"KeyType_UNKNOWN";case 1:case"KeyType_ANY":return"KeyType_ANY";case 2:case"KeyType_ENTER":return"KeyType_ENTER";case 3:case"KeyType_ESCAPE":return"KeyType_ESCAPE";case 4:case"KeyType_ARROW_UP":return"KeyType_ARROW_UP";case 5:case"KeyType_ARROW_DOWN":return"KeyType_ARROW_DOWN";case 6:case"KeyType_ARROW_LEFT":return"KeyType_ARROW_LEFT";case 7:case"KeyType_ARROW_RIGHT":return"KeyType_ARROW_RIGHT"}}function d$(){return{$type:"proto.sdui.triggers.KeyPressTrigger",conditions:[]}}let dL={$type:"proto.sdui.triggers.KeyPressTrigger",encode(t,r=e.Writer.create()){for(let e of(r.uint32(10).fork(),t.conditions))r.int32(function(e){switch(e){case"KeyType_UNKNOWN":default:return 0;case"KeyType_ANY":return 1;case"KeyType_ENTER":return 2;case"KeyType_ESCAPE":return 3;case"KeyType_ARROW_UP":return 4;case"KeyType_ARROW_DOWN":return 5;case"KeyType_ARROW_LEFT":return 6;case"KeyType_ARROW_RIGHT":return 7}}(e));return r.ldelim(),r},decode(t,r){let i=t instanceof e.Reader?t:e.Reader.create(t),n=void 0===r?i.len:i.pos+r,o=d$();for(;i.pos<n;){let e=i.uint32();if(e>>>3==1){if(8===e){o.conditions.push(dA(i.int32()));continue}if(10===e){let e=i.uint32()+i.pos;for(;i.pos<e;)o.conditions.push(dA(i.int32()));continue}}if((7&e)==4||0===e)break;i.skipType(7&e)}return o},fromJSON:e=>({$type:dL.$type,conditions:globalThis.Array.isArray(e?.conditions)?e.conditions.map(e=>dA(e)):[]}),toJSON(e){let t={};return e.conditions?.length&&(t.conditions=e.conditions.map(e=>(function(e){switch(e){case"KeyType_UNKNOWN":default:return"KeyType_UNKNOWN";case"KeyType_ANY":return"KeyType_ANY";case"KeyType_ENTER":return"KeyType_ENTER";case"KeyType_ESCAPE":return"KeyType_ESCAPE";case"KeyType_ARROW_UP":return"KeyType_ARROW_UP";case"KeyType_ARROW_DOWN":return"KeyType_ARROW_DOWN";case"KeyType_ARROW_LEFT":return"KeyType_ARROW_LEFT";case"KeyType_ARROW_RIGHT":return"KeyType_ARROW_RIGHT"}})(e))),t},create:e=>dL.fromPartial(e??{}),fromPartial(e){let t=d$();return t.conditions=e.conditions?.map(e=>e)||[],t}};function dM(e,t,r){let i=t?.find(t=>t.type?.$case===e),n=r?.viewTrackingSpecs||i?.viewTrackingSpecs,o=d_(i?.action,{...r,viewTrackingSpecs:n}),a=o.actionType;"string"!=typeof a&&a?.current!==void 0&&i?.action?.tracking?.actionType&&(a.current=i.action.tracking.actionType);let{onTrackClick:s}=ro(n,a)||{};if("click"===e&&s)return{...o,func:function(e){let t=o.func?.(e);return s(e),t}};if(i?.type?.$case==="remoteEvent")return{...o,remoteEventTopic:i?.type?.remoteEvent.topic};if(i?.type?.$case==="onComponentAppear"||i?.type?.$case==="onComponentDisappear")return{...o,threshold:"onComponentAppear"===i.type.$case?i?.type?.onComponentAppear.visibilityRatio:i?.type?.onComponentDisappear.visibilityRatio,rootMargin:"onComponentAppear"===i.type.$case?i?.type?.onComponentAppear.rootMargin:i?.type?.onComponentDisappear.rootMargin};if("keyPress"===e&&i?.type?.$case==="keyPress"){let e=i.type.keyPress?.conditions||[];if(e.length>0&&o.func)return{...o,func:function(t){if(t&&"object"==typeof t&&"key"in t&&e&&0!==e.length&&e.some(e=>{if(e===dw.KeyType_ANY)return!0;let r=function(e){switch(e){case dw.KeyType_ENTER:return"Enter";case dw.KeyType_ESCAPE:return"Escape";case dw.KeyType_ARROW_UP:return"ArrowUp";case dw.KeyType_ARROW_DOWN:return"ArrowDown";case dw.KeyType_ARROW_LEFT:return"ArrowLeft";case dw.KeyType_ARROW_RIGHT:return"ArrowRight";case dw.KeyType_ANY:default:return null}}(e);return r&&t.key===r}))return o.func?.(t)}}}return o}rL.set(dL.$type,dL);let dD=Object.freeze(Object.defineProperty({__proto__:null,default:function({children:e,triggers:i,options:n,viewTrackingSpecs:o,openMenuA11YTriggerLabel:a,...s}){let l=t.useRef(null),c=dM("click",i),[u,d]=t.useState("false"),[p,f]=t.useState(!1),[m,g]=t.useState(null),[h,y]=t.useState(!1),[b,x]=t.useState(!1),{isTrackingScopeRedesignEnabled:S=!1}=tB().getAppContext(),E=ra(o,S),v=n.map((e,r)=>t.createElement(dR,{...E,key:r,id:r,index:r,label:e.label,action:e.clickAction,viewTrackingSpecs:o,setShowPopover:d,setHighlightedReaction:g,highlightedReaction:m,showPopoverMenuBelow:p,setToggleReaction:y,animationTarget:l.current,setHoveringPopupMenuReaction:x},e.el));return r.jsx(eu,{...s,...E,toggleReaction:h,ref:l,onClick:e=>{d("false"),y(!0),setTimeout(()=>{c.func?.(e),y(!1)},200)},options:v,showPopoverMenu:u,setShowPopover:d,showPopoverMenuBelow:p,setShowPopoverMenuBelow:f,hoveringPopupMenuReaction:b,openMenuA11YTriggerLabel:a,children:e})}},Symbol.toStringTag,{value:"Module"}));function dU(e){return e.nativeEvent instanceof MouseEvent}function dF(e){return"undefined"!=typeof window&&window.TouchEvent?e.nativeEvent instanceof TouchEvent:"touches"in e.nativeEvent}function dj(e,i){let n=dM("click",e,i),o=dM("longClick",e,i),a=dM("hoverEnter",e,i),s=dM("hoverExit",e,i),l=dM("doubleClick",e,i),c=dM("keyPress",e,i),u=n.func,d=l.func,p=function(e,r={}){let{threshold:i=400,onStart:n,onFinish:o,onCancel:a}=r,s=t.useRef(!1),l=t.useRef(!1),c=t.useRef(null);return t.useMemo(()=>{if("function"!=typeof e)return{onMouseDown:void 0,onMouseUp:void 0,onMouseLeave:void 0,onTouchStart:void 0,onTouchEnd:void 0};let t=t=>{(dU(t)||dF(t))&&(n&&n(t),l.current=!0,c.current=setTimeout(()=>{e(t),s.current=!0},i))},r=e=>{(dU(e)||dF(e))&&(s.current?o&&o(e):l.current&&a&&a(e),s.current=!1,l.current=!1,c.current&&clearTimeout(c.current))};return{onMouseDown:t,onMouseUp:r,onMouseLeave:r,onTouchStart:t,onTouchEnd:r}},[e,i,a,o,n])}(o.func,{threshold:500}),f=a.func,m=s.func,g=c.func;return{url:n.url,target:n.target,interop:n.interop,onClick:u,onDoubleClick:d,onMouseDown:p.onMouseDown,onMouseUp:p.onMouseUp,onTouchStart:p.onTouchStart,onTouchEnd:p.onTouchEnd,onMouseEnter:f,onMouseLeave:m,onKeyDown:g,content:r.jsxs(r.Fragment,{children:[n.content,l.content,o.content,a.content,s.content,c.content]})}}function dB(e){return t=>{let r=n8(t.key);r&&(e.add(r),t.key?.value&&e.add(t.key.value))}}function dV(e,t){let r=dK(e?.expression);if(e&&void 0!==r)return{[e.cssVarName]:t?`${r}${t}`:r}}function dK(e){let{store:r}=n5(),i=t.useRef(new Set),n=t.useCallback(()=>{if(!e)return;let t=new Set,n=sB(e,dB(t),r);return!function(e,t){if(e.size!==t.size)return!1;for(let r of e)if(!t.has(r))return!1;return!0}(t,i.current)&&(i.current=new Set(t),r.setDependencies(e,t)),n??void 0},[e,r]),o=t.useCallback(t=>e?(r.subscribeToDependencies(e,t),()=>{r.unsubscribeFromDependencies(e,t)}):()=>{},[e,r]);return t.useSyncExternalStore(o,n,n)}function dW(e){let{store:r}=n5(),i=t.useRef(0),n=t.useCallback(()=>{i.current+=1},[]);t.useMemo(()=>{e.forEach(e=>{e&&r.subscribeToDependencies(e,n)})},[e,n,r]);let o=()=>i.current;return t.useSyncExternalStore(t=>{let i=()=>{n(),t()};return e.forEach(e=>{e&&r.subscribeToDependencies(e,i)}),()=>{e.forEach(e=>{e&&(r.unsubscribeFromDependencies(e,i),r.unsubscribeFromDependencies(e,n))})}},o,o),(()=>{if(0===e.length)return[];let t=Array(e.length);return e.forEach((e,i)=>{if(!e){t[i]=void 0;return}let n=new Set,o=sB(e,dB(n),r);r.setDependencies(e,n),t[i]=o}),t})()}let dJ=Object.freeze(Object.defineProperty({__proto__:null,useCSSNumberExpression:dV,useSduiExpression:dK,useSduiExpressions:dW},Symbol.toStringTag,{value:"Module"})),dG=(e,t)=>{if("function"==typeof e)return r=>{e?.(r),r&&(t?.skipPreventDefault||r.preventDefault(),r.stopPropagation())}},dz=t.createContext({isDisabled:!1});function dH({isDisabled:e,children:t}){return r.jsx(dz.Provider,{value:{isDisabled:e},children:t})}function dq(){return t.useContext(dz).isDisabled}let dY=Object.freeze(Object.defineProperty({__proto__:null,default:function({buttonProps:e,disabled:i,triggers:n,viewTrackingSpecs:o,loading:a}){let s=t.useRef(null),{url:l,target:c,interop:u,content:d,onClick:p,...f}=dj(n??[],{ref:s,viewTrackingSpecs:o}),{func:m}=t.useContext(ed),g=dG(m?e=>{p?.(e),m()}:p,{skipPreventDefault:!!l&&!u}),{lixClient:h}=tQ();e=Object.assign(e,ra(o,h?.getTreatmentIsEnabled("web.enable-trackingScope-redesign")??!1));let y=n9(i?.key,i?.key?.value??""),b=dq(),x="boolean"==typeof y&&y||b,S=dK(a)??!1;return r.jsxs(r.Fragment,{children:[l?r.jsx(J,{ref:s,tagName:"a",href:l,target:c,onClick:g,disabled:x,...f,...e}):r.jsx(J,{ref:s,onClick:g,...f,...e,disabled:x,isLoading:S}),d]})}},Symbol.toStringTag,{value:"Module"})),dX={0:"0x",1:"0.125x",2:"0.25x",3:"0.375x",4:"0.5x",6:"0.75x",8:"1x",12:"1.5x",16:"2x",20:"2.5x",24:"3x",32:"4x",40:"5x",48:"6x",56:"7x",64:"8x",76:"9.5x",80:"10x",96:"12x",128:"16x",160:"20x",192:"24x",256:"32x",320:"40x",384:"48x",448:"56x",544:"68x",576:"72x",644:"80x",720:"90x",800:"100x",960:"120x",1200:"150x",1440:"180x",1680:"210x",1920:"240x"},dZ={0:"0x",1:"0.125x",2:"0.25x",4:"0.5x",6:"0.75x",8:"1x",12:"1.5x",16:"2x",20:"2.5x",24:"3x",32:"4x",40:"5x",48:"6x",64:"8x",80:"10x",96:"12x",128:"16x"},dQ={inset:{Top:"paddingBlockStart",Bottom:"paddingBlockEnd",Start:"paddingInlineStart",End:"paddingInlineEnd"},offset:{Top:"marginBlockStart",Bottom:"marginBlockEnd",Start:"marginInlineStart",End:"marginInlineEnd"}},d0={cornerRadius:{TopStart:"borderStartStartRadius",TopEnd:"borderStartEndRadius",BottomStart:"borderEndStartRadius",BottomEnd:"borderEndEndRadius"}};function d1(e){return e in dX?dX[e]:void 0}let d2=(e,t,r="inset")=>{for(let[i,n]of Object.entries(t))if(n){let t=function({value:e,location:t,type:r}){let i;if("cornerRadius"===r&&e in dX?i=dX[e]:e in dZ&&(i=dZ[e]),i)return{property:`${r}${t}`,value:i}}({value:n,location:i,type:r});if(t)e[t.property]=t.value;else{e.style||(e.style={});let{property:t,value:o}=function({value:e,location:t,type:r}){return{property:"cornerRadius"===r?d0[r][t]:dQ[r][t],value:`${e/10}rem`}}({value:n,location:i,type:r});e.style[t]=o}}},d3=t.createContext({paginationPageKey:"",paginationPageSize:0,paginationNeeded:!1,onComponentImpression:()=>{},resetPageRef:()=>{}}),d4=t.createContext({columnCount:0}),d7=()=>{let e=t.useContext(d4);if(void 0===e)throw Error("useGridColumnCount must be used within GridColumnCountProvider");return e},d5=t.createContext({items:[],addItem:()=>{},resetItems:()=>{},direction:void 0});function d6(e){let i=t.useRef([]),n=t.useCallback(e=>{if(!e||0===e.length)return;let r=function(e){let r=[];return e.forEach(e=>{var i;t.isValidElement(e)&&(i=e.props)&&"object"==typeof i&&"componentKey"in i&&"viewTrackingSpecs"in i&&"object"==typeof i.viewTrackingSpecs&&null!==i.viewTrackingSpecs&&"impressionThresholds"in i.viewTrackingSpecs&&Array.isArray(i.viewTrackingSpecs.impressionThresholds)&&e.props.componentKey&&e.props.viewTrackingSpecs?.viewName&&Array.isArray(e.props?.viewTrackingSpecs?.impressionThresholds)&&e.props.viewTrackingSpecs?.impressionThresholds.length>0&&e.props.viewTrackingSpecs?.semanticPosition?.shouldSkipCount!==!0&&r.push(e.props.componentKey)}),r}(e);if(0===r.length)return;let n=i.current;for(let e of r)e&&!n.includes(e)&&n.push(e)},[]),o=t.useCallback(()=>{i.current=[]},[i]),a=t.useMemo(()=>({get items(){return i.current},addItem:n,resetItems:o,direction:e.direction}),[n,o,e.direction]);return r.jsx(d5.Provider,{value:a,children:e.children})}let d8=()=>{let e=t.useContext(d5);if(void 0===e)throw Error("useVisibleItems must be used within VisibleItemsProvider");return e},d9=Object.freeze(Object.defineProperty({__proto__:null,GridColumnCountProvider:function(e){let[i,n]=t.useState(0),{children:o,small:a,medium:s,large:l}=e,c=()=>"undefined"!=typeof window&&window.matchMedia(`(min-width: ${ep.small}px)`).matches?l||0:"undefined"!=typeof window&&window.matchMedia(`(min-width: ${ep.xsmall}px)`).matches?s||0:a||0;return t.useEffect(()=>{n(c());let e=d(()=>{n(c())},200);return window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}},[]),r.jsx(d4.Provider,{value:{columnCount:i},children:o})},GridContext:d4,ItemListContext:d5,ListImpressionTrackerContext:d3,ListImpressionTrackerProvider:function({paginationPageKey:e,paginationPageSize:i,paginationNeeded:n,children:o}){let{getClients:a,getInitialContext:s}=tB(),{trackingCore:l}=a(),{pageKeyApp:c,isMobile:u}=s(),{isInteropVisible:d}=tV(),{lixClient:p}=tQ(),f=p?.getTreatmentIsEnabled("web.pve-navigation-fix"),m=p?.getTreatmentIsEnabled("web.pve-initial-firing-fix"),g=t.useRef(-1),h=t.useRef(d);return t.useEffect(()=>{f&&(h.current&&!d&&(g.current=-1),h.current=d)},[d,f]),r.jsx(d3.Provider,{value:{paginationPageKey:e,paginationPageSize:i,paginationNeeded:n,onComponentImpression:t=>{if(!n||!e||!i)return;let r=Math.floor(t/i)*i,o=-1===g.current,a=t%i==0,s=g.current===t;if(o&&m){l?.firePVE(t7(c,e,u)),g.current=r;return}a&&!s&&(l?.firePVE(t7(c,e,u)),g.current=t)},resetPageRef:()=>{g.current=-1}},children:o})},VisibleItemsProvider:d6,useGridColumnCount:d7,useVisibleItems:d8},Symbol.toStringTag,{value:"Module"})),pe=Object.freeze(Object.defineProperty({__proto__:null,Carousel:function({currentPageBindingKey:e,isEndBindingKey:i,isBeginningBindingKey:n,pageSizes:o,itemWidthPercentage:a,initialItemCount:s,showInlineControlButtons:l,shouldShowPageIndicator:c,children:u,gapSize:d,onPrev:p,onNext:f,onShowAll:m,isInlineControlButtonStyleGradient:g,tapTarget:h,viewTrackingSpecs:y,paginationPageKey:b,isContentInsetEnabled:x,contentInset:S,...E}){var v;let{rumCore:T,trackingCore:N}=tB().getClients(),{lixClient:_}=tQ(),{setValue:k}=n5(),[,I]=t.useState(0),[O,C]=t.useState(),{getInitialContext:P}=tB(),{pageKeyApp:R,isMobile:w}=P(),A=t.useId(),$=`carousel-${A}`,L=y?.viewName,[M,D]=t.useState(s),U=t7(R,b??$,w),F=t.useMemo(()=>{if(_?.getTreatmentIsEnabled("web.feed.carousel-rum")){if(!T.pageLoadId){let e=T.start();T.firePageLoadStartEvent(e)}T.recordRenderStart(U)}},[U,_,T]);t.useEffect(()=>{_?.getTreatmentIsEnabled("web.feed.carousel-rum")&&T.recordRenderEnd(U)},[U,_,T,F]);let{func:j,actionType:B}=d_(p,{viewTrackingSpecs:y}),{onTrackClick:V}=ro(y,B)||{},{func:K,actionType:W}=d_(f,{viewTrackingSpecs:y}),{onTrackClick:J}=ro(y,W)||{},{func:G,url:z,actionType:H}=d_(m),{onTrackClick:q}=ro(y,H)||{},Y=t.useCallback(e=>{O===e?I(e=>{let t=e+1;return t%3==0&&U&&N?.firePVE(U),t}):(I(1),C(e))},[O,N,U]),X=d1(d)??"2x",Z=S&&(v=S)in dZ?dZ[v]:void 0,Q=oe(e)??0,ee=t.useCallback((e=!1,t=!1)=>{k(n,e),k(i,t)},[n,i]);return r.jsx(ef,{currentPage:Q,gapSize:d,gapToken:X,itemCount:M,itemWidthPercentage:a,pageSizes:o,showInlineControlButtons:l,showPageIndicators:c,onItemRemoved:(t,r)=>{let i=Math.max(M-1,0),n=r?Math.floor(t/r):Math.min(t,i-1);D(i),k(e,n)},onPrev:t=>{k(e,Q-1),Y("prev"),j?.(),t&&V?.(t)},onNext:t=>{k(e,Q+1),Y("next"),K?.(),t&&J?.(t)},onShowAll:m?e=>{G?.(),e&&q?.(e)}:void 0,updateCurrentPage:t=>{k(e,t)},updateBeginningAndEnd:ee,isInlineControlButtonStyleGradient:g??!1,tapTarget:h,showAllUrl:z,viewName:L,isContentInsetEnabled:x,contentInsetToken:Z,...E,children:r.jsx(d6,{direction:"horizontal",children:u})})}},Symbol.toStringTag,{value:"Module"})),pt=Object.freeze(Object.defineProperty({__proto__:null,default:function({inputProps:e,stateValueBindingKey:t,bindingKey:i,...n}){let o=n9(i,t),a=dq();return r.jsx(em,{inputProps:{...e,checked:"Checked"===o,disabled:a},isIndeterminate:"Indeterminate"===o,...n})}},Symbol.toStringTag,{value:"Module"})),pr=t.createContext(void 0);function pi({children:e,highlightPattern:t}){return r.jsx(pr.Provider,{value:t,children:e})}function pn(e,r=0,i=0){let[n,o]=t.useState(null),a=t.useRef(null),s=t.useRef(!1);return t.useEffect(()=>(!a.current&&e&&(a.current=new IntersectionObserver(t=>{let[r]=t;r?.isIntersecting?(s.current=!0,0===i&&e()):(s.current&&1===i&&e(),s.current=!1)},{root:null,threshold:r})),n&&a.current&&a.current?.observe(n),()=>{1===i&&s.current&&e?.(),s.current=!1,a.current?.disconnect()}),[e,r,i,n]),{setElement:o}}function po(e){if(!e)return;let{top:t,start:r,bottom:i,end:n}=e;return`${t??0}px ${r??0}px ${i??0}px ${n??0}px`}let pa=new Set;class ps{#l;constructor(e){this.#l=e,this.onViewUpdate=this.onViewUpdate.bind(this),this.onActionUpdate=this.onActionUpdate.bind(this)}onViewUpdate(e){let{eventName:t,sponsoredMetadata:r,trackingParams:i,trackingId:n,objectUrn:o}=e;"START"===t&&r?.adTrackingCode&&pa.add(r.adTrackingCode);let{videoVolume:a,timeElapsed:s,videoDuration:l}=i,c=this.#l?.getClients(),u=c?.trackingCore;u?.fireMediaStateChangeEvent({objectUrn:o??"",trackingId:n,playableMediaState:{totalDuration:l,volume:a,timeElapsed:s},trackingScopeHierarchyData:[{transporterKeys:["sponsored"],breadcrumb:{id:f(),clientBreadcrumbType:p.SPONSORED_VIDEO_VIEW,data:{sponsoredServedInfo:{adTrackingCode:r?.adTrackingCode,activityType:r?.isSponsoredActivity?"SPONSORED":"VIRAL",trackingId:n},videoEngagementType:t,mediaRatingCouncilInfo:{videoAdsMediaRatingCouncilInfo:{hasVideoStartedPlaying:pa.has(r?.adTrackingCode??"")}}}}}]})}onActionUpdate(){}static hasStartedPlayback(e){return pa.has(e)}clearStartedPlaybackAdTrackingCodes(){pa.clear()}}let pl="sponsoredData",pc=2,pu="feed",pd={SUCCESS:"sponsored-external-impression-tracking-success",FAILURE:"sponsored-external-impression-tracking-failure"},pp=["sponsored-tracking","impression-pixel","failure"];class pf{clientSensor;impressionCache;constructor(e,t){e&&(this.clientSensor=e),t&&(this.impressionCache=t)}provideEventOverrides(e){let t=e.trackingMetadataList?.[0]?.[pl]?.adTrackingCode;return t&&"string"==typeof t?{mediaStateInfo:{hasPlaybackStarted:ps.hasStartedPlayback(t)}}:{}}onGIE(e,t){let{adTrackingCode:r,externalImpressionTrackingUrl:i}=e.trackingMetadataList?.[0]?.[pl]||{};if(!r||(this.clientSensor?.incrementCounterMetric({groupName:pu,metricName:"nile-feed-sponsored-gie-fired"}),!i||this.impressionCache?.has(r)))return;let n=async(e,i=pc)=>{try{let o=await fetch(e,{method:"GET",credentials:"omit"});if(o.ok){this.impressionCache?.set(r,!0),this.clientSensor?.incrementCounterMetric({groupName:pu,metricName:pd.SUCCESS});return}if(i>0&&o.status>=500&&o.status<600)return await n(e,i-1);t?.reportError(Error(`Failed to fetch ${e} with status ${o.status}`),pp),this.clientSensor?.incrementCounterMetric({groupName:pu,metricName:pd.FAILURE})}catch{if(i>0)return await n(e,i-1);t?.reportError(Error(`Failed to fetch ${e} with network error`),pp),this.clientSensor?.incrementCounterMetric({groupName:pu,metricName:pd.FAILURE})}};n(i)}onGAE(e){let{adTrackingCode:t}=e.trackingMetadataList?.[0]?.[pl]||{};t&&this.clientSensor?.incrementCounterMetric({groupName:pu,metricName:"nile-feed-sponsored-gae-fired"})}}let pm="sponsoredData",pg=t.createContext(void 0);function ph({children:e,collectionId:t}){return r.jsx(pg.Provider,{value:t,children:e})}function py(e){if(e?.content?.$case==="identifier")return eg.getColorById(e.content.identifier)}function pb(e){let t,r;if(e.content?.$case==="identifier")t=eg.getColorById(e.content.identifier);else if(e.content?.$case==="custom"){let{lightModeColor:t,darkModeColor:i}=e.content.custom,n=pS(t),o=pS(i);(n||o)&&(r=`light-dark(${n??o}, ${o??n})`)}return t?eh.color[t]:r}function px(e){if(e?.value?.$case==="color"&&e.value.color.content?.$case==="identifier")return eg.getColorById(e.value.color.content.identifier)}function pS(e){if(!e)return;let{alpha:t}=e,{red:r,green:i,blue:n}=e;return r=Math.round(255*r),i=Math.round(255*i),n=Math.round(255*n),`rgb(${r} ${i} ${n} / ${t})`}function pE(e){let t=dK(e?.colorExpression);if(!e)return;let r=py(t);if(r&&"inherit"!==r&&"currentColor"!==r)return{[e.cssVarName]:eh.color[r]}}function pv({componentKey:e,viewTrackingSpecs:t}){return null}function pT(e,t,r,i){if(!r&&t>0)return{horizontalPosition:i?.horizontalPosition??e%t,verticalPosition:i?.verticalPosition??Math.floor(e/t),position:e};if(!r&&0===t)return{horizontalPosition:i?.horizontalPosition,verticalPosition:i?.verticalPosition??e,position:e};if(r){let i=r.horizontalPosition??-1,n=r.verticalPosition??-1;if(-1!==i&&-1!==n)return{horizontalPosition:i,verticalPosition:n,position:e};let o=r.offset??0;return{horizontalPosition:i=0===t?void 0:(e+o)%t,verticalPosition:n=0===t?e+o:Math.floor((e+o)/t),position:e}}}function pN(e,t){return{horizontalPosition:t>0?e%t:0,verticalPosition:t>0?Math.floor(e/t):e,position:e}}function p_({componentKey:e,children:r}){return!function(e){let r=()=>!!ln.getItem(e);return t.useSyncExternalStore(t=>(ln.subscribe(e,t),()=>ln.unsubscribe(e,t)),r,r)}(e)?r:null}function pk({duplicateDetection:e,children:r}){let{shouldDropDuplicate:i}=e;return function(e){let{semanticId:r,onDuplicateDetectedAction:i}=e,{func:n}=d_(i),o=t.useContext(pg),a=t.useRef(!1);if(o&&r){let e=function(e,t){let r=iz.getItem(e);return!!r&&r.some(e=>e.semanticId===t&&e.isDuplicate)}(o,r);return e&&!a.current&&(n?.(),a.current=!0),e}return!1}(e)&&i?null:r}function pI(e,t,r,i,n,o,a,s){if(a){if(s&&s.length>0&&i){let a=new Set(e),l=s.filter(e=>a.has(e)),c=l.indexOf(i);if(-1!==c){let e=pT(c,"horizontal"===r?l.length:t,n,o),i=pN(c,t);return{horizontalPosition:e?.horizontalPosition,verticalPosition:e?.verticalPosition,position:e?.position??c,actualPositions:i}}}for(let[a,s]of e.entries())if(s===i){let i=pT(a,"horizontal"===r?e.length:t,n,o),s=pN(a,t);return{horizontalPosition:i?.horizontalPosition,verticalPosition:i?.verticalPosition,position:i?.position??a,actualPositions:s}}}}let pO=Object.freeze(Object.defineProperty({__proto__:null,ClientComponent:function({componentKey:e,children:i,viewTrackingSpecs:n,displayedExpression:o,isDisplayedBindingKey:a,isDisplayedBindingStateKey:s,isDisabledExpression:l,preserveElementInDocument:c,remoteEventTrigger:u,highlightPattern:d,bindableModifiers:p,visibilityTriggers:f,duplicateDetection:m}){let{lixClient:g}=tQ(),h=g?.getTreatmentIsEnabled("web.inviewport-at-duration-fix"),y=g?.getTreatmentIsEnabled("web.fix-pve-threshold"),b=g?.getTreatmentIsEnabled("web.enable-trackingScope-redesign")??!1,x=d8(),{addItem:S,direction:E}=x,{columnCount:v}=d7(),T=t.useContext(pg),N=T?iZ(T):void 0,_=dK(o),k=n9(s,a??""),I=dK(l)??!1,O=dV(p?.alpha),C=dV(p?.translateX,"px"),P=dV(p?.translateY,"px"),R=pE(p?.borderColor),w=pE(p?.backgroundColorDefault),A=pE(p?.arcBackgroundBackgroundColor),$=pE(p?.arcBackgroundArcColor),L=dV(p?.arcBackgroundVerticalOffset,"px"),M={...R,...w,...O,...C,...P,...A,...$,...L},D=dM("remoteEvent",u?[u]:[]);nz(D?.remoteEventTopic??"",async()=>{await D.func?.apply(D)});let{shouldTrackImpression:U,additionalProps:F,shouldAddViewNameWrapper:j}=function(e,t){if(!e)return{shouldTrackImpression:!1,impressionRef:null,additionalProps:{},shouldAddViewNameWrapper:!1};let{impressionThresholds:r,interactionTypes:i,viewName:n}=e||{},o=!!r?.length,a=!!i?.length,s=!!e?.trackingScope?.length,l=(!!n||s)&&(!a||o),c={};if(l&&(c["data-view-name"]=n),!t&&e?.trackingScope?.length)try{c["data-view-tracking-scope"]=JSON.stringify(e.trackingScope)}catch(e){console.error("Failed to add trackingScope ",e)}return{shouldTrackImpression:o,additionalProps:c,shouldAddViewNameWrapper:l}}(n,b),{onComponentImpression:B}=t.useContext(d3),V=function(e){let{lixClient:i}=tQ(),n=i?.getTreatmentIsEnabled("web.visibility-trigger-custom-observer"),o=t.useRef(!1),a=t.useRef(null),s=dM("onComponentAppear",e,{ref:a}),l=dM("onComponentDisappear",e),{setElement:c}=pn(n?void 0:s.func,n?void 0:s.threshold),{setElement:u}=pn(n?void 0:l.func,n?void 0:void 0!==l.threshold?1-l.threshold:0,n?void 0:1),{ref:d}=rs({threshold:s.threshold,skip:!s.func,rootMargin:po(s.rootMargin),onChange:e=>{e&&s.func&&s.func()}}),{ref:p}=rs({threshold:void 0!==l.threshold?1-l.threshold:0,skip:!l.func,rootMargin:po(l.rootMargin),onChange:e=>{e?o.current=!0:o.current&&l.func&&l.func()}}),f=t.useCallback(e=>{a.current=e;let t=e&&e.children&&1===e.children.length?e.firstElementChild:e;n?(d(t),p(t)):(c(t),u(t))},[c,u,d,p,n]);return s?.func||l?.func?{setRefs:f,content:r.jsxs(r.Fragment,{children:[s?.content,l?.content]})}:null}(f);!function(){let e=t9(),r=rl();t.useEffect(()=>{!e||!r||rc(pm)||ru(pm,new pf(e,r))},[e,r])}(),S&&S([r.jsx(pv,{componentKey:e,viewTrackingSpecs:n},e)]);let K=rd(),J="horizontal"===E?{verticalPosition:K?.verticalPosition}:void 0,G=rp(n,e,()=>pI(x.items,v,E,e,n?.semanticPosition,J,U,N),"horizontal"!==E?B:void 0,void 0,h,y),z=(o&&!_)??(a&&!k);if(z&&!c)return null;let H=!!n?.interactionTypes?.length,q=i,Y=z&&c;return(j||V||Y||Object.keys(M).length||H&&!("data-view-name"in F)&&"data-view-tracking-scope"in F)&&(q=r.jsx(rf,{viewTrackingSpecs:n,children:r.jsx(rm,{positions:pI(x.items,v,E,e,n?.semanticPosition,J,U,N),children:r.jsxs(W,{ref:e=>{U&&G&&G(e),V?.setRefs(e)},style:M,...F,display:Y?"none":"contents","data-display-contents":!0,children:[V?.content,i]})})})),d&&(q=r.jsx(pi,{highlightPattern:d,children:q})),e&&(q=r.jsx(p_,{componentKey:e,children:q})),l&&(q=r.jsx(dH,{isDisabled:I,children:q})),m&&(q=r.jsx(pk,{duplicateDetection:m,children:q})),b&&n?.trackingScope?.length&&(q=r.jsx(rg,{trackingScope:n.trackingScope,children:q})),q},calculateActualPositions:pN,calculatePositions:pI,calculateSemanticPosition:pT},Symbol.toStringTag,{value:"Module"})),pC=Object.freeze(Object.defineProperty({__proto__:null,TracedComponent:function({children:e,observabilityIdentifier:t,propagateSpanContext:i,entityType:n,parentSpan:o}){let{screenId:a}=tF(),{parentSpan:s}=uD(),l=rh(),c=(o||s||l.getCurrentSpan()).createChild("renderDataAwareEntity",{name:ry});c.setAttributes({[tX.CALCULATE_METRICS]:!0,[tX.DATA_PROCESSING_PHASE]:"REHYDRATE",[tX.DESTINATION_SCREEN_ID]:a,[tX.ENTITY_TYPE]:n||"DATA_AWARE_COMPONENT",[tX.SPAN_TYPE]:"DATA_PROCESSING",[tX.VIEW_NAME]:t});let u=r.jsx(rx,{span:c,id:t,children:e});return i?r.jsx(rb.Provider,{value:{getCurrentSpan:()=>c},children:u}):u}},Symbol.toStringTag,{value:"Module"}));var pP=((iE=pP||{}).DatePickerInputType_UNKNOWN="DatePickerInputType_UNKNOWN",iE.DatePickerInputType_YEAR="DatePickerInputType_YEAR",iE.DatePickerInputType_MONTH="DatePickerInputType_MONTH",iE.DatePickerInputType_FULL_DATE="DatePickerInputType_FULL_DATE",iE);function pR(e){switch(e){case 0:case"DatePickerInputType_UNKNOWN":default:return"DatePickerInputType_UNKNOWN";case 1:case"DatePickerInputType_YEAR":return"DatePickerInputType_YEAR";case 2:case"DatePickerInputType_MONTH":return"DatePickerInputType_MONTH";case 3:case"DatePickerInputType_FULL_DATE":return"DatePickerInputType_FULL_DATE"}}function pw(e){switch(e){case 0:case"DatePickerInputSize_UNKNOWN":default:return"DatePickerInputSize_UNKNOWN";case 1:case"DatePickerInputSize_SMALL":return"DatePickerInputSize_SMALL";case 2:case"DatePickerInputSize_LARGE":return"DatePickerInputSize_LARGE"}}function pA(){return{$type:"proto.sdui.components.core.form.DatePickerInput",value:void 0,placeholder:void 0,helperText:void 0,label:void 0,minDate:void 0,minDateBinding:void 0,minSelectableDate:void 0,maxDate:void 0,maxDateBinding:void 0,maxSelectableDate:void 0,required:!1,isRequired:void 0,type:"DatePickerInputType_UNKNOWN",onFocusOut:void 0,onFocusIn:void 0,onSelect:void 0,validationState:void 0,errorMessage:void 0,isAscendingYearOrder:!1,datePickerInputSize:"DatePickerInputSize_UNKNOWN"}}let p$={$type:"proto.sdui.components.core.form.DatePickerInput",encode:(t,r=e.Writer.create())=>(void 0!==t.value&&nM.encode(t.value,r.uint32(10).fork()).ldelim(),void 0!==t.placeholder&&sm.encode(t.placeholder,r.uint32(18).fork()).ldelim(),void 0!==t.helperText&&sm.encode(t.helperText,r.uint32(26).fork()).ldelim(),void 0!==t.label&&sm.encode(t.label,r.uint32(34).fork()).ldelim(),void 0!==t.minDate&&o1.encode(t.minDate,r.uint32(42).fork()).ldelim(),void 0!==t.minDateBinding&&nM.encode(t.minDateBinding,r.uint32(90).fork()).ldelim(),void 0!==t.minSelectableDate&&o3.encode(t.minSelectableDate,r.uint32(130).fork()).ldelim(),void 0!==t.maxDate&&o1.encode(t.maxDate,r.uint32(50).fork()).ldelim(),void 0!==t.maxDateBinding&&nM.encode(t.maxDateBinding,r.uint32(98).fork()).ldelim(),void 0!==t.maxSelectableDate&&o3.encode(t.maxSelectableDate,r.uint32(138).fork()).ldelim(),!1!==t.required&&r.uint32(56).bool(t.required),void 0!==t.isRequired&&a_.encode(t.isRequired,r.uint32(146).fork()).ldelim(),"DatePickerInputType_UNKNOWN"!==t.type&&r.uint32(72).int32(function(e){switch(e){case"DatePickerInputType_UNKNOWN":default:return 0;case"DatePickerInputType_YEAR":return 1;case"DatePickerInputType_MONTH":return 2;case"DatePickerInputType_FULL_DATE":return 3}}(t.type)),void 0!==t.onFocusOut&&oP.encode(t.onFocusOut,r.uint32(106).fork()).ldelim(),void 0!==t.onFocusIn&&oP.encode(t.onFocusIn,r.uint32(154).fork()).ldelim(),void 0!==t.onSelect&&oP.encode(t.onSelect,r.uint32(162).fork()).ldelim(),void 0!==t.validationState&&nM.encode(t.validationState,r.uint32(114).fork()).ldelim(),void 0!==t.errorMessage&&nM.encode(t.errorMessage,r.uint32(122).fork()).ldelim(),!1!==t.isAscendingYearOrder&&r.uint32(168).bool(t.isAscendingYearOrder),"DatePickerInputSize_UNKNOWN"!==t.datePickerInputSize&&r.uint32(176).int32(function(e){switch(e){case"DatePickerInputSize_UNKNOWN":default:return 0;case"DatePickerInputSize_SMALL":return 1;case"DatePickerInputSize_LARGE":return 2}}(t.datePickerInputSize)),r),decode(t,r){let i=t instanceof e.Reader?t:e.Reader.create(t),n=void 0===r?i.len:i.pos+r,o=pA();for(;i.pos<n;){let e=i.uint32();switch(e>>>3){case 1:if(10!==e)break;o.value=nM.decode(i,i.uint32());continue;case 2:if(18!==e)break;o.placeholder=sm.decode(i,i.uint32());continue;case 3:if(26!==e)break;o.helperText=sm.decode(i,i.uint32());continue;case 4:if(34!==e)break;o.label=sm.decode(i,i.uint32());continue;case 5:if(42!==e)break;o.minDate=o1.decode(i,i.uint32());continue;case 11:if(90!==e)break;o.minDateBinding=nM.decode(i,i.uint32());continue;case 16:if(130!==e)break;o.minSelectableDate=o3.decode(i,i.uint32());continue;case 6:if(50!==e)break;o.maxDate=o1.decode(i,i.uint32());continue;case 12:if(98!==e)break;o.maxDateBinding=nM.decode(i,i.uint32());continue;case 17:if(138!==e)break;o.maxSelectableDate=o3.decode(i,i.uint32());continue;case 7:if(56!==e)break;o.required=i.bool();continue;case 18:if(146!==e)break;o.isRequired=a_.decode(i,i.uint32());continue;case 9:if(72!==e)break;o.type=pR(i.int32());continue;case 13:if(106!==e)break;o.onFocusOut=oP.decode(i,i.uint32());continue;case 19:if(154!==e)break;o.onFocusIn=oP.decode(i,i.uint32());continue;case 20:if(162!==e)break;o.onSelect=oP.decode(i,i.uint32());continue;case 14:if(114!==e)break;o.validationState=nM.decode(i,i.uint32());continue;case 15:if(122!==e)break;o.errorMessage=nM.decode(i,i.uint32());continue;case 21:if(168!==e)break;o.isAscendingYearOrder=i.bool();continue;case 22:if(176!==e)break;o.datePickerInputSize=pw(i.int32());continue}if((7&e)==4||0===e)break;i.skipType(7&e)}return o},fromJSON:e=>({$type:p$.$type,value:pL(e.value)?nM.fromJSON(e.value):void 0,placeholder:pL(e.placeholder)?sm.fromJSON(e.placeholder):void 0,helperText:pL(e.helperText)?sm.fromJSON(e.helperText):void 0,label:pL(e.label)?sm.fromJSON(e.label):void 0,minDate:pL(e.minDate)?o1.fromJSON(e.minDate):void 0,minDateBinding:pL(e.minDateBinding)?nM.fromJSON(e.minDateBinding):void 0,minSelectableDate:pL(e.minSelectableDate)?o3.fromJSON(e.minSelectableDate):void 0,maxDate:pL(e.maxDate)?o1.fromJSON(e.maxDate):void 0,maxDateBinding:pL(e.maxDateBinding)?nM.fromJSON(e.maxDateBinding):void 0,maxSelectableDate:pL(e.maxSelectableDate)?o3.fromJSON(e.maxSelectableDate):void 0,required:!!pL(e.required)&&globalThis.Boolean(e.required),isRequired:pL(e.isRequired)?a_.fromJSON(e.isRequired):void 0,type:pL(e.type)?pR(e.type):"DatePickerInputType_UNKNOWN",onFocusOut:pL(e.onFocusOut)?oP.fromJSON(e.onFocusOut):void 0,onFocusIn:pL(e.onFocusIn)?oP.fromJSON(e.onFocusIn):void 0,onSelect:pL(e.onSelect)?oP.fromJSON(e.onSelect):void 0,validationState:pL(e.validationState)?nM.fromJSON(e.validationState):void 0,errorMessage:pL(e.errorMessage)?nM.fromJSON(e.errorMessage):void 0,isAscendingYearOrder:!!pL(e.isAscendingYearOrder)&&globalThis.Boolean(e.isAscendingYearOrder),datePickerInputSize:pL(e.datePickerInputSize)?pw(e.datePickerInputSize):"DatePickerInputSize_UNKNOWN"}),toJSON(e){let t={};return void 0!==e.value&&(t.value=nM.toJSON(e.value)),void 0!==e.placeholder&&(t.placeholder=sm.toJSON(e.placeholder)),void 0!==e.helperText&&(t.helperText=sm.toJSON(e.helperText)),void 0!==e.label&&(t.label=sm.toJSON(e.label)),void 0!==e.minDate&&(t.minDate=o1.toJSON(e.minDate)),void 0!==e.minDateBinding&&(t.minDateBinding=nM.toJSON(e.minDateBinding)),void 0!==e.minSelectableDate&&(t.minSelectableDate=o3.toJSON(e.minSelectableDate)),void 0!==e.maxDate&&(t.maxDate=o1.toJSON(e.maxDate)),void 0!==e.maxDateBinding&&(t.maxDateBinding=nM.toJSON(e.maxDateBinding)),void 0!==e.maxSelectableDate&&(t.maxSelectableDate=o3.toJSON(e.maxSelectableDate)),!1!==e.required&&(t.required=e.required),void 0!==e.isRequired&&(t.isRequired=a_.toJSON(e.isRequired)),"DatePickerInputType_UNKNOWN"!==e.type&&(t.type=function(e){switch(e){case"DatePickerInputType_UNKNOWN":default:return"DatePickerInputType_UNKNOWN";case"DatePickerInputType_YEAR":return"DatePickerInputType_YEAR";case"DatePickerInputType_MONTH":return"DatePickerInputType_MONTH";case"DatePickerInputType_FULL_DATE":return"DatePickerInputType_FULL_DATE"}}(e.type)),void 0!==e.onFocusOut&&(t.onFocusOut=oP.toJSON(e.onFocusOut)),void 0!==e.onFocusIn&&(t.onFocusIn=oP.toJSON(e.onFocusIn)),void 0!==e.onSelect&&(t.onSelect=oP.toJSON(e.onSelect)),void 0!==e.validationState&&(t.validationState=nM.toJSON(e.validationState)),void 0!==e.errorMessage&&(t.errorMessage=nM.toJSON(e.errorMessage)),!1!==e.isAscendingYearOrder&&(t.isAscendingYearOrder=e.isAscendingYearOrder),"DatePickerInputSize_UNKNOWN"!==e.datePickerInputSize&&(t.datePickerInputSize=function(e){switch(e){case"DatePickerInputSize_UNKNOWN":default:return"DatePickerInputSize_UNKNOWN";case"DatePickerInputSize_SMALL":return"DatePickerInputSize_SMALL";case"DatePickerInputSize_LARGE":return"DatePickerInputSize_LARGE"}}(e.datePickerInputSize)),t},create:e=>p$.fromPartial(e??{}),fromPartial(e){let t=pA();return t.value=void 0!==e.value&&null!==e.value?nM.fromPartial(e.value):void 0,t.placeholder=void 0!==e.placeholder&&null!==e.placeholder?sm.fromPartial(e.placeholder):void 0,t.helperText=void 0!==e.helperText&&null!==e.helperText?sm.fromPartial(e.helperText):void 0,t.label=void 0!==e.label&&null!==e.label?sm.fromPartial(e.label):void 0,t.minDate=void 0!==e.minDate&&null!==e.minDate?o1.fromPartial(e.minDate):void 0,t.minDateBinding=void 0!==e.minDateBinding&&null!==e.minDateBinding?nM.fromPartial(e.minDateBinding):void 0,t.minSelectableDate=void 0!==e.minSelectableDate&&null!==e.minSelectableDate?o3.fromPartial(e.minSelectableDate):void 0,t.maxDate=void 0!==e.maxDate&&null!==e.maxDate?o1.fromPartial(e.maxDate):void 0,t.maxDateBinding=void 0!==e.maxDateBinding&&null!==e.maxDateBinding?nM.fromPartial(e.maxDateBinding):void 0,t.maxSelectableDate=void 0!==e.maxSelectableDate&&null!==e.maxSelectableDate?o3.fromPartial(e.maxSelectableDate):void 0,t.required=e.required??!1,t.isRequired=void 0!==e.isRequired&&null!==e.isRequired?a_.fromPartial(e.isRequired):void 0,t.type=e.type??"DatePickerInputType_UNKNOWN",t.onFocusOut=void 0!==e.onFocusOut&&null!==e.onFocusOut?oP.fromPartial(e.onFocusOut):void 0,t.onFocusIn=void 0!==e.onFocusIn&&null!==e.onFocusIn?oP.fromPartial(e.onFocusIn):void 0,t.onSelect=void 0!==e.onSelect&&null!==e.onSelect?oP.fromPartial(e.onSelect):void 0,t.validationState=void 0!==e.validationState&&null!==e.validationState?nM.fromPartial(e.validationState):void 0,t.errorMessage=void 0!==e.errorMessage&&null!==e.errorMessage?nM.fromPartial(e.errorMessage):void 0,t.isAscendingYearOrder=e.isAscendingYearOrder??!1,t.datePickerInputSize=e.datePickerInputSize??"DatePickerInputSize_UNKNOWN",t}};function pL(e){return null!=e}function pM(e){if(e&&(0!==e.day||0!==e.month||0!==e.year))return new Date(e.year,e.month-1,e.day)}function pD(e,t=!1){if(e){if("string"==typeof e)return e;if(void 0!==e.current)return e.current}return t?"FOCUS":"UNFOCUS"}function pU({onFocusInAction:e,onFocusOutAction:r,viewTrackingSpecs:i}){let{func:n,actionType:o}=d_(e,{viewTrackingSpecs:i}),{func:a,actionType:s}=d_(r,{viewTrackingSpecs:i}),{onTrackFocus:l}=ro(i,t.useRef(pD(o,!0)))??{},{onTrackBlur:c}=ro(i,t.useRef(pD(s,!1)))??{},{interactionTypes:u,viewName:d}=i||{},p=!!u?.length,f=t.useMemo(()=>p&&d?{"data-view-name":d}:{},[p,d]);return{onFocus:t.useMemo(()=>e=>{l?.(e),n?.()},[l,n]),onBlur:t.useMemo(()=>e=>{(null!==e.relatedTarget||"undefined"==typeof document||document.hasFocus())&&(c?.(e),a?.())},[c,a]),...f}}rL.set(p$.$type,p$);let pF=Object.freeze(Object.defineProperty({__proto__:null,default:function({type:e,valueKey:i,valueBindingKey:n,labelText:o,helperText:a,placeholder:s,locale:l,isRequiredExpression:c,required:u,minDateBindingKey:d,minDateKey:p,minSelectableDateExpression:f,maxDateBindingKey:m,maxDateKey:g,maxSelectableDateExpression:h,disabledBindingKey:y,disabledKey:b,validationStateBindingKey:x,validationStateKey:S,errorMessageBindingKey:E,errorMessageKey:v,onFocusOut:T,onFocusIn:N,onSelect:_,viewTrackingSpecs:k,disabled:I,isAscendingYearOrder:O,isYearSelectLixEnabled:C,...P}){let{setValue:R}=n5(),w=eb[ex(l)],A=l.split("_").join("-"),$=n9(i,n),L=dK(f),M=dK(h),D=n9(p,d??""),U=n9(g,m??""),F=n9(b,y??""),j=n9(S,x??""),B=n9(v,E??""),V=dK(c),K=pU({onFocusInAction:N,onFocusOutAction:T,viewTrackingSpecs:k}),{func:W,actionType:J}=d_(_,{viewTrackingSpecs:k}),{onTrackClick:G}=ro(k,"SHORT_PRESS")||{},{onTrackClick:z}=ro(k,"object"==typeof J?J?.current?J:"SHORT_PRESS":J??"SHORT_PRESS")||{},[H,q]=t.useState(""),Y=pM(L??D),X=pM(M??U);t.useEffect(()=>{q($?ey(pM($),w):H)},[H,$,w]);let Z=t.useCallback((e,t)=>{e?R(i,{...e,$type:"proto.sdui.common.Date"}):R(i,null),t&&z&&z(t),W?.()},[n,w,R,i,z,W]);return function(e,t=!1,i){if(e===pP.DatePickerInputType_FULL_DATE)return r.jsx(eS,{...i});if(e===pP.DatePickerInputType_MONTH)return r.jsx(eE,{...i,type:"month"});if(e===pP.DatePickerInputType_YEAR)return r.jsx(eE,{...i,type:"year",isAscendingOrder:t});throw Error(`Unsupported DatePickerInputType: ${e}`)}(e,O,{labelText:o&&r.jsx(eT,{children:o}),onChange:Z,onClick:G,value:H,helperText:a&&r.jsx(ev,{children:a}),placeholder:s,min:Y,max:X,localeData:w,locale:A,selectedDate:function(e){if(e&&(0!==e.day||0!==e.month||0!==e.year))return{...e}}($),required:V??u,disabled:F??I,validationState:j,errorMessage:B,isYearSelectLixEnabled:C,viewName:k?.viewName,...P,...K})}},Symbol.toStringTag,{value:"Module"})),pj=e=>{let{data:i,isOpen:n,onClose:o,...a}=e,[s,l]=m.useState(""),c=t.useRef(null),[u,d]=m.useState("right"),p=t.useMemo(()=>{try{return JSON.parse(i)}catch(e){return`Error formatting data: ${e instanceof Error?e.message:"Unknown error"}`}},[i]);t.useEffect(()=>{n?c.current?.showModal?.():c.current?.close?.()},[n]);let f=()=>{l(""),c.current?.close?.(),o()};return n?r.jsx(eN,{...a,ref:c,header:r.jsx(D,{children:r.jsxs(e_,{alignItems:"center",justifyContent:"spaceBetween",children:[r.jsx(U,{children:"Debug Data Viewer"}),r.jsx(J,{category:"ghost",onClick:()=>{d(e=>"right"===e?"center":"right")},icon:r.jsx(eO,{imageId:"right"===u?451:164})})]})}),content:r.jsxs(r.Fragment,{children:[r.jsx(e_,{children:r.jsx(ek,{inputProps:{name:"title",placeholder:"\uD83D\uDD0D Search...",onChange:e=>l(e.target.value)}})}),r.jsx(eI,{minWidth:"200%",maxWidth:"200%",data:p,viewOnly:!0,searchText:s,searchFilter:"all",collapse:2})]}),position:u,size:"xlarge",onDismiss:()=>{f()},title:"Debug Data Viewer"}):null};function pB(e){let{onClick:t}=e;return r.jsx(J,{"data-testid":"debug-info-button",category:"primary",isEmphasized:!0,text:"Debug Info Viewer",onClick:t})}let pV=Object.freeze(Object.defineProperty({__proto__:null,DebugTools:function(e){let[i,n]=t.useState(!1);return r.jsxs(r.Fragment,{children:[r.jsx(W,{position:"fixed",zIndex:"fixed",style:{top:"50%",right:eh.scale["0.5x"],transformOrigin:"top right",transform:"rotate(90deg) translateX(-50%)"},children:r.jsx(pB,{"data-testid":"debug-info-button",onClick:()=>n(!0)})}),r.jsx(pj,{"data-testid":"debug-data-json-viewer",data:JSON.stringify(e.frontendContext,null,2),title:"Debug Info Viewer",isOpen:i,onClose:()=>n(!1)})]})}},Symbol.toStringTag,{value:"Module"})),pK=Object.freeze(Object.defineProperty({__proto__:null,DeeplinkModal:function({children:e,type:i,title:n,size:o,position:a,deeplinkUrl:s,navigationData:l}){let c=t.useRef(!1),u=t.useContext(H),d=n?r.jsx(D,{children:r.jsx(U,{tagName:"h2",children:n})}):void 0,p=r.jsx(M,{children:e}),{back:f,isRoutableModalsEnabled:m,isBrowserRouteCacheEnabled:g,onHistoryReady:h,pushHistoryEntry:y}=tF();return t.useEffect(()=>{let t,r;if(c.current||"undefined"==typeof window)return;c.current=!0;let n=u?.current;return m&&s&&h&&(t=h(()=>{y({id:l?.screenId,url:s,data:{navigateScreen:l},type:"modal"})})),g&&l&&(r=uB(l?.screenId,l?.newHierarchy?.screenHash||"",{isModal:!0}),uK.setItem(r,{screenElement:e,scrollPosition:0})),$.add({type:i,position:"sheet"===i?"bottom":a,content:p,header:d,size:o??"medium",onDismiss:()=>{m&&s&&f()}}),()=>{let i=uV(n);g&&r&&uK.setItem(r,{screenElement:e,scrollPosition:i?.scrollTop||0}),t?.()}},[]),r.jsx(r.Fragment,{})}},Symbol.toStringTag,{value:"Module"})),pW=Object.freeze(Object.defineProperty({__proto__:null,default:function({selectedValueBindingKey:e,selectedValueKey:t,count:i,onSelectedAction:n}){let o=n9(t,e??""),{func:a}=d_(n);return r.jsx(eC,{selectedValue:"string"==typeof o?o:"",count:i,onSelected:a})}},Symbol.toStringTag,{value:"Module"})),pJ=Object.freeze(Object.defineProperty({__proto__:null,default:function({onCloseAction:e,onSelectedAction:t,selectedValueBindingKey:i,selectedValueKey:n,...o}){let a=n9(n,i??""),{func:s}=d_(e),{func:l}=d_(t),{setValue:c}=n5(),u=async e=>{void 0!==a&&i&&c({value:i},e),l?.()};return r.jsx(eP,{onClose:s,onEmojiSelect:u,...o})}},Symbol.toStringTag,{value:"Module"})),pG=Object.freeze(Object.defineProperty({__proto__:null,Coachmark:function(){return r.jsx(eR,{})}},Symbol.toStringTag,{value:"Module"})),pz=Object.freeze(Object.defineProperty({__proto__:null,FeatureIntro:function({steps:e,currentStepIndexBindingKey:i,currentStepIndexKey:n,isActiveBindingKey:o,isActiveKey:a,footer:s,onDismiss:l,currentStepExpression:c,isActiveExpression:u,...d}){let p=n9(n,i),f=n9(a,o),{func:m}=d_(l),{jetCore:g}=tB().getClients(),h=dK(c),y=dK(u),b=t.useCallback(async()=>{try{await m?.()}catch(e){g?.reportError(e)}},[m,g]);return r.jsx(ew,{steps:e,currentStepIndex:h??("number"==typeof p?p:0),isActive:y??("boolean"==typeof f&&f),footer:s,onDismiss:b,...d})}},Symbol.toStringTag,{value:"Module"})),pH=t.createContext(null),pq=()=>{let e=t.useContext(pH);return e?e.setDebugInfo:e=>{}},pY=()=>{let e=t.useContext(pH);return e?e.debugInfoRef.current:{jiraLabels:[],customEntries:{},allLixes:{}}},pX=Object.freeze(Object.defineProperty({__proto__:null,DebugInfoProvider:({children:e,allLixes:i})=>{let n=t.useRef({jiraLabels:[],customEntries:{},allLixes:i});return r.jsx(pH.Provider,{value:{debugInfoRef:n,setDebugInfo:e=>{void 0!==e.jiraLabels&&(n.current.jiraLabels=e.jiraLabels),void 0!==e.customEntries&&(n.current.customEntries=e.customEntries),void 0!==e.allLixes&&(n.current.allLixes=e.allLixes)}},children:e})},useDebugInfo:pY,useSetDebugInfo:pq},Symbol.toStringTag,{value:"Module"})),pZ=t.createContext(null),pQ=({children:e})=>{let[i,n]=t.useState([]),[o,a]=t.useState(0),[s,l]=t.useState(!1),[c,u]=t.useState(null);t.useEffect(()=>{(async()=>{var e;i[o]?u(await (e=i[o],new Promise((t,r)=>{let i=new FileReader;i.onload=()=>t(i.result),i.onerror=e=>r(e),i.readAsDataURL(e)}))):u(null)})()},[i,o]);let d=t.useCallback(e=>{n(t=>[...t,...e]),a(0)},[]),p=t.useCallback(()=>{n([]),a(0),l(!1)},[]),f=t.useCallback(()=>l(e=>!e),[]),m=t.useCallback(async()=>{try{for(let e of(await navigator.clipboard.read()))for(let t of e.types)if(t.startsWith("image/")){let r=await e.getType(t),i=new File([r],"clipboard.png",{type:r.type});d([i]);return}}catch(e){console.error("Clipboard read failed",e)}},[d]),g=t.useCallback(async()=>{try{if("undefined"!=typeof window&&"undefined"!=typeof document){let e=window.screen.width*(window.devicePixelRatio||1),t=window.screen.height*(window.devicePixelRatio||1),r=await navigator.mediaDevices.getDisplayMedia({audio:!1,video:{width:e,height:t,frameRate:2},preferCurrentTab:!0}),i=document.createElement("video");i.srcObject=r,await new Promise(e=>{i.onloadedmetadata=async()=>{await i.play().catch(e=>{console.error("Video play failed",e)}),i.pause(),e()}});let n=document.createElement("canvas");n.width=i.videoWidth,n.height=i.videoHeight;let o=n.getContext("2d");o?.drawImage(i,0,0,n.width,n.height);let a=n.toDataURL("image/png"),s=function(e,t){let[r,i]=e.split(","),n=r?.match(/:(.*?);/);if(!n)return null;let o=n[1],a=i?atob(i):"",s=new Uint8Array(a.length);for(let e=0;e<a.length;e++)s[e]=a.charCodeAt(e);return new File([s],t,{type:o})}(a,"screenshot.png");s&&d([s]),r.getTracks().forEach(e=>e.stop())}}catch(e){console.error("Screenshot capture failed:",e)}},[d]),h=t.useCallback(e=>{n(t=>{let r=[...t];return r[o]=e,r})},[o]);return r.jsx(pZ.Provider,{value:{screenshots:i,setScreenshots:n,addScreenshots:d,captureScreenshot:g,pasteFromClipboard:m,clearScreenshots:p,drawMode:s,toggleDrawMode:f,screenshotSrc:c,screenshotIndex:o,setScreenshotIndex:a,saveDrawing:h,maxFileSize:25},children:e})},p0=()=>{let e=t.useContext(pZ);if(!e)throw Error("useScreenshot must be within ScreenshotProvider");return e},p1={draw:{lineWidth:6,strokeStyle:"red",fillStyle:"red"},whiteout:{lineWidth:40,strokeStyle:"white",fillStyle:"white"}};function p2({screenshotSrc:e,saveDrawing:i}){let n=t.useRef(null),[o,a]=t.useState("draw"),s=t.useRef(null),[l,c]=t.useState(!1);t.useEffect(()=>{let t=n.current;if(!t)return;let r=t.getContext("2d");if(!r)return;r.lineCap="round",r.lineJoin="round";let i=new Image;i.onload=()=>{t.width=i.width,t.height=i.height,r.clearRect(0,0,t.width,t.height),r.drawImage(i,0,0)},i.src=e,s.current=null,c(!1)},[e]);let u=()=>{c(!1),s.current=null};return r.jsxs(W,{display:"flex",flexDirection:"column",gap:"4x","data-testid":"screenshot-editor-component",children:[r.jsxs(W,{display:"flex",justifyContent:"spaceBetween",children:[r.jsxs(W,{display:"flex",gap:"4x",children:[r.jsx(eA,{labelText:r.jsx(eT,{children:"Draw"}),inputProps:{name:"drawStyle",checked:"draw"===o,onChange:()=>a("draw"),"data-testid":"draw-mode-btn"}}),r.jsx(eA,{labelText:r.jsx(eT,{children:"Whiteout"}),inputProps:{name:"drawStyle",checked:"whiteout"===o,onChange:()=>a("whiteout"),"data-testid":"whiteout-mode-btn"}})]}),r.jsxs(W,{display:"flex",gap:"2x",children:[r.jsx(J,{variant:"outline",onClick:()=>{let t=n.current;if(!t)return;let r=t.getContext("2d");if(!r)return;let i=new Image;i.onload=()=>{r.clearRect(0,0,t.width,t.height),r.drawImage(i,0,0)},i.src=e,s.current=null},text:"Clear","data-testid":"clear-canvas-btn"}),r.jsx(J,{variant:"primary",onClick:()=>{let e=n.current;e&&e.toBlob(e=>{e&&i(new File([e],"screenshot.png",{type:e.type}))},"image/png")},text:"Done","data-testid":"save-drawing-btn"})]})]}),r.jsx(ev,{children:"You can draw on the screenshot; use Clear to reset the drawing."}),r.jsx("canvas",{ref:n,style:{width:"100%",cursor:"crosshair"},onMouseDown:e=>{let t=n.current;if(!t)return;let r=t.getBoundingClientRect(),i=(e.clientX-r.left)*(t.width/r.width),o=(e.clientY-r.top)*(t.height/r.height);s.current={x:i,y:o},c(!0)},onMouseMove:e=>{if(!l)return;let t=n.current;if(!t)return;let r=t.getContext("2d");if(!r)return;let i=t.getBoundingClientRect(),a=(e.clientX-i.left)*(t.width/i.width),c=(e.clientY-i.top)*(t.height/i.height),u=p1[o];r.beginPath(),s.current?r.moveTo(s.current.x,s.current.y):r.moveTo(a,c),r.lineTo(a,c),r.lineWidth=u.lineWidth,r.strokeStyle=u.strokeStyle,r.stroke(),r.arc(a,c,u.lineWidth/2,0,2*Math.PI),r.fillStyle=u.fillStyle,r.fill(),r.closePath(),s.current={x:a,y:c}},onMouseUp:u,onMouseLeave:u})]})}function p3({onCaptureScreenshot:e}){let{screenshots:i,setScreenshots:n,pasteFromClipboard:o,clearScreenshots:a,drawMode:s,toggleDrawMode:l,screenshotSrc:c,screenshotIndex:u,setScreenshotIndex:d,saveDrawing:p,maxFileSize:f}=p0(),m=t.useMemo(()=>i.reduce((e,t)=>e+t.size,0)>=1e6*f,[i,f]),g=t.useCallback(e=>{n(t=>{let r=e.filter(e=>!t.some(t=>t.name===e.name&&t.size===e.size));return[...t,...r]})},[n]),h=i[u];return r.jsxs(W,{display:"flex",flexDirection:"column",gap:"4x","data-testid":"screenshots-component",children:[r.jsx(e$,{labelText:r.jsx(eT,{children:"Screenshots"}),descriptionText:r.jsx(ev,{children:"Upload a screenshot to help with debugging. Choose from uploading images or taking a screenshot."}),helperText:r.jsx(ev,{children:"Supported upload formats: .PNG, .JPG, or .GIF"}),onFilesSelected:g,showUploadedFiles:!1,inputProps:{accept:"image/*",multiple:!0,"data-testid":"screenshot-input"}}),r.jsxs(W,{display:"flex",gap:"2x",justifyContent:"spaceBetween",children:[r.jsx(J,{onClick:o,text:"Paste from clipboard",icon:r.jsx(eO,{imageId:rT.SYSTEM_ICONS_CLIPBOARD_SMALL}),isEmphasized:!0,category:"ghost","data-testid":"paste-from-clipboard-btn"}),r.jsxs(W,{display:"flex",gap:"1x",children:[r.jsx(J,{onClick:e,text:"Take a screenshot",isEmphasized:!0,"data-testid":"take-screenshot-btn"}),r.jsx(J,{onClick:a,variant:"destructive",disabled:0===i.length,text:"Clear screenshots",isEmphasized:!0,"data-testid":"clear-all-screenshots-btn"})]})]}),i.length>0&&!s&&r.jsx(W,{children:r.jsx(J,{onClick:l,variant:s?"secondary":"primary",text:"Draw",icon:r.jsx(eO,{imageId:rT.SYSTEM_ICONS_EDIT_SMALL}),isEmphasized:!0,"data-testid":"draw-btn"})}),r.jsx(W,{children:s&&h?r.jsx(p2,{screenshotSrc:c,saveDrawing:e=>{p(e),l()}}):h&&c&&r.jsx(eL,{src:c,a11yText:"Screenshot preview",width:"100%",imageScalingType:"contain",shape:"rounded"})}),i.length>1&&!s&&r.jsxs(W,{display:"flex",justifyContent:"spaceBetween",alignItems:"center",gap:"3x",children:[r.jsx(J,{category:"ghost",text:"Previous",onClick:()=>d(u-1),disabled:0===u,isEmphasized:!0,"data-testid":"previous-btn"}),r.jsxs(eM,{fontSize:"medium",children:[u+1," / ",i.length]}),r.jsx(J,{category:"ghost",text:"Next",onClick:()=>d(u+1),disabled:u===i.length-1,isEmphasized:!0,"data-testid":"next-btn"})]}),i.length>0&&m&&r.jsxs(eM,{color:"alert",fontSize:"small","data-testid":"screenshots-max-size-exceeded-warning",children:["Screenshots exceed max size of ",f," MB"]})]})}let p4=({attachHtmlChecked:e,attachPlayerLogsChecked:t,comments:i,onAttachHtmlChange:n,onAttachPlayerLogsChange:o,onCommentsChange:a,onPillarChange:s,onTitleChange:l,pillarEmail:c,pillars:u,title:d})=>r.jsxs(W,{tagName:"form",display:"flex",flexDirection:"column",gap:"4x","data-testid":"feedback-form",children:[r.jsx(ek,{labelText:r.jsx(eT,{children:"Feedback Title"}),inputProps:{"data-testid":"internal-feedbackform-title-input",name:"title",value:d,required:!0,onChange:e=>l(e.target.value)}}),r.jsx(eD,{labelText:r.jsx(eT,{children:"Comments"}),helperText:r.jsx(ev,{children:"Describe the bug or feedback."}),textAreaProps:{name:"comments",value:i,rows:9,"data-testid":"internal-feedbackform-comments-input"},onValueChange:a}),r.jsx(eU,{labelText:r.jsx(eT,{children:"Pillar"}),helperText:r.jsx(ev,{children:"Try to choose the pillar or product most related to your feedback."}),options:u.map((e,t)=>r.jsx(eF,{label:e.displayName,value:e.email},t)),selectProps:{"data-testid":"internal-feedbackform-pillar-select",name:"pillar-select",value:c,onChange:e=>s(e.target.value)}}),r.jsxs(W,{display:"flex",flexDirection:"row",gap:"2x",children:[r.jsxs(ej,{display:"flex",flexDirection:"row",gap:"1x",children:[r.jsx(em,{inputProps:{checked:e,onChange:e=>n(e.target.checked)}}),r.jsx(eT,{children:"Attach HTML of Page (May contain sensitive information)"})]}),r.jsxs(ej,{display:"flex",flexDirection:"row",gap:"1x","data-testid":"internal-feedbackform-attach-player-logs-checkbox",children:[r.jsx(em,{inputProps:{checked:t,onChange:e=>o(e.target.checked)}}),r.jsx(eT,{children:"Attach Media Player Logs"})]})]})]}),p7=[{route:"/mynetwork/catch-up/",displayName:"Nurture: Catch up tab on My Network",email:"ask_network_catchup"},{route:"/mynetwork/grow/",displayName:"My Network: Connections, follows, suggestions",email:"ask_network_build"},{route:"/feed",email:"ask_ce_feed",displayName:"Feed: View or react to content in the feed"},{route:"",displayName:"Comments: Comment creation and rendering (Conversations team)",email:"ask_conversations"},{route:"",email:"ask_shaky",displayName:"Shaky (Shake for Feedback)"},{route:"/premium",email:"voyager-premium-feedback",displayName:"Premium: My Premium and leaf pages"},{route:"/search",email:"nile-search-feedback",displayName:"Search: Nav bar search and the search results page"},{route:"/in",email:"nile-profile-feedback",displayName:"Profile: View or edit your profile"},{route:"/games",email:"ask_games",displayName:"Games (Project Play)"},{route:"",email:"ask_uapevendor",displayName:"UAPe x Vendor"},{route:"/jobs",email:"voyager-careers-feedback",displayName:"Jobs: Jobs Home and Details"},{route:"/messaging",email:"neptune-messaging-feedback",displayName:"Messenger"},{route:"/notifications",email:"nile-growth-tigers",displayName:"Notifications"},{route:"",email:"ask_retention",displayName:"Retention (Launchpad, NBA)"},{route:"/onboarding",email:"ask_onboarding",displayName:"Onboarding"},{route:"/analytics",email:"ask_creator_analytics",displayName:"Analytics: Posts, audience"},{route:"",email:"ask-translation-feedback",displayName:"Translation feedback"},{route:"/hiring",email:"ask_online_jobs",displayName:"Hiring: Online Jobs and HERO"}].sort((e,t)=>e.displayName>t.displayName?1:-1),p5=`Expected results
What did you expect to happen when using this feature?

Actual results
What did you observe happening instead?

Steps to reproduce
List the step-by-step actions that led you to this issue.`,p6=e=>{let i=t.useId(),n=t.useRef(null),{debugContext:o,isOpen:a,onClose:s,hideModal:l,showModal:c}=e,u=tj(),[d,p]=t.useState(""),[f,m]=t.useState(!0),[g,h]=t.useState(""),[y,b]=t.useState(p5),[x,S]=t.useState(!1),{url:E}=tF(),{jiraLabels:v,customEntries:T,allLixes:N}=pY(),_=tB().getAppContext(),{otelSdk:k}=tW().getTracer(),I=p7.find(e=>!!e.route&&E?.includes(e.route)),[O,C]=t.useState("screenshots"),{screenshots:P,clearScreenshots:R,captureScreenshot:w}=p0(),{jetCore:A}=tB().getClients(),[$,L]=t.useState(!0);t.useEffect(()=>{a?(n.current?.showModal?.(),h(I?.email??"")):n.current?.close?.()},[a,I?.email]);let F=t.useCallback(()=>{p(""),b(p5),m(!0),L(!0),h(""),C("screenshots"),R()},[R]),j=t.useCallback(()=>{n&&"current"in n&&n.current&&n.current.close?.(),F(),s()},[F,s]),B=t.useCallback(e=>{if(!v||0===v.length)return e;let t=v.map(e=>e.trim()).filter(Boolean),r=!1,i=e.replace(/^jira-labelappend:\s*(.*)$/m,(e,i)=>{let n=i.split(",").map(e=>e.trim());r=!0;let o=new Set([...n,...t]);return`jira-labelappend: ${Array.from(o).join(",")}`});return r?i:`${e}
jira-labelappend: ${t.join(",")}`},[v]),V=t.useCallback(()=>{if("undefined"==typeof navigator)return"Unknown";let e=navigator;if(!e.connection)return"Unknown";let t=e.connection;return JSON.stringify({effectiveType:t.effectiveType,downlink:t.downlink,rtt:t.rtt,saveData:t.saveData,type:t.type},null,2)},[]),G=t.useCallback(e=>{let t=B(o);T&&Object.entries(T).forEach(([e,r])=>{t+=`
${e}: ${r}`});let r="undefined"!=typeof window?window.location.href:"",i=V();return`
   JIRA: https://linkedin.atlassian.net/issues/?jql=text~${encodeURIComponent(e)}
   ${t}
   User Agent: ${navigator.userAgent}
   URL: ${r}
   Network Connection: ${i}
   Initial server request trace: https://observe.prod.linkedin.com/trace-explorer/${encodeURIComponent(_.treeId)}
   Client Page Trace: https://go/employee-client-trace-explorer%20${k.getCurrentPageSpan().spanContext.traceId}`},[B,o,T,_.treeId,k,V]),z=t.useCallback(()=>"undefined"==typeof document?new Blob([""],{type:"application/octet-stream"}):new Blob([(document.querySelector("head")?.outerHTML||"")+(document.querySelector("#root")?.outerHTML||"")],{type:"application/octet-stream"}),[]),H=e=>{let t="No visible players found";if(!e||0===e.length)return t;let r=e.map(e=>{let t=e.playerVisibility();return{player:e,ratio:t.isVisible()?t.getIntersectionRatio():0}}).filter(({ratio:e})=>e>0);if(0===r.length)return t;let i=Math.max(...r.map(({ratio:e})=>e));return r.filter(({ratio:e})=>e===i).map(({player:e})=>e).map(e=>e.debugLog().getPlayerLogs()).join("")},q=()=>"undefined"!=typeof window?new Blob([H(window?.vjsForDebug?.getAllPlayers())],{type:"application/octet-stream"}):new Blob([""],{type:"application/octet-stream"}),Y=t.useCallback(e=>{let t=new FormData;return t.append("userComments",y),t.append("clientDebugInfo",e),t.append("emailSubject",`Nile Web Feedback - ${d}`),t.append("recipientsTo",`${g}@linkedin.com`),(function(e,t){try{let t=[];if(e){let r="LIX,TREATMENT\n";Object.entries(e).forEach(([e,t])=>{r+=`${e},${t?.treatment??""}
`});let i=new Blob([r],{type:"application/octet-stream"});t.push({blob:i,fileName:"lix_information.csv"})}let r=(()=>{if("undefined"==typeof document)return{};let e="undefined"!=typeof document?document.cookie.split(";"):[],t=e.find(e=>e.trim().startsWith("lror="))?.split("lror=")[1];if(!t)return{};let r={};return t.split("&").forEach(e=>{let[t,i]=e.split("=");t&&i&&(r[decodeURIComponent(t)]=decodeURIComponent(i))}),r})();if(Object.keys(r).length>0){let e="LIX,TREATMENT\n";Object.entries(r).forEach(([t,r])=>{e+=`${t},${r}
`});let i=new Blob([e],{type:"application/octet-stream"});t.push({blob:i,fileName:"lix_override_information.csv"})}return t}catch(e){return t.reportLog(`Error parsing attachments for shaky report: ${e}`,["internal-feedback"]),[]}})(N,A).forEach(e=>{t.append("file_info",e.blob,e.fileName)}),P.forEach(e=>t.append("screenshot",e)),f&&t.append("file_info",z(),"application-html.txt"),$&&t.append("file_info",q(),"player_logs.txt"),t},[y,d,g,P,N,A,z,q,$]),X=t.useCallback((e,t)=>{let n=`internalFeedback${e?"Success":"Error"}Toast-${i}`;et.add({id:n,children:r.jsx(p8,{"data-testid":`internal-feedback-${e?"success":"error"}-toast`,isSuccess:e,onDismiss:()=>et.remove(n),text:t}),created:Date.now(),duration:void 0})},[i]),Z=t.useCallback(async()=>{l(),await w(),c()},[l,w,c]),Q=t.useCallback(async()=>{S(!0);try{let e="NWSF"+Date.now(),t=G(e),r=Y(t);(await fetch("/help/linkedin/api/shake-for-feedback",{method:"POST",headers:{"x-requested-with":"XMLHttpRequest","csrf-token":u},body:r})).ok?(k.getCurrentPageSpan().addEvent("shaky_feedback_submitted",{attributes:{pillar_email:g,feedback_url:"undefined"!=typeof window?window.location.href:""}},{attributes:{[tX.SPAN_TYPE]:"EVENT_WRAPPER",[tX.ENTITY_TYPE]:"PAGE"}}),X(!0,"Feedback submitted!"),j()):X(!1,"There was an error submitting the feedback.")}catch{X(!1,"There was an error submitting the feedback.")}finally{S(!1)}},[G,Y,u,X,j,k,g]);return a?r.jsx(eN,{ref:n,"data-testid":"internal-feedbackform",size:"large",header:r.jsx(D,{children:r.jsx(U,{children:"Internal Feedback"})}),onDismiss:j,content:r.jsxs(M,{children:[r.jsxs(eB,{inset:"2x",gap:"2x",children:["screenshots"===O&&r.jsx(p3,{onCaptureScreenshot:Z}),"form"===O&&r.jsx(p4,{attachHtmlChecked:f,attachPlayerLogsChecked:$,comments:y,onAttachHtmlChange:m,onAttachPlayerLogsChange:L,onCommentsChange:b,onPillarChange:h,onTitleChange:p,pillarEmail:g,pillars:p7,title:d})]}),x&&r.jsx(W,{position:"absolute",left:0,top:0,width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"scrim",children:r.jsx(eV,{value:-1})})]}),footer:r.jsx(K,{children:r.jsxs(W,{display:"flex",justifyContent:"screenshots"===O?"flexEnd":"spaceBetween",width:"100%",children:["screenshots"===O&&r.jsx(J,{"data-testid":"internal-feedbackform-next-button",category:"fill",text:"Next",onClick:()=>C("form")}),"form"===O&&r.jsxs(r.Fragment,{children:[r.jsx(J,{onClick:()=>C("screenshots"),variant:"secondary",category:"outline",isEmphasized:!0,text:"Back",disabled:x}),r.jsx(J,{"data-testid":"internal-feedbackform-submit-button",category:"fill",text:"Submit",onClick:Q,disabled:!(d&&y)||x})]})]})})}):null};function p8(e){let{isSuccess:t,onDismiss:i,text:n,...o}=e,{t:a}=t0();return r.jsxs(W,{position:"relative",...o,children:[r.jsxs(e_,{gap:"1x",inset:"1.5x",children:[t?r.jsx(eO,{color:"positive",imageId:rT.SYSTEM_ICONS_SIGNAL_SUCCESS_MEDIUM}):r.jsx(eO,{color:"negative",imageId:rT.SYSTEM_ICONS_SIGNAL_ERROR_MEDIUM}),r.jsx(eK,{weight:1,children:n})]}),r.jsx(J,{"aria-label":a("dismiss"),icon:r.jsx(eO,{imageId:rT.SYSTEM_ICONS_CLOSE_SMALL}),category:"ghost",position:"topEnd",offsetTop:"0.5x",offsetEnd:"0.5x",onClick:i})]})}let p9=Object.freeze(Object.defineProperty({__proto__:null,default:function(e){let{t:i}=t0(),{debugContext:n,icon:o,...a}=e,{appVersion:s,isEmployeeCluster:l,sduiVersion:c}=tB().getAppContext(),u=i("share_feedback"),[d,p]=t.useState(!1),{isInteropVisible:f}=tV();return f?null:r.jsxs(r.Fragment,{children:[r.jsx(eW,{"data-testid":"fab",icon:o,onClick:()=>p(!0),text:u,version:s,isEmployeeCluster:l,sduiVersion:c,...a}),r.jsx(pQ,{children:r.jsx(p6,{isOpen:d,hideModal:()=>p(!1),showModal:()=>p(!0),debugContext:n,onClose:()=>p(!1)})})]})}},Symbol.toStringTag,{value:"Module"}));var fe=((iv=fe||{}).GameType_UNKNOWN="GameType_UNKNOWN",iv.GameType_ZIP="GameType_ZIP",iv.GameType_PINPOINT="GameType_PINPOINT",iv.GameType_CROSSCLIMB="GameType_CROSSCLIMB",iv.GameType_QUEENS="GameType_QUEENS",iv.GameType_TANGO="GameType_TANGO",iv.GameType_MINI_SUDOKU="GameType_MINI_SUDOKU",iv);let ft=({children:e})=>{let[i,n]=t.useState(!1);return(t.useEffect(()=>{n(!0)},[]),i)?r.jsx(r.Fragment,{children:e}):null};function fr({metricName:e,errorMessage:r,componentName:i}){let{jetCore:n}=tB().getClients(),o=t9();t.useEffect(()=>{o?.incrementCounterMetric({groupName:dc,metricName:e})},[o,r]);let a=["component-transform"];return i&&a.push(`component:${i}`),n.reportError(Error(`${i}: ${r}`),a),null}let fi=Object.freeze(Object.defineProperty({__proto__:null,IncrementClientSensorCounter:fr},Symbol.toStringTag,{value:"Module"}));function fn(e,t){return r.jsxs(r.Fragment,{children:[r.jsx(fr,{metricName:du.COMPONENT_TRANSFORM_FAILURE,errorMessage:e,componentName:t}),r.jsx(r.Fragment,{})]})}function fo(){return{$type:"google.protobuf.Duration",seconds:0n,nanos:0}}let fa={$type:"google.protobuf.Duration",encode(t,r=e.Writer.create()){if(0n!==t.seconds){if(BigInt.asIntN(64,t.seconds)!==t.seconds)throw new globalThis.Error("value provided for field message.seconds of type int64 too large");r.uint32(8).int64(t.seconds.toString())}return 0!==t.nanos&&r.uint32(16).int32(t.nanos),r},decode(t,r){let i=t instanceof e.Reader?t:e.Reader.create(t),n=void 0===r?i.len:i.pos+r,o=fo();for(;i.pos<n;){let e=i.uint32();switch(e>>>3){case 1:if(8!==e)break;o.seconds=BigInt(i.int64().toString());continue;case 2:if(16!==e)break;o.nanos=i.int32();continue}if((7&e)==4||0===e)break;i.skipType(7&e)}return o},fromJSON:e=>({$type:fa.$type,seconds:null!=e.seconds?BigInt(e.seconds):0n,nanos:null!=e.nanos?globalThis.Number(e.nanos):0}),toJSON(e){let t={};return 0n!==e.seconds&&(t.seconds=e.seconds.toString()),0!==e.nanos&&(t.nanos=Math.round(e.nanos)),t},create:e=>fa.fromPartial(e??{}),fromPartial(e){let t=fo();return t.seconds=e.seconds??0n,t.nanos=e.nanos??0,t}};function fs(){return{$type:"proto.sdui.StatePersistence",clientTtlDuration:void 0}}rL.set(fa.$type,fa),e.util.Long!==n&&(e.util.Long=n,e.configure());let fl={$type:"proto.sdui.StatePersistence",encode:(t,r=e.Writer.create())=>(void 0!==t.clientTtlDuration&&fa.encode(t.clientTtlDuration,r.uint32(10).fork()).ldelim(),r),decode(t,r){let i=t instanceof e.Reader?t:e.Reader.create(t),n=void 0===r?i.len:i.pos+r,o=fs();for(;i.pos<n;){let e=i.uint32();switch(e>>>3){case 1:if(10!==e)break;o.clientTtlDuration=fa.decode(i,i.uint32());continue}if((7&e)==4||0===e)break;i.skipType(7&e)}return o},fromJSON:e=>({$type:fl.$type,clientTtlDuration:null!=e.clientTtlDuration?fa.fromJSON(e.clientTtlDuration):void 0}),toJSON(e){let t={};return void 0!==e.clientTtlDuration&&(t.clientTtlDuration=fa.toJSON(e.clientTtlDuration)),t},create:e=>fl.fromPartial(e??{}),fromPartial(e){let t=fs();return t.clientTtlDuration=void 0!==e.clientTtlDuration&&null!==e.clientTtlDuration?fa.fromPartial(e.clientTtlDuration):void 0,t}};function fc(){return{$type:"proto.sdui.State",stateKey:"",key:void 0,value:void 0,persistence:void 0,isOptimistic:!1}}rL.set(fl.$type,fl);let fu={$type:"proto.sdui.State",encode(t,r=e.Writer.create()){switch(""!==t.stateKey&&r.uint32(10).string(t.stateKey),void 0!==t.key&&i2.encode(t.key,r.uint32(82).fork()).ldelim(),t.value?.$case){case"stringValue":r.uint32(26).string(t.value.stringValue);break;case"intValue":r.uint32(32).int32(t.value.intValue);break;case"booleanValue":r.uint32(40).bool(t.value.booleanValue);break;case"stringListValue":ap.encode(t.value.stringListValue,r.uint32(50).fork()).ldelim();break;case"longValue":if(BigInt.asUintN(64,t.value.longValue)!==t.value.longValue)throw new globalThis.Error("value provided for field message.value.longValue of type uint64 too large");r.uint32(56).uint64(t.value.longValue.toString());break;case"floatValue":r.uint32(213).float(t.value.floatValue);break;case"colorValue":oM.encode(t.value.colorValue,r.uint32(186).fork()).ldelim();break;case"dateValue":o1.encode(t.value.dateValue,r.uint32(202).fork()).ldelim();break;case"mediaListValue":cn.encode(t.value.mediaListValue,r.uint32(226).fork()).ldelim();break;case"expression":fp.encode(t.value.expression,r.uint32(106).fork()).ldelim();break;case"textModelForWrite":sm.encode(t.value.textModelForWrite,r.uint32(218).fork()).ldelim();break;case"textModel":sm.encode(t.value.textModel,r.uint32(234).fork()).ldelim()}return void 0!==t.persistence&&fl.encode(t.persistence,r.uint32(178).fork()).ldelim(),!1!==t.isOptimistic&&r.uint32(192).bool(t.isOptimistic),r},decode(t,r){let i=t instanceof e.Reader?t:e.Reader.create(t),n=void 0===r?i.len:i.pos+r,o=fc();for(;i.pos<n;){let e=i.uint32();switch(e>>>3){case 1:if(10!==e)break;o.stateKey=i.string();continue;case 10:if(82!==e)break;o.key=i2.decode(i,i.uint32());continue;case 3:if(26!==e)break;o.value={$case:"stringValue",stringValue:i.string()};continue;case 4:if(32!==e)break;o.value={$case:"intValue",intValue:i.int32()};continue;case 5:if(40!==e)break;o.value={$case:"booleanValue",booleanValue:i.bool()};continue;case 6:if(50!==e)break;o.value={$case:"stringListValue",stringListValue:ap.decode(i,i.uint32())};continue;case 7:if(56!==e)break;o.value={$case:"longValue",longValue:BigInt(i.uint64().toString())};continue;case 26:if(213!==e)break;o.value={$case:"floatValue",floatValue:i.float()};continue;case 23:if(186!==e)break;o.value={$case:"colorValue",colorValue:oM.decode(i,i.uint32())};continue;case 25:if(202!==e)break;o.value={$case:"dateValue",dateValue:o1.decode(i,i.uint32())};continue;case 28:if(226!==e)break;o.value={$case:"mediaListValue",mediaListValue:cn.decode(i,i.uint32())};continue;case 13:if(106!==e)break;o.value={$case:"expression",expression:fp.decode(i,i.uint32())};continue;case 27:if(218!==e)break;o.value={$case:"textModelForWrite",textModelForWrite:sm.decode(i,i.uint32())};continue;case 29:if(234!==e)break;o.value={$case:"textModel",textModel:sm.decode(i,i.uint32())};continue;case 22:if(178!==e)break;o.persistence=fl.decode(i,i.uint32());continue;case 24:if(192!==e)break;o.isOptimistic=i.bool();continue}if((7&e)==4||0===e)break;i.skipType(7&e)}return o},fromJSON:e=>({$type:fu.$type,stateKey:ff(e.stateKey)?globalThis.String(e.stateKey):"",key:ff(e.key)?i2.fromJSON(e.key):void 0,value:ff(e.stringValue)?{$case:"stringValue",stringValue:globalThis.String(e.stringValue)}:ff(e.intValue)?{$case:"intValue",intValue:globalThis.Number(e.intValue)}:ff(e.booleanValue)?{$case:"booleanValue",booleanValue:globalThis.Boolean(e.booleanValue)}:ff(e.stringListValue)?{$case:"stringListValue",stringListValue:ap.fromJSON(e.stringListValue)}:ff(e.longValue)?{$case:"longValue",longValue:BigInt(e.longValue)}:ff(e.floatValue)?{$case:"floatValue",floatValue:globalThis.Number(e.floatValue)}:ff(e.colorValue)?{$case:"colorValue",colorValue:oM.fromJSON(e.colorValue)}:ff(e.dateValue)?{$case:"dateValue",dateValue:o1.fromJSON(e.dateValue)}:ff(e.mediaListValue)?{$case:"mediaListValue",mediaListValue:cn.fromJSON(e.mediaListValue)}:ff(e.expression)?{$case:"expression",expression:fp.fromJSON(e.expression)}:ff(e.textModelForWrite)?{$case:"textModelForWrite",textModelForWrite:sm.fromJSON(e.textModelForWrite)}:ff(e.textModel)?{$case:"textModel",textModel:sm.fromJSON(e.textModel)}:void 0,persistence:ff(e.persistence)?fl.fromJSON(e.persistence):void 0,isOptimistic:!!ff(e.isOptimistic)&&globalThis.Boolean(e.isOptimistic)}),toJSON(e){let t={};return""!==e.stateKey&&(t.stateKey=e.stateKey),void 0!==e.key&&(t.key=i2.toJSON(e.key)),e.value?.$case==="stringValue"&&(t.stringValue=e.value.stringValue),e.value?.$case==="intValue"&&(t.intValue=Math.round(e.value.intValue)),e.value?.$case==="booleanValue"&&(t.booleanValue=e.value.booleanValue),e.value?.$case==="stringListValue"&&(t.stringListValue=ap.toJSON(e.value.stringListValue)),e.value?.$case==="longValue"&&(t.longValue=e.value.longValue.toString()),e.value?.$case==="floatValue"&&(t.floatValue=e.value.floatValue),e.value?.$case==="colorValue"&&(t.colorValue=oM.toJSON(e.value.colorValue)),e.value?.$case==="dateValue"&&(t.dateValue=o1.toJSON(e.value.dateValue)),e.value?.$case==="mediaListValue"&&(t.mediaListValue=cn.toJSON(e.value.mediaListValue)),e.value?.$case==="expression"&&(t.expression=fp.toJSON(e.value.expression)),e.value?.$case==="textModelForWrite"&&(t.textModelForWrite=sm.toJSON(e.value.textModelForWrite)),e.value?.$case==="textModel"&&(t.textModel=sm.toJSON(e.value.textModel)),void 0!==e.persistence&&(t.persistence=fl.toJSON(e.persistence)),!1!==e.isOptimistic&&(t.isOptimistic=e.isOptimistic),t},create:e=>fu.fromPartial(e??{}),fromPartial(e){let t=fc();return t.stateKey=e.stateKey??"",t.key=void 0!==e.key&&null!==e.key?i2.fromPartial(e.key):void 0,e.value?.$case==="stringValue"&&e.value?.stringValue!==void 0&&e.value?.stringValue!==null&&(t.value={$case:"stringValue",stringValue:e.value.stringValue}),e.value?.$case==="intValue"&&e.value?.intValue!==void 0&&e.value?.intValue!==null&&(t.value={$case:"intValue",intValue:e.value.intValue}),e.value?.$case==="booleanValue"&&e.value?.booleanValue!==void 0&&e.value?.booleanValue!==null&&(t.value={$case:"booleanValue",booleanValue:e.value.booleanValue}),e.value?.$case==="stringListValue"&&e.value?.stringListValue!==void 0&&e.value?.stringListValue!==null&&(t.value={$case:"stringListValue",stringListValue:ap.fromPartial(e.value.stringListValue)}),e.value?.$case==="longValue"&&e.value?.longValue!==void 0&&e.value?.longValue!==null&&(t.value={$case:"longValue",longValue:e.value.longValue}),e.value?.$case==="floatValue"&&e.value?.floatValue!==void 0&&e.value?.floatValue!==null&&(t.value={$case:"floatValue",floatValue:e.value.floatValue}),e.value?.$case==="colorValue"&&e.value?.colorValue!==void 0&&e.value?.colorValue!==null&&(t.value={$case:"colorValue",colorValue:oM.fromPartial(e.value.colorValue)}),e.value?.$case==="dateValue"&&e.value?.dateValue!==void 0&&e.value?.dateValue!==null&&(t.value={$case:"dateValue",dateValue:o1.fromPartial(e.value.dateValue)}),e.value?.$case==="mediaListValue"&&e.value?.mediaListValue!==void 0&&e.value?.mediaListValue!==null&&(t.value={$case:"mediaListValue",mediaListValue:cn.fromPartial(e.value.mediaListValue)}),e.value?.$case==="expression"&&e.value?.expression!==void 0&&e.value?.expression!==null&&(t.value={$case:"expression",expression:fp.fromPartial(e.value.expression)}),e.value?.$case==="textModelForWrite"&&e.value?.textModelForWrite!==void 0&&e.value?.textModelForWrite!==null&&(t.value={$case:"textModelForWrite",textModelForWrite:sm.fromPartial(e.value.textModelForWrite)}),e.value?.$case==="textModel"&&e.value?.textModel!==void 0&&e.value?.textModel!==null&&(t.value={$case:"textModel",textModel:sm.fromPartial(e.value.textModel)}),t.persistence=void 0!==e.persistence&&null!==e.persistence?fl.fromPartial(e.persistence):void 0,t.isOptimistic=e.isOptimistic??!1,t}};function fd(){return{$type:"proto.sdui.StateExpression",expression:void 0,isReactive:!1}}rL.set(fu.$type,fu);let fp={$type:"proto.sdui.StateExpression",encode(t,r=e.Writer.create()){switch(t.expression?.$case){case"integerExpression":aD.encode(t.expression.integerExpression,r.uint32(10).fork()).ldelim();break;case"longExpression":aB.encode(t.expression.longExpression,r.uint32(18).fork()).ldelim();break;case"booleanExpression":a_.encode(t.expression.booleanExpression,r.uint32(26).fork()).ldelim();break;case"stringExpression":al.encode(t.expression.stringExpression,r.uint32(34).fork()).ldelim();break;case"stringListExpression":ah.encode(t.expression.stringListExpression,r.uint32(42).fork()).ldelim();break;case"floatExpression":aF.encode(t.expression.floatExpression,r.uint32(50).fork()).ldelim()}return!1!==t.isReactive&&r.uint32(80).bool(t.isReactive),r},decode(t,r){let i=t instanceof e.Reader?t:e.Reader.create(t),n=void 0===r?i.len:i.pos+r,o=fd();for(;i.pos<n;){let e=i.uint32();switch(e>>>3){case 1:if(10!==e)break;o.expression={$case:"integerExpression",integerExpression:aD.decode(i,i.uint32())};continue;case 2:if(18!==e)break;o.expression={$case:"longExpression",longExpression:aB.decode(i,i.uint32())};continue;case 3:if(26!==e)break;o.expression={$case:"booleanExpression",booleanExpression:a_.decode(i,i.uint32())};continue;case 4:if(34!==e)break;o.expression={$case:"stringExpression",stringExpression:al.decode(i,i.uint32())};continue;case 5:if(42!==e)break;o.expression={$case:"stringListExpression",stringListExpression:ah.decode(i,i.uint32())};continue;case 6:if(50!==e)break;o.expression={$case:"floatExpression",floatExpression:aF.decode(i,i.uint32())};continue;case 10:if(80!==e)break;o.isReactive=i.bool();continue}if((7&e)==4||0===e)break;i.skipType(7&e)}return o},fromJSON:e=>({$type:fp.$type,expression:ff(e.integerExpression)?{$case:"integerExpression",integerExpression:aD.fromJSON(e.integerExpression)}:ff(e.longExpression)?{$case:"longExpression",longExpression:aB.fromJSON(e.longExpression)}:ff(e.booleanExpression)?{$case:"booleanExpression",booleanExpression:a_.fromJSON(e.booleanExpression)}:ff(e.stringExpression)?{$case:"stringExpression",stringExpression:al.fromJSON(e.stringExpression)}:ff(e.stringListExpression)?{$case:"stringListExpression",stringListExpression:ah.fromJSON(e.stringListExpression)}:ff(e.floatExpression)?{$case:"floatExpression",floatExpression:aF.fromJSON(e.floatExpression)}:void 0,isReactive:!!ff(e.isReactive)&&globalThis.Boolean(e.isReactive)}),toJSON(e){let t={};return e.expression?.$case==="integerExpression"&&(t.integerExpression=aD.toJSON(e.expression.integerExpression)),e.expression?.$case==="longExpression"&&(t.longExpression=aB.toJSON(e.expression.longExpression)),e.expression?.$case==="booleanExpression"&&(t.booleanExpression=a_.toJSON(e.expression.booleanExpression)),e.expression?.$case==="stringExpression"&&(t.stringExpression=al.toJSON(e.expression.stringExpression)),e.expression?.$case==="stringListExpression"&&(t.stringListExpression=ah.toJSON(e.expression.stringListExpression)),e.expression?.$case==="floatExpression"&&(t.floatExpression=aF.toJSON(e.expression.floatExpression)),!1!==e.isReactive&&(t.isReactive=e.isReactive),t},create:e=>fp.fromPartial(e??{}),fromPartial(e){let t=fd();return e.expression?.$case==="integerExpression"&&e.expression?.integerExpression!==void 0&&e.expression?.integerExpression!==null&&(t.expression={$case:"integerExpression",integerExpression:aD.fromPartial(e.expression.integerExpression)}),e.expression?.$case==="longExpression"&&e.expression?.longExpression!==void 0&&e.expression?.longExpression!==null&&(t.expression={$case:"longExpression",longExpression:aB.fromPartial(e.expression.longExpression)}),e.expression?.$case==="booleanExpression"&&e.expression?.booleanExpression!==void 0&&e.expression?.booleanExpression!==null&&(t.expression={$case:"booleanExpression",booleanExpression:a_.fromPartial(e.expression.booleanExpression)}),e.expression?.$case==="stringExpression"&&e.expression?.stringExpression!==void 0&&e.expression?.stringExpression!==null&&(t.expression={$case:"stringExpression",stringExpression:al.fromPartial(e.expression.stringExpression)}),e.expression?.$case==="stringListExpression"&&e.expression?.stringListExpression!==void 0&&e.expression?.stringListExpression!==null&&(t.expression={$case:"stringListExpression",stringListExpression:ah.fromPartial(e.expression.stringListExpression)}),e.expression?.$case==="floatExpression"&&e.expression?.floatExpression!==void 0&&e.expression?.floatExpression!==null&&(t.expression={$case:"floatExpression",floatExpression:aF.fromPartial(e.expression.floatExpression)}),t.isReactive=e.isReactive??!1,t}};function ff(e){return null!=e}rL.set(fp.$type,fp),e.util.Long!==n&&(e.util.Long=n,e.configure());var fm=((iT=fm||{}).LotkaCellValue_UNKNOWN="LotkaCellValue_UNKNOWN",iT.LotkaCellValue_ZERO="LotkaCellValue_ZERO",iT.LotkaCellValue_ONE="LotkaCellValue_ONE",iT);let fg=t.lazy(()=>import("./index-Cqu7jR2P.es.js").then(e=>e.index).then(e=>({default:e.Zip}))),fh=t.lazy(()=>import("./index-Cqu7jR2P.es.js").then(e=>e.index).then(e=>({default:e.Pinpoint}))),fy=t.lazy(()=>import("./index-Cqu7jR2P.es.js").then(e=>e.index).then(e=>({default:e.Crossclimb}))),fb=t.lazy(()=>import("./index-Cqu7jR2P.es.js").then(e=>e.index).then(e=>({default:e.Queens}))),fx=t.lazy(()=>import("./index-Cqu7jR2P.es.js").then(e=>e.index).then(e=>({default:e.Tango}))),fS=t.lazy(()=>import("./index-Cqu7jR2P.es.js").then(e=>e.index).then(e=>({default:e.MiniSudoku})));function fE(e){return Array.isArray(e)&&e.every(e=>"string"==typeof e)}function fv(e){return"boolean"==typeof e?e:void 0}let fT=Object.freeze(Object.defineProperty({__proto__:null,default:function({game:e,gameType:i,undoButtonComponent:n,hintButtonComponent:o,resultsButtonComponent:a,customCardComponent:s,isUndoDisabledBindingKey:l,hasWonBindingKey:c,isHowToPlayInstructionsExpandedBindingKey:u,isTimerHiddenBindingKey:d,visibilitySettingBindingKey:p,gameScoreVisibilitySettingBindingKey:f,timeElapsedBindingKey:m,onSettingsUpdate:g,onSettingsDismiss:h,onGameComplete:y,onGameBlur:b,onGameFocus:x,gameData:S,totalPlaysCount:E,winCount:v,gameOverrides:T,onOpenTutorialInfo:N,onGameAction:_,onFirstBoardAction:k,onGameBoardLoadAction:I,isZipShowErrorCardImmediatelyLixEnabled:O,isZipHapticsEnabled:C,zipNewPlayerIntroLixTreatment:P,zipResPlayerIntroLixTreatment:R,zipEnhancedHandTreatment:w,isZipInstructionsFirstWithUpdatesLixEnabled:A,isCollapsibleCardAnimationEnabled:$,themeNo:L,queensAutoPlaceXSettingLixTreatment:M,liLocale:D,...U}){let j,B,V;S&&"tangoGameData"in S?j=S.tangoGameData.isAutoCheckToggled?.key:S&&"queensGameData"in S&&(j=S.queensGameData.isAutoCheckToggled?.key,B=S.queensGameData.isAutoNotateToggled?.key);let[K,W,J,G]=sM([u,m,j,B]),z=fv(K?.value),H=W?.value,q="number"==typeof H||"bigint"==typeof H?Number(H):0,{t:Y}=t0(),X=d_(g),Z=d_(h),Q=d_(y),ee=d_(b),et=d_(x),er=d_(N),ei=d_(_),en=d_(k),eo=d_(I),{jetCore:ea}=tB().getClients(),{setValue:es,getValue:el,store:ec}=n5(),{queryParams:eu}=tF(),ed=eu?.bonus==="true";if(!e)return fn("GameBoard: game is missing");let ep=r.jsx(F,{a11yText:Y("game_load_a11y")}),ef=e=>e?async t=>{es(e,t),await X.func?.()}:void 0,em=l?e=>es(l,e):void 0,eg=c?e=>es(c,e):void 0,eh=m?e=>es(m,BigInt(e)):void 0,ey=ef(u),eb=()=>!!(d&&el(d)),ex=ef(d),eS=()=>p&&el(p)?.toString(),eE=()=>f&&el(f)?.toString(),ev=p||f?async(e,t)=>{p&&e&&es(p,e),f&&t&&es(f,t),await X.func?.()}:void 0,eT=async()=>await Z.func?.(),eN=async()=>await Q.func?.(),e_=async()=>await ee.func?.(),ek=async()=>await et.func?.(),eI=async()=>await er.func?.(),eO=async()=>await ei.func?.(),eC=async()=>await en.func?.(),eP=async()=>await eo.func?.(),eR=async e=>ea?.reportError(e,["game-board","on-error"]),ew=C?e=>{n4.notify(JSON.stringify({message:"haptics",data:e}))}:void 0,eA=()=>{n4.notify(JSON.stringify({message:"gamePlayState",data:"IN_PROGRESS"})),eP()},e$=n4.isMobileWebView?e=>{try{!function(e,t){let r=e.map(e=>{try{let t=function(e){if("string"!=typeof e)throw Error("Payload must be a Base64 encoded string");let t=atob(e),r=t.length,i=new Uint8Array(r);for(let e=0;e<r;e++)i[e]=t.charCodeAt(e);return i}(e),r=fu.decode(t);return r.key?.value||r.key?.key?.value?.$case!=="id"||(r.key.value=r.key.key.value.id),r}catch{return null}}).filter(e=>null!==e);sV(r),t&&sV(r,t)}([e],ec)}catch(e){ea?.reportError(Error("Failed to decode and apply SetState",{cause:e}),["game-board","on-set-state"])}}:void 0;if(i===fe.GameType_ZIP){let t,i,l,c;if(S&&"zipGameData"in S){t=S.zipGameData.path?.key,i=S.zipGameData.numBacktracks?.key,l=S.zipGameData.isFlawless?.key;let e=S.zipGameData.customBoardData?.image?.source,r=e?.$case==="imageUrl"?e.imageUrl:void 0,n=S.zipGameData.customBoardData?.darkModeImage?.source,o=n?.$case==="imageUrl"?n.imageUrl:void 0;c=r?{imageUrl:r,darkModeImageUrl:o}:void 0}let u=t?e=>es(t,e.map(e=>e.toString())):void 0,d=l?e=>es(l,e):void 0,p=i?e=>es(i,e):void 0;V=r.jsx(fg,{game:e,timeElapsed:q,undoButtonComponent:n,hintButtonComponent:o,resultsButtonComponent:a,customCardComponent:s,isHowToPlayInstructionsExpanded:z,getIsTimerHidden:eb,getVisibilitySetting:eS,getGameScoreVisibilitySetting:eE,getNumBacktracks:()=>i?Number(el(i)):0,onUpdateIsUndoDisabled:em,onUpdateHasWon:eg,onUpdateIsHowToPlayInstructionsExpanded:ey,onUpdateIsTimerHidden:ex,onUpdateVisibilitySettings:ev,onSettingsDismiss:eT,onGameComplete:eN,onGameBlur:e_,onGameFocus:ek,onUpdatePath:u,onUpdateNumBacktracks:p,onUpdateIsFlawless:d,onUpdateTimeElapsed:eh,onError:eR,onGameReady:eA,onSetState:e$,totalPlaysCount:E,isMobile:n4.isMobile,isBonusGame:ed,isHintCooldownDisabled:T?.isHintCooldownDisabled,isReadFromLocalStorageDisabled:T?.isReadFromLocalStorageDisabled,isWriteToLocalStorageDisabled:T?.isWriteToLocalStorageDisabled,onOpenTutorialInfo:eI,onGameAction:eO,onFirstBoardAction:eC,winCount:v,customBoardData:c,isZipShowErrorCardImmediatelyLixEnabled:O,zipNewPlayerIntroLixTreatment:P,zipResPlayerIntroLixTreatment:R,zipEnhancedHandTreatment:w,isZipInstructionsFirstWithUpdatesLixEnabled:A,isCollapsibleCardAnimationEnabled:$,themeNo:L,triggerHaptic:ew,...U})}else if(i===fe.GameType_PINPOINT)V=r.jsx(fh,{game:e});else if(i===fe.GameType_CROSSCLIMB)V=r.jsx(fy,{game:e});else if(i===fe.GameType_QUEENS){let t,i,n,o;S&&"queensGameData"in S&&(t=S.queensGameData.boardState?.key,i=S.queensGameData.solveOrder?.key,n=S.queensGameData.isFlawless?.key,o=S.queensGameData.isFirstQueenPlacedByUser?.key);let s=t?e=>es(t,e):void 0,l=n?e=>es(n,e):void 0,c=o?e=>es(o,e):void 0,u=i?e=>es(i,e):void 0,d=ef(j),p=ef(B),f=fv(J?.value),m=fv(G?.value);V=r.jsx(fb,{game:e,timeElapsed:q,isHowToPlayInstructionsExpanded:z,isAutoCheckToggled:f,isAutoNotateToggled:m,isHintCooldownDisabled:T?.isHintCooldownDisabled,isReadFromLocalStorageDisabled:T?.isReadFromLocalStorageDisabled,isWriteToLocalStorageDisabled:T?.isWriteToLocalStorageDisabled,getIsTimerHidden:eb,getIsAutoCheckToggled:()=>!!(j&&el(j)),getIsAutoNotateToggled:()=>!!(B&&el(B)),getVisibilitySetting:eS,getGameScoreVisibilitySetting:eE,getSolveOrder:()=>{let e=i&&el(i);return fE(e)?e:[]},onOpenTutorialInfo:eI,onUpdateIsUndoDisabled:em,onUpdateHasWon:eg,onUpdateIsTimerHidden:ex,onUpdateIsAutoCheckToggled:d,onUpdateIsAutoNotateToggled:p,onUpdateVisibilitySettings:ev,onUpdateBoardState:s,onUpdateSolveOrder:u,onUpdateIsFlawless:l,onUpdateIsHowToPlayInstructionsExpanded:ey,onFirstQueenPlacedByUser:c,onSettingsDismiss:eT,onGameComplete:eN,onGameBlur:e_,onGameFocus:ek,onError:eR,onGameReady:eA,onSetState:e$,isMobile:n4.isMobile,isMobileWebView:n4.isMobileWebView,isBonusGame:ed,onGameAction:eO,onFirstBoardAction:eC,openLinkWebView:e=>{n4.notify(JSON.stringify({message:"openLink",data:{url:e}}))},winCount:v,queensAutoPlaceXSettingLixTreatment:M,resultsButtonComponent:a,liLocale:D,isCollapsibleCardAnimationEnabled:$,...U})}else if(i===fe.GameType_TANGO){let t,i,l;S&&"tangoGameData"in S&&(t=S.tangoGameData.boardState?.key,i=S.tangoGameData.solveOrder?.key,l=S.tangoGameData.isFlawless?.key);let c=t?e=>es(t,e.map(e=>({[fm.LotkaCellValue_UNKNOWN]:"EMPTY",[fm.LotkaCellValue_ZERO]:"ZERO",[fm.LotkaCellValue_ONE]:"ONE"})[e])):void 0,u=l?e=>es(l,e):void 0,d=i?e=>es(i,e.map(e=>e.toString())):void 0,p=ef(j),f=fv(J?.value);V=r.jsx(fx,{game:e,timeElapsed:q,undoButtonComponent:n,hintButtonComponent:o,resultsButtonComponent:a,customCardComponent:s,isHowToPlayInstructionsExpanded:z,isAutoCheckToggled:f,getIsTimerHidden:eb,getIsAutoCheckToggled:()=>!!(j&&el(j)),getVisibilitySetting:eS,getGameScoreVisibilitySetting:eE,getSolveOrder:()=>{let e=i&&el(i);return fE(e)?e:[]},onUpdateIsUndoDisabled:em,onUpdateHasWon:eg,onUpdateIsHowToPlayInstructionsExpanded:ey,onUpdateIsAutoCheckToggled:p,onUpdateIsTimerHidden:ex,onUpdateVisibilitySettings:ev,onSettingsDismiss:eT,onGameComplete:eN,onGameBlur:e_,onGameFocus:ek,onUpdateBoardState:c,onUpdateSolveOrder:d,onUpdateIsFlawless:u,onUpdateTimeElapsed:eh,onError:eR,onGameReady:eA,onSetState:e$,isMobile:n4.isMobile,isBonusGame:ed,isHintCooldownDisabled:T?.isHintCooldownDisabled,isReadFromLocalStorageDisabled:T?.isReadFromLocalStorageDisabled,isWriteToLocalStorageDisabled:T?.isWriteToLocalStorageDisabled,onOpenTutorialInfo:eI,onGameAction:eO,onFirstBoardAction:eC,winCount:v,isCollapsibleCardAnimationEnabled:$,...U})}else{if(i!==fe.GameType_MINI_SUDOKU)return fn(`GameBoard: gameType is not supported: ${i}`);V=r.jsx(fS,{game:e})}return r.jsx(ft,{children:r.jsxs(t.Suspense,{fallback:ep,children:[V,r.jsx("div",{"data-live-test-games-content":!0})]})})}},Symbol.toStringTag,{value:"Module"}));function fN(e){switch(e){case 0:case"GlobalAlertActionType_UNKNOWN":default:return"GlobalAlertActionType_UNKNOWN";case 1:case"GlobalAlertActionType_ACCEPT":return"GlobalAlertActionType_ACCEPT";case 2:case"GlobalAlertActionType_DENY":return"GlobalAlertActionType_DENY";case 3:case"GlobalAlertActionType_LINK":return"GlobalAlertActionType_LINK"}}function f_(){return{$type:"proto.sdui.components.core.GlobalAlertAction",placeholder:"",type:"GlobalAlertActionType_UNKNOWN",url:"",trackingId:""}}let fk={$type:"proto.sdui.components.core.GlobalAlertAction",encode:(t,r=e.Writer.create())=>(""!==t.placeholder&&r.uint32(10).string(t.placeholder),"GlobalAlertActionType_UNKNOWN"!==t.type&&r.uint32(16).int32(function(e){switch(e){case"GlobalAlertActionType_UNKNOWN":default:return 0;case"GlobalAlertActionType_ACCEPT":return 1;case"GlobalAlertActionType_DENY":return 2;case"GlobalAlertActionType_LINK":return 3}}(t.type)),""!==t.url&&r.uint32(26).string(t.url),""!==t.trackingId&&r.uint32(34).string(t.trackingId),r),decode(t,r){let i=t instanceof e.Reader?t:e.Reader.create(t),n=void 0===r?i.len:i.pos+r,o=f_();for(;i.pos<n;){let e=i.uint32();switch(e>>>3){case 1:if(10!==e)break;o.placeholder=i.string();continue;case 2:if(16!==e)break;o.type=fN(i.int32());continue;case 3:if(26!==e)break;o.url=i.string();continue;case 4:if(34!==e)break;o.trackingId=i.string();continue}if((7&e)==4||0===e)break;i.skipType(7&e)}return o},fromJSON:e=>({$type:fk.$type,placeholder:null!=e.placeholder?globalThis.String(e.placeholder):"",type:null!=e.type?fN(e.type):"GlobalAlertActionType_UNKNOWN",url:null!=e.url?globalThis.String(e.url):"",trackingId:null!=e.trackingId?globalThis.String(e.trackingId):""}),toJSON(e){let t={};return""!==e.placeholder&&(t.placeholder=e.placeholder),"GlobalAlertActionType_UNKNOWN"!==e.type&&(t.type=function(e){switch(e){case"GlobalAlertActionType_UNKNOWN":default:return"GlobalAlertActionType_UNKNOWN";case"GlobalAlertActionType_ACCEPT":return"GlobalAlertActionType_ACCEPT";case"GlobalAlertActionType_DENY":return"GlobalAlertActionType_DENY";case"GlobalAlertActionType_LINK":return"GlobalAlertActionType_LINK"}}(e.type)),""!==e.url&&(t.url=e.url),""!==e.trackingId&&(t.trackingId=e.trackingId),t},create:e=>fk.fromPartial(e??{}),fromPartial(e){let t=f_();return t.placeholder=e.placeholder??"",t.type=e.type??"GlobalAlertActionType_UNKNOWN",t.url=e.url??"",t.trackingId=e.trackingId??"",t}};rL.set(fk.$type,fk);var fI=((iN=fI||{}).GlobalAlertSeverity_UNKNOWN="GlobalAlertSeverity_UNKNOWN",iN.GlobalAlertSeverity_ERROR="GlobalAlertSeverity_ERROR",iN.GlobalAlertSeverity_NOTICE="GlobalAlertSeverity_NOTICE",iN.GlobalAlertSeverity_YIELD="GlobalAlertSeverity_YIELD",iN);function fO(e){switch(e){case 0:case"GlobalAlertSeverity_UNKNOWN":default:return"GlobalAlertSeverity_UNKNOWN";case 1:case"GlobalAlertSeverity_ERROR":return"GlobalAlertSeverity_ERROR";case 2:case"GlobalAlertSeverity_NOTICE":return"GlobalAlertSeverity_NOTICE";case 3:case"GlobalAlertSeverity_YIELD":return"GlobalAlertSeverity_YIELD"}}var fC=((i_=fC||{}).GlobalAlertType_UNKNOWN="GlobalAlertType_UNKNOWN",i_.GlobalAlertType_COOKIE_CONSENT="GlobalAlertType_COOKIE_CONSENT",i_.GlobalAlertType_COOKIE_POLICY="GlobalAlertType_COOKIE_POLICY",i_.GlobalAlertType_COOKIE_USAGE="GlobalAlertType_COOKIE_USAGE",i_.GlobalAlertType_EMAIL_STATUS="GlobalAlertType_EMAIL_STATUS",i_.GlobalAlertType_IE_DEPRECATION_BANNER="GlobalAlertType_IE_DEPRECATION_BANNER",i_.GlobalAlertType_MAINTENANCE="GlobalAlertType_MAINTENANCE",i_.GlobalAlertType_SUBSCRIPTION="GlobalAlertType_SUBSCRIPTION",i_.GlobalAlertType_TERMS_AND_CONDITIONS="GlobalAlertType_TERMS_AND_CONDITIONS",i_);function fP(e){switch(e){case 0:case"GlobalAlertType_UNKNOWN":default:return"GlobalAlertType_UNKNOWN";case 1:case"GlobalAlertType_COOKIE_CONSENT":return"GlobalAlertType_COOKIE_CONSENT";case 2:case"GlobalAlertType_COOKIE_POLICY":return"GlobalAlertType_COOKIE_POLICY";case 3:case"GlobalAlertType_COOKIE_USAGE":return"GlobalAlertType_COOKIE_USAGE";case 4:case"GlobalAlertType_EMAIL_STATUS":return"GlobalAlertType_EMAIL_STATUS";case 5:case"GlobalAlertType_IE_DEPRECATION_BANNER":return"GlobalAlertType_IE_DEPRECATION_BANNER";case 6:case"GlobalAlertType_MAINTENANCE":return"GlobalAlertType_MAINTENANCE";case 7:case"GlobalAlertType_SUBSCRIPTION":return"GlobalAlertType_SUBSCRIPTION";case 8:case"GlobalAlertType_TERMS_AND_CONDITIONS":return"GlobalAlertType_TERMS_AND_CONDITIONS"}}function fR(){return{$type:"proto.sdui.components.core.GlobalAlert",severity:"GlobalAlertSeverity_UNKNOWN",urn:"",alertMessage:"",alertMessageText:void 0,dismissible:!1,isDismissible:void 0,title:"",type:"GlobalAlertType_UNKNOWN",actions:[]}}let fw={$type:"proto.sdui.components.core.GlobalAlert",encode(t,r=e.Writer.create()){for(let e of("GlobalAlertSeverity_UNKNOWN"!==t.severity&&r.uint32(8).int32(function(e){switch(e){case"GlobalAlertSeverity_UNKNOWN":default:return 0;case"GlobalAlertSeverity_ERROR":return 1;case"GlobalAlertSeverity_NOTICE":return 2;case"GlobalAlertSeverity_YIELD":return 3}}(t.severity)),""!==t.urn&&r.uint32(18).string(t.urn),""!==t.alertMessage&&r.uint32(26).string(t.alertMessage),void 0!==t.alertMessageText&&sm.encode(t.alertMessageText,r.uint32(66).fork()).ldelim(),!1!==t.dismissible&&r.uint32(32).bool(t.dismissible),void 0!==t.isDismissible&&a_.encode(t.isDismissible,r.uint32(74).fork()).ldelim(),""!==t.title&&r.uint32(42).string(t.title),"GlobalAlertType_UNKNOWN"!==t.type&&r.uint32(48).int32(function(e){switch(e){case"GlobalAlertType_UNKNOWN":default:return 0;case"GlobalAlertType_COOKIE_CONSENT":return 1;case"GlobalAlertType_COOKIE_POLICY":return 2;case"GlobalAlertType_COOKIE_USAGE":return 3;case"GlobalAlertType_EMAIL_STATUS":return 4;case"GlobalAlertType_IE_DEPRECATION_BANNER":return 5;case"GlobalAlertType_MAINTENANCE":return 6;case"GlobalAlertType_SUBSCRIPTION":return 7;case"GlobalAlertType_TERMS_AND_CONDITIONS":return 8}}(t.type)),t.actions))fk.encode(e,r.uint32(58).fork()).ldelim();return r},decode(t,r){let i=t instanceof e.Reader?t:e.Reader.create(t),n=void 0===r?i.len:i.pos+r,o=fR();for(;i.pos<n;){let e=i.uint32();switch(e>>>3){case 1:if(8!==e)break;o.severity=fO(i.int32());continue;case 2:if(18!==e)break;o.urn=i.string();continue;case 3:if(26!==e)break;o.alertMessage=i.string();continue;case 8:if(66!==e)break;o.alertMessageText=sm.decode(i,i.uint32());continue;case 4:if(32!==e)break;o.dismissible=i.bool();continue;case 9:if(74!==e)break;o.isDismissible=a_.decode(i,i.uint32());continue;case 5:if(42!==e)break;o.title=i.string();continue;case 6:if(48!==e)break;o.type=fP(i.int32());continue;case 7:if(58!==e)break;o.actions.push(fk.decode(i,i.uint32()));continue}if((7&e)==4||0===e)break;i.skipType(7&e)}return o},fromJSON:e=>({$type:fw.$type,severity:fA(e.severity)?fO(e.severity):"GlobalAlertSeverity_UNKNOWN",urn:fA(e.urn)?globalThis.String(e.urn):"",alertMessage:fA(e.alertMessage)?globalThis.String(e.alertMessage):"",alertMessageText:fA(e.alertMessageText)?sm.fromJSON(e.alertMessageText):void 0,dismissible:!!fA(e.dismissible)&&globalThis.Boolean(e.dismissible),isDismissible:fA(e.isDismissible)?a_.fromJSON(e.isDismissible):void 0,title:fA(e.title)?globalThis.String(e.title):"",type:fA(e.type)?fP(e.type):"GlobalAlertType_UNKNOWN",actions:globalThis.Array.isArray(e?.actions)?e.actions.map(e=>fk.fromJSON(e)):[]}),toJSON(e){let t={};return"GlobalAlertSeverity_UNKNOWN"!==e.severity&&(t.severity=function(e){switch(e){case"GlobalAlertSeverity_UNKNOWN":default:return"GlobalAlertSeverity_UNKNOWN";case"GlobalAlertSeverity_ERROR":return"GlobalAlertSeverity_ERROR";case"GlobalAlertSeverity_NOTICE":return"GlobalAlertSeverity_NOTICE";case"GlobalAlertSeverity_YIELD":return"GlobalAlertSeverity_YIELD"}}(e.severity)),""!==e.urn&&(t.urn=e.urn),""!==e.alertMessage&&(t.alertMessage=e.alertMessage),void 0!==e.alertMessageText&&(t.alertMessageText=sm.toJSON(e.alertMessageText)),!1!==e.dismissible&&(t.dismissible=e.dismissible),void 0!==e.isDismissible&&(t.isDismissible=a_.toJSON(e.isDismissible)),""!==e.title&&(t.title=e.title),"GlobalAlertType_UNKNOWN"!==e.type&&(t.type=function(e){switch(e){case"GlobalAlertType_UNKNOWN":default:return"GlobalAlertType_UNKNOWN";case"GlobalAlertType_COOKIE_CONSENT":return"GlobalAlertType_COOKIE_CONSENT";case"GlobalAlertType_COOKIE_POLICY":return"GlobalAlertType_COOKIE_POLICY";case"GlobalAlertType_COOKIE_USAGE":return"GlobalAlertType_COOKIE_USAGE";case"GlobalAlertType_EMAIL_STATUS":return"GlobalAlertType_EMAIL_STATUS";case"GlobalAlertType_IE_DEPRECATION_BANNER":return"GlobalAlertType_IE_DEPRECATION_BANNER";case"GlobalAlertType_MAINTENANCE":return"GlobalAlertType_MAINTENANCE";case"GlobalAlertType_SUBSCRIPTION":return"GlobalAlertType_SUBSCRIPTION";case"GlobalAlertType_TERMS_AND_CONDITIONS":return"GlobalAlertType_TERMS_AND_CONDITIONS"}}(e.type)),e.actions?.length&&(t.actions=e.actions.map(e=>fk.toJSON(e))),t},create:e=>fw.fromPartial(e??{}),fromPartial(e){let t=fR();return t.severity=e.severity??"GlobalAlertSeverity_UNKNOWN",t.urn=e.urn??"",t.alertMessage=e.alertMessage??"",t.alertMessageText=void 0!==e.alertMessageText&&null!==e.alertMessageText?sm.fromPartial(e.alertMessageText):void 0,t.dismissible=e.dismissible??!1,t.isDismissible=void 0!==e.isDismissible&&null!==e.isDismissible?a_.fromPartial(e.isDismissible):void 0,t.title=e.title??"",t.type=e.type??"GlobalAlertType_UNKNOWN",t.actions=e.actions?.map(e=>fk.fromPartial(e))||[],t}};function fA(e){return null!=e}function f$({idx:e,title:i,alertMessage:n,alertMessageText:o,type:a,urn:l,actions:c,dismissible:u,isDismissibleExpression:d,severity:p,isSubscriptionErrorEnabled:f,onActionClick:m}){let y;let b=rp({}),{trackingCore:x,jetCore:S}=tB().getClients();t.useEffect(()=>{x?.fireEvent("AlertImpressionEvent",{alertUrn:l})},[l]);let E=()=>{x?.fireEvent("AlertActionEvent",{alertUrn:l,actionType:"DISMISS"})},v=dK(d),T="GlobalAlertType_TERMS_AND_CONDITIONS"===a,N=T?"backgroundAccentSoft4":"background",_="accent4",k="label",I=f&&a===fC.GlobalAlertType_SUBSCRIPTION;switch(p){case fI.GlobalAlertSeverity_NOTICE:y=rT.SYSTEM_ICONS_SIGNAL_NOTICE_MEDIUM,_="accent4",k="label";break;case fI.GlobalAlertSeverity_ERROR:y=rT.SYSTEM_ICONS_SIGNAL_ERROR_MEDIUM,I?(N="negative",_="iconKnockout",k="labelKnockout"):(_="negative",k="negative");break;case fI.GlobalAlertSeverity_YIELD:y=rT.SYSTEM_ICONS_SIGNAL_CAUTION_MEDIUM,_="caution",k="caution";break;default:y=rT.SYSTEM_ICONS_SIGNAL_NOTICE_MEDIUM}let O=I&&a===fC.GlobalAlertType_SUBSCRIPTION?eJ:"";return r.jsx(eG,{backgroundColor:N,children:r.jsxs(W,{display:"flex",gap:"1x",alignItems:"flexStart",insetY:"2x",insetX:{none:"2x",xsmall:"0x"},children:[!T&&r.jsx(eO,{imageId:y,flexShrink:0,color:_}),r.jsxs(W,{ref:b,display:"flex",flexDirection:"column",alignItems:"flexStart",gap:"1x",color:"textMetaSolid",weight:1,children:[i&&r.jsx(eM,{fontWeight:"bold",fontSize:"medium",lineHeight:"default",color:T?"text":k,"data-testid":"global-alerts-title",children:i}),(o||n.length>0)&&r.jsxs(W,{display:o?"block":"flex",flexDirection:"column",color:T?"text":k,fontSize:T?"xsmall":"small",children:[!o&&r.jsx("div",{"data-testid":"global-alerts-message",dangerouslySetInnerHTML:{__html:g.html(g.unsanitizedHTML(n))}},e),o]}),c.length>0&&r.jsx(W,{display:"flex",alignItems:"flexStart",gap:"1x","data-testid":"global-alerts-actions",children:c.map((e,t)=>{let i=async()=>{if("GlobalAlertType_COOKIE_CONSENT"===a)try{await function(e){let t={};for(let r of Object.keys(s))t[r]=e;return new Promise((e,r)=>{h({optedInConsentMap:t},t=>{t?r(t instanceof Error?t:Error(String(t))):e()}),e()})}("GlobalAlertActionType_ACCEPT"===e.type)}catch(e){S?.reportError(e)}E(),m()};return r.jsx(J,{category:"outline",text:e.placeholder,onClick:i,"data-testid":`global-alerts-actions-${t}`,className:O},t)})})]}),0===c.length&&(v??u)&&r.jsx(J,{category:"ghost",flexShrink:0,icon:r.jsx(eO,{imageId:rT.SYSTEM_ICONS_CLOSE_SMALL}),"data-testid":"global-alerts-dismissible",onClick:()=>{E(),m()},className:O})]})})}rL.set(fw.$type,fw);let fL=Object.freeze(Object.defineProperty({__proto__:null,GlobalAlerts:function({alerts:e,isSubscriptionErrorEnabled:i}){let[n,o]=t.useState(0),a=e[n];return a?r.jsx(f$,{idx:n,totalCount:e.length,onActionClick:function(){o(n+1)},isSubscriptionErrorEnabled:i,...a}):null}},Symbol.toStringTag,{value:"Module"})),fM=Object.freeze(Object.defineProperty({__proto__:null,GlobalFeedback:function(){let{isOpen:e,debugContext:t}=dx();return e&&t?r.jsx(pQ,{children:r.jsx(p6,{isOpen:e,hideModal:()=>dS.close(),showModal:()=>{},debugContext:t,onClose:()=>dS.close()})}):null}},Symbol.toStringTag,{value:"Module"}));async function fD(){if(!("undefined"!=typeof window))return null;try{let[e,t]=await Promise.all([import("./index-es6-BCYRM7z3.es.js"),import("./google-gsi-lib-CpDNabnZ.es.js")]),r=t.default,{GoogleGsi:i,GoogleSignInConstants:n}=e;if(!i)throw Error("GoogleGsi is not available in the current version of @linkedin/li-third-party-auth");return{GoogleGsi:i,GoogleEvents:n.EVENTS,GoogleLibSrc:r}}catch(e){throw Error("Failed to load Google GSI library",{cause:e})}}let fU=Object.freeze(Object.defineProperty({__proto__:null,default:function({onSuccessAction:e,onFailureAction:i,idTokenKey:n,profilePictureUrlKey:o,googleIdKey:a,firstNameKey:s,lastNameKey:l,signInTypeKey:c,autoSelect:u,cancelOnTapOutside:p,clientId:f,context:m,showOneTap:g=!0,itpSupport:h,useFedCM:y,gsiLocale:b,logo_alignment:x="center",shape:S="pill",size:E="large",text:v="continue_with",theme:T,buttonType:N="standard",buttonWidth:_,...k}){let I=t.useRef(null),O=t.useRef(null),[C,P]=t.useState(null),R=t.useRef(null),[w,A]=t.useState(!1),{func:$}=d_(e),{func:L}=d_(i),M=tB().getClients(),{theme:D}=tK(),U=T??"outline",F=t.useCallback((e,t)=>{if(!M?.jetCore)return;let r=["google-sign-in-button",t];e.message.includes("GoogleGsi is not available")?r.push("library-unavailable"):e.message.includes("Google Sign-In can only be used in the browser")?r.push("ssr-error"):e.message.includes("Failed to load Google GSI library")?r.push("library-load-failed"):e.message.includes("suppressed_by_user")?r.push("user-suppressed"):e.message.includes("opt_out")?r.push("user-opted-out"):e.message.includes("credential_picker")&&r.push("picker-failed"),M.jetCore.reportError(e,r)},[M]),j=t.useCallback(async e=>{try{await e.promptOneTap()}catch(e){e instanceof Error&&F(e,"one-tap-prompt-error")}},[F]),{module:B,loading:V,error:K}=ez(async()=>({default:await fD()}));t.useEffect(()=>{let e=I.current;if(!e)return;let t=e=>{let t=Math.max(120,Math.min(400,Math.round(e))),r=R.current;null!==r&&1>Math.abs(r-t)||(R.current=t,P(t))},r=d(t,50),i=e.offsetWidth||e.getBoundingClientRect().width;i>0&&t(i);let n=new ResizeObserver(e=>{for(let t of e)r(t.contentRect.width)});return n.observe(e),()=>{n.disconnect(),r.cancel()}},[]),t.useEffect(()=>{if(!I.current)return;let e=new MutationObserver(()=>{let t=I.current?.querySelector("iframe");t&&t.offsetWidth>0&&t.offsetHeight>0&&(A(!0),e.disconnect())});return e.observe(I.current,{childList:!0,subtree:!0}),()=>e.disconnect()},[]),t.useEffect(()=>{(async()=>{let e;if(I.current&&!V&&!K&&B?.default&&D){if(!O.current)try{let{GoogleGsi:e,GoogleEvents:t,GoogleLibSrc:r}=B.default,i={buttonParentEl:I.current,libSrcPath:r,autoSelect:u,cancelOnTapOutside:p,clientId:f,context:m,showOneTap:g,itpSupport:h,useFedCM:y,gsiButtonConfig:{theme:U,logo_alignment:x,shape:S,size:E,text:v,type:N}};O.current=new e(i),O.current?.addEventListener(t.GOOGLE_USER_FETCHED,e=>{let{detail:t}=e;n&&t.idToken&&sj(n,t.idToken),o&&t.imageUrl&&sj(o,t.imageUrl),a&&t.email&&sj(a,t.email),s&&t.givenName&&sj(s,t.givenName),l&&t.familyName&&sj(l,t.familyName),c&&t.selectedBy&&sj(c,t.selectedBy),$&&$()}),O.current?.addEventListener(t.GOOGLE_ERROR,e=>{let{detail:t}=e;if(M?.jetCore){let e=Error(`Google authentication failed: ${t.type||"unknown"}`);M.jetCore.reportError(e,["google-sign-in-button","auth-error"])}L&&L()}),!1!==g&&O.current&&await j(O.current)}catch(e){e instanceof Error&&F(e,"initialization-error"),L&&L()}if(O.current&&I.current&&!V&&!K&&b&&C){if(b instanceof Intl.Locale)e=b;else try{e=new Intl.Locale(b)}catch(t){e=new Intl.Locale("en"),M?.jetCore&&t instanceof Error&&M.jetCore.reportError(t,["google-sign-in-button","invalid-locale"])}try{await O.current.renderGSIButton(I.current,{locale:e,logo_alignment:x,shape:S,size:E,text:v,theme:U,type:N,width:_??(null!==C?String(C):void 0)})}catch(e){M?.jetCore&&e instanceof Error&&M.jetCore.reportError(e,["google-sign-in-button","render-error"])}}}})()},[n,o,a,s,l,c,$,L,V,K,B,u,p,f,m,g,h,y,M,b,x,S,E,v,U,D,N,_,C]);let{style:W,...J}=k,G=w?`${eH} ${eq}`:eH;return r.jsx("div",{className:G,style:W,children:r.jsx(eY,{ref:I,...J})})}},Symbol.toStringTag,{value:"Module"})),fF=12;async function fj(e){if("undefined"!=typeof window&&window.location.origin.includes("qprod."))try{await new Promise(e=>setTimeout(e,5e3)),await fB(window.location.origin,e)}catch(e){console.error("Error starting stream:",e)}}async function fB(e,t){if("undefined"!=typeof window){let r=new URL(`sdui/${t}/dev/signature/stream`,e).toString(),i="";try{console.log(`Requesting stream from: ${r}`);let e=await fetch(r,{method:"GET"});if(!e.ok&&fF){console.error(`HTTP Error: ${e.status}`),fF--,await fj(t);return}if(!fF){console.error("Could not connect to SDUI hot reload stream");return}let n=e.body?.getReader(),o=new TextDecoder("utf-8");if(!n)throw Error("No reader available on response body");for(;;){let{value:e,done:t}=await n.read();if(t)break;if(e){let t=o.decode(e).trim();i&&i!==t&&window.location.reload(),i=t}}console.log("Stream closed by server.")}catch(e){console.error(`SDUI hot reload connection failed: ${e}`),await fj(t)}}}let fV=Object.freeze(Object.defineProperty({__proto__:null,HotReload:function(e){return t.useEffect(()=>{"www.linkedin.com"!==window.location.host&&fj(e.name)},[e.name]),null}},Symbol.toStringTag,{value:"Module"}));function fK(){return{$type:"proto.sdui.components.core.image.ImagePlaceholder",source:void 0}}let fW={$type:"proto.sdui.components.core.image.ImagePlaceholder",encode(t,r=e.Writer.create()){switch(t.source?.$case){case"designSystemImage":oU.encode(t.source.designSystemImage,r.uint32(10).fork()).ldelim();break;case"color":oM.encode(t.source.color,r.uint32(18).fork()).ldelim()}return r},decode(t,r){let i=t instanceof e.Reader?t:e.Reader.create(t),n=void 0===r?i.len:i.pos+r,o=fK();for(;i.pos<n;){let e=i.uint32();switch(e>>>3){case 1:if(10!==e)break;o.source={$case:"designSystemImage",designSystemImage:oU.decode(i,i.uint32())};continue;case 2:if(18!==e)break;o.source={$case:"color",color:oM.decode(i,i.uint32())};continue}if((7&e)==4||0===e)break;i.skipType(7&e)}return o},fromJSON:e=>({$type:fW.$type,source:null!=e.designSystemImage?{$case:"designSystemImage",designSystemImage:oU.fromJSON(e.designSystemImage)}:null!=e.color?{$case:"color",color:oM.fromJSON(e.color)}:void 0}),toJSON(e){let t={};return e.source?.$case==="designSystemImage"&&(t.designSystemImage=oU.toJSON(e.source.designSystemImage)),e.source?.$case==="color"&&(t.color=oM.toJSON(e.source.color)),t},create:e=>fW.fromPartial(e??{}),fromPartial(e){let t=fK();return e.source?.$case==="designSystemImage"&&e.source?.designSystemImage!==void 0&&e.source?.designSystemImage!==null&&(t.source={$case:"designSystemImage",designSystemImage:oU.fromPartial(e.source.designSystemImage)}),e.source?.$case==="color"&&e.source?.color!==void 0&&e.source?.color!==null&&(t.source={$case:"color",color:oM.fromPartial(e.source.color)}),t}};function fJ(e){switch(e){case 0:case"ImageShape_UNKNOWN":default:return"ImageShape_UNKNOWN";case 1:case"ImageShape_CIRCLE":return"ImageShape_CIRCLE";case 2:case"ImageShape_ROUNDED":return"ImageShape_ROUNDED"}}function fG(e){switch(e){case 0:case"ImageScalingType_UNKNOWN":default:return"ImageScalingType_UNKNOWN";case 1:case"ImageScalingType_ASPECT_FIT":return"ImageScalingType_ASPECT_FIT";case 2:case"ImageScalingType_ASPECT_CROP":return"ImageScalingType_ASPECT_CROP"}}function fz(){return{$type:"proto.sdui.components.core.image.ImageAsset",source:void 0,placeholder:void 0,shape:"ImageShape_UNKNOWN",scalingType:"ImageScalingType_UNKNOWN"}}rL.set(fW.$type,fW);let fH={$type:"proto.sdui.components.core.image.ImageAsset",encode(t,r=e.Writer.create()){switch(t.source?.$case){case"imageUrl":r.uint32(10).string(t.source.imageUrl);break;case"renderPayload":r.uint32(42).bytes(t.source.renderPayload);break;case"mediaFile":l0.encode(t.source.mediaFile,r.uint32(50).fork()).ldelim();break;case"base64Image":r.uint32(58).string(t.source.base64Image)}return void 0!==t.placeholder&&fW.encode(t.placeholder,r.uint32(18).fork()).ldelim(),"ImageShape_UNKNOWN"!==t.shape&&r.uint32(24).int32(function(e){switch(e){case"ImageShape_UNKNOWN":default:return 0;case"ImageShape_CIRCLE":return 1;case"ImageShape_ROUNDED":return 2}}(t.shape)),"ImageScalingType_UNKNOWN"!==t.scalingType&&r.uint32(32).int32(function(e){switch(e){case"ImageScalingType_UNKNOWN":default:return 0;case"ImageScalingType_ASPECT_FIT":return 1;case"ImageScalingType_ASPECT_CROP":return 2}}(t.scalingType)),r},decode(t,r){let i=t instanceof e.Reader?t:e.Reader.create(t),n=void 0===r?i.len:i.pos+r,o=fz();for(;i.pos<n;){let e=i.uint32();switch(e>>>3){case 1:if(10!==e)break;o.source={$case:"imageUrl",imageUrl:i.string()};continue;case 5:if(42!==e)break;o.source={$case:"renderPayload",renderPayload:i.bytes()};continue;case 6:if(50!==e)break;o.source={$case:"mediaFile",mediaFile:l0.decode(i,i.uint32())};continue;case 7:if(58!==e)break;o.source={$case:"base64Image",base64Image:i.string()};continue;case 2:if(18!==e)break;o.placeholder=fW.decode(i,i.uint32());continue;case 3:if(24!==e)break;o.shape=fJ(i.int32());continue;case 4:if(32!==e)break;o.scalingType=fG(i.int32());continue}if((7&e)==4||0===e)break;i.skipType(7&e)}return o},fromJSON:e=>({$type:fH.$type,source:fq(e.imageUrl)?{$case:"imageUrl",imageUrl:globalThis.String(e.imageUrl)}:fq(e.renderPayload)?{$case:"renderPayload",renderPayload:function(e){if(globalThis.Buffer)return Uint8Array.from(globalThis.Buffer.from(e,"base64"));{let t=globalThis.atob(e),r=new Uint8Array(t.length);for(let e=0;e<t.length;++e)r[e]=t.charCodeAt(e);return r}}(e.renderPayload)}:fq(e.mediaFile)?{$case:"mediaFile",mediaFile:l0.fromJSON(e.mediaFile)}:fq(e.base64Image)?{$case:"base64Image",base64Image:globalThis.String(e.base64Image)}:void 0,placeholder:fq(e.placeholder)?fW.fromJSON(e.placeholder):void 0,shape:fq(e.shape)?fJ(e.shape):"ImageShape_UNKNOWN",scalingType:fq(e.scalingType)?fG(e.scalingType):"ImageScalingType_UNKNOWN"}),toJSON(e){let t={};return e.source?.$case==="imageUrl"&&(t.imageUrl=e.source.imageUrl),e.source?.$case==="renderPayload"&&(t.renderPayload=function(e){if(globalThis.Buffer)return globalThis.Buffer.from(e).toString("base64");{let t=[];return e.forEach(e=>{t.push(globalThis.String.fromCharCode(e))}),globalThis.btoa(t.join(""))}}(e.source.renderPayload)),e.source?.$case==="mediaFile"&&(t.mediaFile=l0.toJSON(e.source.mediaFile)),e.source?.$case==="base64Image"&&(t.base64Image=e.source.base64Image),void 0!==e.placeholder&&(t.placeholder=fW.toJSON(e.placeholder)),"ImageShape_UNKNOWN"!==e.shape&&(t.shape=function(e){switch(e){case"ImageShape_UNKNOWN":default:return"ImageShape_UNKNOWN";case"ImageShape_CIRCLE":return"ImageShape_CIRCLE";case"ImageShape_ROUNDED":return"ImageShape_ROUNDED"}}(e.shape)),"ImageScalingType_UNKNOWN"!==e.scalingType&&(t.scalingType=function(e){switch(e){case"ImageScalingType_UNKNOWN":default:return"ImageScalingType_UNKNOWN";case"ImageScalingType_ASPECT_FIT":return"ImageScalingType_ASPECT_FIT";case"ImageScalingType_ASPECT_CROP":return"ImageScalingType_ASPECT_CROP"}}(e.scalingType)),t},create:e=>fH.fromPartial(e??{}),fromPartial(e){let t=fz();return e.source?.$case==="imageUrl"&&e.source?.imageUrl!==void 0&&e.source?.imageUrl!==null&&(t.source={$case:"imageUrl",imageUrl:e.source.imageUrl}),e.source?.$case==="renderPayload"&&e.source?.renderPayload!==void 0&&e.source?.renderPayload!==null&&(t.source={$case:"renderPayload",renderPayload:e.source.renderPayload}),e.source?.$case==="mediaFile"&&e.source?.mediaFile!==void 0&&e.source?.mediaFile!==null&&(t.source={$case:"mediaFile",mediaFile:l0.fromPartial(e.source.mediaFile)}),e.source?.$case==="base64Image"&&e.source?.base64Image!==void 0&&e.source?.base64Image!==null&&(t.source={$case:"base64Image",base64Image:e.source.base64Image}),t.placeholder=void 0!==e.placeholder&&null!==e.placeholder?fW.fromPartial(e.placeholder):void 0,t.shape=e.shape??"ImageShape_UNKNOWN",t.scalingType=e.scalingType??"ImageScalingType_UNKNOWN",t}};function fq(e){return null!=e}function fY(){return{$type:"proto.sdui.components.core.image.SortableImage",image:void 0,sortingWeight:void 0}}rL.set(fH.$type,fH);let fX={$type:"proto.sdui.components.core.image.SortableImage",encode:(t,r=e.Writer.create())=>(void 0!==t.image&&fH.encode(t.image,r.uint32(10).fork()).ldelim(),void 0!==t.sortingWeight&&nM.encode(t.sortingWeight,r.uint32(18).fork()).ldelim(),r),decode(t,r){let i=t instanceof e.Reader?t:e.Reader.create(t),n=void 0===r?i.len:i.pos+r,o=fY();for(;i.pos<n;){let e=i.uint32();switch(e>>>3){case 1:if(10!==e)break;o.image=fH.decode(i,i.uint32());continue;case 2:if(18!==e)break;o.sortingWeight=nM.decode(i,i.uint32());continue}if((7&e)==4||0===e)break;i.skipType(7&e)}return o},fromJSON:e=>({$type:fX.$type,image:null!=e.image?fH.fromJSON(e.image):void 0,sortingWeight:null!=e.sortingWeight?nM.fromJSON(e.sortingWeight):void 0}),toJSON(e){let t={};return void 0!==e.image&&(t.image=fH.toJSON(e.image)),void 0!==e.sortingWeight&&(t.sortingWeight=nM.toJSON(e.sortingWeight)),t},create:e=>fX.fromPartial(e??{}),fromPartial(e){let t=fY();return t.image=void 0!==e.image&&null!==e.image?fH.fromPartial(e.image):void 0,t.sortingWeight=void 0!==e.sortingWeight&&null!==e.sortingWeight?nM.fromPartial(e.sortingWeight):void 0,t}};rL.set(fX.$type,fX);var fZ=((ik=fZ||{}).ImagePilePresentation_UNKNOWN="ImagePilePresentation_UNKNOWN",ik.ImagePilePresentation_LIST="ImagePilePresentation_LIST",ik.ImagePilePresentation_GRID="ImagePilePresentation_GRID",ik);function fQ(e){switch(e){case 0:case"ImagePilePresentation_UNKNOWN":default:return"ImagePilePresentation_UNKNOWN";case 1:case"ImagePilePresentation_LIST":return"ImagePilePresentation_LIST";case 2:case"ImagePilePresentation_GRID":return"ImagePilePresentation_GRID"}}function f0(){return{$type:"proto.sdui.components.core.image.ImagePile",sortableImages:[],maxVisibleItems:0,itemSize:0,overlap:0,imagePilePresentation:"ImagePilePresentation_UNKNOWN",imageGridSize:0,overflowCountText:void 0}}let f1={$type:"proto.sdui.components.core.image.ImagePile",encode(t,r=e.Writer.create()){for(let e of t.sortableImages)fX.encode(e,r.uint32(26).fork()).ldelim();return 0!==t.maxVisibleItems&&r.uint32(32).int32(t.maxVisibleItems),0!==t.itemSize&&r.uint32(40).int32(t.itemSize),0!==t.overlap&&r.uint32(48).int32(t.overlap),"ImagePilePresentation_UNKNOWN"!==t.imagePilePresentation&&r.uint32(56).int32(function(e){switch(e){case"ImagePilePresentation_UNKNOWN":default:return 0;case"ImagePilePresentation_LIST":return 1;case"ImagePilePresentation_GRID":return 2}}(t.imagePilePresentation)),0!==t.imageGridSize&&r.uint32(64).int32(t.imageGridSize),void 0!==t.overflowCountText&&sm.encode(t.overflowCountText,r.uint32(74).fork()).ldelim(),r},decode(t,r){let i=t instanceof e.Reader?t:e.Reader.create(t),n=void 0===r?i.len:i.pos+r,o=f0();for(;i.pos<n;){let e=i.uint32();switch(e>>>3){case 3:if(26!==e)break;o.sortableImages.push(fX.decode(i,i.uint32()));continue;case 4:if(32!==e)break;o.maxVisibleItems=i.int32();continue;case 5:if(40!==e)break;o.itemSize=i.int32();continue;case 6:if(48!==e)break;o.overlap=i.int32();continue;case 7:if(56!==e)break;o.imagePilePresentation=fQ(i.int32());continue;case 8:if(64!==e)break;o.imageGridSize=i.int32();continue;case 9:if(74!==e)break;o.overflowCountText=sm.decode(i,i.uint32());continue}if((7&e)==4||0===e)break;i.skipType(7&e)}return o},fromJSON:e=>({$type:f1.$type,sortableImages:globalThis.Array.isArray(e?.sortableImages)?e.sortableImages.map(e=>fX.fromJSON(e)):[],maxVisibleItems:f2(e.maxVisibleItems)?globalThis.Number(e.maxVisibleItems):0,itemSize:f2(e.itemSize)?globalThis.Number(e.itemSize):0,overlap:f2(e.overlap)?globalThis.Number(e.overlap):0,imagePilePresentation:f2(e.imagePilePresentation)?fQ(e.imagePilePresentation):"ImagePilePresentation_UNKNOWN",imageGridSize:f2(e.imageGridSize)?globalThis.Number(e.imageGridSize):0,overflowCountText:f2(e.overflowCountText)?sm.fromJSON(e.overflowCountText):void 0}),toJSON(e){let t={};return e.sortableImages?.length&&(t.sortableImages=e.sortableImages.map(e=>fX.toJSON(e))),0!==e.maxVisibleItems&&(t.maxVisibleItems=Math.round(e.maxVisibleItems)),0!==e.itemSize&&(t.itemSize=Math.round(e.itemSize)),0!==e.overlap&&(t.overlap=Math.round(e.overlap)),"ImagePilePresentation_UNKNOWN"!==e.imagePilePresentation&&(t.imagePilePresentation=function(e){switch(e){case"ImagePilePresentation_UNKNOWN":default:return"ImagePilePresentation_UNKNOWN";case"ImagePilePresentation_LIST":return"ImagePilePresentation_LIST";case"ImagePilePresentation_GRID":return"ImagePilePresentation_GRID"}}(e.imagePilePresentation)),0!==e.imageGridSize&&(t.imageGridSize=Math.round(e.imageGridSize)),void 0!==e.overflowCountText&&(t.overflowCountText=sm.toJSON(e.overflowCountText)),t},create:e=>f1.fromPartial(e??{}),fromPartial(e){let t=f0();return t.sortableImages=e.sortableImages?.map(e=>fX.fromPartial(e))||[],t.maxVisibleItems=e.maxVisibleItems??0,t.itemSize=e.itemSize??0,t.overlap=e.overlap??0,t.imagePilePresentation=e.imagePilePresentation??"ImagePilePresentation_UNKNOWN",t.imageGridSize=e.imageGridSize??0,t.overflowCountText=void 0!==e.overflowCountText&&null!==e.overflowCountText?sm.fromPartial(e.overflowCountText):void 0,t}};function f2(e){return null!=e}rL.set(f1.$type,f1);let f3=Object.freeze(Object.defineProperty({__proto__:null,ImagePile:function({sortableImages:e,maxVisibleItems:t,rendererProps:i,overlapOffset:n,imagePilePresentation:o,imageGridSize:a,overflowCount:s,itemSize:l}){let{modifiers:c}=i??{},{"aria-label":u,height:d,...p}=c?.props??{};if(!sM(e.map(e=>e.sortingKey).filter(e=>void 0!==e)??[]).length)return o===fZ.ImagePilePresentation_GRID?r.jsx(eX,{images:e.map(e=>e.image),size:56===a?"medium":"small",overflowCount:s,a11yText:u,...p}):r.jsx(eZ,{images:e.slice(0,t).map(e=>e.image),a11yText:u,overflowCount:s,overlapOffset:n,itemSize:l,...{height:d,...p}});let f=e=>e?sG(e):void 0,m=e.filter(e=>0!==f(e.sortingKey)).sort((e,t)=>{let r=f(e.sortingKey);return f(t.sortingKey)-r}).slice(0,t).map(e=>e.image);return o===fZ.ImagePilePresentation_GRID?r.jsx(eX,{images:m,size:56===a?"medium":"small",overflowCount:s,a11yText:u,...p}):r.jsx(eZ,{images:m,a11yText:u,overflowCount:s,overlapOffset:n,itemSize:l,...{height:d,...p}})}},Symbol.toStringTag,{value:"Module"})),f4=Object.freeze(Object.defineProperty({__proto__:null,ImageViewer:function({images:e,currentImageIndexKey:t,overlayContent:i,onPrevAction:n,onNextAction:o,...a}){let s=n9(t),{func:l}=d_(n),{func:c}=d_(o);return r.jsx(eQ,{images:e,currentIndex:"number"==typeof s?s:0,overlayContent:i,onPrev:e=>{l?.(e)},onNext:e=>{c?.(e)},...a})}},Symbol.toStringTag,{value:"Module"})),f7=Object.freeze(Object.defineProperty({__proto__:null,LocalImagePreview:function(e){let{filePointer:i,...n}=e,{imageSrc:o}=function({filePointer:e}){let[r,i]=t.useState(void 0),[n,o]=t.useState(!1),a=t.useCallback(e=>{let t=ca.getItem(e);t?i(URL.createObjectURL(t)):o(!0)},[]);return t.useEffect(()=>(e&&a(e),()=>{r&&URL.revokeObjectURL(r)}),[e,a]),{imageSrc:r,isErrored:n}}({filePointer:i}),a={...n,src:o};return r.jsx(eL,{...a})}},Symbol.toStringTag,{value:"Module"})),f5=Object.freeze(Object.defineProperty({__proto__:null,default:function({jiraLabels:e,customEntries:r,allLixes:i}){let n=pq();return t.useEffect(()=>{n({jiraLabels:e,customEntries:r,allLixes:i})},[e,r,i,n]),null}},Symbol.toStringTag,{value:"Module"}));function f6({locales:e,selectedLocale:i,...n}){let{t:o}=t0(),[a,s]=t.useState(!1),l=e=>{rS(e)};return r.jsx(en,{placement:"bottom-start",isOpen:a,onClose:()=>s(!1),children:(t,c,u,d)=>r.jsxs(r.Fragment,{children:[r.jsxs(W,{display:"flex",alignItems:"center",gap:"0.5x",onClick:()=>s(!a),cursor:"pointer",border:"none",ref:t.setReference,...n,children:[r.jsx(eM,{fontSize:"xsmall",color:"text",children:o("language")}),r.jsx(eO,{imageId:rT.SYSTEM_ICONS_CHEVRON_DOWN_SMALL,color:"text"})]}),r.jsx(en.Content,{isOpen:a,placement:"bottom-start",context:u,onClose:()=>s(!1),setFloating:t.setFloating,style:c,...d(),children:r.jsx(W,{display:"flex",flexDirection:"column",overflowY:"auto",inset:"2x",style:{maxHeight:"400px"},children:e.map(e=>r.jsx(W,{onClick:()=>{l(e.value),s(!1)},style:{cursor:"pointer"},insetY:"1x",className:"language-selector-option",children:r.jsx(eM,{fontSize:"xsmall",color:"text",fontWeight:e.value===i?"bold":"normal",children:e.label})},e.value))})})]})})}let f8=Object.freeze(Object.defineProperty({__proto__:null,LanguageSelectorDropDown:function({locales:e,selectLanguageUrl:i,selectedLocale:n,isLoggedIn:o=!0,...a}){let{t:s}=t0(),l=tj(),[c,u]=t.useState(!1),d=async e=>{let t=e.target.value;await p(t)},p=async e=>{try{if((await fetch(i,{method:"POST",headers:{"Content-Type":"application/json","x-requested-with":"XMLHttpRequest","csrf-token":l},body:JSON.stringify({locale:e})})).ok&&"undefined"!=typeof window){u(!0),window.location.reload();return}}catch{}};return o?r.jsxs(r.Fragment,{children:[r.jsx(eU,{selectProps:{defaultValue:n},labelText:r.jsx(eM,{fontSize:"small",category:"supportive",color:"textMeta",children:s("select_language")}),onChange:d,options:e.map(e=>r.jsx(eF,{label:e.label,value:e.value},e.value)),...a}),c&&r.jsx(F,{})]}):r.jsx(f6,{locales:e,selectedLocale:n,...a})}},Symbol.toStringTag,{value:"Module"})),f9=Object.freeze(Object.defineProperty({__proto__:null,default:function({isChildScreen:e=!1,renderedContentBefore:i,renderedContentAfter:n,isGlobalBarPrimaryVisibleExpression:o,renderedGlobalBarPrimary:a,isGlobalBarSecondaryVisibleExpression:s,renderedGlobalBarSecondary:l,panelWidthValue:c,isPanelVisibleExpression:u,renderedPanel:d,supportingPanelWidthValue:p,isSupportingPanelVisibleExpression:f,renderedSupportingPanel:m,isToolbarVisibleExpression:g,renderedToolbar:h,rendererWorkspace:y,renderedChildScreen:b,isInteropEnabled:x=!1,isMobileWeb:S=!1,backgroundColor:E,className:v,...T}){let{setInteropEnabled:N}=tV();t.useEffect(()=>{e||N(x)},[e,x,N]);let _=t.useRef(null),k=t.useRef(null),I=t.useRef(null),O=r.jsxs(r.Fragment,{children:[r.jsx(e1,{navbarRef:_}),i]}),C=(dK(o)??!1??!0)&&a?r.jsx(e0.GlobalBar,{ref:_,category:"primary",children:a}):void 0,P=(dK(s)??!1??!0)&&l?r.jsx(e0.GlobalBar,{category:"secondary",children:l}):void 0,R=dK(u)??!1,w=d?r.jsx(e0.Panel,{category:"panel",panelWidth:c,isVisible:R,children:d}):void 0,A=dK(f)??!1,$=m?r.jsx(e0.Panel,{category:"supportingPanel",panelWidth:p,isVisible:A,children:m}):void 0,L=dK(g)??void 0,M=h?r.jsx(e0.Toolbar,{ref:k,isVisible:L,children:h}):void 0,D=r.jsx(e0.Workspace,{ref:I,children:y});return e?r.jsx(e0.WorkspaceContext,{toolbarRef:k,toolbar:M,isToolbarVisible:L,workspaceRef:I,workspace:D,supportingPanel:$,backgroundColor:E,...T}):r.jsx(e0,{contentBefore:O,contentAfter:n,globalBarPrimary:C,globalBarSecondary:P,toolbarRef:k,toolbar:M,isToolbarVisible:L,panel:w,supportingPanel:$,workspace:D,childScreen:b,isMobileWeb:S,className:v})}},Symbol.toStringTag,{value:"Module"})),me=Object.freeze(Object.defineProperty({__proto__:null,default:function({framework:{supportingPanel:e,supportingPanelBindingKey:i,supportingPanelKey:n,supportingPanelModifiers:o,sidesheet:a,sidesheetBindingKey:s,sidesheetKey:l,sidesheetModifiers:c,toolbar:u,contentBefore:d,layoutMode:p,isMobileWeb:f,...m},legacy:{toolbarContent:g,mainContent:h,isToolbarSticky:y,...b},interop:{isInteropEnabled:x,activeNavIndex:S}}){let E,v,T,N,_;let k=t.useRef(null),I=t.useRef(null),O=t.useRef(null),C=n9(l,s??""),{setNavbarActiveIdxFn:P,setInteropEnabled:R}=tV(),w=n9(n,i??""),{setValue:A}=n5();t.useEffect(()=>{P(e=>{S?.key&&A({value:S.key.value},e)}),"nested-inner"!==p&&R(x)},[S,x,p,R,P]);let $=r.jsxs(r.Fragment,{children:[r.jsx(e1,{navbarRef:k}),d]});g&&(v=r.jsx(e2.Toolbar,{ref:I,isSticky:y,children:g}));let L=r.jsx(e2.Main,{ref:O,children:h});if("nested-outer"===p)T=r.jsx(e0.Workspace,{children:h});else if("nested-inner"===p){if(e){if("boolean"!=typeof w)return fn("Malformed supportingPanel bindable, not of type boolean");E=r.jsx(e2.SupportingPanel,{category:"supportingPanel",isVisible:w,...o,children:e})}return r.jsx(e0.WorkspaceContext,{workspace:r.jsx(e0.Workspace,{children:r.jsx(e2,{toolbar:v,toolbarRef:I,main:L,supportingPanel:E,...b})})})}else T=r.jsx(e0.Workspace,{children:r.jsx(e2,{toolbar:v,toolbarRef:I,main:L,...b})});if(e){if("boolean"!=typeof w)return fn("Malformed supportingPanel bindable, not of type boolean");E=r.jsx(e0.Panel,{category:"supportingPanel",isVisible:w,...o,children:e})}return a&&"boolean"==typeof C&&(N=r.jsx(e0.Panel,{category:"sidesheet",isVisible:C,...c,children:a})),u&&(_=r.jsx(e0.Toolbar,{children:_})),r.jsx(e0,{contentBefore:$,globalBarPrimaryRef:k,workspace:T,supportingPanel:E,sidesheet:N,toolbar:_,isMobileWeb:f,className:"legacy",...m})}},Symbol.toStringTag,{value:"Module"}));function mt(){return{$type:"proto.sdui.components.core.ColorStateList",default:void 0,hover:void 0,active:void 0,disabled:void 0}}let mr={$type:"proto.sdui.components.core.ColorStateList",encode:(t,r=e.Writer.create())=>(void 0!==t.default&&a2.encode(t.default,r.uint32(10).fork()).ldelim(),void 0!==t.hover&&a2.encode(t.hover,r.uint32(18).fork()).ldelim(),void 0!==t.active&&a2.encode(t.active,r.uint32(26).fork()).ldelim(),void 0!==t.disabled&&a2.encode(t.disabled,r.uint32(34).fork()).ldelim(),r),decode(t,r){let i=t instanceof e.Reader?t:e.Reader.create(t),n=void 0===r?i.len:i.pos+r,o=mt();for(;i.pos<n;){let e=i.uint32();switch(e>>>3){case 1:if(10!==e)break;o.default=a2.decode(i,i.uint32());continue;case 2:if(18!==e)break;o.hover=a2.decode(i,i.uint32());continue;case 3:if(26!==e)break;o.active=a2.decode(i,i.uint32());continue;case 4:if(34!==e)break;o.disabled=a2.decode(i,i.uint32());continue}if((7&e)==4||0===e)break;i.skipType(7&e)}return o},fromJSON:e=>({$type:mr.$type,default:null!=e.default?a2.fromJSON(e.default):void 0,hover:null!=e.hover?a2.fromJSON(e.hover):void 0,active:null!=e.active?a2.fromJSON(e.active):void 0,disabled:null!=e.disabled?a2.fromJSON(e.disabled):void 0}),toJSON(e){let t={};return void 0!==e.default&&(t.default=a2.toJSON(e.default)),void 0!==e.hover&&(t.hover=a2.toJSON(e.hover)),void 0!==e.active&&(t.active=a2.toJSON(e.active)),void 0!==e.disabled&&(t.disabled=a2.toJSON(e.disabled)),t},create:e=>mr.fromPartial(e??{}),fromPartial(e){let t=mt();return t.default=void 0!==e.default&&null!==e.default?a2.fromPartial(e.default):void 0,t.hover=void 0!==e.hover&&null!==e.hover?a2.fromPartial(e.hover):void 0,t.active=void 0!==e.active&&null!==e.active?a2.fromPartial(e.active):void 0,t.disabled=void 0!==e.disabled&&null!==e.disabled?a2.fromPartial(e.disabled):void 0,t}};rL.set(mr.$type,mr);var mi=((iI=mi||{}).LinkFormatting_UNKNOWN="LinkFormatting_UNKNOWN",iI.LinkFormatting_DEFAULT="LinkFormatting_DEFAULT",iI.LinkFormatting_UNDERLINE="LinkFormatting_UNDERLINE",iI.LinkFormatting_BOLD="LinkFormatting_BOLD",iI);function mn(e){switch(e){case 0:case"LinkFormatting_UNKNOWN":default:return"LinkFormatting_UNKNOWN";case 1:case"LinkFormatting_DEFAULT":return"LinkFormatting_DEFAULT";case 2:case"LinkFormatting_UNDERLINE":return"LinkFormatting_UNDERLINE";case 3:case"LinkFormatting_BOLD":return"LinkFormatting_BOLD"}}function mo(){return{$type:"proto.sdui.components.core.text.LinkStyle",style:void 0,shouldSupportVisitedState:!1,linkFormatting:"LinkFormatting_UNKNOWN"}}let ma={$type:"proto.sdui.components.core.text.LinkStyle",encode(t,r=e.Writer.create()){switch(t.style?.$case){case"colorStateListIdentifier":r.uint32(8).int32(t.style.colorStateListIdentifier);break;case"color":mr.encode(t.style.color,r.uint32(18).fork()).ldelim()}return!1!==t.shouldSupportVisitedState&&r.uint32(24).bool(t.shouldSupportVisitedState),"LinkFormatting_UNKNOWN"!==t.linkFormatting&&r.uint32(32).int32(function(e){switch(e){case"LinkFormatting_UNKNOWN":default:return 0;case"LinkFormatting_DEFAULT":return 1;case"LinkFormatting_UNDERLINE":return 2;case"LinkFormatting_BOLD":return 3}}(t.linkFormatting)),r},decode(t,r){let i=t instanceof e.Reader?t:e.Reader.create(t),n=void 0===r?i.len:i.pos+r,o=mo();for(;i.pos<n;){let e=i.uint32();switch(e>>>3){case 1:if(8!==e)break;o.style={$case:"colorStateListIdentifier",colorStateListIdentifier:i.int32()};continue;case 2:if(18!==e)break;o.style={$case:"color",color:mr.decode(i,i.uint32())};continue;case 3:if(24!==e)break;o.shouldSupportVisitedState=i.bool();continue;case 4:if(32!==e)break;o.linkFormatting=mn(i.int32());continue}if((7&e)==4||0===e)break;i.skipType(7&e)}return o},fromJSON:e=>({$type:ma.$type,style:null!=e.colorStateListIdentifier?{$case:"colorStateListIdentifier",colorStateListIdentifier:globalThis.Number(e.colorStateListIdentifier)}:null!=e.color?{$case:"color",color:mr.fromJSON(e.color)}:void 0,shouldSupportVisitedState:null!=e.shouldSupportVisitedState&&globalThis.Boolean(e.shouldSupportVisitedState),linkFormatting:null!=e.linkFormatting?mn(e.linkFormatting):"LinkFormatting_UNKNOWN"}),toJSON(e){let t={};return e.style?.$case==="colorStateListIdentifier"&&(t.colorStateListIdentifier=Math.round(e.style.colorStateListIdentifier)),e.style?.$case==="color"&&(t.color=mr.toJSON(e.style.color)),!1!==e.shouldSupportVisitedState&&(t.shouldSupportVisitedState=e.shouldSupportVisitedState),"LinkFormatting_UNKNOWN"!==e.linkFormatting&&(t.linkFormatting=function(e){switch(e){case"LinkFormatting_UNKNOWN":default:return"LinkFormatting_UNKNOWN";case"LinkFormatting_DEFAULT":return"LinkFormatting_DEFAULT";case"LinkFormatting_UNDERLINE":return"LinkFormatting_UNDERLINE";case"LinkFormatting_BOLD":return"LinkFormatting_BOLD"}}(e.linkFormatting)),t},create:e=>ma.fromPartial(e??{}),fromPartial(e){let t=mo();return e.style?.$case==="colorStateListIdentifier"&&e.style?.colorStateListIdentifier!==void 0&&e.style?.colorStateListIdentifier!==null&&(t.style={$case:"colorStateListIdentifier",colorStateListIdentifier:e.style.colorStateListIdentifier}),e.style?.$case==="color"&&e.style?.color!==void 0&&e.style?.color!==null&&(t.style={$case:"color",color:mr.fromPartial(e.style.color)}),t.shouldSupportVisitedState=e.shouldSupportVisitedState??!1,t.linkFormatting=e.linkFormatting??"LinkFormatting_UNKNOWN",t}};function ms({children:e,action:t,viewTrackingSpecs:i,linkStyle:n}){let{func:o,url:a,content:s,target:l,trackingBreadcrumbs:c}=d_(t),u=dG(o,{skipPreventDefault:!!a}),{onTrackClick:d}=ro(i,t?.tracking?.actionType,c)||{},p=d?e=>{d(e),u?.(e),e?.stopPropagation()}:u,f={};i&&(f=Object.assign(f,{"data-view-name":i.viewName})),n?.linkFormatting===mi.LinkFormatting_UNDERLINE?f=Object.assign(f,{textDecoration:"underline"}):n?.linkFormatting===mi.LinkFormatting_BOLD&&(f=Object.assign(f,{fontWeight:"bold"}));let m=function(e){if(!e)return;let{shouldSupportVisitedState:t,style:r}=e;if(r?.$case==="color"){let{default:e,hover:i,active:n}=r.color,o=px(e),a=px(i),s=px(n);if(!o||!a||!s)return;let l={default:o,hover:a,active:s};return t&&(l.visited="linkVisited",l.visitedHover="linkVisitedHover",l.visitedActive="linkVisitedActive"),l}if(r?.$case==="colorStateListIdentifier"){let e=eg.getLinkStyleById(r.colorStateListIdentifier);return e&&!t?{default:e.default,hover:e.hover,active:e.active}:e}}(n)??"inherit";return r.jsxs(r.Fragment,{children:[r.jsx(e3,{color:m,href:a||"#",target:l,onClick:p??(e=>{e?.stopPropagation()}),...f,children:e}),s]})}rL.set(ma.$type,ma);let ml=Object.freeze(Object.defineProperty({__proto__:null,default:ms},Symbol.toStringTag,{value:"Module"})),mc=Object.freeze(Object.defineProperty({__proto__:null,default:function({list:e,detail:t,header:i,aside:n,isDetailActiveExpression:o,listWidthValue:a,...s}){let l=dK(o)??!1;return r.jsx(e4,{list:{content:e,width:a},detail:{content:t,isActive:l},header:i,aside:n,...s})}},Symbol.toStringTag,{value:"Module"})),mu=t.createContext({}),md=()=>t.useContext(mu);function mp({children:e,value:t}){return r.jsx(mu.Provider,{value:t,children:e})}class mf{#c;constructor(){this.#c=[]}add(e){this.#c.push(e)}remove(e){let t=this.#c.findIndex(({id:t})=>e.id===t);void 0!==t&&this.#c.splice(t,1)}get(e){return this.#c[e]}clear(){this.#c=[]}get numItems(){return this.#c.length}}let mm=t.createContext(null),mg=t.createContext(null);function mh(e){e?.querySelector('button, a, [role="button"]')?.click()}let my=Object.freeze(Object.defineProperty({__proto__:null,default:function({textEditor:e,results:i,onMentionInputUpdated:n,mentionInputBindingKey:o="",mentionInputBinding:a,selectedMentionResultBindingKey:s="",selectedMentionResultBinding:l,debounce:c,defaultStartCharacter:u,...d}){let p=t.useRef(null),f=t.useRef(null),m=t.useRef(new mf),{setValue:g}=n5(),h=t.useRef(!1),[E,v]=t.useState(!1),T=t.useRef(null),[N,_]=t.useState(null),k=t.useRef(-1),{workspaceRef:I}=e7(),O=e=>{h.current=e,v(e)},C=e=>{T.current=e,_(e)},P=e=>{k.current=e},[R,w]=t.useState(null),[A,$]=t.useState(null),{refs:L,floatingStyles:M,update:D}=y({open:E,placement:"bottom-start",strategy:"absolute",middleware:[x({apply({rects:e,elements:t}){t.floating&&Object.assign(t.floating.style,{maxHeight:"30rem",width:`${e.reference.width}px`,maxWidth:`${e.reference.width}px`})}})],whileElementsMounted:b});t.useEffect(()=>{if(null!==R&&h.current&&p.current){let e=p.current.getBoundingClientRect(),t=L.domReference.current;t&&(t.style.top=`${R-e.top}px`,t.style.width=`${e.width}px`),D()}},[R,h,L,D]);let U=n9(l,s),{func:F}=d_(n),j=t.useCallback(e=>{let t=function(e){if("doc"!==e.type||!Array.isArray(e.content))return null;for(let t of e.content)if(Array.isArray(t.content)){for(let e of t.content)if(e?.type==="mention"||e?.type==="text")return e}return null}(e);t&&A&&f.current&&f.current.chain().focus().deleteRange(A).insertContent(t).unsetAllMarks().run()},[A]);return t.useEffect(()=>{U&&sv(U)&&(j(U),O(!1),C(null),P(-1)),g({value:s},"")},[j,U,s]),r.jsx(W,{...d,ref:p,children:r.jsxs(mp,{value:{onMentionHandler:({text:e,editor:t,range:r,clientRect:i})=>{g(a||{value:o},e),!f.current&&t&&(f.current=t),r&&$(r),i&&w(i.y+i.height),O(!!e),C(null),P(-1),F?.()},onKeyDown:e=>{let t=m.current.numItems,r=h.current,i=T.current,n=k.current;if(r&&t>0){if("Enter"===e.key)return e.preventDefault(),"undefined"!=typeof document&&n>=0&&null!==i&&mh(document.getElementById(i)),!0;if("Escape"===e.key)return e.preventDefault(),C(null),P(-1),O(!1),!0;if("ArrowDown"===e.key){e.preventDefault();let r=n+1;return r>=t&&(r=0),P(r),C(m.current.get(r)?.id||null),!0}if("ArrowUp"===e.key){e.preventDefault();let r=n-1;return r<0&&(r=t-1),P(r),C(m.current.get(r)?.id||null),!0}}return!1},debounce:c,cursorRef:L.setReference,defaultStartCharacter:u},children:[e,i&&r.jsx(mg.Provider,{value:m,children:r.jsx(mm.Provider,{value:N?{id:N}:null,children:E&&r.jsx(S,{root:I?.current||void 0,children:r.jsx(e5,{ref:L.setFloating,style:M,resultsComponent:i,elevation:"raised"})})})})]})})}},Symbol.toStringTag,{value:"Module"})),mb=new t2,mx=Object.freeze(Object.defineProperty({__proto__:null,default:t.memo(function({modelStates:e,isPartialPage:r=!1,screenHash:i,canLoadFromCache:n,cacheDelayMilliSecs:o}){let{isCachedRenderRef:a}=tF(),{enableSSR:s,store:l}=n5(),c=t.useMemo(()=>e.filter(e=>{let t=n8(e.key);return t&&uq.has(t)}),[e]),u=t.useMemo(()=>!r&&(sB(n)??!1),[n,r]);t.useEffect(()=>{if(!u||!i)return;let e=mb.getItem(i);e&&e.length>0&&(sV(e),sV(e,l))},[i,u,l]);let d=t.useCallback(()=>{if(a?.current&&!r?(sV(c),sV(c,l)):(sV(e),sV(e,l)),u&&i&&!r&&e.length>0){let t;let r=o?sB(o):void 0;"number"==typeof r?t=r:"bigint"==typeof r&&(t=Number(r)),mb.setItem(i,e,t)}},[l,e,r,a,c,u,i,o]);return t.useMemo(()=>{s&&d()},[d]),t.useEffect(()=>{s||d()},[e,r,a,s]),null}),screenStateCache:mb},Symbol.toStringTag,{value:"Module"})),mS=Object.freeze(Object.defineProperty({__proto__:null,ModalTitleUpdater:function({titleText:e,renderedTitle:r}){let{currentScreen:i,updateModalTitle:n}=r9();return t.useEffect(()=>{i&&e&&i.title!==e&&n(e,r)},[e,r,n,i]),null}},Symbol.toStringTag,{value:"Module"})),mE=Object.freeze(Object.defineProperty({__proto__:null,default:function({selectedStateKey:e,states:i,focusStates:n=new Map}){let o=t.useRef(!1),a=n9("string"!=typeof e?e:void 0,"string"==typeof e?e:void 0);if(t.useEffect(()=>{if(void 0!==a){if(!o.current){o.current=!0;return}let e=n.get(a.toString());if(e?.value?.$case==="id"){let t=document.querySelector(`[componentkey="${e.value.id}"]`);t instanceof HTMLElement&&t.focus()}}},[a]),void 0===a)return null;let s=a.toString();return r.jsx(t.Fragment,{children:i.get(s)},`multi-state-${s}-component`)}},Symbol.toStringTag,{value:"Module"}));function mv(e){return t=>{e.forEach(e=>{"function"==typeof e?e(t):null!=e&&(e.current=t)})}}let mT=Object.freeze(Object.defineProperty({__proto__:null,default:function({action:e,navItemProps:i,badgeInfo:n,viewTrackingSpecs:o,...a}){let s;let l=t.useRef(null),c=mv([rp(o,void 0,()=>({horizontalPosition:i.itemIndex??0,verticalPosition:1})),l]),{func:u,url:d,content:p,target:f,actionType:m}=d_(e,{ref:l,viewTrackingSpecs:o}),{onTrackClick:g}=ro(o,m)||{},{interactionTypes:h,impressionThresholds:y,viewName:b}=o||{},x=e=>{g?.(e),u?.(e)},S=!!h?.length,E=!!y?.length,v=(S||E)&&b?{"data-view-name":b}:{},{countStateKey:T,bindingKey:N,source:_,...k}=n||{},I=ou(_,T??"",N);return(void 0!==I&&I>0&&(s={...k,count:I}),d)?r.jsx(e6,{tagName:"a",ref:c,href:d,target:f,onClick:x,badge:s,...i,...v,...a}):r.jsxs(r.Fragment,{children:[r.jsx(e6,{tagName:"button",onClick:x,ref:c,badge:s,...i,...v,...a}),p]})}},Symbol.toStringTag,{value:"Module"})),mN=Object.freeze(Object.defineProperty({__proto__:null,default:function({navLinksProps:e,activeIndexKey:t,activeIndexBindingKey:i}){let n=n9(i,t??"");return r.jsx(e8,{...e,activeIndex:"number"==typeof n?n:void 0})}},Symbol.toStringTag,{value:"Module"})),m_=Object.freeze(Object.defineProperty({__proto__:null,OverlayBubble:function({bubbleSize:e,bubbleSizeKey:t,header:i,content:n,...o}){let a=n9(t,e?.key?.value??""),s=a?.toString().toLowerCase()??"",l=["medium","max","min","inboxmax","inboxmin"].includes(s)?s:"max";return r.jsx(e9,{header:i,content:n,size:l,...o})}},Symbol.toStringTag,{value:"Module"})),mk=Object.freeze(Object.defineProperty({__proto__:null,OverlayManager:function(){let{bubbles:e}=iU(iL),{isInteropVisible:t}=tV();return t?null:r.jsx(te,{children:e.map(e=>e.children)})}},Symbol.toStringTag,{value:"Module"})),mI=Object.freeze(Object.defineProperty({__proto__:null,default:function({category:e,indicatorCountBinding:t,currentIndicatorIndexBinding:i,maxIndicators:n,maxPages:o,onClickIndicatorAction:a,onClickPrevAction:s,onClickNextAction:l,...c}){let{setValue:u}=n5(),d=oe(t),p=oe(i),f=d_(a),m=d_(s),g=d_(l),h="number"==typeof d?d:0,y="number"===e&&o?Math.min(h,o):h;return r.jsx(tt,{category:e,numPages:y,currentIndicatorIndex:"number"==typeof p?p:0,onIndicatorClick:e=>{u(i,e),f.func?.()},onClickPrev:m.func,onClickNext:g.func,maxIndicators:n,...c})}},Symbol.toStringTag,{value:"Module"})),mO=new t2;function mC(e,t){switch(t.type){case"SET_ITEMS":return{items:t.payload};case"SET_ITEMS_AND_CHECK_FOR_DUPLICATES":return{items:t.payload.isLayoutReversed?[...t.payload.items,...e.items]:[...e.items,...t.payload.items]};default:return e}}function mP(e,r,i,n,o){let{isCachedRenderRef:a,isBrowserRouteCacheEnabled:s,isRefreshScreenRef:l}=tF(),c=!!r,u=(e,t=new Set)=>e.map(e=>{let{dedupeId:r,semanticId:i}=e;if(r&&i){if(t.has(r))return{...e,isDuplicate:!0};t.add(r)}return e}),d=t.useMemo(()=>u(e),[e]),[p,f]=t.useReducer(mC,{items:[]},()=>c?{items:[]}:{items:a?.current&&o&&mO.getItem(o)||d});r&&void 0===iz.getItem(r)&&iz.setItem(r,d),t.useEffect(()=>{if(!c)return()=>{o&&s&&p.items.length&&mO.setItem(o,p.items)}},[c,o,s,p.items]),t.useEffect(()=>{c&&l?.current&&iz.setItem(r,d)},[c,r,d,l]);let m=t.useCallback(()=>r?iz.getItem(r):iW,[r]),g=t.useCallback(()=>d||iW,[d]),h=t.useSyncExternalStore(t.useCallback(e=>r?(iz.subscribe(r,e),()=>iz.unsubscribe(r,e)):()=>{},[r]),m,g),y=c?h:p.items;function b(e){return!!(e.sortKeyBindingKey||e.containerSortKeyExpression)}let x=(y??[]).filter(b),S=(y??[]).filter(e=>!b(e)),E=x.map(e=>e.sortKeyBindingKey),v=dW(x?.map(e=>e.containerSortKeyExpression)),T=sM(E).map(({value:e})=>e),N=x?.map((e,t)=>({item:e,sortValue:v?.[t]??T?.[t]??0}));t.useEffect(()=>()=>{if(r&&o&&s){let e=r&&iz.getItem(r)||iW;mO.setItem(o,e)}},[r,o,s]);let _=t.useCallback(e=>{c?iz.setItem(r,e):f({type:"SET_ITEMS",payload:e})},[c,r]),k=t.useCallback((e,t)=>{if(c){let i=u(e,new Set((iz.getItem(r)||iW).map(({dedupeId:e})=>e).filter(e=>void 0!==e)));iG(r,e=>t?[...i,...e]:[...e,...i])}else f({type:"SET_ITEMS_AND_CHECK_FOR_DUPLICATES",payload:{items:e,isLayoutReversed:t}})},[c,r,u]),I=t.useCallback(e=>{_(u(e))},[c,r,u]);if(!c)return[y??[],_,k,I];if(i&&i!==iK.SortOrder_UNKNOWN){var O;n&&(i===iK.SortOrder_ASCENDING?i=iK.SortOrder_DESCENDING:i===iK.SortOrder_DESCENDING&&(i=iK.SortOrder_ASCENDING)),(O=i)===iK.SortOrder_ASCENDING?N.sort((e,t)=>e.sortValue>t.sortValue?1:e.sortValue<t.sortValue?-1:0):O===iK.SortOrder_DESCENDING&&N.sort((e,t)=>e.sortValue>t.sortValue?-1:e.sortValue<t.sortValue?1:0)}return[[...S,...N.map(e=>e.item)],_,k,I]}let mR="RESET_PAGINATION",mw="aborted";function mA(e,t){return t.signal.reason===mR||e instanceof Error&&e.message.includes("BodyStreamBuffer")||e instanceof Error&&e.message.includes(mR)||e instanceof DOMException&&"AbortError"===e.name}class m$ extends Error{constructor(e="Pagination was unable to load additional content after reaching the maximum number of retries."){super(e),this.name="PaginationRetryFailure"}}let mL=new m$,mM=new t2;function mD({initialItems:e,initialNextPageRequest:r,collectionId:i,sortOrder:n,paginationPageKey:o,isLayoutReversed:a,componentKey:s,cacheKey:l}){let{screenId:c}=ia(),{lixClient:u}=tQ(),d=u?.getTreatmentIsEnabled("web.pagination-items-reset"),{rumCore:p}=tB().getClients(),f=tB().getClients().jetCore,m=tW().getTracer(),{isCachedRenderRef:g,isBrowserRouteCacheEnabled:h}=tF(),[y,b,x,S]=mP(e,i,n,a,l),[E,v]=t.useState(!1),T=t.useRef(!1),{resetPageRef:N}=t.useContext(d3),{resetItems:_}=d8(),[k,I]=t.useState(o),[O,C]=t.useState(()=>{let e=g?.current&&l&&mM.getItem(l);return e?e.emptyResponseCounter:0}),[P,R]=t.useState(()=>{let e=g?.current&&l&&mM.getItem(l);return e?e.nextPageRequest:r}),[w,A]=t.useState(()=>{let e=g?.current&&l&&mM.getItem(l);return e?e.pageCompletionAction:void 0}),$=t.useRef(null),[L,M]=t.useState(!1),[D,U]=t.useState([]),F=rE(),{getInitialContext:j}=tB(),{pageKeyApp:B,isMobile:V}=j(),K=t.useRef(new AbortController),[W,J]=t.useState(0),[G,z]=t.useState(!1),H=t.useCallback(e=>{K.current=e,J(e=>e+1)},[]),q=s||"",Y=t.useRef(!1),X=t.useRef(!1),Z=t.useRef(void 0),Q=t.useCallback(async e=>{if(K.current.signal.aborted)return mw;if(X.current)return"skipped";X.current=!0;let r=e||P,i=T.current?ei:er,n=i&&p.start(i);return t.startTransition(()=>{v(!0)}),await m.wrapSpan({name:tJ.RENDER_PAGINATION,attrs:{paginationPageKey:o||"unknown",[tX.PAGER_ID]:r?.pagerId||"unknown",[tX.SPAN_TYPE]:"LOAD",[tX.ENTITY_TYPE]:"PAGER",[tX.CALCULATE_METRICS]:!0},parentToPageSpan:!0,operation:async e=>{Z.current=e;try{let e=await en(r);if(K.current.signal.aborted)return mw;let t=e&&e[0],i=e&&e[1]&&JSON.parse(e[1]),n=e&&e[2],o=e&&e[3];e&&$.current&&$.current(),o&&A(o);let s=[];n?.forEach(([e,t])=>{let{dedupeId:r,key:i,semanticId:n,sortKeyBindingKey:o,containerSortKeyExpression:a}=JSON.parse(e);s.push({key:i,dedupeId:r,item:t,semanticId:n,sortKeyBindingKey:o,containerSortKeyExpression:a})}),d&&T.current&&_?.(),x(s,a),U(e=>[...e,t]),R(i);let l=s.length>0;return C(l?0:O+1),"success"}catch(e){if(e instanceof m$)C(2);else if(mA(e,K.current))return mw;throw e}finally{X.current=!1,v(!1),n&&p.end(n,!1,i)}}})},[P,F,b,O,W,T,d,_]),ee=t.useCallback(async e=>{try{if(T.current)return;T.current=!0,K.current.abort(mR),H(new AbortController),R(e?.nextPageRequest),I(e?.perfTrackingPageKey),v(!1),Y.current=!0,e?.completionActionFn?(z(!0),$.current=e.completionActionFn,await Q(e?.nextPageRequest).finally(()=>{et()})):A(e?.completionAction)}catch(e){f.reportError(e,["pagination-reset"])}},[E,W,H,Q,P,_]),et=()=>{T.current=!1,z(!1),$.current=null,Y.current&&(N?.(),Y.current=!1)};t.useEffect(()=>{e.length>0&&!g?.current&&(S(e),R(r))},[e,r,g,_]),t.useEffect(()=>(iB.addResetFn(q,ee),()=>{iB.removeResetFn(q,ee)}),[q,ee]);let er=o&&t7(B,o,V),ei=k&&t7(B,k,V),en=async e=>{let t=uw(e?.requestedArguments,void 0,c),r=JSON.stringify({pagerId:e?.pagerId,clientArguments:t,paginationRequest:e}),i=(e?.retryCount??0)+1,n=T.current?ei:er;for(let t=0;t<i;t++)try{return await F(`rsc-action/actions/pagination?sduiid=${encodeURIComponent(e?.pagerId||"")}`,{body:r,observabilityTag:e?.pagerId||"unknown-pager-id",signal:K.current.signal},n?{paginationPageKey:n}:void 0)}catch(e){if(mA(e,K.current))throw e;continue}f.reportLog(mL),M(e=>!e)};return t.useEffect(()=>(H(new AbortController),()=>{K.current.abort()}),[H]),t.useEffect(()=>()=>{l&&h&&mM.setItem(l,{emptyResponseCounter:O,nextPageRequest:P,pageCompletionAction:w})},[l,O,P,w,h]),{items:y,setItems:b,isLoading:E,isDisabled:G||!P||O>=2,nextPageRequest:P,mergeStates:D,fetchMoreItems:Q,isFetchInProgress:X,pageCompletionAction:w,onClientError:L,isResetPaginationInProgress:T,onResetPaginationComplete:et,renderPaginationSpan:Z.current}}let mU=(e,t,r=!1)=>"ItemDecorationPlacement_BEFORE"===e||"ItemDecorationPlacement_IN_BETWEEN"===e&&(t>0||r),mF=e=>"ItemDecorationPlacement_AFTER"===e;function mj(e,r,i,n,o=!1){return[mU(n,r,o)&&t.createElement(tr,{...i,key:0}),e,mF(n)&&t.createElement(tr,{...i,key:2})]}function mB(e){let t={};return e.offset&&d2(t,{Bottom:e.offset?.bottom,End:e.offset?.end,Start:e.offset?.start,Top:e.offset?.top},"offset"),t}let mV=Object.freeze(Object.defineProperty({__proto__:null,default:function({items:e,cacheKey:i,nextPageRequest:n,newPageAction:o,onInitialContentLoadedAction:a,divider:s,maxItems:l,paginationPageKey:c,loadingComponent:u,componentKey:d}){let{items:p,setItems:f,isDisabled:m,isLoading:g,mergeStates:h,nextPageRequest:y,fetchMoreItems:b,onClientError:x,renderPaginationSpan:S}=mD({initialItems:e,cacheKey:i,initialNextPageRequest:n,paginationPageKey:c,componentKey:d}),E=y?.trigger?.itemDistanceTrigger.preloadDistance??3,v=p.slice(0,l).map(({item:e,key:i},n)=>{let o=s?mj(e,n,mB(s),s.placement):e;return r.jsx(t.Fragment,{children:o},i)}),{func:T}=d_(o),{func:N}=d_(a),{func:_}=d_(n?.onClientError),k=t.useRef(!1),[I,O]=t.useState(!1),C=t.useRef(!1);t.useEffect(()=>{v.length>0&&!I&&O(!0)},[v.length]),t.useEffect(()=>{I&&N&&!C.current&&(N(),C.current=!0)},[I,N]),t.useEffect(()=>{k.current&&_&&_(),k.current=!0},[x]);let P=async()=>{await b(),T&&T()};return t.useEffect(()=>{let e=p.map(({key:e},t)=>{var r;return r=()=>{f(p.filter((e,r)=>r!==t))},"undefined"!=typeof document?(ln.subscribe(e,r),()=>ln.unsubscribe(e,r)):()=>{}});return()=>{e.forEach(e=>e())}},[p,f]),t.useEffect(()=>{m||g||!(p.length<l+E)||P()},[p,l,g,m,E,b]),r.jsxs(uM.Provider,{value:{parentSpan:S},children:[r.jsx(d6,{children:v}),g&&u,h]})}},Symbol.toStringTag,{value:"Module"}));function mK({error:e,headline:t,description:i,compact:n}){let o=ri(),{t:a}=t0();return r.jsx(W,{display:"flex",alignItems:"center",flexDirection:"column",justifyContent:"center",children:r.jsx(ti,{compact:n,error:e,headline:t,description:i??a("error_boundary_error_description"),hasErrorAlreadyBeenReported:!0,showStackTrace:o.__isCorpNetwork__,primaryAction:{label:a("error_boundary_primary_action_text"),onClick:()=>{"undefined"!=typeof window&&window.location.reload()}}})})}let mW="sdui-error-boundary";function mJ({children:e,fallbackHeadline:i,fallbackDescription:n,autoRecover:o=!1,onBeforeRecover:a,tags:s,compact:l}){let c=tB().getClients(),[u,d]=t.useState(0),[p,f]=t.useState(0),m=()=>{d(e=>e+1)};return r.jsx(E,{FallbackComponent:e=>o&&p<3?null:r.jsx(mK,{...e,compact:l,headline:i,description:n}),onError:(e,t)=>{if(o&&p<3){f(e=>e+1),a?.(e),m();return}let r=s?[...s,mW]:[mW];c.jetCore.reportError(e,r)},onReset:m,children:e},u)}function mG({cacheKey:e,collectionId:i,componentKey:n,divider:o,infiniteAt:a,isLayoutReversed:s,isMobile:l,items:c,loadingComponent:u,newPageAction:d,nextPageRequest:p,onInitialContentLoadedAction:f,paginationPageKey:m,preloadLength:g,sortOrder:h}){let{fetchMoreItems:y,isDisabled:b,isFetchInProgress:x,isLoading:S,isResetPaginationInProgress:E,items:v,mergeStates:T,onClientError:N,onResetPaginationComplete:_,pageCompletionAction:k,renderPaginationSpan:I}=mD({cacheKey:e,collectionId:i,componentKey:n,initialItems:c,initialNextPageRequest:p,isLayoutReversed:s,paginationPageKey:m,sortOrder:h}),O=v.map(({key:e,item:i},n)=>{let a=o?mj(i,n,mB(o),o.placement):i;return r.jsx(t.Fragment,{children:a},e)}),{func:C}=d_(d),{func:P}=d_(f),{func:R}=d_(k),{func:w}=d_(p?.onClientError),[A,$]=t.useState(!1),L=t.useRef(!1);t.useEffect(()=>{O.length>0&&!A&&$(!0)},[O.length]),t.useEffect(()=>{A&&P&&!L.current&&(P(),L.current=!0)},[A,P]),t.useEffect(()=>{R&&R()},[R]);let[M,D]=t.useState(!1);t.useEffect(()=>{M&&w&&w(),D(!0)},[N]);let U=async()=>{let e;try{e=await y()}catch{w?.()}return C&&C(),e};return r.jsxs(uM.Provider,{value:{parentSpan:I},children:[r.jsx(tn,{items:O,onTrigger:U,isLoading:!M||S,isDisabled:b,isFetchInProgress:x,isMobile:l,loadingComponent:u,isLayoutReversed:s,infiniteAt:a,preloadLength:g,isResetPaginationInProgress:E,onResetPagination:_,children:O}),T]})}function mz(e){return r.jsx(ph,{collectionId:e.collectionId,children:r.jsx(d6,{children:r.jsx(mG,{...e})})})}let mH=Object.freeze(Object.defineProperty({__proto__:null,default:function(e){let t=tB().getClients();return e?.isRecoverableScrollPaginationEnabled?r.jsx(mJ,{autoRecover:!0,tags:["recoverable-scroll-pagination"],onBeforeRecover:r=>{"AbortError"===r.name&&r.message?.includes("BodyStreamBuffer")?(t.jetCore.reportLog("RecoverableScrollPagination: Clearing collection store due to BodyStreamBuffer AbortError"),iH(e.collectionId),e.cacheKey&&(mO.getItem(e.cacheKey)&&(t.jetCore.reportLog("RecoverableScrollPagination: collectionItemCache had items before clearing"),mO.removeItem(e.cacheKey),t.jetCore.reportLog(`RecoverableScrollPagination: Cleared collectionItemCache for key: ${e.cacheKey}`)),mM.getItem(e.cacheKey)&&(t.jetCore.reportLog("RecoverableScrollPagination: paginationStateCache had items before clearing"),mM.removeItem(e.cacheKey),t.jetCore.reportLog(`RecoverableScrollPagination: Cleared paginationStateCache for key: ${e.cacheKey}`)))):t.jetCore.reportLog("RecoverableScrollPagination: Not clearing collection, unknown error: "+r.message)},children:r.jsx(mz,{...e})}):r.jsx(mz,{...e})}},Symbol.toStringTag,{value:"Module"})),mq=Object.freeze(Object.defineProperty({__proto__:null,default:function({isCheckedBindingKey:e,isCheckedBinding:t,isCheckedExpression:i,disabledBindingKey:n,disabledBinding:o,endRollupCountBindingKey:a,endRollupCountBinding:s,startImage:l,startImageChecked:c,startImageShape:u,value:d,endImage:p,endImageChecked:f,endImageShape:m,rollupCountExpression:g,tapTarget:h,...y}){let{t:b}=t0(),x=n9(o,n??""),S=n9(s,a??""),E=n9(t,e??""),v=dK(g),T=dK(i),N="number"==typeof S&&S?S:void 0,_=N?b("number_selected",{count:N}):void 0;return r.jsx(to,{a11yText:_,inputProps:{disabled:"boolean"==typeof x?x:void 0,checked:T??("boolean"==typeof E?E:void 0)},startImage:l,startImageChecked:c,startImageShape:u,value:d,endImage:p,endImageChecked:f,endImageShape:m,rollupCount:v??N,tapTarget:h,...y})}},Symbol.toStringTag,{value:"Module"})),mY=Object.freeze(Object.defineProperty({__proto__:null,PollingActionRunner:function({actions:e,pollingInterval:i}){let n=d_(e);return t.useEffect(()=>{let e=setInterval(()=>{n&&n.func?.()},i);return()=>{clearInterval(e)}},[n,i]),r.jsx(r.Fragment,{children:n?.content})}},Symbol.toStringTag,{value:"Module"})),mX=Object.freeze(Object.defineProperty({__proto__:null,default:function({anchor:e,content:t,placement:i,isOpenBindingKey:n,isOpenKey:o,onFocusLostAction:a,useHoverInteraction:s,...l}){let c=n9(o,n)??!1,u=d_(a);return r.jsx(ta,{isOpen:c??!1,placement:i,anchor:e,content:t,onFocusLost:u.func,useFocusManager:!0,useHoverInteraction:s,...l})}},Symbol.toStringTag,{value:"Module"})),mZ=Object.freeze(Object.defineProperty({__proto__:null,default:function({logo:e,content:t,searchBox:i,isMobileWeb:n,isSearchBoxExpanded:o,hasSearchChildElements:a,...s}){let l=dK(o);return r.jsx(ts,{"data-testid":"primary-nav",logo:e,search:i,isMobileWeb:n,isRenderedWithServerSideSearch:!!i,isSearchBoxExpanded:l,hasSearchChildElements:a,...s,children:t})}},Symbol.toStringTag,{value:"Module"}));function mQ(e){let t=d1(e);return t?eh.scale[t]:`${e}px`}let m0=Object.freeze(Object.defineProperty({__proto__:null,default:function({a11yText:e,indicatorColorExpression:t,isProgressValueVisible:i,size:n,showProgressValueExpression:o,strokeWidthExpression:a,style:s,text:l,trackColorExpression:c,type:u,value:d,valueExpression:p,valueBindingKey:f,valueBindingStateKey:m,...g}){let h=dK(t),y=dK(o),b=dK(a),x=dK(c),S=dK(p),E=n9(m,f??""),v=S??E??d??-1;v>100?v=100:v<-1&&(v=-1);let T={},N={},_={};h&&(T={[tl.indicator.backgroundColor]:pb(h)}),b&&(_={[tl.track.strokeWidth]:mQ(b),[tl.indicator.strokeWidth]:mQ(b)}),x&&(N={[tl.track.backgroundColor]:pb(x)});let k={...s,...tc({...T,...N,..._})};return"circular"==u?r.jsx(eV,{a11yText:e,size:n,style:k,text:l,value:v,...g}):r.jsx(tu,{a11yText:e,style:k,text:l,value:v,isProgressValueVisible:(y??i)&&v>-1,...g})}},Symbol.toStringTag,{value:"Module"})),m1=Object.freeze(Object.defineProperty({__proto__:null,default:function({inputProps:e,isCheckedBindingKey:t,isCheckedKey:i,isCheckedExpression:n,useUpdatedStyles:o=!1,...a}){let s=n9(i,t),l=dK(n),c=dq();return r.jsx(eA,{inputProps:{...e,checked:l??s??!1,disabled:c},useUpdatedStyles:o,...a})}},Symbol.toStringTag,{value:"Module"})),m2=Object.freeze(Object.defineProperty({__proto__:null,default:function({category:e="emphasized",emptyItem:t,filledItem:i,gapSize:n="1x",halfFilledItem:o,helperText:a,labelText:s,ratingValue:l,ratingValueExpression:c,...u}){let d=dK(c);return r.jsx(td,{category:e,emptyItem:t,filledItem:i,gapSize:n,halfFilledItem:o,helperText:a,labelText:s,ratingValue:d??l??0,...u})}},Symbol.toStringTag,{value:"Module"})),m3=Object.freeze(Object.defineProperty({__proto__:null,default:function({displayValueExpression:e,ratingValueBindingKey:t,ratingValueKey:i,writeValueBindingKey:n,labelText:o,emptyItem:a,filledItem:s,category:l,helperText:c,gapSize:u,targetSize:d,disabledBindingKey:p,disabledKey:f,isRequired:m,required:g,errorMessageBindingKey:h,errorMessageKey:y,onRatingSelected:b,validationStateBindingKey:x,validationStateKey:S,itemTrackingInfo:E,viewTrackingSpecs:v,...T}){let{jetCore:N}=tB().getClients(),{setValue:_}=n5(),k=dK(e),I=n9(i,t),O=n9(f,p??""),C=n9(y,h??""),P=n9(S,x??""),{func:R}=d_(b),w=dK(m),{isTrackingScopeRedesignEnabled:A=!1}=tB().getAppContext(),$=ra(v,A);return r.jsx(tp,{ratingValue:k??("number"==typeof I?I:0),labelText:!!o&&r.jsx(eT,{children:o}),emptyItem:a,filledItem:s,category:l,helperText:!!c&&r.jsx(ev,{children:c}),gapSize:u,targetSize:d,disabled:"boolean"==typeof O?O:void 0,required:w??g,errorMessageText:"Invalid"===P&&"string"==typeof C?C:void 0,onValueChange:e=>{n?_(n,parseInt(e)):i&&_(i,parseInt(e));try{R?.()}catch(e){N?.reportError(e)}},itemTrackingInfo:E,...T,...$})}},Symbol.toStringTag,{value:"Module"}));function m4({action:e,animationTarget:i,children:n,highlightedReaction:o,id:a,label:s,onClick:l,setHighlightedReaction:c,setHoveringReactionMenuItem:u,setIsMenuAnimating:d,setShowReactionMenu:p,setToggleReaction:f,showPopoverMenuBelow:m,viewTrackingSpecs:g,parentTrackingSpecs:h,isReacted:y,reactionsMenuTriggerRef:b,setIsMenuItemActionAnimating:x,...S}){let E=tB(),v=E.getClients(),{isTrackingScopeRedesignEnabled:T=!1}=E.getAppContext(),{func:N}=d_(e,{viewTrackingSpecs:g}),{onTrackClick:_}=ro(g,t.useRef(e?.tracking?.actionType))||{},k=ra(g,T);!T&&h?.trackingScope&&(k["data-view-tracking-scope"]=JSON.stringify(h.trackingScope));let I=()=>{u?.(!0),c?.(a)},O=()=>{u?.(!1),c?.(null)};return r.jsx(tf,{action:N,animationTarget:i,reactionsMenuTriggerRef:b,enlarge:null!==o&&o===a,enlargeIconIndex:o||-1,label:s,onBlur:O,onClick:e=>{_?.(e),l?.(e)},manualFireUnreact:e=>{y&&g&&t5(g,"SHORT_PRESS",v,"CUSTOM_CLIENT_TRIGGER",[],e,"unlikeUpdate",g.legacyControlName)},onFocus:I,onMouseEnter:I,onMouseLeave:O,setHighlightedReaction:c,setHoveringReactionMenuItem:u,setIsMenuAnimating:d,setIsMenuItemActionAnimating:x,setShowReactionMenu:p,setToggleReaction:f,showReactionMenuBelow:m,shrink:null!==o&&o!==a,...S,...k,children:n})}let m7=Object.freeze(Object.defineProperty({__proto__:null,default:function({openMenuA11YTriggerLabel:e,reactionMenuItemViewTrackingSpecs:i,reactionMenuItems:n,reactionStates:o,selectedReactionStateKey:a,selectedReactionStateBindingKey:s,viewTrackingSpecs:l,...c}){let u=t.useRef(null),d=t.useRef(null),[p,f]=t.useState(!1),[m,g]=t.useState(!1),[h,y]=t.useState(!1),[b,x]=t.useState(null),[S,E]=t.useState(!1),[v,T]=t.useState("initial"),[N,_]=t.useState(!1),{isTrackingScopeRedesignEnabled:k=!1}=tB().getAppContext(),I=ra(l,k),O=n9(s,a),C=O?.toString()??"Default",P=o.get(C),R=P?.component,w=!!P?.isReacted,A=dq(),$=n.map((e,t)=>r.jsx(m4,{action:e.clickAction,animationTarget:u.current,reactionsMenuTriggerRef:d,highlightedReaction:b,id:t,index:t,label:e.label,setHighlightedReaction:x,setHoveringReactionMenuItem:_,setIsMenuAnimating:g,setShowReactionMenu:f,setToggleReaction:T,showPopoverMenuBelow:h,viewTrackingSpecs:i,parentTrackingSpecs:l,isReacted:w,setIsMenuItemActionAnimating:E,children:e.el},t));return r.jsx(tm,{...c,...I,hoveringReactionMenuItem:N,isMenuAnimating:m,isReacted:w,isDisabled:A,items:$,openMenuA11YTriggerLabel:e,ref:u,reactionsMenuTriggerRef:d,setIsMenuAnimating:g,setShowReactionMenu:f,setShowReactionMenuBelow:y,setToggleReaction:T,showReactionMenu:p,showReactionMenuBelow:h,toggleReaction:v,viewTrackingSpecs:l,isMenuItemActionAnimating:S,children:R})}},Symbol.toStringTag,{value:"Module"}));function m5({actions:e,keepAlive:i,namespace:n}){let o=d_(e,{keepAlive:i,namespace:n}),a=t.useRef(!1);return t.useEffect(()=>{o&&!a.current&&(a.current=!0,o.func?.())},[]),r.jsx(r.Fragment,{children:o?.content})}let m6=Object.freeze(Object.defineProperty({__proto__:null,RealtimeActionRunner:function({actions:e}){let{subscribeToNamespace:i,unsubscribeFromNamespace:n}=n5(),[o,a]=t.useState(0),s=()=>{a(e=>e+1)};return t.useEffect(()=>(i(nq.REALTIME_HANDLERS,s),()=>{n(nq.REALTIME_HANDLERS,s)}),[n,o]),r.jsx(m5,{actions:e,keepAlive:!0,namespace:nq.REALTIME_HANDLERS},`action-runner-${o}`)}},Symbol.toStringTag,{value:"Module"})),m8=Object.freeze(Object.defineProperty({__proto__:null,Redirect:function({normalizeHash:e}){return t.useEffect(()=>{if(e){let e=window.location.hash;if(e){let{redirectUrl:t,searchParams:r}=function(e){let t;let r=new URLSearchParams;return e.forEach(e=>{if(e.includes("=")){let[i,...n]=e.split("="),o=n.join("=");if(i&&r.append(i,decodeURIComponent(o||"")),"state"===i){let{redirectUrl:e}=JSON.parse(decodeURIComponent(o||"{}"));e&&(t=new URL(decodeURIComponent(e||"")))}}}),{redirectUrl:t,searchParams:r}}(e.slice(1).split("&"));if(t&&["linkedin.com","www.linkedin.com"].includes(t.hostname))t.search=r.toString(),window.location.href=t.toString();else throw Error("Redirect URL is not a LinkedIn page")}}},[e]),r.jsx(F,{})}},Symbol.toStringTag,{value:"Module"})),m9=Object.freeze(Object.defineProperty({__proto__:null,ReplaceableComponent:function({componentKey:e,initialContent:i,...n}){let o=tB(),a=function(e){let r=()=>df.get(e);return t.useSyncExternalStore(t=>{let r=dm.get(e);return r||(r=new Set,dm.set(e,r)),r.add(t),()=>{let r=dm.get(e);r&&r.delete(t)}},r,r)}(e),s=a?.serverRequestRumPageKey?t6("replaceable_component_client_render",e):void 0;return s?.markStart(),t.useEffect(()=>{a?.serverRequestRumPageKey&&(s?.markEnd(),o.endRumSession())},[a]),r.jsx(W,{display:"replaceableComponent",...n,children:r.jsx(t.Fragment,{children:a?.content??i},`${e}-${a?.timestamp??0}`)})}},Symbol.toStringTag,{value:"Module"})),ge=Object.freeze(Object.defineProperty({__proto__:null,Screen:function({children:e,screenHash:i,screenId:n,onAppear:o,onReappear:a,onDisappear:s,onBackOverride:l,shouldOverrideBack:c,shouldFireReappearOnAppForeground:u,shouldFireReappearOnModalClose:d,oopsTrackingViewNames:p}){let f=tB(),{jetCore:m}=f.getClients(),{isInteropVisible:g}=tV(),{screenHistory:h,screenId:y}=tF(),{pageReappearDataRef:b}=r9(),x=d_(o),S=d_(a),E=d_(s),v=d_(l),{store:T,setValue:N}=n5();return t.useEffect(()=>{null!=n&&n===y&&(d&&a?b.current={onReappearAction:a,screenId:n}:b.current=null)},[n,y,d,a,b]),t.useEffect(()=>{p&&p.length>0&&m.reportOops(new rv("Oops page triggered on Screen due to data-aware failure. See tags for failed view names.",{id:y,targetViewNames:[f.getInitialContext().pageKey],tags:p,isSyntheticOops:!0}))},[p,y]),t.useEffect(()=>{h&&N({key:{$type:"proto.sdui.Key",value:{$case:"id",id:"screenHistory"}}},h)},[h]),t.useEffect(()=>{if(!v?.func)return;let e=$.onCloseSubscribe(()=>{let e=!1;return!0===(!!c&&(sB(c,void 0,T)??!1))&&v?.func&&(v.func(),e=!0),e});return()=>{e()}},[v,c,T]),t.useEffect(()=>{x&&!g&&x.func?.();let e=e=>{g||E?.func?.(e)},t=e=>{!g&&("hidden"===document.visibilityState?E?.func?.(e):"visible"!==document.visibilityState||(x?.func?.(e),u||d||S?.func?.(e)))},r=e=>{g||!u||d||S?.func?.(e)},i=()=>{g||og.set(Date.now())};return window.addEventListener("beforeunload",e),document.addEventListener("visibilitychange",t),window.addEventListener("focus",r),window.addEventListener("blur",i),()=>{E&&E.func?.(),window.removeEventListener("beforeunload",e),document.removeEventListener("visibilitychange",t),window.removeEventListener("focus",r),window.removeEventListener("blur",i)}},[g]),r.jsxs(io,{screenHash:i,screenId:n,children:[e,x?.content,S?.content,E?.content]})}},Symbol.toStringTag,{value:"Module"})),gt=Object.freeze(Object.defineProperty({__proto__:null,Option:function({label:e,value:t,disabled:i,selected:n}){return r.jsx(eF,{label:e,value:t,disabled:i,selected:n})},Select:function({label:e,helperText:t,onSelect:i,onFocusIn:n,onFocusOut:o,options:a=[],valueStateKey:s,selectProps:l,isRequiredExpression:c,size:u="small",validationStateBindingKey:d,validationStateKey:p,errorMessageBindingKey:f,errorMessageKey:m,viewTrackingSpecs:g,...h}){let y=dK(c)??l?.required,{func:b}=d_(i,{viewTrackingSpecs:g}),{onTrackClick:x}=ro(g,"SHORT_PRESS")||{},S=pU({onFocusInAction:n,onFocusOutAction:o,viewTrackingSpecs:g}),E=sM(s?[s]:[]),v=E[0]?.value??"",T=n9(p,d||void 0),N=n9(m,f),_=dq()||l?.disabled||!1,{setValue:k}=n5();return r.jsx(eU,{labelText:r.jsx(eT,{children:e}),helperText:t?r.jsx(ev,{children:t}):void 0,errorMessageText:N,isInvalid:"Invalid"===T,options:a,size:u,selectProps:{...l,required:y,value:v,disabled:_,...S,onClick:x},onChange:e=>{s&&k(s,e.target.value),b?.()},...h})}},Symbol.toStringTag,{value:"Module"})),gr=Object.freeze(Object.defineProperty({__proto__:null,SelectableGroup:function({content:e,validationStateBindingKey:i,validationStateKey:n,errorMessageBindingKey:o,errorMessageKey:a,required:s}){let l=t.useId(),c=`error-message-${l}`,u=n9(n,i??""),d=n9(a,o??""),p="string"==typeof d&&"Invalid"===u?d:"";return r.jsxs(tg,{value:{required:s},children:[r.jsx("fieldset",{"aria-describedby":c,"aria-required":s,children:e}),p&&r.jsx(W,{id:c,children:r.jsx(eM,{category:"supportive",color:"negative",fontSize:"small",tagName:"p",children:p})})]})}},Symbol.toStringTag,{value:"Module"}));function gi({valueBindingKey:e,inputProps:i,defaultValue:n,label:o,onChangeAction:a,boundsLabelPosition:s,startIcon:l,endIcon:c,orientation:u,step:d,minBound:p,maxBound:f,onHandleRelease:m,trackingProps:g,startIconDisabled:h,endIconDisabled:y,tapTarget:b,...x}){let{store:S}=n5(),E=n9(e,e?.value??""),{func:v}=d_(a),T=t.useCallback(t=>{let r=parseFloat(t);isNaN(r)&&(r=0),v?.(t),e&&(sj(e,r,void 0,S),sj(e,r))},[e,v,S]);return r.jsx(th,{endIcon:c,startIcon:l,labelText:!!o&&r.jsx(eT,{children:o}),inputProps:{...i,min:p??0,max:f??0,step:d??1},orientation:u,boundsLabelPosition:s,showTooltip:!0,value:"number"==typeof E?E:n,onValueChange:T,onHandleRelease:m,tapTarget:b,...x,...g})}function gn({minValueBindingKey:e,maxValueBindingKey:i,inputProps:n,label:o,onChangeAction:a,boundsLabelPosition:s,startIcon:l,endIcon:c,orientation:u,step:d,minBound:p,maxBound:f,onHandleRelease:m,trackingProps:g,startIconDisabled:h,endIconDisabled:y,...b}){let{store:x}=n5(),S=n9(e),E=n9(i,i?.value??""),v="number"==typeof S?S:p??0,T="number"==typeof E?E:f??0,{func:N}=d_(a),_=t.useCallback(e=>{let t=parseFloat(e);isNaN(t)&&(t=0),N?.(e),i&&(sj(i,t,void 0,x),sj(i,t))},[i,N,x]),k=t.useCallback(t=>{let r=parseFloat(t);isNaN(r)&&(r=p??0),N?.(t),e&&(sj(e,r,void 0,x),sj(e,r))},[e,N,x,p]);return r.jsx(th,{endIcon:c,startIcon:l,labelText:!!o&&r.jsx(eT,{children:o}),inputProps:{...n,min:p??0,max:f??0,step:d??1},orientation:u,boundsLabelPosition:s,showTooltip:!0,minValue:v,maxValue:T,onMinValueChange:k,onMaxValueChange:_,onHandleRelease:m,...b,...g})}let go=Object.freeze(Object.defineProperty({__proto__:null,Slider:function(e){let{minValueBindingKey:i,maxValueBindingKey:n,stepValue:o,maxBound:a,minBound:s,onReleaseAction:l,viewTrackingSpecs:c,defaultValue:u,tapTarget:d,...p}=e,f=dK(o),m=dK(a),g=dK(s),{func:h,actionType:y}=d_(l),{onTrackClick:b}=ro(c,t.useRef("object"==typeof y?y.current:y??l?.tracking?.actionType))??{},x=t.useCallback(e=>{h?.(e),b?.(e)},[h,b]),{isTrackingScopeRedesignEnabled:S=!1}=tB().getAppContext(),E={step:f,minBound:g,maxBound:m,onHandleRelease:x,trackingProps:ra(c,S)};return i?r.jsx(gn,{minValueBindingKey:i,maxValueBindingKey:n,...E,...p}):r.jsx(gi,{valueBindingKey:n,defaultValue:u,tapTarget:d,...E,...p})}},Symbol.toStringTag,{value:"Module"})),ga=Object.freeze(Object.defineProperty({__proto__:null,default:function({text:e,icon:t,activeIcon:i,onClickAction:n,badgeInfo:o,id:a}){let s;let l=d_(n),{countStateKey:c,source:u,...d}=o||{},p=ou(u,c??"");return void 0!==p&&p>0&&(s={...d,count:p}),r.jsx(ty,{text:e,icon:t,activeIcon:i,id:a,badge:s,onClick:l.func})}},Symbol.toStringTag,{value:"Module"})),gs=Object.freeze(Object.defineProperty({__proto__:null,default:function({tabs:e,tabPanels:t,imagePosition:i,currentTabIndexBindingKey:n,highlightColor:o,tabsWidth:a,...s}){let l=sL(n??"");return r.jsx(tb,{tabs:e,tabPanels:t,iconPosition:i,currentTabIndex:"number"==typeof l?l:0,highlightColor:o,tabsWidth:a,...s})}},Symbol.toStringTag,{value:"Module"})),gl="((25[0-5]|2[0-4][0-9]|[0-1][0-9]{2}|[1-9][0-9]|[1-9])\\.(25[0-5]|2[0-4][0-9]|[0-1][0-9]{2}|[1-9][0-9]|[1-9]|0)\\.(25[0-5]|2[0-4][0-9]|[0-1][0-9]{2}|[1-9][0-9]|[1-9]|0)\\.(25[0-5]|2[0-4][0-9]|[0-1][0-9]{2}|[1-9][0-9]|[0-9]))",gc=`a-zA-Z0-9\\u00A1-\\u2000\\u200A-\\u2027\\u202B-\\u202E\\u2030-\\u2FFF\\u3001-\\uFFEF\\uF900-\\uFDCF\\uFDF0-\\uFFEF`,gu=`[${gc}](?:[${gc}_\\-]{0,61}[${gc}]){0,1}`,gd="(?:\\b|$|^)",gp=":\\d{1,5}",gf=`[\\/\\?](?:(?:[${gc}\\;\\/\\?\\:\\@\\&\\=\\#\\~\\-\\.\\+\\!\\*\\'\\(\\)\\,\\_\\$])|(?:\\%[a-fA-F0-9]{2}))*`,gm=`(?:(?:${gu}\\.)+(?:(?:(com|net|de|day|tk|cn|uk|org|ru|info|top|nl|eu|fr|xyz|br|au|ca|ga|it|cf|us|icu|io|pl|co|ml|in|biz|club|site|se|gq|online|za|be|tw|es|jp|vip|at|xn--p1ai|cz|dk|loan|me|cc|mx|shop|kr|ch|ir|edu|gov|tv|nz))|xn\\-\\-[\\w\\-]{0,58}\\w))`,gg=`(?:${gm}|${gl})`,gh=`(?:(?:${gu}(?:\\.(?=\\S))?)+|${gl})`,gy=`(${gd}(((?:${gg})(?:${gp})?)(?:${gf})?)${gd})`,gb=`(${gd}((?:(?:([hH][tT][tT][pP][sS]?|[rR][tT][sS][pP]):\\/\\/(?:(?:[a-zA-Z0-9\\$\\-\\_\\.\\+\\!\\*\\'\\(\\)\\,\\;\\?\\&\\=]|(?:\\%[a-fA-F0-9]{2})){1,64}(?:\\:(?:[a-zA-Z0-9\\$\\-\\_\\.\\+\\!\\*\\'\\(\\)\\,\\;\\?\\&\\=]|(?:\\%[a-fA-F0-9]{2})){1,25})?\\@)?)(?:${gh})?(?:${gp})?)(?:${gf})?)${gd})`,gx=RegExp(`(${gb}|${gy})`),gS=["","","","","","","","","","","","","","","","","","","","","","","","","","","",""];function gE(e){if(!e||"string"!=typeof e)return!1;let t=e.match(gx);return!!t&&t[0]===e}function gv(e=""){let t=e.replace(/[,.;!?"]+$/,"");return t.startsWith("(")&&t.endsWith(")")&&(t=t.substring(1,t.length-1)),t.replace(/^[/,.;!?("]+/,"")}function gT(e){if(!e||!gx.test(e))return null;let t=e.match(gx);return t&&t[0]||null}let gN="local";function g_(e){let t=0;return e.state.doc.descendants(e=>("paragraph"===e.type.name&&e.textContent.trim().length>0&&t++,!0)),t}let gk=Object.freeze(Object.defineProperty({__proto__:null,TextEditor:function({placeholder:e,placeholderDir:i,textBindingKey:n,richTextBindingKey:o="",richTextBindingStateKey:a,textToInsertBindingKey:s="",charCountBindingKey:l,charCountStateKey:c,richTextLineCountKey:u,onValueChange:p,boldBindingKey:f="",italicBindingKey:m="",orderedListBindingKey:h="",unorderedListBindingKey:y="",linkPreviewURLBindingKey:b="",debounce:x,isHashtagEnabled:S,richTextChangedKey:E,minLines:N,maxLines:_,viewTrackingSpecs:k,onFocusIn:I,onFocusOut:O,...C}){let{lixClient:P}=tQ(),R=P?.getTreatmentIsEnabled("web.recoverable-error-boundaries"),{setValue:w}=n5(),A=t.useRef(!1),{onMentionHandler:$,onKeyDown:L,debounce:M,cursorRef:D,defaultStartCharacter:U}=md(),F=t.useRef(null),j=sL(n),B=n9(a,o),V=sL(s),K=t.useMemo(()=>B?sv(B)?B:sE(B)?sN(B):sT():void 0,[B]),W=t.useRef(void 0),{func:J}=d_(p),G=pU({onFocusInAction:I,onFocusOutAction:O,viewTrackingSpecs:k}),z=sL(f),H=sL(m),q=sL(h),Y=sL(y),X=e=>{F.current=e},Z=e=>{if(b){let t=function(e="",t){let r=e,i=RegExp(gS.join("|"),"g"),n=e.match(i);return n?.forEach(e=>{r=r.replace(e," ")}),(r?r.split(/\s+/):[]).map(gv).filter(gE).map(gT).filter(e=>!!e)}(e);w({value:b},t?.[0]??"")}};t.useEffect(()=>{(a||o)&&E&&(W.current=K,w(E,!1))},[]),t.useEffect(()=>{if(!F.current)return;let e=F.current;if(f&&void 0!==z&&e.isActive("bold")!==z&&e.chain().focus().toggleBold().run(),m&&void 0!==H&&e.isActive("italic")!==H&&e.chain().focus().toggleItalic().run(),h||y){let t=e.isActive("orderedList"),r=e.isActive("bulletList");h&&q!==t&&e.chain().focus().toggleOrderedList().run(),y&&Y!==r&&e.chain().focus().toggleBulletList().run()}},[z,H,q,Y,f,m,h,y]),t.useEffect(()=>{if(!F.current)return;let e=F.current;(sE(B)||sv(B))&&B?.source!==gN&&K?e.chain().setContent(K).run():"string"==typeof j&&(A.current||e.chain().setContent(sT(j)).run(),A.current=!1),u&&w({value:u},g_(e)),b&&Z(e.getText().trim())},[j,B,K,u,b]),t.useEffect(()=>{if(!F.current)return;let e=F.current;"string"!=typeof V||""==V||A.current||e.chain().insertContent({type:"text",text:` ${V} `}).focus().run()},[V]);let Q=()=>{if(!F.current)return;let e=F.current,t=e.getText(),r=t.trim();if(A.current=!0,w({value:n},r),Z(r),a||o){let t=function(e){if(!e||"doc"!==e.type||!e.content)return{text:"",attribute:[],$type:"TextModel"};let t=sk(e);return{text:t.text,attribute:t.attributes,$type:"TextModel"}}(e.getJSON());if(t.source=gN,a?w(a,t):w({value:o},t),E){let r=W.current;w(E,r?!function(e,t){let r=sI(e),i=sI(t);return r.text===i.text&&T(r.attribute,i.attribute)}(r,t):!e.isEmpty)}}c?w(c,t.length):l&&w({value:l},t.length),f&&w({value:f},e.isActive("bold")),m&&w({value:m},e.isActive("italic")),h&&w({value:h},e.isActive("orderedList")),y&&w({value:y},e.isActive("bulletList")),u&&w({value:u},g_(e)),J&&d(J,x)()},ee=()=>{if(!F.current)return;let e=F.current;f&&w({value:f},e.isActive("bold")),m&&w({value:m},e.isActive("italic")),h&&w({value:h},e.isActive("orderedList")),y&&w({value:y},e.isActive("bulletList"))},et={bold:!!f,italic:!!m,orderedList:!!h,unorderedList:!!y,hashtag:S},er=K??("string"==typeof j?sT(j):void 0),ei="",en=Array.isArray(e)?e[0]:e,{bindingKey:eo,i18nPattern:ea}=en?.props??{},es=n9(eo,eo?.value??"");if("string"==typeof en)ei=en;else if(es&&ea){let e=v(ea.pattern,ea.locale)([es]);ei="string"==typeof e?g.htmlUnencode(e):e}return R?r.jsx(mJ,{autoRecover:!1,tags:["text-editor"],compact:!0,children:r.jsx(tx,{editorRef:X,placeholder:{text:ei,dir:i},onInput:Q,mentionOptions:{onMentionHandler:$,onKeyDown:L,debounce:M,defaultStartCharacter:U},onSelectionUpdate:ee,initialContent:er,enabledFormats:et,minLines:N,maxLines:_,cursorRef:D,...G,...C})}):r.jsx(tx,{editorRef:X,placeholder:{text:ei,dir:i},onInput:Q,mentionOptions:{onMentionHandler:$,onKeyDown:L,debounce:M,defaultStartCharacter:U},onSelectionUpdate:ee,initialContent:er,enabledFormats:et,minLines:N,maxLines:_,cursorRef:D,...G,...C})}},Symbol.toStringTag,{value:"Module"})),gI=Object.freeze(Object.defineProperty({__proto__:null,default:function({characterLimitExpression:e,label:i,helperText:n,errorMessageBindingKey:o,validationStateBindingKey:a,valueStateKey:s,numVisibleLines:l,onBlurAction:c,onFocusInAction:u,onChangeAction:p,inputProps:f={},isRequiredExpression:m,isReadOnlyExpression:g,isResizableExpression:h,isTextMaskedExpression:y,viewTrackingSpecs:b,size:x,maxLength:S,debounce:E,endComponent:v,...T}){let{setValue:N}=n5(),_=dK(e)??S,k=sL(a||""),I="string"==typeof k?k:"",O=sL(o||""),C="string"==typeof O?O:void 0,P=n9(s,"",void 0,void 0,s?.isEncrypted??!1),[R,w]=t.useState(void 0===P?"":String(P));t.useEffect(()=>{w(void 0===P?"":String(P))},[P]);let A=dq(),$=dK(m),L=dK(g),M=dK(h),D=dK(y)??!0,U=f.type||"text";f.required=$??f.required,f.readOnly=L??f.readOnly;let F=pU({onFocusInAction:u,onFocusOutAction:c,viewTrackingSpecs:b}),{func:j}=d_(p),B=t.useRef(j);t.useEffect(()=>{B.current=j},[j]);let V=t.useRef(null);t.useEffect(()=>(V.current?.cancel(),B.current?V.current=d(()=>{B.current?.()},E??0):V.current=null,()=>{V.current?.cancel()}),[E]);let K=t.useCallback(e=>{w(e);let t=e;"number"===U&&isNaN(t=parseInt(e))&&(t=0),s&&(N(s,t,!0),sK([s])),V.current&&V.current()},[U,s]);return l<=1?r.jsx(ek,{labelText:!!i&&r.jsx(eT,{children:i}),helperText:!!n&&r.jsx(ev,{children:n}),errorMessageText:C,isInvalid:"Invalid"===I,onValueChange:K,inputProps:{...f,type:"password"!==U||D?U:"text",value:R,...F,disabled:A},size:x,maxLength:_,endIconButton:v,...T}):r.jsx(eD,{labelText:!!i&&r.jsx(eT,{children:i}),helperText:!!n&&r.jsx(ev,{children:n}),errorMessageText:C,isInvalid:"Invalid"===I,onValueChange:K,textAreaProps:{...f,value:R,rows:l,...F,disabled:A},size:x,maxLength:_,isResizable:M,...T})}},Symbol.toStringTag,{value:"Module"}));function gO({stateKey:e,bindingKey:t,i18nPattern:r,defaultValue:i,prefix:n="",suffix:o=""}){return gC(n9(t,e)??i,r,n,o)}function gC(e,t,r,i){if(void 0===e)return null;if(t){let n=v(t.pattern,t.locale)([e]);return"string"==typeof n?`${r}${g.htmlUnencode(n)}${i}`:n}return`${r}${e}${i}`}let gP=Object.freeze(Object.defineProperty({__proto__:null,default:gO,formatI18nString:gC},Symbol.toStringTag,{value:"Module"}));function gR(e,t){let r=[...e.attribute],i=e.text;if(t){let e=RegExp(t,"gi");for(let t of i.matchAll(e)){let e={start:t.index,length:t[0].length,type:{$case:"style",style:"StyleType_HIGHLIGHTED"}};r.push(e)}}return 0===r.length?{type:"root",children:[{type:"text",text:i}]}:function(e){let t={type:"root",children:[]},r=Array(t),i=t,n=()=>r[r.length-1]||t;for(let t of e){let e=n();if("codepoint"===t.type){if("text"===i.type)i.text+=t.char;else{let e={type:"text",text:t.char};i.children.push(e),i=e}}else if("attributeStart"===t.type){let n={type:"attribute",attribute:t.attribute.type,children:[]};e.children.push(n),r.push(n),i=n}else"attributeEnd"===t.type&&(r.pop(),i=n())}return t}(function(e,t){let r=[],i=(e,i)=>{r.push(...function(e,t){let r=t.filter(t=>e===t.start).map(e=>({type:"attributeStart",attribute:e})),i=t.filter(t=>e===t.start+t.length).map(e=>({type:"attributeEnd",attribute:e})),n=r.concat(i);return n.sort(gw),n}(e,t)),i&&r.push({type:"codepoint",char:i})},n=0;for(let t of e)i(n++,t);return i(e.length),r}(i,r))}function gw(e,t){return e.attribute.start!==t.attribute.start?e.attribute.start-t.attribute.start:e.attribute.length!==t.attribute.length?t.attribute.length-e.attribute.length:gA(e.attribute.type)-gA(t.attribute.type)}function gA(e){if(!e)return 4;if(e.$case in["bindableInt","textBindable"])return 5;if("action"===e.$case)return 3;if("style"===e.$case){if("StyleType_PARAGRAPH"===e.style)return 0;if("StyleType_ORDERED_LIST"===e.style||"StyleType_UNORDERED_LIST"===e.style)return 1;if("StyleType_LIST_ITEM"===e.style)return 2}return 4}function g$({expression:e,i18nPattern:t,prefix:r="",suffix:i=""}){let n;let{expression:o}=e,a=dK(o?.$case==="booleanExpression"?o.booleanExpression:void 0),s=dK(o?.$case==="integerExpression"?o.integerExpression:void 0),l=dK(o?.$case==="longExpression"?o.longExpression:void 0);if(!o?.$case)return null;switch(o.$case){case"booleanExpression":n=a??!1;break;case"integerExpression":n=s??0;break;case"longExpression":n=l??0n}return gC(n,t,r,i)}let gL=Object.freeze(Object.defineProperty({__proto__:null,default:g$},Symbol.toStringTag,{value:"Module"}));function gM(e){if(e.content?.$case==="typeStyle"){let{fontFamily:t,fontSize:r,fontStyle:i,fontWeight:n,lineHeight:o}=e.content.typeStyle;return{fontFamily:eg.getFontFamilyById(t),fontSize:eg.getFontSizeById(r),fontStyle:eg.getFontStyleById(i),fontWeight:eg.getFontWeightById(n),lineHeight:eg.getLineHeightById(o)}}return e.content&&eg.getTypeStyleById(e.content.identifier)}let gD=/^\s+/,gU=/\s+$/,gF=/[^\s]+\s+$/;function gj({textModel:e,props:t,viewTrackingSpecs:i}){let{locale:n,verticalAlign:o,linkStyle:a}=t;return function e(t,i,n,o,a,s){switch(t.type){case"text":return t.text;case"attribute":return function(e,t,i="",n="",o,a,s,l,c){let u;if(!e)return t;switch(e.$case){case"style":return function(e,t,i,n,o){let a=gB[e]??"span";return"StyleType_ORDERED_LIST"===e?r.jsx(gW,{prefix:i,suffix:n,children:r.jsx(W,{tagName:a,insetStart:"2x",listStyle:"decimal",children:t})},o):"StyleType_UNORDERED_LIST"===e?r.jsx(gW,{prefix:i,suffix:n,children:r.jsx(W,{tagName:a,insetStart:"2x",listStyle:"disc",children:t})},o):r.jsx(gW,{prefix:i,suffix:n,children:r.jsx(a,{children:t})},o)}(e.style,t,i,n,a);case"action":return r.jsx(gW,{prefix:i,suffix:n,children:r.jsx(ms,{action:e.action,viewTrackingSpecs:l,linkStyle:c,children:t})},a);case"textBindable":if(!e.textBindable.bindable?.key?.value)return null;return r.jsx(gO,{stateKey:e.textBindable.bindable.key.value,bindingKey:e.textBindable.bindable.key,i18nPattern:{pattern:e.textBindable.pattern,locale:o},defaultValue:function(e){if(!e?.content?.$case)return 0;switch(e.content?.$case){case"booleanBinding":return!1;case"stringBinding":return""}return 0}(e.textBindable.bindable),prefix:i,suffix:n},a);case"icon":if(e.icon.color&&(u=py(e.icon.color)),"middle"===s)return r.jsx(gW,{prefix:i,suffix:n,children:r.jsx(W,{tagName:"span",position:"ghostRelative",display:"inlineBlock",...e.icon.a11yLabel?{role:"img","aria-label":e.icon.a11yLabel}:{"aria-hidden":!0},children:r.jsx(eO,{color:u,imageId:e.icon.id,display:"inlineBlock",position:"center"})})},a);return r.jsx(gW,{prefix:i,suffix:n,children:r.jsx(eO,{color:u,imageId:e.icon.id,display:"inlineBlock",verticalAlign:s,...e.icon.a11yLabel?{"aria-label":e.icon.a11yLabel,"aria-hidden":!1}:{}})},a);case"color":return r.jsx(gW,{prefix:i,suffix:n,children:r.jsx(W,{tagName:"span",color:py(e.color),children:t})},a);case"textStyle":return r.jsx(gW,{prefix:i,suffix:n,children:r.jsx(W,{tagName:"span",...gM(e.textStyle),children:t})},a);case"mention":return r.jsx(gW,{prefix:i,suffix:n,children:r.jsx(W,{tagName:"span",children:t})},a);case"textExpression":if(!e.textExpression.expression)return null;return r.jsx(g$,{expression:e.textExpression.expression,i18nPattern:{pattern:e.textExpression.pattern,locale:o},prefix:i,suffix:n});default:return t}}(t.attribute,gV(t.children).map((t,r)=>e(t,i,`text-attr-${r}`,o,a,s)),t.prefix,t.suffix,i,n,o,a,s);case"root":return gV(t.children).map((t,r)=>e(t,i,`text-attr-${r}`,o,a,s));default:return null}}(gR(e),n,"text-attr",o,i,a)}let gB={StyleType_BOLD:"strong",StyleType_ITALIC:"em",StyleType_PARAGRAPH:"p",StyleType_ORDERED_LIST:"ol",StyleType_UNORDERED_LIST:"ul",StyleType_LIST_ITEM:"li",StyleType_STRIKETHROUGH:"s",StyleType_UNKNOWN:"span",StyleType_SUBSCRIPT:"sub",StyleType_SUPERSCRIPT:"sup",StyleType_HIGHLIGHTED:"mark"};function gV(e){let t="",r=[];for(let i of e)switch(i.type){case"text":t+=i.text;break;case"attribute":t?(r.push({prefix:t,...i}),t=""):r.push(i);break;case"root":r=gV(i.children);break;default:r.push(i)}if(t){let e=r[r.length-1];e&&"attribute"===e.type?e.suffix=t:r.push({text:t,type:"text"})}return r}let gK=({text:e})=>{if(!e)return r.jsx(r.Fragment,{});let i=r.jsx(W,{tagName:"span",whiteSpace:"pre",children:" "}),n=e=>r.jsx(r.Fragment,{children:Array.from({length:e}).map((e,t)=>r.jsx("br",{},t))}),o=e.replace(gD,"").replace(gU,""),a=e.match(gD)?.[0],s=a?.match(/\n/g)?.length,l=s?n(s):i,c=gF.test(e)??!1,u=e.match(gU)?.[0],d=u?.match(/\n/g)?.length,p=d?n(d):i,f=o.split("\n"),m=1===f.length?o:f.map((e,i)=>r.jsxs(t.Fragment,{children:[i>0?r.jsx("br",{}):null,e]},i));return r.jsxs(r.Fragment,{children:[a?l:null,m,c?p:null]})},gW=({prefix:e,suffix:t,children:i})=>e||t?r.jsxs(r.Fragment,{children:[r.jsx(gK,{text:e}),i,r.jsx(gK,{text:t})]}):i,gJ=Object.freeze(Object.defineProperty({__proto__:null,default:function({stateKey:e,props:t,viewTrackingSpecs:i}){let n=oe(e);return n?r.jsx(gj,{textModel:n,props:t,viewTrackingSpecs:i}):null}},Symbol.toStringTag,{value:"Module"})),gG=Object.freeze(Object.defineProperty({__proto__:null,default:function({maxLineCountExpression:e,textColorExpression:t,textProps:i}){let n=dK(e),o=dK(t),a=tS(n)?n:void 0,s=py(o);return a&&(i.lineClamp=a),s&&(i.color=py(o)),r.jsx(tE,{...i})}},Symbol.toStringTag,{value:"Module"})),gz=Object.freeze(Object.defineProperty({__proto__:null,default:function({expansionKey:e,bindingKey:t,expandButtonTextColorExpression:i,maxLineCountExpression:n,textColorExpression:o,textProps:a,onShowMoreAction:s,onShowLessAction:l,viewTrackingSpecs:c,isExpandableTextV2Enabled:u=!1}){let{isSsrStoreEnabled:d}=nX()||{isSsrStoreEnabled:!1},p=dK(i),f=dK(n),m=dK(o),g=n9(t,e),h=tS(f)?f:void 0,y=py(m),b="Expanded"===g,{func:x}=d_(s),{func:S}=d_(l),{viewName:E}=c||{},v={};E&&(v["data-view-name"]=E);let{onTrackClick:T}=ro(c,b?l?.tracking?.actionType:s?.tracking?.actionType)||{},N=e=>t=>{t&&T&&T(t),e?.()},_=N(x),k=N(S);if(!a.lineClamp&&!h)throw Error("Expandable Text requires a valid line clamp value from maxLineCountExpression");y&&(a.color=py(m));let I={};p&&(I={[tv.text.color]:pb(p)});let O={...tc({...I})};return u?r.jsx(tT,{...a,...v,textColor:a.color,expandButtonTextStyle:O,lineClamp:h??a.lineClamp,isExpanded:b,hasShowLess:!!S,onShowMore:_,onShowLess:k,isSsrStoreEnabled:d}):r.jsx(tN,{...a,...v,textColor:a.color,expandButtonTextStyle:O,lineClamp:h??a.lineClamp,isExpanded:b,hasShowLess:!!S,onShowMore:_,onShowLess:k,isSsrStoreEnabled:d})}},Symbol.toStringTag,{value:"Module"})),gH=Object.freeze(Object.defineProperty({__proto__:null,default:function({maxLineCountExpression:e,textColorExpression:t,textProps:i}){let n=dK(e),o=dK(t),a=tS(n)?n:void 0,s=py(o);return a&&(i.lineClamp=a),s&&(i.color=py(o)),r.jsx(eM,{...i})}},Symbol.toStringTag,{value:"Module"})),gq=/^\s+/,gY=/\s+$/,gX=/[^\s]+\s+$/,gZ={StyleType_BOLD:"strong",StyleType_ITALIC:"em",StyleType_PARAGRAPH:"p",StyleType_ORDERED_LIST:"ol",StyleType_UNORDERED_LIST:"ul",StyleType_LIST_ITEM:"li",StyleType_STRIKETHROUGH:"s",StyleType_UNKNOWN:"span",StyleType_SUBSCRIPT:"sub",StyleType_SUPERSCRIPT:"sup",StyleType_HIGHLIGHTED:"mark"};function gQ(e){let t="",r=[];for(let i of e)switch(i.type){case"text":t+=i.text;break;case"attribute":t?(r.push({prefix:t,...i}),t=""):r.push(i);break;case"root":r=gQ(i.children);break;default:r.push(i)}if(t){let e=r[r.length-1];e&&"attribute"===e.type?e.suffix=t:r.push({text:t,type:"text"})}return r}let g0=({text:e,preserveLineBreaks:t})=>{if(!e)return r.jsx(r.Fragment,{});let i=r.jsx(W,{tagName:"span",whiteSpace:"pre",children:" "}),n=e=>r.jsx(r.Fragment,{children:Array.from({length:e}).map((e,t)=>r.jsx("br",{},t))}),o=e.replace(gq,"").replace(gY,""),a=e.match(gq)?.[0],s=a?.match(/\n/g)?.length,l=s&&t?n(s):i,c=gX.test(e)??!1,u=e.match(gY)?.[0],d=u?.match(/\n/g)?.length,p=d&&t?n(d):i;return r.jsxs(r.Fragment,{children:[a?l:null,o,c?p:null]})},g1=({prefix:e,suffix:t,children:i,preserveLineBreaks:n})=>e||t?r.jsxs(r.Fragment,{children:[r.jsx(g0,{text:e,preserveLineBreaks:n}),i,r.jsx(g0,{text:t,preserveLineBreaks:n})]}):i,g2=Object.freeze(Object.defineProperty({__proto__:null,default:function({textModel:e,props:i,viewTrackingSpecs:n}){let o=t.useContext(pr),{locale:a,verticalAlign:s,linkStyle:l,preserveLineBreaks:c}=i;return function e(t,i,n,o,a,s,l){switch(t.type){case"text":return t.text;case"attribute":return function(e,t,i="",n="",o,a,s,l,c,u){let d;if(!e)return t;switch(e.$case){case"style":return function(e,t,i,n,o,a){let s=gZ[e]??"span";return"StyleType_ORDERED_LIST"===e?r.jsx(g1,{prefix:i,suffix:n,preserveLineBreaks:a,children:r.jsx(W,{tagName:s,insetStart:"2x",listStyle:"decimal",children:t})},o):"StyleType_UNORDERED_LIST"===e?r.jsx(g1,{prefix:i,suffix:n,preserveLineBreaks:a,children:r.jsx(W,{tagName:s,insetStart:"2x",listStyle:"disc",children:t})},o):r.jsx(g1,{prefix:i,suffix:n,preserveLineBreaks:a,children:r.jsx(s,{children:t})},o)}(e.style,t,i,n,a,u);case"action":return r.jsx(g1,{prefix:i,suffix:n,preserveLineBreaks:u,children:r.jsx(ms,{action:e.action,viewTrackingSpecs:l,linkStyle:c,children:t})},a);case"textBindable":if(!e.textBindable.bindable?.key?.value)return null;return r.jsx(gO,{stateKey:e.textBindable.bindable.key.value,bindingKey:e.textBindable.bindable.key,i18nPattern:{pattern:e.textBindable.pattern,locale:o},defaultValue:function(e){if(!e?.content?.$case)return 0;switch(e.content?.$case){case"booleanBinding":return!1;case"stringBinding":return""}return 0}(e.textBindable.bindable),prefix:i,suffix:n},a);case"icon":if(e.icon.color&&(d=py(e.icon.color)),"middle"===s)return r.jsx(g1,{prefix:i,suffix:n,preserveLineBreaks:u,children:r.jsx(W,{tagName:"span",position:"ghostRelative",display:"inlineBlock",children:r.jsx(eO,{color:d,imageId:e.icon.id,display:"inlineBlock",position:"center"})})},a);return r.jsx(g1,{prefix:i,suffix:n,preserveLineBreaks:u,children:r.jsx(eO,{color:d,imageId:e.icon.id,display:"inlineBlock",verticalAlign:s})},a);case"color":return r.jsx(g1,{prefix:i,suffix:n,preserveLineBreaks:u,children:r.jsx(W,{tagName:"span",color:py(e.color),children:t})},a);case"textStyle":return r.jsx(g1,{prefix:i,suffix:n,preserveLineBreaks:u,children:r.jsx(W,{tagName:"span",...gM(e.textStyle),children:t})},a);default:return t}}(t.attribute,gQ(t.children).map((t,r)=>e(t,i,`text-attr-${r}`,o,a,s,l)),t.prefix,t.suffix,i,n,o,a,s,l);case"root":return gQ(t.children).map((t,r)=>e(t,i,`text-attr-${r}`,o,a,s,l));default:return null}}(gR(e,o),a,"text-attr",s,n,l,c)}},Symbol.toStringTag,{value:"Module"})),g3="undefined"!=typeof window,g4=null,g7=["google.com/recaptcha/api2/bframe","google.com/recaptcha/enterprise/bframe"],g5={position:"fixed",display:"block",top:"50%",left:"50%",transform:"translate(-50%, -50%)","z-index":"2147483647","max-width":"450px","max-height":"90vh",overflow:"hidden",margin:"0","background-color":"white","border-radius":"8px","box-shadow":"0 4px 20px rgba(0, 0, 0, 0.3)"},g6=e=>{let{lixClient:r}=tQ(),i=r?.getTreatmentIsEnabled("web.recaptcha-dialog-fix")??!1;t.useEffect(()=>{if("undefined"==typeof window||!i)return;let t=e=>{Object.entries(g5).forEach(([t,r])=>{e.style.setProperty(t,r,"important")});let t=e.style.opacity;""!==t&&"0"!==t&&(e.style.setProperty("opacity","1","important"),e.style.setProperty("visibility","visible","important"))},r=r=>{if(r.nodeType!==Node.ELEMENT_NODE)return;let i=null;for(let e of g7)if(i=r.querySelector(`iframe[src*="${e}"]`))break;i||(i=r.querySelector('iframe[src*="google.com/recaptcha"]'));let n=parseInt(r.style.zIndex||"0",10);if(i&&2e9===n){let i=e.current;if(!i)return;if(i.closest("dialog[open]")||i.closest("dialog")){r.parentNode&&r.parentNode.removeChild(r),i.appendChild(r);let e=r.querySelector('div[style*="position: fixed"]');e instanceof HTMLElement&&(e.style.display="none"),r.querySelectorAll(".g-recaptcha-bubble-arrow").forEach(e=>{e.style.display="none"}),t(r);let n=new MutationObserver(()=>t(r));n.observe(r,{attributes:!0,attributeFilter:["style"]});let o=()=>{n&&(n.disconnect(),n=null)},a=new MutationObserver(e=>{e.forEach(e=>{e.removedNodes.forEach(e=>{e===r&&(o(),a.disconnect())})})});i.parentNode&&a.observe(i.parentNode,{childList:!0})}}},n=new MutationObserver(e=>{e.forEach(e=>{"childList"===e.type&&e.addedNodes.forEach(r)})});return n.observe(document.body,{childList:!0}),g7.forEach(e=>{document.body.querySelectorAll(`div[style*="z-index"] iframe[src*="${e}"]`).forEach(e=>{let t=e.closest('div[style*="z-index"]');t&&r(t)})}),()=>{n.disconnect()}},[e,i])},g8=Object.freeze(Object.defineProperty({__proto__:null,default:function({siteKey:e,onCompleteAction:i,onErrorAction:n,onReadyAction:o,onLoadingErrorAction:a,idTokenKey:s}){let l=t.useRef(null),c=t.useRef(!1),u=tB().getClients(),{setValue:d}=n5(),{module:p,loading:f,error:m}=ez(t.useCallback(async()=>"undefined"==typeof window?{default:{Grecaptcha:void 0}}:{default:await (g3?g4||(g4=new Promise((e,t)=>{let r=window;if(r.grecaptcha){e({Grecaptcha:r.grecaptcha});return}if(r.onRecaptchaLoadCallback=()=>{r.grecaptcha?e({Grecaptcha:r.grecaptcha}):(g4=null,t(Error("reCAPTCHA script loaded but grecaptcha was undefined")))},"undefined"!=typeof document){if(!document.querySelector('script[src*="google.com/recaptcha/enterprise.js"]')){let e=document.createElement("script");e.src="https://www.google.com/recaptcha/enterprise.js?onload=onRecaptchaLoadCallback&render=explicit",e.async=!0,e.defer=!0,e.onerror=()=>{g4=null,t(Error("Failed to load reCAPTCHA script"))},document.head.appendChild(e)}}else g4=null,t(Error("Document is not available in this environment"))})):Promise.reject(Error("loadRecaptchaLib invoked in a non-browser environment. Guard with isBrowser."))).catch(e=>{throw e})},[])),g=p?.default?.Grecaptcha,{func:h}=d_(i),{func:y}=d_(n),{func:b}=d_(o),{func:x}=d_(a),S=t.useCallback(async e=>{s&&d(s,e),h&&h()},[s,h,d]),E=t.useCallback((e=[],t)=>{let r=Array.from(new Set(["google-recaptcha","captcha-error",...e])),i=t||Error(`reCAPTCHA error: ${r.join(",")}`);u?.jetCore&&u.jetCore.reportError(i,r),y&&y(),a&&x&&x()},[y,x,a,u]),v=t.useCallback(()=>E(["expired"]),[E]),T=t.useCallback(()=>{b&&b()},[b]);return(g6(l),t.useEffect(()=>{let t;if(!e){c.current||(c.current=!0,E(["config-error","missing-sitekey"],Error("Missing required siteKey for Recaptcha")));return}if(m){let e=["load-error"];m instanceof Error&&(m.message.includes("Failed to load")?e=["script-load-failed"]:m.message.includes("not found")&&(e=["library-load-failed"])),E(e,m instanceof Error?m:void 0);return}if(g&&!f&&l.current){l.current.textContent="";try{l.current&&g.enterprise?.render&&(t=g.enterprise.render(l.current,{sitekey:e,callback:S,"error-callback":()=>E(["widget-error"]),"expired-callback":v}))}catch(e){E(["render-failed"],e instanceof Error?e:void 0)}return()=>{if(void 0!==t&&g.enterprise?.reset)try{g.enterprise.reset(t)}catch(e){E(["reset-error"],e instanceof Error?e:void 0)}}}},[e,g,f,m,S,E,v,T]),e)?r.jsx("div",{ref:l,style:{visibility:e&&g&&!f?"visible":"hidden",position:"relative",minHeight:"78px",minWidth:"304px"}}):fn("Recaptcha: missing siteKey","Recaptcha")}},Symbol.toStringTag,{value:"Module"})),g9=t.lazy(()=>import("./index-Cqu7jR2P.es.js").then(e=>e.index).then(e=>({default:e.Timer}))),he=Object.freeze(Object.defineProperty({__proto__:null,default:function({timeInMsBindingKey:e,isRunningExpression:i,...n}){let[o]=sM([e]),a=o?.value,s="number"==typeof a||"bigint"==typeof a?Number(a):0,l=dK(i),c=e?t=>{sj(e,t)}:void 0;return isNaN(s)?null:r.jsx(ft,{children:r.jsx(t.Suspense,{fallback:null,children:r.jsx(g9,{timeInMs:s,isRunning:l,onTimeUpdate:c,...n})})})}},Symbol.toStringTag,{value:"Module"})),ht=Object.freeze(Object.defineProperty({__proto__:null,default:function({icon:e,isSelectedExpression:t,selectedBindingKey:i,tapTarget:n}){let o=sL(i??""),a=dK(t);return r.jsx(t_,{icon:e,selected:a??("boolean"==typeof o?o:void 0),tapTarget:n})}},Symbol.toStringTag,{value:"Module"})),hr=Object.freeze(Object.defineProperty({__proto__:null,default:function({inputProps:e,stateValueBindingKey:t,isCheckedExpression:i,shouldHideToggleStateText:n,...o}){let a=sL(t),s=dK(i),l=dq();return r.jsx(tk,{inputProps:{...e,checked:s??a,disabled:l},shouldHideToggleStateText:n,...o})}},Symbol.toStringTag,{value:"Module"})),hi=Object.freeze(Object.defineProperty({__proto__:null,TriggerButton:function({children:e,triggers:i,viewTrackingSpecs:n,isSelectedStateKey:o,isSelectedBindingKey:a,selectedExpression:s,...l}){let c=t.useRef(null),{content:u,url:d,target:p,onClick:f,...m}=dj(i,{ref:c,viewTrackingSpecs:n}),{func:g}=t.useContext(ed),h=dG(g?e=>{f?.(e),g()}:f,{skipPreventDefault:!!d}),{interactionTypes:y,impressionThresholds:b,viewName:x}=n||{},S=!!y?.length,E=!!b?.length;S&&!E&&x&&(l=Object.assign(l,{"data-view-name":x}));let v=n9(a,o??""),T=dK(s);(o||a||s)&&(l=Object.assign(l,{"aria-checked":T??v??!1}));let N=dq()?void 0:h;return r.jsxs(r.Fragment,{children:[d?r.jsx(tI,{innerRef:c,tagName:"a",href:d,target:p,onClick:N,...m,...l,children:e}):r.jsx(tI,{innerRef:c,onClick:N,...m,...l,children:e}),u]})}},Symbol.toStringTag,{value:"Module"})),hn=Object.freeze(Object.defineProperty({__proto__:null,default:function({clearIcon:e,clearA11yLabel:i,clearTrackingSpecs:n,debounce:o,emptyStateAction:a,hintText:s,keywords:l,onKeywordsSubmittedAction:c,onKeywordsUpdatedAction:u,onFocusInAction:p,onFocusOutAction:f,resultsContainer:m,startImage:g,viewTrackingSpecs:h,keyboardSubmitTrackingId:E,resultsContainerMatchInputWidth:v,placeholderComponent:T,labelText:N,isTypeaheadInputFixCloseOnBlurEnabled:_,...k}){let[I,O]=t.useState(-1),[C,P]=t.useState(null),[R,w]=t.useState(!0),A=t.useRef(null),$=t.useRef(null),L=t.useRef(null);null===A.current&&(A.current=new mf);let{setValue:M}=n5(),D=sL(function(e){if(!e.key)throw Error("Provided bindable did not contain a key:",{cause:e});return e.key.value}(l)),U=sL(E?.key?.value??"");void 0!==h&&"string"==typeof U&&(h.contentTrackingId=U);let{func:F}=d_(u,{viewTrackingSpecs:h}),{func:j}=d_(a,{viewTrackingSpecs:h}),{func:B}=d_(c,{viewTrackingSpecs:h}),{onFocus:V,onBlur:K}=pU({onFocusInAction:p,onFocusOutAction:f,viewTrackingSpecs:h}),{onTrackKeyDown:W}=ro(h,t.useRef("SEARCH_SUBMIT_DEVICE_KEYBOARD"))??{},[J,G]=t.useState(!1),[z,H]=t.useState(!1),{isMobileWeb:q}=t.useContext(tO),{refs:Y,floatingStyles:X}=y({open:J,placement:q?"bottom":"bottom-start",strategy:"fixed",whileElementsMounted:b,...v?{middleware:[x({apply({rects:e,elements:t,availableHeight:r}){Object.assign(t.floating.style,{minWidth:`${e.reference.width}px`,maxWidth:`${e.reference.width}px`,maxHeight:`${r}px`})}})]}:{}});if(D&&"string"!=typeof D)throw TypeError(`Expected keywords to be a string, found ${typeof D} instead with value: ${D}`);if(void 0===F)throw TypeError("Expected onKeywordsUpdated to be a function");t.useEffect(()=>{w(tC())},[]);let Z=t.useCallback(()=>{A.current.clear(),P(null),O(-1),F(null)},[u]),Q=t.useMemo(()=>d(Z,o),[Z,o]),ee=async e=>{let t=A.current.numItems;if("Enter"===e.key)e.preventDefault(),"undefined"!=typeof document&&I>=0&&null!==C?mh(document.getElementById(C)):(W?.(e),Y.reference?.current?.blur(),await B?.(e));else if("Escape"===e.key)e.preventDefault(),P(null),O(-1);else if("ArrowDown"===e.key){J&&t>0&&e.stopPropagation(),e.preventDefault();let r=I+1;r>=t&&(r=0),O(r),P(A.current.get(r)?.id||null)}else if("ArrowUp"===e.key){J&&t>0&&e.stopPropagation(),e.preventDefault();let r=I-1;r<0&&(r=t-1),O(r),P(A.current.get(r)?.id||null)}},et=e=>{V(e),H(!0),G(!0),D&&"string"==typeof D&&0===D.length||!D?j?.(e):F(null)};t.useEffect(()=>{if(!J)return;let e=e=>{let t=e.target,r=Y.domReference?.current,i=Y.floating?.current;r&&!r.contains(t)&&i&&!i.contains(t)?(H(!1),G(!1)):_&&i&&i.contains(t)&&e.preventDefault()};return document.addEventListener("mousedown",e,!0),document.addEventListener("focusin",e,!0),()=>{document.removeEventListener("mousedown",e,!0),document.removeEventListener("focusin",e,!0)}},[J,Y.domReference,Y.floating]);let er="string"!=typeof D?"":D;t.useEffect(()=>{let e=Y.reference.current?.closest("dialog, [popover]");e?.tagName==="DIALOG"&&(L.current=e)},[]);let ei=t.useRef(void 0);t.useEffect(()=>{""===D&&ei.current&&ei.current.length>0&&(A.current.clear(),P(null),O(-1),j?.()),ei.current=D},[D]);let en=rp(n),{onTrackClick:eo}=ro(n)||{},{interactionTypes:ea,impressionThresholds:es,viewName:el}=n||{},ec=!!ea?.length,eu=!!es?.length,ed=dq();return r.jsxs(r.Fragment,{children:[r.jsx(tP,{"aria-activedescendant":C??void 0,"aria-owns":Y?.floating?.current?.id??void 0,"aria-autocomplete":"list",ref:Y.setReference,domReference:Y.domReference,clearIcon:e,clearProps:{"aria-label":i,ref:en,onFocus:et,...(ec||eu)&&el?{"data-view-name":el}:{}},startImage:g,isFocused:z,value:er,placeholder:s?.text,viewName:h?.viewName,onClear:e=>{eo?.(e),l.key&&M(l.key,"",!0),Y.domReference.current?.focus()},onChange:e=>{let t=e.target.value;l.key&&M(l.key,t,!0),t.length>0&&Q()},onKeyDown:ee,onBlur:e=>{Y.floating?.current?.contains(e.relatedTarget)||(K(e),H(!1),G(!1))},onFocus:et,hasKeywords:!!er,placeholderComponent:T,disabled:ed,labelText:N,...k}),m&&r.jsx(mg.Provider,{value:{itemsRef:A,closeAndBlurTypeahead:()=>{G(!1),H(!1)}},children:r.jsx(mm.Provider,{value:C?{id:C}:null,children:J&&r.jsx(S,{root:L,children:r.jsx("div",{popover:R?"manual":void 0,ref:$,children:r.jsx(e5,{ref:Y.setFloating,style:{...q?{}:X},resultsComponent:m,popoverRef:R?$:void 0})})})})})]})}},Symbol.toStringTag,{value:"Module"})),ho=Object.freeze(Object.defineProperty({__proto__:null,TypeaheadItem:function({selectedModifierProps:e,children:i,viewTrackingSpecs:n,onSelect:o,shouldInputLoseFocusOnSelect:a,triggers:s,...l}){let c,u;let d=t.useId(),p=t.useRef(null),f=t.useContext(mm),m=t.useContext(mg),g=dj(s??[],{ref:p,viewTrackingSpecs:n}),h=dG(g.onClick,{skipPreventDefault:!!g.url}),y=d_(o),b=ro(n)??{};s&&s.length>0?c=h:o&&(u=y.func,c=b.onTrackClick);let x=f?.id===d;return t.useEffect(()=>{if(m){let e="itemsRef"in m?m.itemsRef?.current:m?.current;return e?.add({id:d}),()=>{e?.remove({id:d})}}},[]),t.useEffect(()=>{x&&(p.current&&p.current.scrollIntoView({behavior:"instant",block:"nearest",inline:"nearest"}),u?.())},[x]),r.jsx(W,{id:d,ref:p,backgroundColor:{hover:"backgroundFaintHover"},...l,...x?e:{},role:"option","aria-selected":x,onClickCapture:e=>{c&&(e.preventDefault(),c(e)),a&&m&&"closeAndBlurTypeahead"in m&&"function"==typeof m.closeAndBlurTypeahead&&m.closeAndBlurTypeahead(),mh(p.current)},onMouseDownCapture:e=>{a||e.preventDefault()},children:i})}},Symbol.toStringTag,{value:"Module"})),ha=t.memo(({item:e,decoration:i,updateItemVisibility:n,getThreadPositions:o,threadItems:a})=>{let s=t.isValidElement(e?.item)?e.item.props?.displayedExpression:void 0,l=t.isValidElement(e?.item)?e.item.props?.isDisplayedBindingKey:void 0,c=dK(s),u=sL(l??""),d=!((s&&!c)??(l&&!u));t.useEffect(()=>{"boolean"==typeof d&&n(i.threadId,e.key,d)},[i.threadId,e.key,d,n]);let p=o(i.threadId,e.key,a);return r.jsx(tR,{position:p,threadId:i.threadId,threadlineDecoration:i,...t.isValidElement(e.item)&&e.item.props?e.item.props:{},children:e.item})});ha.displayName="ThreadlineItem";let hs=Object.freeze(Object.defineProperty({__proto__:null,default:function({collectionId:e,initialItems:i,onReorder:n,isThreadlineEnabled:o}){let{func:a}=d_(n),[s,l]=mP(i,e,void 0,void 0,e),{resetItems:c}=d8(),{updateItemVisibility:u,getThreadPositions:d}=function(){let[e,r]=t.useState({}),i=t.useCallback((e,t,i)=>{r(r=>({...r,[e]:{...r[e],[t]:i}}))},[]),n=t.useCallback((t,r,i)=>{let n=e[t];if(!n)return null;let o=i.filter(e=>!0===n[e.key]).map(e=>e.key);if(o.length<=1)return null;let a=o.indexOf(r);return -1===a?null:0===a?"first":a===o.length-1?"last":"middle"},[e]);return{threadStates:e,updateItemVisibility:i,getThreadPositions:n}}(),p=s.map((e,i)=>{if(!o)return r.jsx(t.Fragment,{children:e.item},e.key??i);let n=e.threadlineDecoration;if(n){let t=s.filter(e=>e.threadlineDecoration?.threadId===n.threadId);return r.jsx(ha,{item:e,decoration:n,updateItemVisibility:u,getThreadPositions:d,threadItems:t},e.key??i)}return r.jsx(t.Fragment,{children:e.item},e.key||i)});return a?r.jsx(ph,{collectionId:e,children:r.jsx(rN,{items:p,onSort:t=>{c();let r=t.map(e=>s[e]).filter(e=>void 0!==e);l(r),iz.setItem(e,r),a()}})}):r.jsx(ph,{collectionId:e,children:r.jsx(d6,{children:p})})}},Symbol.toStringTag,{value:"Module"})),hl=Symbol("nile:action:set-state"),hc=Symbol("nile:server-request-action"),hu=Symbol("nile:refresh-screen-action"),hd=Symbol("nile:update-workflow-action"),hp=Symbol("nile:clear-workflow-action"),hf=Object.freeze(Object.defineProperty({__proto__:null,InteropActionSubscriber:function(){let{subscribeToMessages:e}=tV(),[i,n]=t.useState([]);return e(hc,e=>{let{requestId:t,payload:o}=e,a=`action-runner-${t}-${Date.now()}`;n([...i,r.jsx(m5,{actions:{actions:[{$type:"proto.sdui.actions.core.ServerRequest",value:{$type:"proto.sdui.actions.core.ServerRequest",requestId:t,requestedArguments:{$type:"proto.sdui.actions.requests.RequestedArguments",payload:o||{},requestedStateKeys:[],requestMetadata:void 0},isStreaming:!1,isApfcEnabled:!1,rumPageKey:"",onClientRequestFailureAction:void 0,maxRetries:0,backOffMultiplier:0,maxSeconds:0,retryOptions:void 0}}]}},a)])}),e(hl,e=>{let{stateKey:t,value:r,isOptimistic:i}=e;sj(t,r,i)}),e(hd,e=>{let{workflowId:t}=e;ir.updateWorkflow(t)}),e(hp,e=>{let{workflowId:t}=e;ir.clearWorkflow(t)}),e(hu,()=>{"undefined"!=typeof window&&window.location.reload()}),r.jsx(r.Fragment,{children:i})}},Symbol.toStringTag,{value:"Module"}));function hm(e){switch(e){case"feed":return on.BadgeSource_HOME;case"mynetwork":return on.BadgeSource_MY_NETWORK;case"notifications":return on.BadgeSource_NOTIFICATIONS;case"messaging":return on.BadgeSource_MESSAGING;default:return!1}}function hg(e){switch(e){case on.BadgeSource_HOME:return"feed";case on.BadgeSource_MY_NETWORK:return"mynetwork";case on.BadgeSource_NOTIFICATIONS:return"notifications";case on.BadgeSource_MESSAGING:return"messaging";default:return!1}}let hh=Symbol("nav:notify-voyager-badge-count-change"),hy=Object.freeze(Object.defineProperty({__proto__:null,InteropBadgeSubscriber:function(){let{subscribeToMessages:e,postBadgeCountUpdateMessage:r}=tV(),i=od(on.BadgeSource_HOME),{setCurrentBadgeCount:n}=ol();return t.useEffect(()=>{e(hh,e=>{Object.entries(e).forEach(([e,t])=>{let r=hm(e);r&&n(r,t)})})},[]),t.useEffect(()=>{let e=localStorage?.getItem("voyager-web:badges");(e?JSON.parse(e):[]).forEach(e=>{let t=hm(e.tab);t&&(t===on.BadgeSource_HOME&&e.count<3?oc(t):n(t,e.count))})},[]),t.useEffect(()=>{let e=hg(on.BadgeSource_HOME);e&&r(e,i||0)},[i,r,on.BadgeSource_HOME]),null},nileBadgeSourceToVoyagerBadge:hg,voyagerBadgeToNileBadgeSource:hm},Symbol.toStringTag,{value:"Module"})),hb=Object.freeze(Object.defineProperty({__proto__:null,StreamingSubscribers:function(){let{streamingSubscribers:e}=ds(di);return e.map(e=>r.jsx(t.Fragment,{children:e.element},e.id))}},Symbol.toStringTag,{value:"Module"})),hx="DOCUMENT",hS={IMAGE:"IMAGE",PDF:"PDF",UNKNOWN:"UNKNOWN"},hE=t.createContext({trackingEnabled:!1,assetUrn:"",documentType:hS.UNKNOWN,currentPageIndex:0,currentSlideSrcUrl:"",imageRenderUrls:[],skipMediaTracking:!0,mediaTrackingObject:{objectUrn:"",trackingId:""},setSkipMediaTracking:()=>{},updateImageRenderInfos:()=>{}});function hv(){return t.useContext(hE)}function hT({trackingParams:e,children:i}){let{assetUrn:n,documentType:a,skipTrackingCoverImage:s=!1}=e,l=a===hS.IMAGE,c=t.useMemo(()=>({objectUrn:n,trackingId:o()}),[]),[u,d]=t.useState(0),[p,f]=t.useState(""),[m,g]=t.useState([]),[h,y]=t.useState(s);return r.jsx(hE.Provider,{value:{trackingEnabled:l,assetUrn:n,documentType:a,mediaTrackingObject:c,currentPageIndex:u,currentSlideSrcUrl:p,imageRenderUrls:m,skipMediaTracking:h,setSkipMediaTracking:e=>{s?y(e):y(!1)},updateImageRenderInfos:(e,t)=>{d(e),g(t),f(t[e]||"")}},children:i})}let hN=()=>{let{trackingCore:e}=tB().getClients(),r=t.useContext(hE),i=()=>{(r.trackingEnabled||e)&&e.fireEvent("DocumentAskToRenderEvent",{mediaHeader:{mediaType:hx,isNile:!0},mediaTrackingObject:r.mediaTrackingObject})},n=(t,i)=>{r.trackingEnabled&&e&&e.fireEvent("MediaAskToRenderEvent",{mediaHeader:{mediaType:hx,documentData:{documentType:r.documentType,pageNumber:t+1},isNile:!0},mediaTrackingObject:r.mediaTrackingObject,createdTime:Date.now(),reason:"ENTERED_VIEWPORT",url:i})},o=(t,i)=>{r.trackingEnabled&&e&&e.fireEvent("MediaExitEvent",{mediaHeader:{mediaType:hx,documentData:{documentType:r.documentType,pageNumber:t+1},isNile:!0},mediaTrackingObject:r.mediaTrackingObject,url:i})},a=(t,i)=>{r.trackingEnabled&&e&&e.fireEvent("MediaRenderedEvent",{mediaHeader:{mediaType:hx,documentData:{documentType:r.documentType,pageNumber:t+1},isNile:!0},mediaTrackingObject:r.mediaTrackingObject,createdTime:Date.now(),perceivedTimeToFirstFrameDuration:-1,url:i})},s=(t,i,n,o)=>{r.trackingEnabled&&e&&e.fireEvent("MediaPlaybackErrorV2Event",{mediaHeader:{mediaType:hx,documentData:{documentType:r.documentType,pageNumber:n+1},isNile:!0},mediaTrackingObject:r.mediaTrackingObject,errorType:i,errorMessage:t,url:o})};return{useDocumentPlayerTracking:({documentPlayerRef:a,skipMediaTracking:s=!0})=>{let l=t.useRef({currentPageIndex:r.currentPageIndex,currentSlideSrcUrl:r.currentSlideSrcUrl}),c=t.useRef(!1);t.useEffect(()=>{l.current={currentPageIndex:r.currentPageIndex,currentSlideSrcUrl:r.currentSlideSrcUrl}},[r.currentPageIndex,r.currentSlideSrcUrl]),t.useEffect(()=>{let{current:t}=a;if(!r.trackingEnabled||!e)return;let u=new IntersectionObserver(([e])=>{if(e?.isIntersecting){if(c.current||(i(),c.current=!0),s)return;n(l.current.currentPageIndex,l.current.currentSlideSrcUrl);return}if(!e?.isIntersecting&&c.current){o(l.current.currentPageIndex,l.current.currentSlideSrcUrl);return}});return t&&u.observe(t),()=>{t&&u.unobserve(t)}},[a,s])},useDocumentImageSlideTracking:({documentImageSlideRef:i,pageNumber:l,srcUrl:c,skipMediaTracking:u=!0})=>{let[d,p]=t.useState(!1),[f,m]=t.useState(!1),g=t.useRef(!1),h=t.useRef(!1),y=t.useCallback(()=>{s("Image failed to load","NETWORK",l,c)},[l,c]);t.useEffect(()=>{let{current:t}=i;if(!t||!r.trackingEnabled||!e)return;let a=new IntersectionObserver(([e])=>{if(e?.isIntersecting&&!g.current){p(!0),g.current=!0;return}!e?.isIntersecting&&g.current&&(p(!1),g.current=!1,h.current=!1)}),s=new MutationObserver(e=>{e.forEach(e=>{t&&"attributes"===e.type&&"src"===e.attributeName&&g.current&&e.oldValue!==t.src&&(m(!0),h.current=!1,u||(o(l,e.oldValue??""),n(l,t.src)))})});return t&&(a.observe(t),s.observe(t,{attributes:!0,attributeFilter:["src"],attributeOldValue:!0})),()=>{t&&(a.unobserve(t),p(!1),s.disconnect(),m(!1),h.current=!1)}},[i,i?.current?.src,l]);let b=()=>{!u&&l===r.currentPageIndex&&g.current&&i.current?.src&&!h.current&&(a(l,i.current.src),h.current=!0,m(!1))};return t.useEffect(()=>{let t=i?.current;if(!u&&t&&r.trackingEnabled&&e){if(g.current&&!f&&t.complete){t.naturalWidth&&t.naturalHeight&&b();return}return t.addEventListener("load",b),()=>{t.removeEventListener("load",b)}}},[c,r.currentPageIndex,f,d,u]),{handleImageError:y}},fireMediaAskToRenderEvent:n,fireMediaPlaybackErrorV2Event:s,fireMediaRenderedEvent:a,fireMediaExitEvent:o}};class h_{events={};on(e,t){this.events[e]||(this.events[e]=[]),this.events[e].push(t)}off(e,t){this.events[e]&&(this.events[e]=this.events[e].filter(e=>e!==t))}emit(e){this.events[e]&&this.events[e].forEach(e=>e())}}class hk extends h_{#u=0;static zoomLevels=[1,1.25,1.5,2,4,8];constructor(){super()}get zoomLevels(){return hk.zoomLevels}get minZoomLevel(){return hk.zoomLevels[0]??1}get maxZoomLevel(){return hk.zoomLevels[hk.zoomLevels.length-1]??8}get currentZoomLevel(){let e=hk.zoomLevels[this.#u];if(void 0===e)throw Error(`Invalid zoom index: ${this.#u}`);return e}updateCurrentZoom(e){let t=this.#u+e;t>=0&&t<hk.zoomLevels.length&&(this.#u=t,this.emit("zoomUpdate"))}resetZoom(){this.#u=0,this.emit("zoomUpdate")}}let hI=new Map,hO=new Map,hC=(e,t)=>{hO.has(e)?hO.get(e)?.push(t):hO.set(e,[t])},hP=e=>{hO.get(e)?.forEach(e=>e()),hO.delete(e)},hR={registerPlayer:(e,t)=>{hI.set(e,t),hP(e)},hasPlayer:e=>hI.has(e),getPlayer:function(e){return new Promise(t=>{let r=hI.get(e);if(r)return t(r);hC(e,()=>{t(hI.get(e))})})}},hw=Object.freeze(Object.defineProperty({__proto__:null,DocumentPlayerController:function({playerId:e,playerManifest:{documentSource:{pdfSource:i,imageSource:n},totalPageCount:o=0,assetUrn:a=""},endScreen:s,header:l,footer:c,currentPageBindingKey:u,onPrevAction:d,onNextAction:p,viewTrackingSpecs:f,pageViewTrackingSpecs:m,skipTrackingCoverImage:g=!1,...h}){let y=t.useRef(new hk),[b,x]=t.useState(1),S=sL(u),E="number"==typeof S?S:0,{setValue:v}=n5(),T=rp(m,void 0,()=>({horizontalPosition:E,verticalPosition:0,position:E})),{isTrackingScopeRedesignEnabled:N=!1}=tB().getAppContext(),_=ra(m,N),k={...h,..._};hR.hasPlayer(e)||hR.registerPlayer(e,y.current),t.useEffect(()=>{let e=()=>{x(y.current.currentZoomLevel)};return y.current.on("zoomUpdate",e),()=>{y.current.off("zoomUpdate",e)}},[y]);let I=ra(f,N),{func:O,actionType:C}=d_(d),{onTrackClick:P}=ro(f,t.useRef("object"==typeof C?C.current:C??d?.tracking?.actionType))??{},{func:R,actionType:w}=d_(p),{onTrackClick:A}=ro(f,t.useRef("object"==typeof w?w.current:w??p?.tracking?.actionType))??{},$=i?hS.PDF:hS.IMAGE;return r.jsx(hT,{trackingParams:{assetUrn:a,documentType:$,skipTrackingCoverImage:g},children:r.jsx(W,{display:"contents",...I,children:r.jsx(tw,{playerId:e,pdfSource:i,imageSource:n,totalPageCount:o,endScreen:s,header:l,footer:c,zoomLevel:b,onNextPage:e=>{v({value:u},E+1),R?.(e),A?.(e)},onPreviousPage:e=>{v({value:u},E-1),O?.(e),P?.(e)},onResetZoom:()=>{y.current.resetZoom()},currentPageIndex:E,ref:T,useDocumentTracking:hN,useDocumentTrackingContext:hv,...k,...h})})})}},Symbol.toStringTag,{value:"Module"})),hA=()=>o();var h$=((iO=h$||{}).UNKNOWN="UNKNOWN",iO.VIDEO="VIDEO",iO.IMAGE="IMAGE",iO.DOCUMENT="DOCUMENT",iO);class hL extends N{mediaHeader;renderTime;constructor(){super(p.MEDIA,hA()),this.mediaHeader={sessionId:o()}}get builder(){return super.builder.renderTime(this.renderTime).mediaHeader(this.mediaHeader)}}let hM={viewName:"image",impressionThresholds:[{minVisibilityPercentage:.01,minDurationMs:75,triggerOnStart:!1}]},hD=(e,t)=>{e.incrementCounterMetric({groupName:"web-image-loader",metricName:t})};function hU(e,r){let[i,n]=function(e){let[r,i]=t.useState(!1),n=t.useRef(null),o=t.useCallback(()=>{n.current?.disconnect()},[]);return t.useEffect(()=>{if(!e.current)return;let t=new IntersectionObserver(([e])=>{e&&i(e.isIntersecting)});return t.observe(e.current),n.current=t,()=>{t.disconnect()}},[e]),[r,o]}(r),o=t9(),[a,s]=t.useState(!1),[l,c]=t.useState(!1),[u,d]=t.useState(!1),[p,f]=t.useState(!1),[m,g]=t.useState(!1);return t.useEffect(()=>{i&&(u||(hD(o,lC.IMAGE_LOAD_START),d(!0)),a&&!p&&(hD(o,lC.IMAGE_LOAD_SUCCEED),f(!0),n()),l&&!m&&(hD(o,lC.IMAGE_LOAD_FAIL),g(!0),n()))},[i,a,l,m,u,p]),t.useEffect(()=>{let t=e?.current;if(!t)return;let r=()=>s(!0),i=()=>c(!0);if(t.complete){t.naturalWidth&&t.naturalHeight?r():i();return}return t.addEventListener("load",r),t.addEventListener("error",i),()=>{t.removeEventListener("load",r),t.removeEventListener("error",i)}},[e]),{setIsLoaded:s,setIsErrored:c}}function hF(e,r,i){let n=t.useRef(new hL),o=rp(hM,"image",void 0,void 0,()=>n.current?[n.current.builder.build()]:[]);t.useEffect(()=>{e&&n.current?.mediaHeader&&(n.current.mediaHeader.mediaType=h$.IMAGE,i&&(n.current.mediaHeader.assetUrn=i))},[n,i,e]);let a=()=>{e&&!n.current.renderTime&&(n.current.renderTime=Date.now())};return t.useEffect(()=>{if(!e)return;let t=r?.current;if(t){if(t.complete){t.naturalWidth&&t.naturalHeight&&a();return}return t.addEventListener("load",a),()=>{t.removeEventListener("load",a)}}},[r,e]),{setIsLoaded:a,impressionRef:e?o:void 0,additionalProps:{"data-view-name":hM.viewName}}}let hj=Object.freeze(Object.defineProperty({__proto__:null,default:function(e){let{shouldUseImageTracking:i,...n}=e,o=t.useRef(null),a=t.useRef(null);hU(o,a);let{impressionRef:s,additionalProps:l}=hF(!!i,o),c=s&&l?l:{},u=s?mv([s,a]):a;return r.jsx(eL,{imageRef:o,containerRef:u,...n,...c})}},Symbol.toStringTag,{value:"Module"})),hB=(e,t,r,i)=>{switch(i){case"WIDTH_OR_HEIGHT":return hK(e,t,r);case"ONLY_WIDTH":return hW(e,t);case"ONLY_HEIGHT":return hJ(e,r);default:return hV(e,t,r)}},hV=(e,t,r)=>e.findIndex(e=>e.width>=t&&e.height>=r),hK=(e,t,r)=>e.findIndex(e=>e.width>=t||e.height>=r),hW=(e,t)=>e.findIndex(e=>e.width>=t),hJ=(e,t)=>e.findIndex(e=>e.height>=t),hG=e=>"undefined"!=typeof window?e*(window.devicePixelRatio||1):e,hz=({width:e,height:t,renderPayload:r,selectionMethod:i,enableHighQualityImageRendition:n=!1})=>{let o=[...r.imageRenditions].sort((e,t)=>e.height*e.width-t.height*t.width),a=hB(o,n?hG(e):e,n?hG(t):t,i);-1===a&&(a=o.length-1);let s=o[a];return s?r.rootUrl+(s.suffixUrl??""):""},hH=Object.freeze(Object.defineProperty({__proto__:null,default:function(e){let{children:i,renderPayload:n,selectionMethod:o,initialSrc:a="",shouldUseImageTracking:s,shouldUseImagePreload:l,enableHighQualityImageRendition:c=!1,...u}=e,d=t.useRef(null),p=t.useRef(null),[f,m]=t.useState(null),g=e=>{m(e)},{setIsErrored:h,setIsLoaded:y}=hU(d,p),[b,x]=t.useState(!1),{width:S,height:E}=function(e){let[r,i]=t.useState(0),[n,o]=t.useState(0);return t.useEffect(()=>{let t=()=>{if(e){let{clientWidth:t,clientHeight:r}=e;i(t),o(r)}};return t(),window.addEventListener("resize",t),()=>window.removeEventListener("resize",t)},[e]),{width:r,height:n}}(f),[v,T]=t.useState(a),{setIsLoaded:N,impressionRef:_,additionalProps:k}=hF(!!s,d,n.assetUrn),I=_&&k?k:{},O=_?mv([_,g]):g;t.useEffect(()=>{let e=()=>{x(!0)};return window.addEventListener("load",e),()=>{window.removeEventListener("load",e)}},[]),t.useEffect(()=>{if(S||E||e?.imageScalingType==="contain"){let e=hz({width:S,height:E,renderPayload:n,selectionMethod:o,enableHighQualityImageRendition:c});e!==v&&T(e)}},[S,E,n,o,e?.imageScalingType,v]);let C={...u,src:v,onLoad:()=>{y(!0),N?.()},onError:()=>h(!0)};return l?r.jsx(r.Fragment,{children:b?r.jsx(eL,{imageRef:d,containerRef:O,...C,...I}):i}):r.jsx(eL,{imageRef:d,containerRef:O,...C,...I})},useContainerDimensions:function(e){let[r,i]=t.useState(0),[n,o]=t.useState(0);return t.useEffect(()=>{let t=()=>{if(e?.current){let{clientWidth:t,clientHeight:r}=e.current;i(t),o(r)}};return t(),window.addEventListener("resize",t),()=>window.removeEventListener("resize",t)},[e]),{width:r,height:n}}},Symbol.toStringTag,{value:"Module"}));function hq(e){let[r,i]=t.useState();return t.useEffect(()=>{(async function(){i(await G(e))})()},[e]),r}let hY=Object.freeze(Object.defineProperty({__proto__:null,ReplayButton:function({playerId:e,icon:t,triggers:i,...n}){let o=hq(e),{onClick:a}=dj(i??[]),{t:s}=t0(),l=async e=>{o&&(a?.(e),o.currentTime(0),await o.play(),o.usingPlugin("controlInteraction")&&(o.controlInteraction().setFirstInteractionCompleted(),o.controlInteraction().setReplayInteraction()))};return r.jsx(J,{"aria-label":s("media_replay"),"data-testid":"replay-btn",category:"ghost",icon:t,onClick:l,...n})}},Symbol.toStringTag,{value:"Module"})),hX=Object.freeze(Object.defineProperty({__proto__:null,SeekByButton:function({playerId:e,icon:t,seekByMillis:i,triggers:n,...o}){let a=hq(e),s=i/1e3,{onClick:l}=dj(n??[]),{t:c}=t0(),u=async e=>{let t;if(!a)return;let r=a.duration(),i=a.currentTime();!(void 0===i||isNaN(i)||!r||isNaN(r)||isNaN(s))&&(t=i+s<=r?i+s:r,a.currentTime(t),l?.(e),a.usingPlugin("controlInteraction")&&a.controlInteraction().setFirstInteractionCompleted())};return r.jsx(J,{"aria-label":c("media_seek_by",{isForward:s>=0,seconds:Math.abs(s)}),"data-testid":"seek-by-btn",category:"ghost",icon:t,onClick:u,...o})}},Symbol.toStringTag,{value:"Module"})),hZ=Object.freeze(Object.defineProperty({__proto__:null,SeekPlaylistByButton:function({playerId:e,icon:t,seekByCount:i,triggers:n,...o}){let a=hq(e),{onClick:s}=dj(n??[]),{t:l}=t0(),c=async e=>{a&&(s?.(e),a.usingPlugin("controlInteraction")&&a.controlInteraction().setFirstInteractionCompleted())};return r.jsx(J,{"aria-label":l(i>=0?"media_next":"media_previous"),"data-testid":"seek-playlist-by-btn",category:"ghost",icon:t,onClick:c,...o})}},Symbol.toStringTag,{value:"Module"})),hQ=Object.freeze(Object.defineProperty({__proto__:null,ZoomByButton:function({icon:e,zoomStepCount:i,playerId:n,triggers:o,...a}){let s=i>0,l=function(e){let[r,i]=t.useState();return t.useEffect(()=>{let t=!1;return async function(){let r=await hR.getPlayer(e);t||i(r)}(),()=>{t=!0}},[e]),r}(n),[c,u]=t.useState(0),{onClick:d}=dj(o??[]);return t.useEffect(()=>{if(!l)return;let e=()=>{u(l.currentZoomLevel)};return e(),l.on("zoomUpdate",e),()=>{l.off("zoomUpdate",e)}},[l]),r.jsx(J,{"data-testid":"zoom-by-btn",icon:e,disabled:c===(s?l?.maxZoomLevel:l?.minZoomLevel),onClick:e=>{l&&(d?.(e),l.updateCurrentZoom(i))},...a})}},Symbol.toStringTag,{value:"Module"}));function h0(e=0){let t=Math.floor(e/3600),r=Math.floor(e%3600/60),i=Math.floor(e%60);return t>0?`${t}:${r.toString().padStart(2,"0")}:${i.toString().padStart(2,"0")}`:r>0?`${r}:${i.toString().padStart(2,"0")}`:`0:${i.toString().padStart(2,"0")}`}function h1(e,t,r=!1){let i=r?Math.floor(e/1e3):Math.floor(e),n=Math.floor(i/3600),o=Math.floor(i%3600/60),a=i%60,s=e=>e.toString().padStart(2,"0");switch(t){case"TimeFormat_HOURS_MINUTES_SECONDS":return`${s(n)}:${s(o)}:${s(a)}`;case"TimeFormat_MINUTES_SECONDS":{let e=Math.floor(i/60);return`${s(e)}:${s(a)}`}case"TimeFormat_SECONDS":return s(a);case"TimeFormat_SECONDS_UNPADDED":return a.toString();default:return h0(i)}}let h2=Object.freeze(Object.defineProperty({__proto__:null,CurrentPositionIndicator:function({playerId:e,...i}){let n=hq(e),[o,a]=t.useState(h0());return t.useEffect(()=>{if(!n)return;let e=()=>{a(h0(n.currentTime()))};return e(),n.on("timeupdate",e),()=>{n.off("timeupdate",e)}},[n]),r.jsx(eM,{...i,children:o})}},Symbol.toStringTag,{value:"Module"})),h3=Object.freeze(Object.defineProperty({__proto__:null,DurationIndicator:function({playerId:e,...i}){let n=hq(e),[o,a]=t.useState(h0());return t.useEffect(()=>{if(!n)return;let e=()=>{let e=h0(n.duration());a(t=>e!==t?e:t)};return e(),n.on("durationchange",e),()=>{n.off("durationchange",e)}},[n]),r.jsx(eM,{...i,children:o})}},Symbol.toStringTag,{value:"Module"}));function h4(e,r,i){let n=t.useRef(null),o=t.useRef(0),[a,s]=t.useState(),[l,c]=t.useState(!1);return t.useEffect(()=>{if(!e)return;let t=()=>{let t=e.remainingTimeDisplay()||0;n.current=t,o.current=h7(t,r)},i=()=>{if(null===n.current||0===n.current)return;let t=e.remainingTimeDisplay()||0,r=n.current-t,i=Math.max(0,o.current-r);s(i),c(i<=0)},a=()=>{t(),i()};return a(),e.on("durationchange",a),e.on("timeupdate",i),()=>{e.off("durationchange",a),e.off("timeupdate",i)}},[r,e]),{remainingTime:void 0===a?"":h1(a,i),limitReached:l}}let h7=(e,t)=>e<=0?0:void 0===t||t<=0?e:e>=t?t:e,h5=Object.freeze(Object.defineProperty({__proto__:null,RemainingTimeIndicator:function({playerId:e,limit:t,format:i,...n}){let{remainingTime:o}=h4(hq(e),t,i);return r.jsx(eM,{"data-testid":"remaining-time",...n,children:o})}},Symbol.toStringTag,{value:"Module"})),h6=Object.freeze(Object.defineProperty({__proto__:null,RemainingWatchTimeIndicator:function({playerId:e,limit:i,format:n,...o}){let a=hq(e),[s,l]=t.useState("");return t.useEffect(()=>{if(!a)return;let e=(e,t)=>{let{accumulatedViewTime:r,previewDuration:o}=t;l(h1(Math.ceil(Math.max((void 0!==i?Math.min(i,o):o)-r,0)),n))};return a.usingPlugin("preview")&&a.preview().on("watchtimeupdate",e),()=>{a.usingPlugin("preview")&&a.preview().off("watchtimeupdate",e)}},[a]),r.jsx(eM,{"data-testid":"remaining-watch-time",...o,children:s})}},Symbol.toStringTag,{value:"Module"})),h8=Object.freeze(Object.defineProperty({__proto__:null,PlaybackSpeedPopupControl:function({playerId:e,selectedIcon:i,playbackRates:n,playbackSpeedOptionStyles:o,onTriggerClickAction:a,onValueChangeAction:s,viewTrackingSpecs:l,...c}){let u=hq(e),[d,p]=t.useState(!1),[f,m]=t.useState(1),{t:g}=t0(),{actionType:h}=d_(a),{onTrackClick:y}=ro(l,h)??{},{actionType:b}=d_(s),{onTrackClick:x}=ro(l,b)??{};t.useEffect(()=>{u&&m(u.playbackRate()??1)},[u]);let S=[...n].map(t=>r.jsx(W,{tagName:"li",children:r.jsx(J,{category:"unstyled",onClick:e=>{v(t),x?.(e)},width:"100%",children:r.jsxs(e_,{verticalAlignment:"center",gap:"0.5x",insetY:"0.75x",insetX:"1x",backgroundColor:{default:"backgroundTransparent",hover:"backgroundTransparentHover"},children:[r.jsx(W,{minWidth:"3x",children:f===t?i:null}),r.jsx(eM,{...o,children:g("media_playback_rate",{rate:t})})]})})},`${e}-playback-rate-${t}`)),E=()=>{p(!d)},v=e=>{u&&(u.playbackRate(e),m(e),E())};return r.jsx(en,{isOpen:d,onClose:E,placement:"top-start",children:(e,t,i,n)=>r.jsxs(r.Fragment,{children:[r.jsx(J,{ref:e.setReference,"arai-label":g("media_playback_speed"),"data-testid":"playback-speed-btn",category:"ghost",text:g("media_playback_rate",{rate:f}),onClick:e=>{E(),y?.(e)},...c}),r.jsx(en.Content,{backgroundColor:"scrim","data-color-scheme":"dark",placement:"top-start",onClose:E,isOpen:d,context:i,setFloating:e.setFloating,style:t,widthType:"fitContent",...n(),children:r.jsx("ul",{children:S})})]})})}},Symbol.toStringTag,{value:"Module"})),h9=e=>["captions","subtitles"].includes(e.kind),ye=e=>{let t=e.textTracks(),r=e.remoteTextTracks();return[...Array.from(t),...Array.from(r)].filter(h9)},yt=(e,t)=>{e.forEach(e=>{e.mode=t?"showing":"disabled"})},yr=e=>e.some(e=>"showing"===e.mode);class yi{static _instance=null;playerPool=new Map;observerByPlayerId=new Map;activePlayerId=null;timerId=null;cachedGlobalPlayerPreference=null;constructor(){}static get instance(){return yi._instance||(yi._instance=new yi),yi._instance}static getInstance(){return this.instance}static registerPlayer({player:e,isAutoplayEnabled:t=!1,isGlobalPlayerPreferenceEnabled:r=!1,visibilityThreshold:i=0,playDurationThresholdForTracking:n,onTrackAutoplay:o}){let a=yi.instance;if(!a.playerPool.has(e.id())&&(a.playerPool.set(e.id(),{player:e,isAutoplayEnabled:t,isGlobalPlayerPreferenceEnabled:r,visibilityThreshold:i,playDurationThresholdForTracking:n,onTrackAutoplay:o,isTrackingFired:!1,onPause:()=>{a.cancelTracking()},onRegistration:()=>{a.handleOnPlay(e),a.setupTracking(e)}}),t&&e.muted(!0)),a.observerByPlayerId.has(e.id())){let t=a.observerByPlayerId.get(e.id());t&&(t.disconnect(),a.observerByPlayerId.delete(e.id()))}let s=new IntersectionObserver(r=>{r.forEach(r=>{let{isIntersecting:n,intersectionRatio:o}=r;n&&o>=i?a.handleViewportEntry(t,e):a.handleViewportExit(e)})},{threshold:i});a.observerByPlayerId.set(e.id(),s),s.observe(e.el()),t&&e.usingPlugin("controlInteraction")&&a.setupAutoplayMuteAdjustment(e);let l=a.playerPool.get(e.id());l?.onRegistration&&e.on("play",l.onRegistration),l?.onPause&&e.on("pause",l.onPause)}setupTracking(e){let t=yi.instance,r=t.playerPool.get(e.id());r&&r.isAutoplayEnabled&&(r.isTrackingFired||(t.timerId=setTimeout(()=>{r.onTrackAutoplay?.(),r.isTrackingFired=!0,t.timerId=null},r?.playDurationThresholdForTracking??9e3)))}cancelTracking(){let e=yi.instance;e.timerId&&(clearTimeout(e.timerId),e.timerId=null)}setupAutoplayMuteAdjustment(e){e.on("play",()=>{e.controlInteraction().isFirstInteractionCompleted()&&!e.controlInteraction().isMutePreferenceManuallySet()&&(e.muted()||0===e.volume())&&(e.muted(!1),e.volume(e.volume()??1))})}isAutoPlayableOnViewportEntry(e){if("undefined"!=typeof document){let t=document.fullscreenElement,r=e.el();if(t&&!t.contains(r))return!1}return(!e.usingPlugin("preview")||!e.preview().isPreviewEnded)&&(e.paused()&&e.usingPlugin("controlInteraction")?!e.controlInteraction().isManuallyPaused():null===e.error())}handleViewportEntry(e,t){let r=this.playerPool.get(t.id());r?.isGlobalPlayerPreferenceEnabled&&this.applyGlobalPlayerPreference(t),e&&this.isAutoPlayableOnViewportEntry(t)&&t.play()}applyGlobalPlayerPreference(e){if(!this.cachedGlobalPlayerPreference)return;let{volume:t,muted:r,isSubtitleOn:i}=this.cachedGlobalPlayerPreference;if(void 0!==t&&t!==e.volume()&&e.volume(t),void 0!==r&&r!==e.muted()&&e.muted(r),void 0!==i){let t=ye(e);yr(t)!==i&&yt(t,i)}}notifyUserPreferenceChange(e,t){let r=this.playerPool.get(t);if(!r?.isGlobalPlayerPreferenceEnabled)return;let i=this.cachedGlobalPlayerPreference||{};if(!Object.keys(e).some(t=>e[t]!==i[t]))return;let n={...i,...e};this.cachedGlobalPlayerPreference=n,this.propagatePreferenceToVisiblePlayers(t)}propagatePreferenceToVisiblePlayers(e){this.playerPool.forEach(t=>{let{player:r}=t;r.id()!==e&&r.usingPlugin("playerVisibility")&&r.playerVisibility().isVisible()&&this.applyGlobalPlayerPreference(r)})}handleViewportExit(e){e.error()||e.pause()}handleOnPlay(e){let t=yi.instance;if(t.activePlayerId){let r=t.playerPool.get(t.activePlayerId);r&&r.player.id()!==e.id()&&r.player.pause()}t.activePlayerId=e.id()}static unregisterPlayer(e){let t=yi.instance;if(!t.playerPool.has(e.id()))return;let r=t.playerPool.get(e.id());r?.onRegistration&&e.off("play",r.onRegistration),r?.onPause&&e.off("pause",r.onPause);let i=t.observerByPlayerId.get(e.id());i&&(i.disconnect(),t.observerByPlayerId.delete(e.id())),t.playerPool.delete(e.id())}}let yn=({volumeLevels:e,volumeValue:t,isMuted:r})=>{if(r)return e[0]?.icon??null;let i=e.find((r,i)=>t<=r.volumeLevel||i===e.length-1);return i?i.icon:null},yo=Object.freeze(Object.defineProperty({__proto__:null,PlaybackVolumePopupControl:function({isToggledBindingKey:e,playerId:i,volumeLevels:n,onValueChangeAction:o,viewTrackingSpecs:a,...s}){let[l,c]=t.useState(0),[u,d]=t.useState(!1),p=hq(i),f=sL(r$(e?.key)??"")??!0,m=t.useRef(void 0),g=t.useCallback(()=>{clearTimeout(m.current),m.current=setTimeout(()=>d(!1),200)},[]),h=t.useCallback(()=>{clearTimeout(m.current)},[]);t.useEffect(()=>()=>clearTimeout(m.current),[]);let{actionType:y}=d_(o),{onTrackClick:b}=ro(a,y)??{},{isTrackingScopeRedesignEnabled:x=!1}=tB().getAppContext(),S=ra(a,x);t.useEffect(()=>{if(!p||!e)return;let t=()=>{let t=p.volume()??0,r=p.muted()??!1;c(t),sj(e,0===t||r)};return t(),p.on("volumechange",t),()=>{p.off("volumechange",t)}},[p,e]);let E=_((...e)=>{if(!p)return;let t=.01*e[0];p.volume(t),0!==t||f?t>0&&f&&p.muted(!1):p.muted(!0),p.usingPlugin("controlInteraction")&&(p.controlInteraction().setFirstInteractionCompleted(),p.controlInteraction().setMutePreferenceManuallySet()),yi.getInstance().notifyUserPreferenceChange({volume:p.volume()??0,muted:p.muted()??!1},i)},30);return r.jsx(ta,{isOpen:u,placement:"top-start",backgroundColor:"scrim",cornerRadius:"3x",...q.dark,anchor:r.jsx(J,{...s,"data-testid":"mute-toggle-btn","data-muted":f?"true":"false",title:f?"Mute":"Unmute",category:"ghost",icon:yn({volumeLevels:n,volumeValue:l,isMuted:f}),onClick:()=>{if(!p||!e)return;let t=!p.muted();0===l&&f&&p.volume(1),p.muted(t),sj(e,t),p.usingPlugin("controlInteraction")&&(p.controlInteraction().setMuteUnmuteInteraction(t),p.controlInteraction().setFirstInteractionCompleted(),p.controlInteraction().setMutePreferenceManuallySet()),yi.getInstance().notifyUserPreferenceChange({volume:p.volume()??0,muted:p.muted()??!1},i)},onMouseEnter:()=>{h(),d(!0)},onMouseLeave:g}),content:r.jsx(W,{insetX:"1x",insetY:"2x",width:"4x",display:"flex",justifyContent:"center",overflow:"hidden",onMouseEnter:h,onMouseLeave:g,children:r.jsx(th,{value:f?0:100*l,inputProps:{max:100,min:0,step:.01},orientation:"vertical",onValueChange:E,onHandleRelease:b,showTooltip:!1,height:"20x",...S})}),onFocusLost:()=>{u&&d(!1)}})}},Symbol.toStringTag,{value:"Module"})),ya=Object.freeze(Object.defineProperty({__proto__:null,PlaybackPositionSlider:function({playerId:e,onReleaseAction:i,viewTrackingSpecs:n,disabled:o=!1,style:a,...s}){let l=hq(e),[c,u]=t.useState(0),[,d]=t.useState(!1),{func:p,actionType:f}=d_(i),{onTrackClick:m}=ro(n,t.useRef("object"==typeof f?f.current:f??i?.tracking?.actionType))??{},{isTrackingScopeRedesignEnabled:g=!1}=tB().getAppContext(),h=ra(n,g),y=_(()=>{l&&(l.scrubbing()||l.scrubbing(!0),d(!l.paused()),l.pause())},30),b=_(()=>{l&&(l.scrubbing()&&l.scrubbing(!1),d(e=>(e&&l.play(),e)),l.usingPlugin("controlInteraction")&&l.controlInteraction().setScrubberInteraction())},30),x=_(e=>{let t=.01*parseFloat(e)||0;if(!l)return;let r=l.duration();r&&tA(l,r,t)},30);return t.useEffect(()=>{if(!l)return;let e=_(async()=>{u(await t$(l))},30);return e(),l.on("durationchange",e),l.on("timeupdate",e),()=>{l.off("durationchange",e),l.off("timeupdate",e)}},[l]),r.jsx(th,{value:c,inputProps:{max:100,min:0,step:"any",onMouseUp:b,onMouseDown:y,onClick:()=>{l&&l.usingPlugin("controlInteraction")&&l.controlInteraction().setFirstInteractionCompleted()},disabled:o,style:a},hideThumbWhenDisabled:!0,showTooltip:!1,onValueChange:x,onHandleRelease:e=>{p?.(e),m?.(e)},...h,...s})}},Symbol.toStringTag,{value:"Module"})),ys=Object.freeze(Object.defineProperty({__proto__:null,FullscreenToggleButton:function({playerId:e,fullscreenOnIcon:i,fullscreenOnA11yLabel:n,fullscreenOffIcon:o,fullscreenOffA11yLabel:a,isToggledBindingKey:s,...l}){let c=hq(e),u=sL(r$(s?.key)??"")??!1;return t.useEffect(()=>{if(!c)return;let e=c.el().parentElement?.parentElement;if(!e)return;let t=()=>{c.trigger("fullscreen"),s&&sj(s,!!document.fullscreenElement)};return t(),e.addEventListener("fullscreenchange",t),()=>{t(),e.removeEventListener("fullscreenchange",t)}},[c]),r.jsx(J,{category:"ghost",icon:u?i:o,"aria-label":u?n:a,onClick:()=>{if("undefined"!=typeof document&&c){let e=c.el().parentElement?.parentElement;e&&(c.usingPlugin("controlInteraction")&&c.controlInteraction().setFullscreenInteraction(!u),u?document.exitFullscreen():e.requestFullscreen())}},...l})}},Symbol.toStringTag,{value:"Module"})),yl=Object.freeze(Object.defineProperty({__proto__:null,MuteToggleButton:function({playerId:e,muteIcon:i,muteA11yLabel:n,unmuteIcon:o,unmuteA11yLabel:a,isToggledBindingKey:s,...l}){let c=hq(e),[u,p]=t.useState(!1);t.useEffect(()=>{if(!c)return;let e=()=>{p(c.muted()??!1),s&&sj(s,c.muted()??!1)};return c.on("volumechange",e),()=>{c.off("volumechange",e)}},[c]);let f=d(()=>{c&&(p(!u),c.muted(!u),s&&sj(s,!u),c.usingPlugin("controlInteraction")&&(c.controlInteraction().setMuteUnmuteInteraction(!u),c.controlInteraction().setFirstInteractionCompleted(),c.controlInteraction().setMutePreferenceManuallySet()),yi.getInstance().notifyUserPreferenceChange({volume:c.volume()??0,muted:c.muted()??!1},e))});return r.jsx(J,{"data-testid":"mute-toggle-btn",category:"ghost",icon:u?o:i,"aria-label":u?a:n,onClick:f,...l})}},Symbol.toStringTag,{value:"Module"})),yc=Object.freeze(Object.defineProperty({__proto__:null,PlayToggleButton:function({playerId:e,playIcon:i,playA11yLabel:n,pauseIcon:o,pauseA11yLabel:a,isToggledBindingKey:s,...l}){let c=hq(e),[u,p]=t.useState(!1);t.useEffect(()=>{c&&(p(!c.paused()),s&&sj(s,!c.paused()),c.on("play",()=>{p(!0),s&&sj(s,!0)}),c.on("pause",()=>{p(!1),s&&sj(s,!1)}))},[c]);let f=d(async()=>{c&&(c.usingPlugin("controlInteraction")&&(c.controlInteraction().setPlayPauseInteraction(u),c.controlInteraction().setFirstInteractionCompleted()),u?c.pause():await c.play())},100);return r.jsx(J,{"data-testid":"play-toggle-btn",category:"ghost",icon:u?o:i,"aria-label":u?a:n,onClick:f,...l})}},Symbol.toStringTag,{value:"Module"})),yu=Object.freeze(Object.defineProperty({__proto__:null,PlaybackDurationToggleButton:function({playerId:e,limit:t,onComponent:i,offComponent:n,...o}){let{limitReached:a}=h4(hq(e),t);return r.jsx(W,{...o,children:a?i:n})}},Symbol.toStringTag,{value:"Module"})),yd=Object.freeze(Object.defineProperty({__proto__:null,SubtitleToggleButton:function({playerId:e,subtitleOnIcon:i,subtitleOnA11yLabel:n,subtitleOffIcon:o,subtitleOffA11yLabel:a,isToggledBindingKey:s,...l}){let c=hq(e),u=sL(r$(s?.key)??"")??!1,[d,p]=t.useState(!1);return t.useEffect(()=>{if(!c)return;let e=()=>{let e=ye(c);p(e.length>0);let t=yr(e);s&&sj(s,t)},t=c.textTracks();return e(),c.on("texttrackchange",e),t.addEventListener("change",e),()=>{c.off("texttrackchange",e),t.removeEventListener("change",e)}},[c]),r.jsx(r.Fragment,{children:d&&r.jsx(J,{"data-testid":"subtitle-toggle-btn",category:"ghost",icon:u?i:o,"aria-label":u?n:a,onClick:()=>{if(!c)return;let t=ye(c),r=!u;yt(t,r),t.length>0&&yi.getInstance().notifyUserPreferenceChange({isSubtitleOn:r},e)},...l})})}},Symbol.toStringTag,{value:"Module"}));var yp=((iC=yp||{}).VideoAssetType_UNKNOWN="VideoAssetType_UNKNOWN",iC.VideoAssetType_MAIN="VideoAssetType_MAIN",iC.VideoAssetType_INTERSTITIAL="VideoAssetType_INTERSTITIAL",iC),yf=((iP=yf||{}).PlaybackState_UNKNOWN="PlaybackState_UNKNOWN",iP.PlaybackState_IDLE="PlaybackState_IDLE",iP.PlaybackState_BUFFERING="PlaybackState_BUFFERING",iP.PlaybackState_PLAYING="PlaybackState_PLAYING",iP.PlaybackState_ENDED="PlaybackState_ENDED",iP.PlaybackState_ERROR="PlaybackState_ERROR",iP.PlaybackState_PAUSED="PlaybackState_PAUSED",iP);let ym={[yf.PlaybackState_IDLE]:tL.IDLE,[yf.PlaybackState_PLAYING]:tL.PLAYING,[yf.PlaybackState_ENDED]:tL.ENDED,[yf.PlaybackState_ERROR]:tL.ERROR,[yf.PlaybackState_PAUSED]:tL.PAUSED},yg=Object.freeze(Object.defineProperty({__proto__:null,MediaPlayerController:function({playerId:e,playlistItem:i,playerParams:n,triggers:o,onAutoplayPlayDurationThresholdIsMetAction:a,viewTrackingSpecs:s,...l}){let c=hq(e),{autoplayPlayDurationThreshold:u,autoplayVisibilityThreshold:d,closedCaptionViewBottomSpacing:p,contextId:f,disablePlayerPrewarming:m=!1,enableStatsForNerds:g=!1,enablePlayerLogsCompression:h=!1,enablePosterBackground:y=!1,enableTextTracksUpdateFix:b=!1,isAutoplayEnabled:x=!1,loop:S,useScoreBasedABR:E=!1,playbackStateClientActions:v,repeatCount:T,shouldMimicGifPlayback:N,videoAssetTypeChangeActionMap:_,volume:k,isGlobalPlayerPreferenceEnabled:I=!1,isGlobalVolumePropagationEnabled:O=!1}=n,C=I||O,{sources:P,liveState:R}=i,w=tB(),A=rd(),$=function(e,t,r,i){if(0!==i||t||r)return e;let n="video/mp4";return e.sort((e,t)=>e.type===n&&t.type!==n?-1:e.type!==n&&t.type===n?1:0)}(P,R.isLive,R.wasLive,A?.verticalPosition),L=function(e){let t=t=>{let r=e?.find(e=>e.playbackState===t);return{enterAction:d_(r?.enterAction)?.func,exitAction:d_(r?.exitAction)?.func}},r=t(yf.PlaybackState_PLAYING),i=t(yf.PlaybackState_ENDED),n=t(yf.PlaybackState_ERROR),o=t(yf.PlaybackState_IDLE),a=t(yf.PlaybackState_PAUSED);return[{playbackState:ym[yf.PlaybackState_PLAYING],enterAction:r.enterAction,exitAction:r.exitAction},{playbackState:ym[yf.PlaybackState_ENDED],enterAction:i.enterAction,exitAction:i.exitAction},{playbackState:ym[yf.PlaybackState_ERROR],enterAction:n.enterAction,exitAction:n.exitAction},{playbackState:ym[yf.PlaybackState_IDLE],enterAction:o.enterAction,exitAction:o.exitAction},{playbackState:ym[yf.PlaybackState_PAUSED],enterAction:a.enterAction,exitAction:a.exitAction}]}(v),M=t.useRef(new ps(w)),{url:D,target:U,content:F,...j}=dj(o??[],{viewTrackingSpecs:s}),B=d_(_[yp.VideoAssetType_MAIN]).func,V=d_(_[yp.VideoAssetType_INTERSTITIAL]).func,K=t.useRef(null),{actionType:W}=d_(a),J="object"==typeof W?W.current:W??a?.tracking?.actionType,G=w.getClients();return t.useEffect(()=>{if(c&&!N)return yi.registerPlayer({player:c,isAutoplayEnabled:x,isGlobalPlayerPreferenceEnabled:C,visibilityThreshold:d,playDurationThresholdForTracking:u,onTrackAutoplay:()=>{s&&t5(s,"SHORT_PRESS",G,"AUTO_PLAY_VIDEO",[],K.current??void 0,J)}}),()=>{yi.unregisterPlayer(c)}},[c]),r.jsx(tM,{playerId:e,containerRef:K,playerParams:{captionBottomSpacingOverride:p,contextId:f,disablePlayerPrewarming:m,enableStatsForNerds:g,enablePlayerLogsCompression:h,enablePosterBackground:y,enableTextTracksUpdateFix:b,loop:S,playbackStateActions:L,repeatCount:T,useScoreBasedABR:E,volume:k,videojsOptions:{autoplay:N,playsinline:!0},videoAssetTypeChangeActionFunc:{changeToMainActionFunc:B,changeToInterstitialActionFunc:V},moatListener:M.current},playlistItem:{...i,sources:$},...j,...l})}},Symbol.toStringTag,{value:"Module"})),yh=(e,t)=>({canvas:e,zoomIn:()=>{let r=e.getZoom();e.setZoom(r/t)},zoomOut:()=>{let r=e.getZoom();e.setZoom(r*t)}}),yy=(e={})=>{let r=e.scaleStep||.5,[i,n]=t.useState(null);t.useEffect(()=>{},[i]);let o=t.useMemo(()=>i?yh(i,r):void 0,[i,r]);return{onReady:t.useCallback(e=>{n(e)},[]),editor:o}},yb=({className:e,onReady:i})=>{let n=t.useRef(null),o=t.useRef(null);return t.useEffect(()=>{let e=new k(n.current??void 0,{preserveObjectStacking:!0}),t=()=>{e.setHeight(o.current?.clientHeight||0),e.setWidth(o.current?.clientWidth||0),e.renderAll()},r=()=>{t()};return t(),window.addEventListener("resize",r,!1),i&&i(e),()=>{e.dispose(),window.removeEventListener("resize",r)}},[]),r.jsx("div",{ref:o,className:e,style:{width:"100%",height:"389px"},children:r.jsx("canvas",{ref:n})})},yx={Original:"original",Circle:1,Square:1,"3:4":3/4,"4:1":4,"4:3":4/3,"5.9:1":5.9,"16:9":16/9},yS={CropRatio_Circle:"Circle",CropRatio_Square:"Square",CropRatio_3x4:"3:4",CropRatio_4x3:"4:3",CropRatio_4x1:"4:1",CropRatio_16x9:"16:9",CropRatio_Original:"Original",CropRatio_UNKNOWN:"Original"},yE=class{constructor(e,t){this.canvas=e,this.image=t}x=0;y=0;width=0;height=0;draw(e="Original"){let t,r,i;let n=this.canvas.width,o=this.canvas.height,a=this.image.aCoords;if(!a)return null;let{tl:s,tr:l,bl:c}=a,{x:u,y:d}=s,p=l.x-s.x,f=c.y-s.y;if(p<=0||f<=0)return null;let{x:m,y:g,width:h,height:y}=this.cal({x:u,y:d,width:p,height:f},yx[e]);if(h<=0||y<=0)return null;if("Circle"===e){let e=Math.min(h,y)/2,a=m+h/2,s=g+y/2;t=new I({radius:Math.max(0,e-1),top:s-e+1,left:a-e+1,strokeWidth:2,stroke:"white",fill:"transparent",selectable:!1,evented:!1}),r=new I({radius:Math.max(0,e),top:s-e,left:a-e,fill:"transparent",selectable:!1,evented:!1}),i=e>0?new O(`M 0 0 h ${n} v ${o} h -${n} z M ${a} ${s} m -${e} 0 a ${e} ${e} 0 1 0 ${2*e} 0 a ${e} ${e} 0 1 0 -${2*e} 0 z`,{fill:"rgba(0,0,0, 0.4)",selectable:!1,evented:!1}):new O(`M 0 0 h ${n} v ${o} h -${n} z`,{fill:"rgba(0,0,0, 0.4)",selectable:!1,evented:!1})}else t=new C({width:h-2,height:y-2,top:g,left:m,strokeWidth:2,stroke:"white",fill:"transparent",selectable:!1,evented:!1}),r=new C({width:h,height:y,top:g,left:m,fill:"transparent",selectable:!1,evented:!1}),i=new O(`M 0 0 h ${n} v ${o} h -${n} z M ${m} ${g} v ${y} h ${h} v -${y} z`,{fill:"rgba(0,0,0, 0.4)",selectable:!1,evented:!1});return{border:t,clipPath:r,shadow:i}}cal(e,t){let{x:r,y:i,width:n,height:o}=e;if(n=Math.max(1,n),o=Math.max(1,o),"original"===t)return{x:r,y:i,width:n,height:o};if("number"==typeof t&&t>0){if(n<o*t){let e=n/t;i+=(o-e)/2,o=e}else{let e=o*t;r+=(n-e)/2,n=e}}return{x:r,y:i,width:Math.max(1,n),height:Math.max(1,o)}}};function yv(e,t){let r=t*Math.PI/180,i=Math.cos(r),n=Math.sin(r);return{x:e.x*i-e.y*n,y:e.y*i+e.x*n}}function yT(e,t){return{topLeft:yv(e.topLeft,t),topRight:yv(e.topRight,t),bottomLeft:yv(e.bottomLeft,t),bottomRight:yv(e.bottomRight,t)}}function yN(e){if(e)switch(e){case lD.ImageFilter_Classic:return"Classic";case lD.ImageFilter_Edge:return"Edge";case lD.ImageFilter_Guru:return"Luminate";case lD.ImageFilter_Prime:return"Prime";case lD.ImageFilter_Spotlight:return"Spotlight";case lD.ImageFilter_Studio:return"Studio"}return"Original"}let y_=(e,t)=>Math.sqrt(e*e+t*t),yk=({text:e,onClick:t,imageId:i,...n})=>r.jsx(J,{category:"ghost",onClick:t,icon:i?r.jsx(eO,{imageId:i}):void 0,text:e,...n}),yI=({onRotateLeft:e,onRotateRight:t,onFlipHorizontal:i,onFlipVertical:n})=>r.jsx(eB,{children:r.jsxs(e_,{gap:"1x",children:[r.jsx(yk,{onClick:e,imageId:rT.SYSTEM_ICONS_ROTATE_LEFT_MEDIUM,"data-testid":"rotate-left-button"}),r.jsx(yk,{onClick:t,imageId:rT.SYSTEM_ICONS_ROTATE_RIGHT_MEDIUM,"data-testid":"rotate-right-button"}),r.jsx(yk,{onClick:i,imageId:rT.SYSTEM_ICONS_FLIP_HORIZONTAL_MEDIUM,"data-testid":"flip-horizontal-button"}),r.jsx(yk,{onClick:n,imageId:rT.SYSTEM_ICONS_FLIP_VERTICAL_MEDIUM,"data-testid":"flip-vertical-button"})]})}),yO=({value:e,onChange:t})=>{let{t:i}=t0();return r.jsx(th,{"data-testid":"zoom-slider",labelText:r.jsx(yP,{children:i("media_editor_zoom")}),value:e,inputProps:{min:1,max:3,step:.1},onValueChange:e=>{let r=parseFloat(e);isNaN(r)||t(r)}})},yC=({value:e,onChange:t})=>{let{t:i}=t0();return r.jsx(th,{labelText:r.jsx(yP,{children:i("media_editor_straighten")}),value:e,inputProps:{min:-45,max:45,step:1},onValueChange:e=>{let r=parseFloat(e);isNaN(r)||t(r)},"data-testid":"straighten-slider"})},yP=({children:e})=>r.jsx(eM,{fontSize:"small",children:e}),yR=({brightness:e=0,contrast:t=0,saturation:i=0,vignette:n=0,onBrightnessChange:o,onContrastChange:a,onSaturationChange:s,onVignetteChange:l})=>{let{t:c}=t0();return r.jsxs(W,{children:[r.jsx(yw,{text:c("media_editor_brightness"),onChange:o,value:e,"data-testid":"brightness-slider"}),r.jsx(yw,{text:c("media_editor_contrast"),onChange:a,value:t,"data-testid":"contrast-slider"}),r.jsx(yw,{text:c("media_editor_saturation"),onChange:s,value:i,"data-testid":"saturation-slider"}),r.jsx(yw,{text:c("media_editor_vignette"),onChange:l,value:n,"data-testid":"vignette-slider"})]})},yw=({text:e,value:i,onChange:n,...o})=>{let[a,s]=t.useState(Math.round(100*i));return r.jsx(th,{labelText:r.jsx(yP,{children:e}),value:a,inputProps:{min:-30,max:30,step:1},onValueChange:e=>{let t=parseInt(e),r=t/100;isNaN(r)||(n(r),s(t))},...o})};function yA(e){if(!e||e.length<2)return null;let t=function(e){let t=function(e){let t=e.length,r=Array(t);for(let e=0;e<t;e+=1)r[e]=[,,,];let i=[];r[0][1]=1,r[0][0]=0,r[0][2]=0;for(let n=1;n<t-1;n+=1){let t=e[n-1],o=e[n],a=e[n+1];t&&o&&a&&(r[n][0]=(o.x-t.x)/6,r[n][1]=(a.x-t.x)/3,r[n][2]=(a.x-o.x)/6,i[n]=(a.y-o.y)/(a.x-o.x)-(o.y-t.y)/(o.x-t.x))}i[0]=0,i[t-1]=0,r[t-1][1]=1,r[t-1][0]=0,r[t-1][2]=0;for(let e=1;e<t;e+=1){let t=r[e][0]/r[e-1][1];r[e][1]-=t*r[e-1][2],r[e][0]=0,i[e]-=t*i[e-1]}for(let e=t-2;e>=0;e-=1){let t=r[e][2]/r[e+1][1];r[e][1]-=t*r[e+1][0],r[e][2]=0,i[e]-=t*i[e+1]}let n=[];for(let e=0;e<t;e+=1)n.push(i[e]/r[e][1]);return n}(e),r=t.length,i=[];for(let o=0;o<r-1;o+=1){let r=e[o],a=e[o+1];if(r&&a)for(let{x:e}=r;e<a.x;e+=1){var n;let s=(e-r.x)/(a.x-r.x),l=1-s,c=a.x-r.x,u=Math.round((n=l*r.y+s*a.y+c*c/6*((l*l*l-l)*t[o]+(s*s*s-s)*t[o+1]))<0?0:n>255?255:n);i.push({x:e,y:u})}}return 255===i.length&&i.push(e[e.length-1]),i}(e.sort((e,t)=>e.x-t.x)),r=t[0];if(!r)return null;if(r.x>0)for(let e=r.x;e>=0;e-=1)t.push({x:e,y:0});let i=t[t.length-1];if(!i)return null;if(i.x<255)for(let e=i.x+1;e<=255;e+=1)t.push({x:e,y:255});let n=[];return t.forEach(e=>{if(!e)return;let t=Math.sqrt(Math.pow(e.x-e.y,2));e.x>e.y&&(t*=-1),n.push(t)}),n}let y$={SPLINE_POINTS:{MASTER:[{x:0,y:0},{x:47,y:32},{x:71,y:64},{x:200,y:214},{x:255,y:255}]},CONTRAST:.10000000000000009},yL={SPLINE_POINTS:{MASTER:[{x:0,y:40},{x:60,y:54},{x:190,y:206},{x:255,y:220}]},SATURATION:-.30000000000000004},yM={SPLINE_POINTS:{MASTER:[{x:0,y:40},{x:64,y:54},{x:127,y:127},{x:192,y:207},{x:255,y:255}],R:[{x:0,y:0},{x:127,y:137},{x:255,y:255}],G:[{x:0,y:0},{x:127,y:123},{x:255,y:255}],B:[{x:0,y:0},{x:63,y:61},{x:255,y:217}]},VIGNETTE:-.375},yD={SPLINE_POINTS:{MASTER:[{x:0,y:0},{x:64,y:39},{x:126,y:146},{x:255,y:255}]},SATURATION:0},yU={SPLINE_POINTS:{R:[{x:0,y:0},{x:137,y:114},{x:195,y:204},{x:255,y:255}],G:[{x:0,y:0},{x:72,y:57},{x:127,y:126},{x:255,y:255}],B:[{x:0,y:0},{x:52,y:54},{x:128,y:127},{x:187,y:199},{x:255,y:255}]}},yF={SPLINE_POINTS:{MASTER:[{x:0,y:0},{x:58,y:57},{x:123,y:130},{x:169,y:194},{x:206,y:230},{x:255,y:255}],R:[{x:0,y:0},{x:124,y:129},{x:185,y:197},{x:255,y:255}],G:[{x:0,y:0},{x:125,y:132},{x:198,y:192},{x:255,y:255}],B:[{x:0,y:0},{x:124,y:137},{x:184,y:194},{x:255,y:255}]},SATURATION:-.14};function yj(e){if(!e)return;let t={MASTER:yA(e.MASTER),R:yA(e.R),G:yA(e.G),B:yA(e.B)},r=Array(256).fill(0),i=t&&t.MASTER||r;return{MASTER:i,R:t&&t.R||r,G:t&&t.G||r,B:t&&t.B||r}}class yB extends P.BaseFilter{static type="ToneCurve";constructor(e={}){super(),this.splinePoints=e.splinePoints}fragmentSource=`
      precision highp float;

      varying vec2 vTexCoord;
      uniform sampler2D u_texture;
      uniform sampler2D u_toneCurveTexture;

      uniform bool useToneCurve;

      void main() {
        if (useToneCurve) {
          lowp vec4 color = texture2D(u_texture, vTexCoord);

          lowp float redCurveValue = texture2D(u_toneCurveTexture, vec2(color.r, 0.0)).r;
          lowp float greenCurveValue = texture2D(u_toneCurveTexture, vec2(color.g, 0.0)).g;
          lowp float blueCurveValue = texture2D(u_toneCurveTexture, vec2(color.b, 0.0)).b;
          color = vec4(redCurveValue, greenCurveValue, blueCurveValue, color.a);

          gl_FragColor = color;
        }
      }
    `;getFragmentSource(){return this.fragmentSource}getUniformLocations(e,t){return{uToneCurveTexture:e.getUniformLocation(t,"u_toneCurveTexture"),useToneCurve:e.getUniformLocation(t,"useToneCurve")}}sendUniformData(e,t){let r=t.uToneCurveTexture,i=yj(this.splinePoints);i&&(e.uniform1i(t.useToneCurve,1),function(e,t,r){let i=e.createTexture();e.activeTexture(e.TEXTURE1),e.bindTexture(e.TEXTURE_2D,i);let n=new Uint8Array(1024);for(let e=0;e<256;e++){let t=r.MASTER[e];n[4*e]=(0|Math.min(Math.max(e+r.R[e]+t,0),255))&255,n[4*e+1]=(0|Math.min(Math.max(e+r.G[e]+t,0),255))&255,n[4*e+2]=(0|Math.min(Math.max(e+r.B[e]+t,0),255))&255,n[4*e+3]=255}e.uniform1i(t,1),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.NEAREST),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,256,1,0,e.RGBA,e.UNSIGNED_BYTE,n)}(e,r,i))}applyToWebGL(e){let t=e.context;super.applyToWebGL(e),t.bindTexture(t.TEXTURE_2D,null),t.activeTexture(t.TEXTURE0)}applyTo2d(e){let{imageData:t}=e,{data:r}=t,{length:i}=r,n=yj(this.splinePoints);for(let e=0;e<i;e+=4){let t=[r[e],r[e+1],r[e+2]];if(n){let e=t[0],r=t[1],i=t[2];t[0]=e+n.MASTER[e]+n.R[e],t[1]=r+n.MASTER[r]+n.G[r],t[2]=i+n.MASTER[i]+n.B[i]}let[i,o,a]=t;r[e]=i,r[e+1]=o,r[e+2]=a}}static async fromObject(e){return new this(e)}}R.setClass(yB);class yV extends P.Composed{static type="Classic";constructor(){super({subFilters:[new yB({splinePoints:yD.SPLINE_POINTS}),new P.Saturation({contrast:yD.SATURATION})]})}}R.setClass(yV);class yK extends yB{static type="Edge";constructor(){super(),this.splinePoints=yU.SPLINE_POINTS}}R.setClass(yK);class yW extends P.Composed{static type="Luminate";constructor(){super({subFilters:[new yB({splinePoints:yF.SPLINE_POINTS}),new P.Saturation({saturation:yF.SATURATION})]})}}R.setClass(yW);class yJ extends P.Composed{static type="Prime";constructor(){super({subFilters:[new yB({splinePoints:yL.SPLINE_POINTS}),new P.Saturation({saturation:yL.SATURATION})]})}}R.setClass(yJ);class yG extends P.Composed{static type="Spotlight";constructor(){super({subFilters:[new yB({splinePoints:y$.SPLINE_POINTS}),new P.Contrast({contrast:y$.CONTRAST})]})}}R.setClass(yG);class yz extends P.BaseFilter{static type="Vignette";constructor(e={vignette:0}){super(),this.vignette=e.vignette??0}fragmentSource=`
      precision highp float;

      // vTexCoord, uStepW, uStepW are pre-defined as part of the base implementation of vertexSource and applyToWebGL.
      varying vec2 vTexCoord;
      uniform float uStepW;
      uniform float uStepH;
      uniform sampler2D u_image;
      uniform lowp float vignette;

      // Constants
      uniform float VIGNETTE_MEAN;
      uniform float VIGNETTE_SD;
      uniform float VIGNETTE_X_MAX;
      uniform float ERF_A1;
      uniform float ERF_A2;
      uniform float ERF_A3;
      uniform float ERF_A4;
      uniform float ERF_A5;
      uniform float ERF_P;

      void main() {
        lowp vec4 color = texture2D(u_image, vTexCoord);
        vec2 position = (gl_FragCoord.xy * vec2(uStepW, uStepH)) - vec2(0.5);

        float len = length(position);

        // This multipler is needed to achieve the same effect as the iOS vignette effect
        const float VIGNETTE_MULTIPLER = 2.0;

        float cdfErf = (len * VIGNETTE_MULTIPLER * VIGNETTE_X_MAX - VIGNETTE_MEAN) / (VIGNETTE_SD * sqrt(2.0));
        float erfT = 1.0 / (1.0 + (ERF_P * abs(cdfErf)))  ;
        float erfY = 1.0 - (((((ERF_A5 * erfT + ERF_A4) * erfT) + ERF_A3) * erfT + ERF_A2) * erfT + ERF_A1) * erfT * exp(-cdfErf * cdfErf);
        float erf = (cdfErf * erfY) / abs(cdfErf);

        float percent = (0.5 * (1.0 + erf)) / (100.0 / abs(vignette));

        if (vignette < 0.0) {
          color.rgb = (color.rgb * 0.5) + ((color.rgb * (1.0 - percent)) * 0.5);
        } else {
          color.rgb = (color.rgb * 0.5) + ((color.rgb + (color.rgb * percent)) * 0.5);
        }

        gl_FragColor = color;
      }
    `;getFragmentSource(){return this.fragmentSource}getUniformLocations(e,t){return{vignette:e.getUniformLocation(t,"vignette"),uStepW:e.getUniformLocation(t,"uStepW"),uStepH:e.getUniformLocation(t,"uStepH"),VIGNETTE_MEAN:e.getUniformLocation(t,"VIGNETTE_MEAN"),VIGNETTE_SD:e.getUniformLocation(t,"VIGNETTE_SD"),VIGNETTE_X_MAX:e.getUniformLocation(t,"VIGNETTE_X_MAX"),ERF_A1:e.getUniformLocation(t,"ERF_A1"),ERF_A2:e.getUniformLocation(t,"ERF_A2"),ERF_A3:e.getUniformLocation(t,"ERF_A3"),ERF_A4:e.getUniformLocation(t,"ERF_A4"),ERF_A5:e.getUniformLocation(t,"ERF_A5"),ERF_P:e.getUniformLocation(t,"ERF_P")}}sendUniformData(e,t){e.uniform1f(t.vignette,100*this.vignette),e.uniform1f(t.VIGNETTE_MEAN,1),e.uniform1f(t.VIGNETTE_SD,.28),e.uniform1f(t.VIGNETTE_X_MAX,1.4),e.uniform1f(t.ERF_A1,.254829592),e.uniform1f(t.ERF_A2,-.284496736),e.uniform1f(t.ERF_A3,1.421413741),e.uniform1f(t.ERF_A4,-1.453152027),e.uniform1f(t.ERF_A5,1.061405429),e.uniform1f(t.ERF_P,.3275911)}applyTo2d(e){if(0===this.vignette)return;let{imageData:t,sourceWidth:r,sourceHeight:i}=e,{data:n}=t,{length:o}=n,a=Math.min(r,i)/2,s={x:r/2,y:i/2},l=0,c=100*this.vignette;for(let e=0;e<o;e+=4){let t=Math.abs(s.x-(l%r+.5)),i=Math.abs(s.y-(Math.floor(l/r)+.5)),o=Math.sqrt(t*t+i*i),u=[n[e]/255,n[e+1]/255,n[e+2]/255],d=(o/a*1.4-1)/(.28*Math.sqrt(2)),p=1/(1+.3275911*Math.abs(d)),f=1-((((1.061405429*p+-1.453152027)*p+1.421413741)*p+-.284496736)*p+.254829592)*p*Math.exp(-d*d),m=.5*(1+d*f/Math.abs(d))/(100/Math.abs(c));c<0?(u[0]=.5*u[0]+u[0]*(1-m)*.5,u[1]=.5*u[1]+u[1]*(1-m)*.5,u[2]=.5*u[2]+u[2]*(1-m)*.5):(u[0]=.5*u[0]+(u[0]+u[0]*m)*.5,u[1]=.5*u[1]+(u[1]+u[1]*m)*.5,u[2]=.5*u[2]+(u[2]+u[2]*m)*.5),u[0]=Math.min(Math.max(0,255*u[0]),255),u[1]=Math.min(Math.max(0,255*u[1]),255),u[2]=Math.min(Math.max(0,255*u[2]),255),[n[e],n[e+1],n[e+2]]=u,l++}}static async fromObject(e){return new this(e)}}R.setClass(yz);class yH extends P.Composed{static type="Studio";constructor(){super({subFilters:[new yB({splinePoints:yM.SPLINE_POINTS}),new yz({vignette:yM.VIGNETTE})]})}}R.setClass(yH);let yq={Original:new P.BaseFilter,Studio:new yH,Spotlight:new yG,Prime:new yJ,Classic:new yV,Edge:new yK,Luminate:new yW};function yY({imageRef:e,selectedFilter:t="Original",onFilterChange:i}){let n=t=>{if(!e.current)return;let r=Object.entries(yq).filter(([e])=>"Original"!==e).map(([,e])=>e.constructor);e.current.filters=e.current.filters.filter(e=>!r.some(t=>e instanceof t)),"Original"!==t&&e.current.filters.push(yq[t]),e.current.applyFilters(),e.current.canvas?.renderAll()},o=e=>{i(e),n(e)};return r.jsx(tD,{gap:"1x",large:3,medium:3,small:3,children:Object.entries(yq).map(([i])=>r.jsx(yX,{filterType:i,isSelected:t===i,onClick:()=>o(i),sourceImage:e.current},i))})}function yX({filterType:e,isSelected:i,onClick:n,sourceImage:o}){let a=t.useRef(null),[s,l]=t.useState(null),{t:c}=t0();return t.useEffect(()=>{if(!a.current||!o)return;let t=new w(a.current,{width:64,height:64});return l(t),o.clone().then(r=>{let i=Math.min(64/r.width,64/r.height);r.scale(i),r.filters=[],"Original"!==e&&r.filters.push(yq[e]),r.applyFilters(),t.add(r),t.centerObject(r),t.renderAll()}),()=>{t.dispose()}},[o,e]),r.jsxs(W,{tagName:"div",cursor:"pointer",borderRadius:"1x",inset:"1x",display:"flex",flexDirection:"column",gap:"1x",alignItems:"center",onClick:n,"data-testid":"filter-preview",children:[r.jsx(W,{borderWidth:"0.125x",borderStyle:"solid",borderColor:i?"positive":"borderTransparent",children:r.jsx("canvas",{ref:a,"data-test-filter-canvas":!0,style:{width:"64px",height:"64px"}})}),r.jsx(eM,{color:i?"positive":"textMeta",fontWeight:i?"bold":"normal",textAlign:"center","data-test-filter-i18n-string":!0,children:(e=>{switch(e){case"Original":return c("media_editor_filter_original");case"Studio":return c("media_editor_filter_studio");case"Spotlight":return c("media_editor_filter_spotlight");case"Prime":return c("media_editor_filter_prime");case"Classic":return c("media_editor_filter_classic");case"Edge":return c("media_editor_filter_edge");case"Luminate":return c("media_editor_filter_luminate");default:return e}})(e)})]})}let yZ=[P.Brightness,P.Contrast,P.Saturation,yz];function yQ(e){return e.sort((e,t)=>{let r=yZ.findIndex(t=>e instanceof t),i=yZ.findIndex(e=>t instanceof e);return(-1===r?1/0:r)-(-1===i?1/0:i)})}function y0(e,t){return e.filter(e=>!(e instanceof t))}function y1({imageRef:e,editData:i,initialZoom:n=1,initialStraightenAngle:o=0,initialRotate:a=0,onEdit:s,enableImageFilters:l=!0,enableImageAdjustmentSliders:c=!0,isImageEdited:u=!1,onApplyEdits:d}){let[p,f]=t.useState(0),[m,g]=t.useState(n),[h,y]=t.useState(o),[b,x]=t.useState(i?.brightness),[S,E]=t.useState(i?.contrast),[v,T]=t.useState(i?.saturation),[N,_]=t.useState(i?.vignette),[k,I]=t.useState(yN(i?.imageFilter)),[O,C]=t.useState(null),[R,w]=t.useState(0),A=t.useRef(!0),{t:$}=t0();t.useEffect(()=>{g(n),L(n)},[n,O]),t.useEffect(()=>{y(o),w(a);let t=y3(a+o);0!==t&&e.current&&(e.current.rotate(t),e.current.canvas?.renderAll())},[a,o]),t.useEffect(()=>{e.current&&C(e.current.scaleX/n)},[e.current,n]),t.useEffect(()=>{A.current||s?.(),A.current=!1},[s,m,h,R,k,b,S,v,N]);let L=t=>{if(e.current&&e.current.canvas&&null!==O){let r=O*t;(function(e,t){let{originX:r,originY:i}=e,n=e.getRelativeCenterPoint();e.originX="center",e.originY="center",e.left=n.x,e.top=n.y,t(e);let{x:o,y:a}=e.translateToOriginPoint(e.getRelativeCenterPoint(),r,i);e.left=o,e.top=a,e.originX=r,e.originY=i})(e.current,e=>{e.scale(r)}),e.current.canvas.renderAll()}},M=t=>{e.current&&(e.current.rotate(y3(t+R)),e.current.canvas?.renderAll())},D=t=>{if(e.current){let r=e.current.angle||0;e.current.rotate(y3(r+t)),e.current.canvas?.renderAll(),w(y3(R+t))}},U=t=>{if(e.current){if(t){let t=e.current.flipX||!1;e.current.flipX=!t}else{let t=e.current.flipY||!1;e.current.flipY=!t}e.current.canvas?.renderAll(),s?.()}},F=t=>{if(e.current){let r=e.current;r.filters=y0(r.filters,P.Brightness),0!==t&&r.filters.push(new P.Brightness({brightness:t})),r.filters=yQ(r.filters),r.applyFilters(),r.canvas?.renderAll()}},j=t=>{if(e.current){let r=e.current;r.filters=y0(r.filters,P.Contrast),0!==t&&r.filters.push(new P.Contrast({contrast:t})),r.filters=yQ(r.filters),r.applyFilters(),r.canvas?.renderAll()}},B=t=>{if(e.current){let r=e.current;r.filters=y0(r.filters,P.Saturation),0!==t&&r.filters.push(new P.Saturation({saturation:t})),r.filters=yQ(r.filters),r.applyFilters(),r.canvas?.renderAll()}},V=t=>{if(e.current){let r=e.current;r.filters=y0(r.filters,yz),0!==t&&r.filters.push(new yz({vignette:t})),r.filters=yQ(r.filters),r.applyFilters(),r.canvas?.renderAll()}},K=[r.jsx(ty,{text:$("media_editor_crop"),id:0,onClick:()=>f(0)},"crop")],W=[r.jsxs(y2,{children:[r.jsx(yI,{onRotateLeft:()=>D(-90),onRotateRight:()=>D(90),onFlipHorizontal:()=>U(!0),onFlipVertical:()=>U(!1)}),r.jsx(yO,{value:m,onChange:e=>{g(e),L(e)}}),r.jsx(yC,{value:h,onChange:e=>{y(e),M(e)}})]},"crop")];if(l){let t=K.length;K.push(r.jsx(ty,{text:$("media_editor_filter"),id:t,onClick:()=>f(t)},"filter")),W.push(r.jsx(y2,{children:r.jsx(yY,{imageRef:e,selectedFilter:k,onFilterChange:I})},"filter"))}if(c){let e=K.length;K.push(r.jsx(ty,{text:$("media_editor_adjust"),id:e,onClick:()=>f(e)},"adjust")),W.push(r.jsx(y2,{children:r.jsx(yR,{brightness:b,contrast:S,saturation:v,vignette:N,onBrightnessChange:e=>{x(e),F(e)},onContrastChange:e=>{E(e),j(e)},onSaturationChange:e=>{T(e),B(e)},onVignetteChange:e=>{_(e),V(e)}})},"adjust"))}return r.jsxs(eB,{gap:"2x",width:"40x",maxWidth:"40x",insetX:"2x",insetY:"1x",children:[r.jsx(tb,{tabs:K,tabPanels:W,currentTabIndex:p}),d&&r.jsx(J,{category:"primary",isEmphasized:!0,text:$("media_editor_apply"),onClick:d,disabled:!u,width:"fillAvailable"})]})}let y2=({children:e})=>r.jsx(eB,{gap:"1x",insetTop:"3x",children:e}),y3=e=>{let t=e%360;return t>0?t:t+360},y4=e=>{let t=e.mediaFileId;if(!t)return;let r=e.source?.$case==="remoteImageUrl"&&e.source.remoteImageUrl.imageUrl,i=e.source?.$case==="localFile"?e.source.localFile.filePointer:void 0;if(r||i){if(r)return r;if(i||t){let e=ca.getItem(t),r=i?ca.getItem(i):void 0,n=e??r;return n?URL.createObjectURL(n):void 0}}};function y7({input:e,layout:i,onComplete:n,cropRatio:o,enableImageFilters:a,enableImageAdjustmentSliders:s}){let{editor:l,onReady:c}=yy(),u=t.useRef(null),[d,p]=t.useState(o||"Original"),f=t.useRef(null),m=t.useRef(null),[g,h]=t.useState(1),[y,b]=t.useState(0),[x,S]=t.useState(0),E=t.useRef(1),{t:v}=t0(),T=e?.editData,{jetCore:N}=tB().getClients(),_=t.useCallback((e,t)=>{if(!l||!u.current)return;if(m.current){let{border:e,clipPath:t,shadow:r}=m.current;try{e&&l.canvas.remove(e),t&&l.canvas.remove(t),r&&l.canvas.remove(r)}catch{N.reportError(Error("Error removing existing crop overlay"),["media-image-editor"])}m.current=null}f.current||(f.current=new yE(l.canvas,u.current));let r=f.current.draw(e);if(r){let{border:e,clipPath:i,shadow:n}=r;if(t?.topLeft&&i){let{xy:e,basedOnDimension:r}=t.topLeft,n=i[r],o=u.current;o.left=i.left-n*e.x,o.top=i.top-n*e.y,o.setCoords()}try{n&&l.canvas.add(n),e&&l.canvas.add(e),i&&l.canvas.add(i),m.current={border:e,clipPath:i,shadow:n},l.canvas.renderAll()}catch(e){N.reportError(e,["media-image-editor"])}}},[l,N]),k=t.useCallback(async e=>{if(!l)return;l.canvas.clear(),u.current=null,f.current=null,m.current=null;let t=await A.fromURL(e,{crossOrigin:"anonymous"});t.set({hasBorders:!1,hasControls:!1,hoverCursor:"default",selectable:!0});let r=t.setCoords.bind(t);t.on("moving",function(){let e=m?.current?.border;if(e){let{left:r,top:i}=function(e,t){let{tl:r,tr:i,bl:n,br:o}=e.aCoords,a=[{x:0,y:0},{x:i.x-r.x,y:i.y-r.y},{x:n.x-r.x,y:n.y-r.y},{x:o.x-r.x,y:o.y-r.y}],s=Math.min(...a.map(e=>e.x)),l=Math.max(...a.map(e=>e.x)),c=Math.min(...a.map(e=>e.y)),u=Math.max(...a.map(e=>e.y)),{left:d,top:p,width:f,height:m}=t.getBoundingRect(),g=d+f,h=p+m;return{left:{min:Math.min(d-s,g-l),max:Math.max(d-s,g-l)},top:{min:Math.min(p-c,h-u),max:Math.max(p-c,h-u)}}}(t,e);t.left=Math.min(Math.max(t.left,r.min),r.max),t.top=Math.min(Math.max(t.top,i.min),i.max)}r()}),t.on("scaling",r),t.on("rotating",r),T&&function(e,t){let{brightness:r,contrast:i,saturation:n,vignette:o,imageFilter:a}=t;if(r&&e.filters.push(new P.Brightness({brightness:r})),i&&e.filters.push(new P.Contrast({contrast:i})),n&&e.filters.push(new P.Saturation({saturation:n})),o&&e.filters.push(new yz({vignette:o})),a){let t=yN(a);"Original"!==t&&e.filters.push(yq[t])}e.applyFilters()}(t,T),function(e,t=0,r=1,i,n=!1){let o=t/r,{width:a=0,height:s=1}=e,l=a/s;if(n&&i){let n=yx[i];if(void 0===n)return;"original"===n?o>l?e.scaleToHeight(r):e.scaleToWidth(t):n>=o?l<=n?e.scaleToWidth(t):e.scaleToHeight(o/n*r):l<=n?e.scaleToWidth(n/o*t):e.scaleToHeight(r)}else o>l?e.scaleToHeight(r):e.scaleToWidth(t)}(t,l.canvas.width,l.canvas.height,d,!0),E.current=t.scaleX;let i=null;if(T&&T.croppedRegion){let e=t.width||0,r=t.height||0;e&&r&&(i=function(e,t,r,i){var n,o;let a,s;if(!e.croppedRegion)return{zoomValue:1,straightenValue:0};let l=function(e){if(!e)return 1;let t=yx[e];return"number"==typeof t?t:1}(i),{croppedRegion:c}=e,u={x:(c.topLeft?.x??0)*t,y:(c.topLeft?.y??0)*r},d={x:(c.topRight?.x??0)*t,y:(c.topRight?.y??0)*r},p={x:(c.bottomLeft?.x??0)*t,y:(c.bottomLeft?.y??0)*r},f={x:(c.bottomRight?.x??0)*t,y:(c.bottomRight?.y??0)*r},m={x:(u.x+f.x)/2,y:(u.y+f.y)/2},g={x:u.x-m.x,y:u.y-m.y},h=g.x>0,y=g.y>0,b=0;!h&&y?b=1:h&&y?b=2:h&&!y&&(b=3);let x=Math.atan(Math.abs(g.x)/Math.abs(g.y));b%2==1&&(x=Math.atan(Math.abs(g.y)/Math.abs(g.x)));let S=Math.round(180*(x-Math.atan(l))/Math.PI),{topRight:E,topLeft:v,bottomRight:T}=yT({topLeft:u,topRight:d,bottomLeft:p,bottomRight:f},S+(b*=90)),N=y_(E.x-v.x,E.y-v.y),_=y_(T.x-E.x,T.y-E.y),k={x:(v.x+T.x)/2,y:(v.y+T.y)/2},I=Math.round(10*Math.min(t/N,r/_))/10,O=E.x-v.x,C=T.y-E.y,P=(n=(k.x-O/2)*I,o=(k.y-C/2)*I,t/r>l?(a=r,s="height"):(a=t,s="width"),{xy:{x:n/a,y:o/a},basedOnDimension:s});return{rotateValue:b,zoomValue:I,straightenValue:S,topLeft:P}}(T,e,r,o))}l.canvas.add(t),l.canvas.centerObject(t),l.canvas.renderAll(),u.current=t;let n=i?.zoomValue||1,a=i?.rotateValue||0,s=i?.straightenValue||0;t.angle=y3(a+s),t.scaleX*=n,t.scaleY*=n,h(n),b(s),S(a),_(d,i)},[l,_,d]);t.useEffect(()=>{if(!e)return;let t=y4(e);t&&k(t)},[e,l,k]),t.useEffect(()=>()=>{if(m.current&&l){let{border:e,clipPath:t,shadow:r}=m.current;try{e&&l.canvas.remove(e),t&&l.canvas.remove(t),r&&l.canvas.remove(r)}catch(e){N.reportError(e,["media-image-editor"])}m.current=null}},[l,N]);let[I,O]=t.useState(0),[C,R]=t.useState(!1),[w,$]=t.useState(!1),[L,M]=t.useState(!1),[D,U]=t.useState(!1);t.useEffect(()=>{(async function(){if(!e?.source){$(!1);return}switch(e.source.$case){case"remoteImageUrl":$(e.metadata?.hasC2PAManifest??!1);return;case"localFile":{let t=ca.getItem(e.mediaFileId);if(!t){$(!1);return}$(await cM(t));return}default:$(!1);return}})()},[e,T]),t.useEffect(()=>{w&&(M(!0),U(!0))},[w]),t.useEffect(()=>{O(e=>e+1)},[]);let F=r.jsx(ta,{anchor:r.jsx(J,{"data-testid":"content-credentials-tooltip-anchor","aria-label":v("media_editor_content_credentials_tooltip_anchor"),category:"overlay",icon:r.jsx(eO,{imageId:rT.SOCIAL_ICONS_CONTENT_CREDENTIALS_COLOR}),onClick:()=>M(!L)}),content:r.jsxs(e_,{gap:"2x",inset:"1.5x",verticalAlignment:"center",children:[r.jsxs(eM,{fontSize:"small",children:[v("media_editor_content_credentials_tooltip_content")," ",r.jsx(e3,{href:"https://www.linkedin.com/help/linkedin/answer/a6282984",target:"_blank",children:v("media_editor_content_credentials_tooltip_learn_more")})]}),r.jsx(J,{"aria-label":v("media_editor_content_credentials_tooltip_close"),category:"tertiary",icon:r.jsx(eO,{imageId:rT.SYSTEM_ICONS_CLOSE_SMALL}),isEmphasized:!1,onClick:()=>M(!1)})]}),isOpen:L,placement:"bottom-start"}),j=r.jsx(ta,{anchor:r.jsx(W,{"data-testid":"content-credentials-warning-anchor"}),content:r.jsxs(e_,{gap:"2x",inset:"1.5x",verticalAlignment:"center",children:[r.jsx(eM,{fontSize:"small",children:v("media_editor_content_credentials_warning_content")}),r.jsx(J,{category:"secondary",onClick:()=>U(!1),text:v("media_editor_content_credentials_warning_cta")})]}),isOpen:D,placement:"top"}),B=r.jsxs(W,{tagName:"div",position:"relative",width:"fillAvailable",children:[r.jsx(yb,{onReady:c},`image-canvas-${I}`),w&&!C&&r.jsxs(r.Fragment,{children:[r.jsx(W,{position:"absolute",top:"1.5x",left:"1.5x",children:F}),r.jsx(e_,{bottom:"1x",justifyContent:"center",position:"absolute",width:"fillAvailable",children:j})]})]}),V=t.useCallback(()=>{let e=u.current;if(e){let t=e.angle%360!=0||e.filters.length>0||e.flipX||e.flipY||e.scaleX.toFixed(5)!==E.current.toFixed(5)||e.scaleY.toFixed(5)!==E.current.toFixed(5);R(t),t&&U(!1)}},[u]),K=r.jsx(y1,{imageRef:u,editData:T,initialZoom:g,initialStraightenAngle:y,initialRotate:x,onEdit:V,enableImageFilters:a,enableImageAdjustmentSliders:s}),G="horizontal"===i?r.jsxs(eB,{children:[B,K]}):r.jsxs(e_,{children:[B,r.jsx(eB,{children:K})]});return r.jsxs(r.Fragment,{children:[G,r.jsx(W,{borderTop:"divider",insetX:"3x",insetY:"1.5x",tagName:"footer",justifyContent:"flexEnd",display:"flex",children:r.jsx(J,{category:"primary",isEmphasized:!0,onClick:()=>{if(!u.current||!l||!n)return;let e=u.current,t=m.current?.clipPath,r=function(e,t){let r;let i=e.scaleX||1,n=e.scaleY||1,o=(e.width||0)*i,a=(e.height||0)*n,s=0,l=0,c=0,u=0,d=e.filters?.map(e=>{switch(e.type){case"Classic":return lD.ImageFilter_Classic;case"Edge":return lD.ImageFilter_Edge;case"Luminate":return lD.ImageFilter_Guru;case"Prime":return lD.ImageFilter_Prime;case"Spotlight":return lD.ImageFilter_Spotlight;case"Studio":return lD.ImageFilter_Studio;default:return}}).filter(e=>void 0!==e)||[lD.ImageFilter_None],p=1===d.length?d[0]:void 0;if(t){let i=e.left||0,n=e.top||0,s={topLeft:{x:t.left-i,y:t.top-n},topRight:{x:t.left-i+t.width,y:t.top-n},bottomLeft:{x:t.left-i,y:t.top-n+t.height},bottomRight:{x:t.left-i+t.width,y:t.top-n+t.height}},l=e.angle||0;0!==l&&(s=yT(s,-l));let c={x:s.topLeft.x/o,y:s.topLeft.y/a},u={x:s.topRight.x/o,y:s.topRight.y/a},d={x:s.bottomLeft.x/o,y:s.bottomLeft.y/a},p={x:s.bottomRight.x/o,y:s.bottomRight.y/a},f={$type:"proto.sdui.common.Coordinate2D",x:c.x,y:c.y};r={$type:"proto.sdui.common.Rect",topLeft:f,topRight:{$type:"proto.sdui.common.Coordinate2D",x:u.x,y:u.y},bottomLeft:{$type:"proto.sdui.common.Coordinate2D",x:d.x,y:d.y},bottomRight:{$type:"proto.sdui.common.Coordinate2D",x:p.x,y:p.y}}}else r={$type:"proto.sdui.common.Rect",topLeft:{$type:"proto.sdui.common.Coordinate2D",x:0,y:0},topRight:{$type:"proto.sdui.common.Coordinate2D",x:1,y:0},bottomLeft:{$type:"proto.sdui.common.Coordinate2D",x:0,y:1},bottomRight:{$type:"proto.sdui.common.Coordinate2D",x:1,y:1}};return e.filters&&e.filters.forEach(e=>{"Brightness"===e.type?s=e.brightness||0:"Contrast"===e.type?l=e.contrast||0:"Saturation"===e.type?c=e.saturation||0:"Vignette"===e.type&&(u=e.vignette||0)}),{$type:"proto.sdui.media.MediaEditData",croppedRegion:r,scaleRatio:Math.min(i,n),brightness:s,contrast:l,saturation:c,vignette:u,imageFilter:p??lD.ImageFilter_None}}(e,t?{top:t.top||0,left:t.left||0,width:t.width||0,height:t.height||0}:void 0),{border:i,clipPath:o,shadow:a}=m.current||{},s={border:i?.visible,clipPath:o?.visible,shadow:a?.visible};i&&i.set({visible:!1}),o&&o.set({visible:!1}),a&&a.set({visible:!1}),l.canvas.renderAll();let c=Math.max(1/e.scaleX,1),d=(function(e,t,r=1){let i=e.toCanvasElement(r);if(!t||"undefined"==typeof document)return i;{let e=document.createElement("canvas");e.width=t.width*r,e.height=t.height*r;let n=e.getContext("2d");return n?(n.drawImage(i,t.left*r,t.top*r,t.width*r,t.height*r,0,0,e.width,e.height),e):i}})(l.canvas,o,c).toDataURL();i&&void 0!==s.border&&i.set({visible:s.border}),o&&void 0!==s.clipPath&&o.set({visible:s.clipPath}),a&&void 0!==s.shadow&&a.set({visible:s.shadow}),l.canvas.renderAll(),fetch(d).then(e=>e.blob()).then(e=>{let t=new Date().toISOString().replace(/[:.]/g,"-");n(new File([e],`edited-image-${t}.png`,{type:e.type,lastModified:Date.now()}),r)}).catch(e=>{N.reportError(e,["media-image-editor"])})},text:v("media_editor_save")})})]})}let y5=(e,t)=>({canvas:e,zoomIn:()=>{let r=e.getZoom();e.setZoom(r/t)},zoomOut:()=>{let r=e.getZoom();e.setZoom(r*t)}}),y6=(e={})=>{let r=e.scaleStep||.5,[i,n]=t.useState(null);t.useEffect(()=>{},[i]);let o=t.useMemo(()=>i?y5(i,r):void 0,[i,r]);return{onReady:t.useCallback(e=>{n(e)},[]),editor:o}},y8=({className:e,onReady:i,height:n="600px",width:o="100%"})=>{let a=t.useRef(null),s=t.useRef(null);return t.useEffect(()=>{let e=new k(a.current??void 0,{preserveObjectStacking:!0}),t=()=>{e.setHeight(s.current?.clientHeight||0),e.setWidth(s.current?.clientWidth||0),e.renderAll()},r=()=>{t()};return t(),window.addEventListener("resize",r,!1),i&&i(e),()=>{e.dispose(),window.removeEventListener("resize",r)}},[]),r.jsx("div",{ref:s,className:e,style:{width:o,height:n},children:r.jsx("canvas",{ref:a})})};function y9({canvasKey:e,onReady:t,hasContentCredentials:i,isImageEdited:n,isContentCredentialsTooltipOpen:o,setIsContentCredentialsTooltipOpen:a,isContentCredentialsWarningOpen:s,setIsContentCredentialsWarningOpen:l}){let{t:c}=t0(),u=r.jsx(ta,{anchor:r.jsx(J,{"data-testid":"content-credentials-tooltip-anchor","aria-label":c("media_editor_content_credentials_tooltip_anchor"),category:"overlay",icon:r.jsx(eO,{imageId:rT.SOCIAL_ICONS_CONTENT_CREDENTIALS_COLOR}),onClick:()=>a(!o)}),content:r.jsxs(e_,{gap:"2x",inset:"1.5x",verticalAlignment:"center",children:[r.jsxs(eM,{fontSize:"small",children:[c("media_editor_content_credentials_tooltip_content")," ",r.jsx(e3,{href:"https://www.linkedin.com/help/linkedin/answer/a6282984",target:"_blank",children:c("media_editor_content_credentials_tooltip_learn_more")})]}),r.jsx(J,{"aria-label":c("media_editor_content_credentials_tooltip_close"),category:"tertiary",icon:r.jsx(eO,{imageId:rT.SYSTEM_ICONS_CLOSE_SMALL}),isEmphasized:!1,onClick:()=>a(!1)})]}),isOpen:o,placement:"bottom-start"}),d=r.jsx(ta,{anchor:r.jsx(W,{"data-testid":"content-credentials-warning-anchor"}),content:r.jsxs(e_,{gap:"2x",inset:"1.5x",verticalAlignment:"center",children:[r.jsx(eM,{fontSize:"small",children:c("media_editor_content_credentials_warning_content")}),r.jsx(J,{category:"secondary",onClick:()=>l(!1),text:c("media_editor_content_credentials_warning_cta")})]}),isOpen:s,placement:"top"});return r.jsxs(W,{tagName:"div",position:"relative",width:"fillAvailable",children:[r.jsx(y8,{onReady:t},`image-canvas-${e}`),i&&!n&&r.jsxs(r.Fragment,{children:[r.jsx(W,{position:"absolute",top:"1.5x",left:"1.5x",children:u}),r.jsx(e_,{bottom:"1x",justifyContent:"center",position:"absolute",width:"fillAvailable",children:d})]})]})}var be=((iR=be||{}).CropRatio_UNKNOWN="CropRatio_UNKNOWN",iR.CropRatio_Circle="CropRatio_Circle",iR.CropRatio_Square="CropRatio_Square",iR.CropRatio_4x3="CropRatio_4x3",iR.CropRatio_4x1="CropRatio_4x1",iR.CropRatio_16x9="CropRatio_16x9",iR.CropRatio_Original="CropRatio_Original",iR.CropRatio_3x4="CropRatio_3x4",iR);let bt=({text:e,onClick:t,imageId:i,...n})=>r.jsx(J,{category:"ghost",size:"medium",onClick:t,icon:i?r.jsx(eO,{imageId:i}):void 0,text:e,...n}),br=({onRotateLeft:e,onRotateRight:t,onFlipHorizontal:i,onFlipVertical:n})=>r.jsx(eB,{children:r.jsxs(e_,{gap:"1x",children:[r.jsx(bt,{onClick:e,imageId:rT.SYSTEM_ICONS_ROTATE_LEFT_MEDIUM,"data-testid":"rotate-left-button"}),r.jsx(bt,{onClick:t,imageId:rT.SYSTEM_ICONS_ROTATE_RIGHT_MEDIUM,"data-testid":"rotate-right-button"}),r.jsx(bt,{onClick:i,imageId:rT.SYSTEM_ICONS_FLIP_HORIZONTAL_MEDIUM,"data-testid":"flip-horizontal-button"}),r.jsx(bt,{onClick:n,imageId:rT.SYSTEM_ICONS_FLIP_VERTICAL_MEDIUM,"data-testid":"flip-vertical-button"})]})}),bi=({value:e,onChange:t})=>{let{t:i}=t0();return r.jsx(th,{"data-testid":"zoom-slider",labelText:r.jsx(bo,{children:i("media_editor_zoom")}),value:e,inputProps:{min:1,max:3,step:.1},onValueChange:e=>{let r=parseFloat(e);isNaN(r)||t(r)}})},bn=({value:e,onChange:t})=>{let{t:i}=t0();return r.jsx(th,{labelText:r.jsx(bo,{children:i("media_editor_straighten")}),value:e,inputProps:{min:-45,max:45,step:1},onValueChange:e=>{let r=parseFloat(e);isNaN(r)||t(r)},"data-testid":"straighten-slider"})},bo=({children:e})=>r.jsx(eM,{fontSize:"small",children:e}),ba=({selectedRatio:e,onRatioChange:t,supportedCropRatios:i})=>{let{t:n}=t0(),o=[{label:n("media_editor_aspect_ratio_original"),value:be.CropRatio_Original},{label:n("media_editor_aspect_ratio_circle"),value:be.CropRatio_Circle},{label:n("media_editor_aspect_ratio_square"),value:be.CropRatio_Square},{label:"3:4",value:be.CropRatio_3x4},{label:"4:1",value:be.CropRatio_4x1},{label:"4:3",value:be.CropRatio_4x3},{label:"16:9",value:be.CropRatio_16x9}],a=i?o.filter(e=>i.includes(e.value)):o;return a.length<=1?null:r.jsxs(eB,{gap:"1x",children:[r.jsx(eM,{fontSize:"small",id:"aspect-ratio-label",children:n("media_editor_aspect_ratio")}),r.jsx("div",{role:"radiogroup","aria-labelledby":"aspect-ratio-label",children:r.jsx(e_,{gap:"1x",flexWrap:"wrap",children:a.map(i=>r.jsx(to,{value:i.label,tabIndex:0,role:"radio","aria-checked":e===i.value,inputProps:{checked:e===i.value,tabIndex:-1,readOnly:!0},onClick:()=>t(i.value),onKeyDown:e=>{("Enter"===e.key||" "===e.key)&&(e.preventDefault(),t(i.value))},"data-testid":`aspect-ratio-${i.value}`},i.value))})})]})},bs={Original:new P.BaseFilter,Studio:new yH,Spotlight:new yG,Prime:new yJ,Classic:new yV,Edge:new yK,Luminate:new yW};function bl({imageRef:e,selectedFilter:t="Original",onFilterChange:i}){let n=t=>{if(!e.current)return;let r=Object.entries(bs).filter(([e])=>"Original"!==e).map(([,e])=>e.constructor);e.current.filters=e.current.filters.filter(e=>!r.some(t=>e instanceof t)),"Original"!==t&&e.current.filters.push(bs[t]),e.current.applyFilters(),e.current.canvas?.renderAll()},o=e=>{i(e),n(e)};return r.jsx(tD,{gap:"0.5x",large:3,medium:3,small:3,children:Object.entries(bs).map(([i])=>r.jsx(bc,{filterType:i,isSelected:t===i,onClick:()=>o(i),sourceImage:e.current},i))})}function bc({filterType:e,isSelected:i,onClick:n,sourceImage:o}){let a=t.useRef(null),[s,l]=t.useState(null),{t:c}=t0();return t.useEffect(()=>{if(!a.current||!o)return;let t=new w(a.current,{width:72,height:72});return l(t),o.clone().then(r=>{let i=Math.max(72/r.width,72/r.height);r.scale(i),r.filters=[],"Original"!==e&&r.filters.push(bs[e]),r.applyFilters(),t.add(r),t.centerObject(r),t.renderAll()}),()=>{t.dispose()}},[o,e]),r.jsxs(W,{tagName:"div",cursor:"pointer",borderRadius:"1x",display:"flex",flexDirection:"column",gap:"1x",alignItems:"center",onClick:n,"data-testid":"filter-preview",children:[r.jsx(W,{borderWidth:"0.25x",borderStyle:"solid",borderColor:i?"positive":"borderTransparent",borderRadius:"1x",overflow:"hidden",children:r.jsx("canvas",{ref:a,"data-test-filter-canvas":!0,style:{width:"72px",height:"72px",display:"block"}})}),r.jsx(eM,{color:i?"positive":"textMeta",fontWeight:i?"bold":"normal",textAlign:"center",fontSize:"xsmall","data-test-filter-i18n-string":!0,children:(e=>{switch(e){case"Original":return c("media_editor_filter_original");case"Studio":return c("media_editor_filter_studio");case"Spotlight":return c("media_editor_filter_spotlight");case"Prime":return c("media_editor_filter_prime");case"Classic":return c("media_editor_filter_classic");case"Edge":return c("media_editor_filter_edge");case"Luminate":return c("media_editor_filter_luminate");default:return e}})(e)})]})}let bu={Original:"original",Circle:1,Square:1,"3:4":3/4,"4:3":4/3,"4:1":4,"5.9:1":5.9,"16:9":16/9},bd={CropRatio_Circle:"Circle",CropRatio_Square:"Square",CropRatio_3x4:"3:4",CropRatio_4x3:"4:3",CropRatio_4x1:"4:1",CropRatio_16x9:"16:9",CropRatio_Original:"Original",CropRatio_UNKNOWN:"Original"},bp={Circle:"CropRatio_Circle",Square:"CropRatio_Square","3:4":"CropRatio_3x4","4:3":"CropRatio_4x3","4:1":"CropRatio_4x1","16:9":"CropRatio_16x9",Original:"CropRatio_Original"};class bf{constructor(e,t){this.canvas=e,this.image=t}x=0;y=0;width=0;height=0;draw(e="Original"){let t,r,i;let n=this.canvas.width,o=this.canvas.height,a=this.image.aCoords;if(!a)return null;let{tl:s,tr:l,bl:c}=a,{x:u,y:d}=s,p=l.x-s.x,f=c.y-s.y;if(p<=0||f<=0)return null;let{x:m,y:g,width:h,height:y}=this.cal({x:u,y:d,width:p,height:f},bu[e]);if(h<=0||y<=0)return null;if("Circle"===e){let e=Math.min(h,y)/2,a=m+h/2,s=g+y/2;t=new I({radius:Math.max(0,e-1),top:s-e+1,left:a-e+1,strokeWidth:2,stroke:"white",fill:"transparent",selectable:!1,evented:!1}),r=new I({radius:Math.max(0,e),top:s-e,left:a-e,fill:"transparent",selectable:!1,evented:!1}),i=e>0?new O(`M 0 0 h ${n} v ${o} h -${n} z M ${a} ${s} m -${e} 0 a ${e} ${e} 0 1 0 ${2*e} 0 a ${e} ${e} 0 1 0 -${2*e} 0 z`,{fill:"rgba(0,0,0, 0.4)",selectable:!1,evented:!1}):new O(`M 0 0 h ${n} v ${o} h -${n} z`,{fill:"rgba(0,0,0, 0.4)",selectable:!1,evented:!1})}else t=new C({width:h-2,height:y-2,top:g,left:m,strokeWidth:2,stroke:"white",fill:"transparent",selectable:!1,evented:!1}),r=new C({width:h,height:y,top:g,left:m,fill:"transparent",selectable:!1,evented:!1}),i=new O(`M 0 0 h ${n} v ${o} h -${n} z M ${m} ${g} v ${y} h ${h} v -${y} z`,{fill:"rgba(0,0,0, 0.4)",selectable:!1,evented:!1});return{border:t,clipPath:r,shadow:i}}cal(e,t){let{x:r,y:i,width:n,height:o}=e;if(n=Math.max(1,n),o=Math.max(1,o),"original"===t)return{x:r,y:i,width:n,height:o};if("number"==typeof t&&t>0){if(n<o*t){let e=n/t;i+=(o-e)/2,o=e}else{let e=o*t;r+=(n-e)/2,n=e}}return{x:r,y:i,width:Math.max(1,n),height:Math.max(1,o)}}}function bm(e,t){let r=t*Math.PI/180,i=Math.cos(r),n=Math.sin(r);return{x:e.x*i-e.y*n,y:e.y*i+e.x*n}}function bg(e,t){return{topLeft:bm(e.topLeft,t),topRight:bm(e.topRight,t),bottomLeft:bm(e.bottomLeft,t),bottomRight:bm(e.bottomRight,t)}}function bh(e){if(e)switch(e){case lD.ImageFilter_Classic:return"Classic";case lD.ImageFilter_Edge:return"Edge";case lD.ImageFilter_Guru:return"Luminate";case lD.ImageFilter_Prime:return"Prime";case lD.ImageFilter_Spotlight:return"Spotlight";case lD.ImageFilter_Studio:return"Studio"}return"Original"}let by=(e,t)=>Math.sqrt(e*e+t*t);function bb(e,t,r,i){var n,o;let a,s;if(!e.croppedRegion)return{zoomValue:1,straightenValue:0};let l=function(e){if(!e)return 1;let t=bu[e];return"number"==typeof t?t:1}(i),{croppedRegion:c}=e,u={x:(c.topLeft?.x??0)*t,y:(c.topLeft?.y??0)*r},d={x:(c.topRight?.x??0)*t,y:(c.topRight?.y??0)*r},p={x:(c.bottomLeft?.x??0)*t,y:(c.bottomLeft?.y??0)*r},f={x:(c.bottomRight?.x??0)*t,y:(c.bottomRight?.y??0)*r},m={x:(u.x+f.x)/2,y:(u.y+f.y)/2},g={x:u.x-m.x,y:u.y-m.y},h=g.x>0,y=g.y>0,b=0;!h&&y?b=1:h&&y?b=2:h&&!y&&(b=3);let x=Math.atan(Math.abs(g.x)/Math.abs(g.y));b%2==1&&(x=Math.atan(Math.abs(g.y)/Math.abs(g.x)));let S=Math.round(180*(x-Math.atan("Original"===i?t/r:l))/Math.PI),{topRight:E,topLeft:v,bottomRight:T}=bg({topLeft:u,topRight:d,bottomLeft:p,bottomRight:f},S+(b*=90)),N=by(E.x-v.x,E.y-v.y),_=by(T.x-E.x,T.y-E.y),k={x:(v.x+T.x)/2,y:(v.y+T.y)/2},I=Math.round(10*Math.min(t/N,r/_))/10,O=E.x-v.x,C=T.y-E.y,P=(n=(k.x-O/2)*I,o=(k.y-C/2)*I,t/r>l?(a=r,s="height"):(a=t,s="width"),{xy:{x:n/a,y:o/a},basedOnDimension:s});return{rotateValue:b,zoomValue:I,straightenValue:S,topLeft:P}}let bx=[P.Brightness,P.Contrast,P.Saturation,yz];function bS(e){return e.sort((e,t)=>{let r=bx.findIndex(t=>e instanceof t),i=bx.findIndex(e=>t instanceof e);return(-1===r?1/0:r)-(-1===i?1/0:i)})}function bE(e,t){return e.filter(e=>!(e instanceof t))}function bv({imageRef:e,editData:i,initialZoom:n=1,initialStraightenAngle:o=0,initialRotate:a=0,onEdit:s,onConstrainPosition:l,enableImageFilters:c=!0,enableImageAdjustmentSliders:u=!0,onApplyEdits:d,onCropRatioChange:p,supportedCropRatios:f,originalScale:m=1}){let[g,h]=t.useState(0),[y,b]=t.useState(n),[x,S]=t.useState(o),[E,v]=t.useState(i?.brightness),[T,N]=t.useState(i?.contrast),[_,k]=t.useState(i?.saturation),[I,O]=t.useState(i?.vignette),[C,R]=t.useState(bh(i?.imageFilter)),[w,A]=t.useState(()=>i?.cropRatio||(f?.[0]??be.CropRatio_Original)),[$,L]=t.useState(0),M=t.useRef(!0),{t:D}=t0();t.useEffect(()=>{b(n)},[n,m]),t.useEffect(()=>{S(o),L(a);let t=bN(a+o),r=bN(e.current?.angle||0);0!==t&&e.current&&r!==t&&(e.current.rotate(t),e.current.canvas?.renderAll())},[a,o,e]),t.useEffect(()=>{M.current||s?.(),M.current=!1},[s,y,x,$,C,E,T,_,I,w]);let U=t=>{if(e.current&&e.current.canvas){let r=m*t;(function(e,t){let{originX:r,originY:i}=e,n=e.getRelativeCenterPoint();e.originX="center",e.originY="center",e.left=n.x,e.top=n.y,t(e);let{x:o,y:a}=e.translateToOriginPoint(e.getRelativeCenterPoint(),r,i);e.left=o,e.top=a,e.originX=r,e.originY=i})(e.current,e=>{e.scale(r)}),e.current.canvas.renderAll()}},F=t=>{if(e.current){let r=bN(t+$);e.current.rotate(r),e.current.canvas?.renderAll()}},j=t=>{if(e.current){let r=e.current.angle||0;e.current.rotate(bN(r+t)),e.current.canvas?.renderAll(),L(bN($+t))}},B=t=>{if(e.current){if(t){let t=e.current.flipX||!1;e.current.flipX=!t}else{let t=e.current.flipY||!1;e.current.flipY=!t}e.current.canvas?.renderAll(),s?.()}},V=t=>{if(e.current){let r=e.current;r.filters=bE(r.filters,P.Brightness),0!==t&&r.filters.push(new P.Brightness({brightness:t})),r.filters=bS(r.filters),r.applyFilters(),r.canvas?.renderAll()}},K=t=>{if(e.current){let r=e.current;r.filters=bE(r.filters,P.Contrast),0!==t&&r.filters.push(new P.Contrast({contrast:t})),r.filters=bS(r.filters),r.applyFilters(),r.canvas?.renderAll()}},G=t=>{if(e.current){let r=e.current;r.filters=bE(r.filters,P.Saturation),0!==t&&r.filters.push(new P.Saturation({saturation:t})),r.filters=bS(r.filters),r.applyFilters(),r.canvas?.renderAll()}},z=t=>{if(e.current){let r=e.current;r.filters=bE(r.filters,yz),0!==t&&r.filters.push(new yz({vignette:t})),r.filters=bS(r.filters),r.applyFilters(),r.canvas?.renderAll()}},H=[r.jsx(ty,{text:D("media_editor_crop"),id:0,onClick:()=>h(0)},"crop")],q=[r.jsxs(bT,{children:[r.jsx(br,{onRotateLeft:()=>j(-90),onRotateRight:()=>j(90),onFlipHorizontal:()=>B(!0),onFlipVertical:()=>B(!1)}),f&&f.length>1&&r.jsx(W,{insetTop:"1x",children:r.jsx(ba,{selectedRatio:w,onRatioChange:e=>{A(e),p?.(e)},supportedCropRatios:f})}),r.jsx(W,{insetTop:"3x",children:r.jsxs(eB,{gap:"2x",children:[r.jsx(bi,{value:y,onChange:e=>{b(e),U(e),l?.()}}),r.jsx(bn,{value:x,onChange:e=>{S(e),F(e)}})]})})]},"crop")];if(c){let t=H.length;H.push(r.jsx(ty,{text:D("media_editor_filter"),id:t,onClick:()=>h(t)},"filter")),q.push(r.jsx(bT,{children:r.jsx(bl,{imageRef:e,selectedFilter:C,onFilterChange:R})},"filter"))}if(u){let e=H.length;H.push(r.jsx(ty,{text:D("media_editor_adjust"),id:e,onClick:()=>h(e)},"adjust")),q.push(r.jsx(bT,{children:r.jsx(yR,{brightness:E,contrast:T,saturation:_,vignette:I,onBrightnessChange:e=>{v(e),V(e)},onContrastChange:e=>{N(e),K(e)},onSaturationChange:e=>{k(e),G(e)},onVignetteChange:e=>{O(e),z(e)}})},"adjust"))}return r.jsxs(W,{display:"flex",flexDirection:"column",width:"fillAvailable",insetY:"1x",flex:1,children:[r.jsx(W,{flex:1,display:"flex",flexDirection:"column",style:{minHeight:0},children:r.jsx(tb,{tabs:H,tabPanels:q,currentTabIndex:g})}),d&&r.jsx(W,{insetTop:"2x",children:r.jsx(J,{category:"primary",isEmphasized:!0,text:D("media_editor_apply"),onClick:d,width:"fillAvailable"})})]})}let bT=({children:e})=>r.jsx(eB,{gap:"1x",insetTop:"3x",children:e}),bN=e=>{let t=e%360;return t>0?t:t+360};function b_(e,r,i,n){let{editor:o,onReady:a}=y6(),s=t.useRef(null),[l,c]=t.useState(r||"Original"),u=t.useRef(r||"Original"),d=t.useRef(null),p=t.useRef(null),[f,m]=t.useState(1),[g,h]=t.useState(0),[y,b]=t.useState(0),x=t.useRef(1),[S,E]=t.useState(1),v=t.useRef(null),T=i||e?.editData,{jetCore:N}=tB().getClients(),[_,k]=t.useState(0),[I,O]=t.useState(!1),[C,R]=t.useState(!1),[w,$]=t.useState(!1),[L,M]=t.useState(!1),D=t.useCallback((e,t=0,r=1,i,n=!1)=>{let o=t/r,{width:a=0,height:s=1}=e,l=a/s;if(n&&i){let n=bu[i];if(void 0===n)return;"original"===n?o>l?e.scaleToHeight(r):e.scaleToWidth(t):n>=o?l<=n?e.scaleToWidth(t):e.scaleToHeight(o/n*r):l<=n?e.scaleToWidth(n/o*t):e.scaleToHeight(r)}else o>l?e.scaleToHeight(r):e.scaleToWidth(t)},[]),U=t.useCallback((e,t)=>{let{tl:r,tr:i,bl:n,br:o}=e.aCoords,a=[{x:0,y:0},{x:i.x-r.x,y:i.y-r.y},{x:n.x-r.x,y:n.y-r.y},{x:o.x-r.x,y:o.y-r.y}],s=Math.min(...a.map(e=>e.x)),l=Math.max(...a.map(e=>e.x)),c=Math.min(...a.map(e=>e.y)),u=Math.max(...a.map(e=>e.y)),{left:d,top:p,width:f,height:m}=t.getBoundingRect(),g=d+f,h=p+m;return{left:{min:Math.min(d-s,g-l),max:Math.max(d-s,g-l)},top:{min:Math.min(p-c,h-u),max:Math.max(p-c,h-u)}}},[]),F=t.useCallback((e,t)=>{let{brightness:r,contrast:i,saturation:n,vignette:o,imageFilter:a}=t;if(r&&e.filters.push(new P.Brightness({brightness:r})),i&&e.filters.push(new P.Contrast({contrast:i})),n&&e.filters.push(new P.Saturation({saturation:n})),o&&e.filters.push(new yz({vignette:o})),a){let t=bh(a);"Original"!==t&&e.filters.push(yq[t])}e.applyFilters()},[]),j=t.useCallback((e,t)=>{if(!o||!s.current)return;if(p.current){let{border:e,clipPath:t,shadow:r}=p.current;try{e&&o.canvas.remove(e),t&&o.canvas.remove(t),r&&o.canvas.remove(r)}catch(e){N.reportError(Error("Error removing existing crop overlay",{cause:e}),["media-image-editor-v2"])}p.current=null}d.current||(d.current=new bf(o.canvas,s.current));let r=d.current.draw(e);if(r){let{border:e,clipPath:i,shadow:n}=r,a=bN((t?.rotateValue||0)+(t?.straightenValue||0));if(0!==a&&s.current.rotate(a),t?.topLeft&&i){let{xy:e,basedOnDimension:r}=t.topLeft,n=i[r],o=s.current;o.left=i.left-n*e.x,o.top=i.top-n*e.y,o.setCoords()}try{n&&o.canvas.add(n),e&&o.canvas.add(e),i&&o.canvas.add(i),p.current={border:e,clipPath:i,shadow:n},o.canvas.renderAll()}catch(e){N.reportError(Error("Error adding crop overlay elements to canvas",{cause:e}),["media-image-editor-v2"])}}},[o,N]),B=t.useCallback(async t=>{if(!o||!o.canvas||!o.canvas.contextContainer)return;o.canvas.clear(),s.current=null,d.current=null,p.current=null;let i=t,n=null;if(e){let t=ca.getItem(e.mediaFileId);t&&(v.current&&URL.revokeObjectURL(v.current),i=n=URL.createObjectURL(t),v.current=n)}let a=await A.fromURL(i,{crossOrigin:"anonymous"});a.set({hasBorders:!1,hasControls:!1,hoverCursor:"default",selectable:!0});let l=a.setCoords.bind(a);a.on("moving",function(){let e=p?.current?.border;if(e){let{left:t,top:r}=U(a,e);a.left=Math.min(Math.max(a.left,t.min),t.max),a.top=Math.min(Math.max(a.top,r.min),r.max)}l()}),a.on("scaling",l),a.on("rotating",l),T&&F(a,T),D(a,o.canvas.width,o.canvas.height,u.current,!0),x.current=a.scaleX,E(a.scaleX);let c=null;if(T&&T.croppedRegion){let e=a.width||0,t=a.height||0;if(e&&t){let i=T.cropRatio;c=bb(T,e,t,(i?bd[i]:void 0)||r)}}o.canvas.add(a),o.canvas.centerObject(a),o.canvas.renderAll(),s.current=a;let f=T?.baseRotation,g=void 0!==f?f:c?.rotateValue||0,y=T?.zoomValue,S=void 0!==y?y:c?.zoomValue||1,N=T?.straightenAngle,_=void 0!==N?N:c?.straightenValue||0;a.scaleX*=S,a.scaleY*=S,T?.flipHorizontal&&(a.flipX=!0),T?.flipVertical&&(a.flipY=!0),m(S),h(_),b(g);let k=c?{...c,rotateValue:g,straightenValue:_}:null;j(u.current,k)},[o,j,T,F,D,U,e]);t.useEffect(()=>{r&&r!==u.current&&(c(r),u.current=r)},[e,r]),t.useEffect(()=>{if(!e)return;let t=y4(e);t&&B(t)},[e,o,B]),t.useEffect(()=>{if(r&&r!==l&&s.current&&o?.canvas){c(r),u.current=r;let e=s.current,t=o.canvas,i=e.scaleX/x.current,n=e.angle;e.angle=0,e.setCoords(),D(e,t.width,t.height,r,!0),x.current=e.scaleX,E(e.scaleX),e.setCoords(),t.centerObject(e),e.setCoords(),d.current=new bf(t,e),j(r,null),0!==n&&(e.rotate(n),e.setCoords());let a=e.getCenterPoint();e.scaleX*=i,e.scaleY*=i,e.setPositionByOrigin(a,"center","center"),m(i),e.setCoords(),t.renderAll()}},[r,l,j,o,D]),t.useEffect(()=>()=>{if(p.current&&o){let{border:e,clipPath:t,shadow:r}=p.current;try{e&&o.canvas.remove(e),t&&o.canvas.remove(t),r&&o.canvas.remove(r)}catch(e){N.reportError(Error("Error cleaning up crop overlays",{cause:e}),["media-image-editor-v2"])}p.current=null}v.current&&(URL.revokeObjectURL(v.current),v.current=null)},[o,N]),t.useEffect(()=>{(async function(){if(!e?.source){R(!1);return}switch(e.source.$case){case"remoteImageUrl":R(e.metadata?.hasC2PAManifest??!1);return;case"localFile":{let t=ca.getItem(e.mediaFileId);if(!t){R(!1);return}R(await cM(t));return}default:R(!1);return}})()},[e,T]),t.useEffect(()=>{C&&($(!0),M(!0))},[C]),t.useEffect(()=>{k(e=>e+1)},[]);let V=t.useCallback(()=>{let e=s.current,t=p.current?.border;if(e&&t){let{left:r,top:i}=U(e,t);e.left=Math.min(Math.max(e.left,r.min),r.max),e.top=Math.min(Math.max(e.top,i.min),i.max),e.setCoords(),e.canvas?.renderAll()}},[U]),K=t.useCallback(()=>{let e=s.current;if(e){let t=e.angle%360!=0||e.filters.length>0||e.flipX||e.flipY||e.scaleX.toFixed(5)!==x.current.toFixed(5)||e.scaleY.toFixed(5)!==x.current.toFixed(5);O(t),t&&M(!1)}},[s]),W=t.useCallback(()=>{if(!s.current||!o||!n)return;let e=s.current,t=p.current?.clipPath,r=function(e,t){let r;let i=e.scaleX||1,n=e.scaleY||1,o=(e.width||0)*i,a=(e.height||0)*n,s=0,l=0,c=0,u=0,d=e.filters?.map(e=>{switch(e.type){case"Classic":return lD.ImageFilter_Classic;case"Edge":return lD.ImageFilter_Edge;case"Luminate":return lD.ImageFilter_Guru;case"Prime":return lD.ImageFilter_Prime;case"Spotlight":return lD.ImageFilter_Spotlight;case"Studio":return lD.ImageFilter_Studio;default:return}}).filter(e=>void 0!==e)||[lD.ImageFilter_None],p=1===d.length?d[0]:void 0;if(t){let i=e.left||0,n=e.top||0,s={topLeft:{x:t.left-i,y:t.top-n},topRight:{x:t.left-i+t.width,y:t.top-n},bottomLeft:{x:t.left-i,y:t.top-n+t.height},bottomRight:{x:t.left-i+t.width,y:t.top-n+t.height}},l=e.angle||0;0!==l&&(s=bg(s,-l));let c={x:s.topLeft.x/o,y:s.topLeft.y/a},u={x:s.topRight.x/o,y:s.topRight.y/a},d={x:s.bottomLeft.x/o,y:s.bottomLeft.y/a},p={x:s.bottomRight.x/o,y:s.bottomRight.y/a},f={$type:"proto.sdui.common.Coordinate2D",x:c.x,y:c.y};r={$type:"proto.sdui.common.Rect",topLeft:f,topRight:{$type:"proto.sdui.common.Coordinate2D",x:u.x,y:u.y},bottomLeft:{$type:"proto.sdui.common.Coordinate2D",x:d.x,y:d.y},bottomRight:{$type:"proto.sdui.common.Coordinate2D",x:p.x,y:p.y}}}else r={$type:"proto.sdui.common.Rect",topLeft:{$type:"proto.sdui.common.Coordinate2D",x:0,y:0},topRight:{$type:"proto.sdui.common.Coordinate2D",x:1,y:0},bottomLeft:{$type:"proto.sdui.common.Coordinate2D",x:0,y:1},bottomRight:{$type:"proto.sdui.common.Coordinate2D",x:1,y:1}};return e.filters&&e.filters.forEach(e=>{"Brightness"===e.type?s=e.brightness||0:"Contrast"===e.type?l=e.contrast||0:"Saturation"===e.type?c=e.saturation||0:"Vignette"===e.type&&(u=e.vignette||0)}),{$type:"proto.sdui.media.MediaEditData",croppedRegion:r,scaleRatio:Math.min(i,n),brightness:s,contrast:l,saturation:c,vignette:u,imageFilter:p??lD.ImageFilter_None,flipHorizontal:!!e.flipX,flipVertical:!!e.flipY}}(e,t?{top:t.top||0,left:t.left||0,width:t.width||0,height:t.height||0}:void 0),i=u.current?bp[u.current]:void 0,a=e.angle||0,l=90*Math.round(a/90),c=a-l;-45===c&&a<180&&(l-=90,c=45),l=(l%360+360)%360;let d=Math.round(e.scaleX/x.current*10)/10;n({...r,cropRatio:i,straightenAngle:c,baseRotation:l,zoomValue:d})},[o,n]);return[{editor:o,onReady:a,imageRef:s,canvasKey:_,isImageEdited:I,hasContentCredentials:C,isContentCredentialsTooltipOpen:w,setIsContentCredentialsTooltipOpen:$,isContentCredentialsWarningOpen:L,setIsContentCredentialsWarningOpen:M,initialZoom:f,initialStraightenAngle:g,initialRotate:y,editData:T,originalScale:S,onImageEdit:K,constrainImagePosition:V},W]}let bk={FILE_MANAGER:"fileManager",IMAGE_EDITOR:"imageEditor",TAG_EDITOR:"tagEditor",ALT_TEXT_EDITOR:"altTextEditor",ADD_IMAGE:"addImage"};var bI=((iw=bI||{}).IMAGE="image/*",iw.VIDEO="video/*",iw.AUDIO="audio/*",iw.DOCUMENT="application/*",iw.ALL="*/*",iw);function bO({files:e,selectedIndex:i,onSelectionChange:n,onFilesChange:o,onFilesAdded:a,onViewChange:s,previewUrlMap:l}){let{t:c}=t0(),u=t.useMemo(()=>e.map(e=>({id:e.mediaFileId,url:l?.get(e.mediaFileId)||y4(e)||""})),[e,l]),d=r_(rk(rI,{activationConstraint:{distance:5}})),[p,f]=t.useState(null),[m,g]=t.useState(null),h=le(),y=e=>{e.length>0&&(a(e),s(bk.FILE_MANAGER))},b=[{labelKey:"media_editor_duplicate",icon:rT.SYSTEM_ICONS_DOCUMENT_COPY_MEDIUM,category:"ghost",onClick:()=>{let t=e[i];if(!t)return;let r=crypto.randomUUID(),n={...t,mediaFileId:r,filePointer:r,metadata:{...t.metadata,$type:"proto.sdui.media.MediaFileMetadata",hasC2PAManifest:t.metadata?.hasC2PAManifest??!1,altText:"",tags:[]}},a=ca.getItem(t.mediaFileId);a&&ca.setItem(r,a);let s=[...e];s.splice(i+1,0,n),o(s)}},{labelKey:"media_editor_delete",icon:rT.SYSTEM_ICONS_TRASH_MEDIUM,category:"ghost",onClick:()=>{let t=e.filter((e,t)=>t!==i);o(t),0===t.length?n(0):i>=t.length&&n(t.length-1)}},{labelKey:"media_editor_add",icon:rT.SYSTEM_ICONS_ADD_MEDIUM,category:"secondary",onClick:()=>{s(bk.ADD_IMAGE),h.openFilePicker({accept:bI.IMAGE,multiple:!0,onFilesSelected:y})}}];return r.jsxs(W,{width:"100%",insetStart:"2x",display:"flex",flexDirection:"column",height:"100%",children:[r.jsx(W,{offsetY:"2x",color:"textMeta",fontSize:"small",children:c("media_editor_file_manager_count",{current:i+1,total:u.length})}),r.jsx(W,{overflow:"auto",overflowX:"hidden",flex:1,insetEnd:"1x",children:r.jsxs(rO,{sensors:d,collisionDetection:rC,onDragStart:e=>{g(e.active.id)},onDragEnd:t=>{let{active:r,over:i}=t;if(g(null),!i||r.id===i.id)return;let n=u.findIndex(e=>e.id===r.id),o=u.findIndex(e=>e.id===i.id);if(-1===n||-1===o)return;let a=[...e],s=a[n],l=a[o];s&&l&&(a[n]=l,a[o]=s)},children:[r.jsx(rP,{items:u.map(e=>e.id),strategy:()=>null,children:r.jsx(tD,{gap:"2x",large:2,medium:2,small:2,children:u.map((e,t)=>{let o=String(t+1).padStart(2,"0");return r.jsxs(W,{display:"flex",flexDirection:"column",alignItems:"start",children:[r.jsx(bC,{id:e.id,url:e.url,index:t,isSelected:i===t,onSelect:()=>n(t)}),r.jsx(W,{offsetTop:"0.5x",insetStart:"0.5x",fontSize:"xsmall",color:"textMeta",children:o})]},e.id)})})}),r.jsx(rR,{children:m&&(()=>{let e=u.find(e=>e.id===m);return e?r.jsx(W,{style:{width:162,height:200},children:r.jsx("img",{src:e.url,alt:c("media_editor_image_alt",{id:e.id}),width:"100%",height:"100%"})}):null})()})]})}),r.jsx(W,{display:"flex",justifyContent:"center",alignItems:"center",gap:"1.5x",offsetY:"2x",children:b.map(({labelKey:e,icon:t,category:i,onClick:n})=>r.jsx("div",{onMouseEnter:()=>f(e),onMouseLeave:()=>f(null),onFocus:()=>f(e),onBlur:()=>f(null),children:r.jsx(ta,{isOpen:p===e,placement:"top",anchor:r.jsx(J,{"aria-label":c(e),category:i,size:"medium",icon:r.jsx(eO,{imageId:t}),onClick:n}),content:r.jsx(W,{offsetX:"1.5x",offsetY:"1x",fontSize:"small",children:c(e)})})},e))})]})}function bC({id:e,url:t,index:i,isSelected:n,onSelect:o}){let{attributes:a,listeners:s,setNodeRef:l,transform:c,transition:u}=rw({id:e}),d={transform:rA.Transform.toString(c),transition:u,userSelect:"none"};return r.jsx(W,{ref:l,style:d,...a,...s,children:r.jsx(W,{onPointerDown:o,borderWidth:"0.25x",borderStyle:"solid",borderColor:n?"borderActive":"borderTransparent",borderRadius:"1x",cursor:"pointer",display:"flex",justifyContent:"center",alignItems:"center",backgroundColor:"tableBackgroundOffset",style:{width:162,height:200},children:r.jsx(eL,{src:t,a11yText:`image ${i}`,width:"100%",height:"100%",imageScalingType:"contain"})})})}function bP({activeView:e,onViewChange:i,selectedFile:n}){let{t:o}=t0(),[a,s]=t.useState(null),l=[{view:bk.IMAGE_EDITOR,icon:rT.SYSTEM_ICONS_EDIT_MEDIUM,iconColor:void 0,labelKey:"media_editor_edit"},{view:bk.TAG_EDITOR,icon:rT.SYSTEM_ICONS_PERSON_MEDIUM,iconColor:(n?.metadata?.tags?.length??0)>0?"positive":void 0,labelKey:"media_editor_tag"},{view:bk.ALT_TEXT_EDITOR,icon:rT.SYSTEM_ICONS_ALT_TEXT_MEDIUM,iconColor:n?.metadata?.altText?.trim()?"positive":void 0,labelKey:"media_editor_alt_text"}];return r.jsx(e_,{gap:"2x",insetY:"2x",children:l.map(({view:t,icon:n,iconColor:l,labelKey:c})=>{let u=e===t;return r.jsx("div",{onMouseEnter:()=>s(t),onMouseLeave:()=>s(null),onFocus:()=>s(t),onBlur:()=>s(null),children:r.jsx(ta,{isOpen:a===t,placement:"top",anchor:r.jsx(J,{category:"ghost",size:"medium",icon:r.jsx(eO,{imageId:n,color:l}),onClick:()=>i(t),"aria-label":o(c),"aria-pressed":u,backgroundColor:u?"backgroundFaint":void 0}),content:r.jsx(W,{offsetX:"1.5x",offsetY:"1x",fontSize:"small",children:o(c)})})},t)})})}function bR({title:e,onBack:t,children:i}){let{t:n}=t0();return r.jsxs(W,{gap:"2x",display:"flex",flexDirection:"column",flex:1,children:[r.jsxs(e_,{gap:"1x",verticalAlignment:"center",children:[r.jsx(J,{category:"ghost",size:"medium",icon:r.jsx(eO,{imageId:rT.SYSTEM_ICONS_ARROW_LEFT_MEDIUM}),onClick:t,"aria-label":n("media_editor_back")}),r.jsx(U,{tagName:"h2",fontSize:"small",children:e})]}),r.jsx(W,{insetX:"2x",flex:1,display:"flex",flexDirection:"column",children:i})]})}function bw({initialAltText:e="",onSave:i}={}){let{t:n}=t0(),[o,a]=t.useState(e),s=e.trim().length>0,l=o.trim()!==e.trim(),c=s?!l:0===o.trim().length;return r.jsxs(W,{display:"flex",flexDirection:"column",alignItems:"flexStart",height:"100%",children:[r.jsxs(eB,{children:[r.jsx(eM,{color:"textMetaSolid",fontSize:"medium",offsetBottom:"3x",children:n("media_alt_text_description")}),r.jsx(eM,{color:"textMetaSolid",fontSize:"medium",offsetBottom:"8x",children:n("media_alt_text_sub_desc")})]}),r.jsxs(W,{width:"100%",display:"flex",flexDirection:"column",flex:1,children:[r.jsx(eM,{fontSize:"small",children:n("media_alt_text_title")}),r.jsx(eD,{textAreaProps:{value:o,placeholder:n("media_alt_text_placeholder_text"),rows:10},onValueChange:e=>a(e),isResizable:!1,maxLength:1e3})]}),r.jsx(W,{width:"100%",insetTop:"4x",children:r.jsx(J,{width:"100%",category:"primary",isEmphasized:!0,onClick:()=>i?.(o.trim()),text:n(s?"media_editor_update":"media_editor_add"),disabled:c})})]})}function bA({onFilesAdded:e,onViewChange:i}){let{t:n}=t0(),o=le(),a=t.useCallback(t=>{t.length>0&&(e(t),i(bk.FILE_MANAGER))},[e,i]),s=t.useCallback(()=>{o.openFilePicker({accept:bI.IMAGE,multiple:!0,onFilesSelected:a})},[o,a]);return r.jsx(e_,{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",width:"100%",children:r.jsx(tU,{imageId:rT.ILLUSTRATION_SPOTS_EMPTY_WAITING_SMALL,headline:n("media_add_image_headline"),description:n("media_add_image_description"),category:"fill",primaryAction:{label:n("media_add_image_upload_from_computer"),onClick:s}})})}async function b$(e,t,r="Original"){let i=null,n=null;try{let o;i=URL.createObjectURL(e);let a=await A.fromURL(i,{crossOrigin:"anonymous"}),s=a.width||1,l=a.height||1,{brightness:c,contrast:u,saturation:d,vignette:p,imageFilter:f}=t;if(c&&a.filters.push(new P.Brightness({brightness:c})),u&&a.filters.push(new P.Contrast({contrast:u})),d&&a.filters.push(new P.Saturation({saturation:d})),p&&a.filters.push(new yz({vignette:p})),f){let e=bh(f);"Original"!==e&&a.filters.push(yq[e])}a.applyFilters();let m=null;t.croppedRegion&&(m=bb(t,s,l,r));let g=void 0!==t.baseRotation?t.baseRotation:m?.rotateValue||0,h=void 0!==t.straightenAngle?t.straightenAngle:m?.straightenValue||0,y=m?.zoomValue||1;a.angle=bN(g+h),a.scaleX=y,a.scaleY=y,t.flipHorizontal&&(a.flipX=!0),t.flipVertical&&(a.flipY=!0);let b=bu[r],x=s,S=l;if(b&&"original"!==b&&(s/l>b?x=l*b:S=s/b),(n=new k(void 0,{width:x,height:S})).add(a),m?.topLeft&&t.croppedRegion){let{xy:e,basedOnDimension:t}=m.topLeft,r="width"===t?x:S;a.left=-r*e.x,a.top=-r*e.y}else n.centerObject(a);if(n.renderAll(),r===bd[be.CropRatio_Circle]&&"undefined"!=typeof document){let e=Math.min(x,S)/2,t=x/2,r=S/2,i=document.createElement("canvas");i.width=x,i.height=S;let a=i.getContext("2d");if(a){a.beginPath(),a.arc(t,r,e,0,2*Math.PI),a.closePath(),a.clip();let s=n.getElement();a.drawImage(s,0,0),o=i.toDataURL("image/png",1)}else o=n.toDataURL({format:"png",quality:1,multiplier:1})}else o=n.toDataURL({format:"png",quality:1,multiplier:1});let E=await fetch(o),v=await E.blob(),T=new Date().toISOString().replace(/[:.]/g,"-"),N=`edited-${e.name.replace(/\.[^/.]+$/,"")}-${T}.png`;return new File([v],N,{type:"image/png",lastModified:Date.now()})}finally{i&&URL.revokeObjectURL(i),n&&n.dispose()}}export{bA as AddImage,mH as CLIENT_COMPONENT_00fe0c516cb86347dd9d454ed7934c2c,mE as CLIENT_COMPONENT_050ebb77a44e978f31b225b34393d5c2,h2 as CLIENT_COMPONENT_07b0fee1eb9f763a077914b0f3e34863,fT as CLIENT_COMPONENT_0bb12a58cd56b42995a432d1709bdd5f,yg as CLIENT_COMPONENT_0ec856698f505c642b03420f90a007ac,dJ as CLIENT_COMPONENT_0eea0b94ae3e4518e25adbe561addbd4,gP as CLIENT_COMPONENT_0fa26f6426c3e7dfac3fd26868ad0d60,h8 as CLIENT_COMPONENT_11145ca36355a99abe1c70418792887b,pF as CLIENT_COMPONENT_11a906db8ac5fbed5ab40c01328bc3db,yc as CLIENT_COMPONENT_12560f4c72a553fd501f8829f86cffed,h6 as CLIENT_COMPONENT_1e33c34b9481222c9402b7289de41e6c,gz as CLIENT_COMPONENT_1e9b95c01e7f142c1ba9a289f4714a9c,s5 as CLIENT_COMPONENT_1eb7a4ef66d8005bd9125e7ef145fc0d,ya as CLIENT_COMPONENT_1f6a764093bbdb21428c893ac1a10ba8,pX as CLIENT_COMPONENT_20cc69be5de926314b4d7c62902cec31,pt as CLIENT_COMPONENT_239dc29a7fda34e96d7b27aa1fbad144,m3 as CLIENT_COMPONENT_23cbd87134dc0d71dbaac5f1ba9af430,gt as CLIENT_COMPONENT_28685e6987cf0b73831ccb86046ffaa0,hy as CLIENT_COMPONENT_30bd9d013929f27a0fe91a1e41af4530,mc as CLIENT_COMPONENT_313a6b5dd3d1fde93c6ec191b908b3e6,hQ as CLIENT_COMPONENT_3325c90873c1cbb21368bfed495b3db5,is as CLIENT_COMPONENT_35cf4172bcf100ce58209ceaacbc32e2,go as CLIENT_COMPONENT_3774178ecc4abc0a3038d0e66a0afbac,hX as CLIENT_COMPONENT_3c7195cab5245d7a080352cc78144c0f,mT as CLIENT_COMPONENT_3e6163b7d2ac0378c0b3d0d5f262c6f8,my as CLIENT_COMPONENT_403fd1c6ca417cbb5b5ffe97a57a2693,f7 as CLIENT_COMPONENT_48ddfb1abbb59ab1a84b9c04750b67a2,gk as CLIENT_COMPONENT_49000612728c54cb58fac5bd10d8d819,fU as CLIENT_COMPONENT_4946d4f0dc7033d3ad87c0d059e7ccb3,op as CLIENT_COMPONENT_4d80675a5f06dfc7ae3801157634163f,dP as CLIENT_COMPONENT_4e93206a5bf7e17462c960da7002aa6f,gL as CLIENT_COMPONENT_4ed78c5e93ddc2d6024cb9c59b70af65,dE as CLIENT_COMPONENT_4fa1d29e46a46125e72a905268884ddf,mZ as CLIENT_COMPONENT_50110231bc9cd56e48a097b552131a15,dD as CLIENT_COMPONENT_52cb2665eba5429321773473bfa8d08b,hj as CLIENT_COMPONENT_53f97fe8724133135c3e271ff1e13cd5,gI as CLIENT_COMPONENT_5ba45a906bbf7547bbc65ab7ab31bc1b,mq as CLIENT_COMPONENT_601c73504e75e2f4ca5b8f6453d1ed79,fM as CLIENT_COMPONENT_617cb291104020c14dcad239aa70316d,m9 as CLIENT_COMPONENT_621c913cba38dd3c27c9f4d2692a01a9,fi as CLIENT_COMPONENT_63826872eed6020120a66388029575a2,ga as CLIENT_COMPONENT_70ef681ed84d50a2545c8a5d1c24c88a,hH as CLIENT_COMPONENT_715f60f5050be43e14c9825370044e16,gG as CLIENT_COMPONENT_740d9d8da97b12709a7032433433f5e2,mY as CLIENT_COMPONENT_749549934ea16291fa0c3a60dabc16e3,mx as CLIENT_COMPONENT_78ab38eea113dde1046ec86e397bafd8,m8 as CLIENT_COMPONENT_7acedfcaf42970a7b2cdbb972eeee175,f8 as CLIENT_COMPONENT_7e0a6a0cf9801e5050f8574d63324ddd,f3 as CLIENT_COMPONENT_7eb5ddfc6e98d944f0f570b986ab43a3,dC as CLIENT_COMPONENT_822cb286a0706f5dce9346910b0f08a2,fL as CLIENT_COMPONENT_82d73d05152c617e98af7c5cf5fd031f,hY as CLIENT_COMPONENT_839b8314d6675ca37d3b93476f4a6a10,gH as CLIENT_COMPONENT_85b20fca39223dffe536dd03122e5f56,pK as CLIENT_COMPONENT_870760a306dd4d87d0221b1c6bc3c414,f5 as CLIENT_COMPONENT_875f586486b983db83e40bad6a33b468,mI as CLIENT_COMPONENT_883c19eed1e739ad29e910e3d6e4ab34,gs as CLIENT_COMPONENT_8c7ef89994deb6ab1abb1e7a6359dc5e,m7 as CLIENT_COMPONENT_8ca95526e6714f95552641328e8076a0,uj as CLIENT_COMPONENT_9572b44cf39ab2b79fb58e1626297543,yu as CLIENT_COMPONENT_963bc9a2ddc707aa50f0446f3b49fb4a,mk as CLIENT_COMPONENT_999267b08972db8f657fc7871cef3fc9,hs as CLIENT_COMPONENT_9b0185a3901f266f19e74b9ea516b194,m2 as CLIENT_COMPONENT_9c68ff82ccdcf7915bd4f6125880cada,ys as CLIENT_COMPONENT_9d2e6ff51e848b728c6a781c9b9a0b02,hb as CLIENT_COMPONENT_9e283c3d8cf4492169f705e5601485a6,hn as CLIENT_COMPONENT_9e533713490381595a09766638ba4b85,nZ as CLIENT_COMPONENT_9e53ed7fb68ccb7cb8fbf5fb07680e9a,m0 as CLIENT_COMPONENT_9fd81ad7fb823453a436808b152aa2e8,pW as CLIENT_COMPONENT_a04191a8876816e2001caa3266756171,hZ as CLIENT_COMPONENT_a167bd1bd7e22d031f5d3ea404970143,pG as CLIENT_COMPONENT_a7b185992c0f375f808a1e27792947b2,fV as CLIENT_COMPONENT_a84a55ca5635e02a031675a3a6ab96de,d9 as CLIENT_COMPONENT_ab1d800ebba0b2ef0b8ef0c06eab15ed,pV as CLIENT_COMPONENT_ab3fdc93a9fa4e0c99fba6610747a30e,m6 as CLIENT_COMPONENT_ac9f789664089d7af150a9a8b58e69ff,dI as CLIENT_COMPONENT_b332a47191cc0b6ca3d1e4b6a57c84fd,hr as CLIENT_COMPONENT_b3a87a94652417e0047e40f3a854c074,mS as CLIENT_COMPONENT_b504387ed30037fe9de70d9f213a91ce,f4 as CLIENT_COMPONENT_b7558455d4dd29254fd7a2c3954d96d2,yd as CLIENT_COMPONENT_bb81ac5f2f352c4f258b90a32e6b0c1e,pe as CLIENT_COMPONENT_bba75127906e646b219be74d12aea114,ml as CLIENT_COMPONENT_bc12b55b17a9307d0453b2c742c2eca4,h3 as CLIENT_COMPONENT_bff9974623f83256108de049e42b3c77,hw as CLIENT_COMPONENT_c114f9f8ce4379e27641e8cbe90b3a8f,pz as CLIENT_COMPONENT_c1b2ec07c5b719597a4d9861a9868198,mN as CLIENT_COMPONENT_c21823345dc8dc74423319caf1563ac5,dY as CLIENT_COMPONENT_c5751fef8f9d114fe366b0e30afdfd35,pJ as CLIENT_COMPONENT_c8f05f5135911b40a1f26550f4085ad5,ie as CLIENT_COMPONENT_c93eb825c9b1d20eed8e7cbb27983a33,me as CLIENT_COMPONENT_cc290934193e1dc14c0a316e31e7b0d3,p9 as CLIENT_COMPONENT_cdf2460d937417d57cba657a73d3a97d,m1 as CLIENT_COMPONENT_cfcf703eba54f31d593733dd22756464,uU as CLIENT_COMPONENT_d187d9acf1c12810b5945e8942a0e8de,ho as CLIENT_COMPONENT_d6ae427f052cd568d321c0333f9cb860,gr as CLIENT_COMPONENT_d7cffedf8a13371957dfd115180f3dce,h5 as CLIENT_COMPONENT_d95433160c3f1ec7cef09a6b55725525,g2 as CLIENT_COMPONENT_dbeceabed541b958faec941e32225ada,mX as CLIENT_COMPONENT_dd455ab0e94751005d85c54cd302fce7,pO as CLIENT_COMPONENT_e0283c98cc026f8ded101651b9b377cd,f9 as CLIENT_COMPONENT_e034e214624723671e22e54b8de7fc9c,mV as CLIENT_COMPONENT_e21384d340e81e708a60c7eb1e5ff95a,yl as CLIENT_COMPONENT_e214151405420d73e307b0109aa26dec,hi as CLIENT_COMPONENT_e6bc3be678bd0f74780350224832cc6c,gJ as CLIENT_COMPONENT_e791ac6d206429a93f286b71efc390fe,m_ as CLIENT_COMPONENT_e829faf7bca6854701a8563d48463ea9,pC as CLIENT_COMPONENT_e9e5744c902fddb98f0eb62aee5d400a,he as CLIENT_COMPONENT_ea33ea723e5c6d079fb6717a815a4542,yo as CLIENT_COMPONENT_ea3f34bea872e7eeffaa0b736e12d04e,nH as CLIENT_COMPONENT_eb8145e5ac626c1e2890a5111f53ea02,dO as CLIENT_COMPONENT_ed8c681e1ad2deb69de7ea75e13f499d,dk as CLIENT_COMPONENT_f4fec6e46a509bf459711a2321a8c73e,hf as CLIENT_COMPONENT_faa7d46b7643052727798e4aa44c6c80,g8 as CLIENT_COMPONENT_faeec53d0a82fcf374f5aca44a1270d2,ge as CLIENT_COMPONENT_fd2b16812951515b4d86acc527dbc1f1,lt as CLIENT_COMPONENT_fe5ce76d3b832e2b9b0d23770003fba8,ht as CLIENT_COMPONENT_fe62d76c3899b0045bab3dde30246a34,yS as CROP_RATIOS,bd as CROP_RATIOS$1,be as CropRatio,bk as MEDIA_EDITOR_VIEW,bw as MediaAltTextEditor,lz as MediaEditData,bP as MediaEditorToolbar,bR as MediaEditorViewWrapper,bO as MediaFileManager,y7 as MediaImageEditor,y9 as MediaImageEditorCanvas,bv as MediaImageFilters,ca as clientMediaFileStore,cs as filesWithEditDataToMediaList,y4 as getFileUrl,b$ as renderImageWithEdits,b_ as useMediaImageEditor,dK as useSduiExpression,n5 as useSduiStore};