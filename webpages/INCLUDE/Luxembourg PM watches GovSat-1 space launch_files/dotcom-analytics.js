/*! "1.343.0-20260204-124200-9e180ea" */!function(){"use strict";const e=e=>{if("undefined"==typeof document||!e)return"";const t=`; ${document.cookie}`.split(`; ${encodeURIComponent(e)}=`);let n="";return 2===t.length&&(n=decodeURIComponent(t.pop().split(";").shift())),n},t=(e,t,n)=>{if("undefined"==typeof document||!e)return;const o=new Date(Date.now()+864e5*n);document.cookie=`${encodeURIComponent(e)}=${encodeURIComponent(t)}; expires=${o.toGMTString()}; domain=.bbc.com; path=/`},n=e=>{window.dotcom.consent={...window.dotcom.consent,native:e}},o=()=>window.dotcom.consent.native,a=e=>{window.dotcom.consent={...window.dotcom.consent,sp:e}},i=(e,t)=>{"object"==typeof window.dotcom.consent.vendor&&null!==window.dotcom.consent.vendor&&void 0!==e&&(window.dotcom.consent.vendor={...window.dotcom.consent.vendor,[e]:t})},s=e=>{if("object"==typeof window.dotcom.consent.vendor&&null!==window.dotcom.consent.vendor&&void 0!==e)return window.dotcom.consent.vendor[e]},r=["AT","AX","BE","BG","BL","CH","CY","CZ","DE","DK","EE","ES","EU","FI","FR","GB","GF","GG","GI","GP","GR","HR","HU","IE","IM","IS","IT","JE","LI","LT","LU","LV","MF","MT","MQ","NL","NO","PL","PM","PT","RE","RO","SE","SI","SK","YT"],d=()=>"undefined"!=typeof window&&/[?|&]ads-debug/.test(window.location.href),c=()=>"undefined"!=typeof live&&"test"===live||-1!==window.location.href.indexOf("test.api.bbc.co.uk")||/(localhost|sandbox|int|test)(.dev)*.bbc.co*/.test(window.location.href)||/web.(int|test).bbcx.test.api.bbc.com/.test(window.location.href),p=()=>!0===window.dotcom.userinfo.notUkIp&&!0===window.dotcom.userinfo.ads,l=()=>d()||p()&&window.dotcom.flags.state>0&&window.dotcom.flags.adverts,u=e=>{var t;window.dotcom.userinfo.country=e["X-Country"],window.dotcom.userinfo.notUkIp="no"===e["X-Ip_is_uk_combined"],window.dotcom.userinfo.ads="yes"===e["X-Ip_is_advertise_combined"],!0===window.dotcom.userinfo.notUkIp&&(window.dotcom.userinfo.eea=!!(t=window.dotcom.userinfo.country)&&-1!==r.indexOf(t.toUpperCase()))},w=(e,t)=>{t||(delete e.adverts,delete e.analytics),Object.keys(e).forEach((t=>{let n=e[t];n="true"===n||n,n="false"!==n&&n,window.dotcom.flags[t]=n})),"www.bbc.com"!==window.location.hostname||"/news/uk/the_queen"!==window.location.pathname&&"/news/live/uk-62902778"!==window.location.pathname&&"/news/topics/c8nq32jwn4rt"!==window.location.pathname&&"/news/topics/cq23pdgvr7rt"!==window.location.pathname||(window.dotcom.flags.adverts=!1)},m=async(e,t)=>fetch(e).then((e=>{if(e.ok)return e.json();throw new Error(t)})),g=async()=>{const e="Error fetching flags",t=await m(c()?"https://gn-flagpoles.test.api.bbci.co.uk/ngas":"https://gn-flagpoles.api.bbci.co.uk/ngas",e).catch((()=>{throw window.dotcom.flags.state=-2,new Error(e)}));w(t,!1),window.dotcom.flags.state=2};let f=[];const v={isAdsDebug:d,isTestEnv:c,isStageEnv:()=>/stage.bbc.co*/.test(window.location.href)||/web.stage.bbcx.test.api.bbc.com/.test(window.location.href),isLiveEnv:()=>"www.bbc.com"===window.location.hostname,isSignedIn:()=>e("ckns_id"),isDotcomAllowed:p,syncAdsEnabled:()=>l(),isAdsEnabled:()=>new Promise((e=>{window.dotcom.userinfo.state<0||window.dotcom.flags.state<0?e(l()):0===window.dotcom.userinfo.state||0===window.dotcom.flags.state?f.push(e):e(l())})),checkCookies(){n(1);const o=e("ckns_policy");(d()||o&&"1"===o.charAt(2))&&n(2),o||(n(2),t("ckns_policy","111",365),t("ckns_explicit","0",365))},async init(){const e=new URLSearchParams(window.location.search);try{d()?(window.dotcom.userinfo.notUkIp=!0,window.dotcom.userinfo.ads=!0,window.dotcom.flags.adverts=!0,window.dotcom.flags.analytics=!0,window.dotcom.userinfo.state=1,await g()):(await(async()=>{const e="Error fetching userinfo",{userinfo:t={}}=window.dotcom.config;if(t["X-Country"]&&t["X-Ip_is_uk_combined"]&&t["X-Ip_is_advertise_combined"])return u(t),void(window.dotcom.userinfo.state=2);const{host:n}=window.location,o="www.context-switcher.api.bbc.com"===(a=n)||"www.context-switcher.test.api.bbc.com"===a?"/userinfo":"https://www.bbc.co.uk/userinfo";var a;const i=await m(o,e).catch((()=>{throw window.dotcom.userinfo.state=-1,new Error(e)}));u(i),window.dotcom.userinfo.state=1})(),p()?window.dotcom.config.opsFlags&&!e.has("force-client-flagpoles")?(w(window.dotcom.config.opsFlags,!0),w(window.dotcom.config.ngasFlags,!1),window.dotcom.flags.state=2):(await(async()=>{const e="Error fetching gnlops flags",t=await m(c()?"https://gn-flagpoles.test.api.bbci.co.uk/gnlops":"https://gn-flagpoles.api.bbci.co.uk/gnlops",e).catch((()=>{throw window.dotcom.flags.state=-1,new Error(e)}));w(t,!0),window.dotcom.flags.state=1})(),!0!==window.dotcom.flags.adverts&&!0!==window.dotcom.flags.analytics||await g()):window.dotcom.flags.state=-3)}finally{f&&f.length>0&&(f.forEach((e=>e(l()))),f=[])}},reset(){f=[]}},h={LOG:"log",INFO:"info",WARN:"warn",ERROR:"error",DEBUG:"debug"},y={enabled:!1};("undefined"!=typeof window&&/[?|&]ads-debug/.test(window.location.href)||"undefined"!=typeof document&&-1!==document.cookie.indexOf("ads-debug="))&&(y.enabled=!0);const _=function(e){return(t,n=h.LOG)=>{y.enabled&&console[n](`dotcom:${e} ${t}`)}},b=e=>{"interactive"===document.readyState||"complete"===document.readyState?e():document.onreadystatechange=()=>{"interactive"===document.readyState&&e()}},E=_("measurePerformance"),k=(e,t,n)=>{((e,t)=>{if(!t)return!1;const n=[e,t],o=window.performance.getEntriesByType("mark");return n.every((e=>o.some((t=>t.name===e||"{}"===JSON.stringify(e)))))})(t,n)?window.performance.measure(e,t,n):E(`Failed to measure ${e}, with: ${t}, ${n}`,h.WARN)},L=_("loader");window.dotcom=window.dotcom||{},window.dotcom.loader=window.dotcom.loader||{loading:[],loaded:[],failed:[],waiting:[]};const A=e=>{e&&(window.performance.mark(`thirdparty-${e}-end`),k(`thirdparty-${e}-duration`,`thirdparty-${e}-start`,`thirdparty-${e}-end`))},I=({name:e,src:t,onLoad:n,onError:o,firstParty:a,legacy:i,id:s,nonce:r})=>{const d=document.createElement("script");d.type="text/javascript",d.async=!0,d.src=t,d.onload=()=>{A(e),n()},d.onerror=o,i?(d.defer=!0,d.nomodule=!0):a&&(d.type="module"),s&&d.setAttribute("id",s),r&&d.setAttribute("nonce",r),document.head.appendChild(d)},S=({src:e,onLoad:t,onError:n})=>{const o=new Image(1,1);o.onload=t,o.onerror=n,o.src=e},C=({name:e,src:t,onLoad:n,onError:o})=>{const{require:a}=window;a.config({paths:{[e]:t}});a([e],(t=>(t=>{A(e),n(t)})(t)),(()=>o()))},D=(e,t)=>{window.dotcom.loader.waiting[e].forEach((({resolve:n,reject:o})=>{t?n(`${e} has loaded`):o(new Error(`${e} failed to load`))}))},x=({name:e,url:t,urlParams:n,requireUrl:o,preLoad:a,onLoad:i,isImage:s,id:r,nonce:d},c,p)=>{window.performance.mark(`thirdparty-${e}-start`);const{requirejs:l,dotcom:u}=window;u.loader.loading.push(e),u.loader.waiting[e]=[],"function"==typeof a&&a(d);const w="function"==typeof n?n():"",m=l&&o?o():t(w);let g=I;s&&(g=S),l&&o&&(g=C),g({name:e,src:m,onLoad:t=>{const n=`load success > ${e}`;L(n),u.loader.loaded.push(e),"function"==typeof i&&i(t),c&&c(n),D(e,!0)},onError:()=>{const t=`load fail > ${e}`;L(t),u.loader.failed.push(e),p&&p(new Error(t)),D(e,!1)},firstParty:!1,legacy:!1,id:r,nonce:d})},P=e=>window.dotcom.loader.loaded.includes(e),T=e=>{e.forEach((e=>{(({name:e,url:t,urlParams:n,requireUrl:o,meetsRequirements:a,preLoad:i,onLoad:s,image:r=!1,id:d=null,nonce:c=null})=>{!window.dotcom.loader.loading.includes(e)&&a(window.dotcom.flags)&&x({name:e,url:t,urlParams:n,requireUrl:o,preLoad:i,onLoad:s,image:r,id:d,nonce:c})})(e)}))},U=()=>window.dotcom.data,R=new RegExp("^(/)?(afaanoromoo|afrique|amharic|arabic|azeri|bengali|burmese|gahuza|gujarati|hausa|hindi|igbo|indonesia|korean|kyrgyz|japanese|marathi|mundo|naidheachdan|nepali|pashto|persian|pidgin|portuguese|punjabi|russian|serbian|sinhala|somali|swahili|tajik|tamil|telugu|thai|tigrinya|turkce|ukchina|ukrainian|urdu|uzbek|vietnamese|yoruba|zhongwen)"),B=/^(\/)?(news|sport)/,O=new RegExp("^/ws/av-embeds/"),j=e=>{const t=e||window.location.pathname;return R.test(t)||O.test(t)},F=()=>!!window.dotcom?.config?.xPlatform,N=()=>{const e=U().channel;return("future"===e||"worklife"===e||"travel"===e||"culture"===e)&&!F()},$=j,q=()=>"japanese"===U().channel,X=N,M=()=>"storyworks"===U().channel||"special-features"===U().channel,V=F,G=()=>{const e=window.location.pathname;return!window.orbitData&&!F()&&!j()&&B.test(e)},z={name:"nielsenNz",url:()=>"https://secure-nz.imrworldwide.com/v60.js",onLoad:()=>{void 0!==window.nol_t&&window.nol_t({cid:"nz-bbc",content:"0",server:"secure-nz"}).record().post()},meetsRequirements:e=>{const t=void 0!==s("nielsen")?s("nielsen"):2===o();return void 0!==e.nielsen&&e.nielsen&&t}},J={name:"nielsenUs",image:!0,urlParams:()=>({href:window.location.href,referrer:document.referrer}),url:e=>`https://secure-us.imrworldwide.com/cgi-bin/m?ci=us-804789h&amp;cg=0&amp;cc=1&amp;si=${encodeURI(e.href)}&amp;rp=${encodeURI(e.referrer)}&amp;ts=compact&amp;rnd=${Date.now()}`,meetsRequirements:e=>{const t=void 0!==s("nielsen")?s("nielsen"):2===o();return void 0!==e.nielsen&&e.nielsen&&t}};let K=!1;const Q=()=>{if(!V()||K)return;let e;const{pageData:t}=window.dotcom.config,{newKeyValues:n}=window.dotcom.data;t.collection&&t.collection.length&&(e=t.collection.map((e=>e.title.toLowerCase().replace(/ /g,"_"))).join(","),n.coll=e),t.destination&&t.destination.length&&(e=t.destination.map((e=>e.title.toLowerCase().replace(/ /g,"_"))).join(","),n.destination=e),t.topics&&t.topics.length&&(e=t.topics.map((e=>e.title.toLowerCase().replace(/ /g,"_"))).join(","),n.top_tags=e),t.urn&&(n.page_id=t.urn),t.type&&(n.page_type=t.type.replace("indexPage","index")),window.dotcom.config.adCampaign&&(n.leg_n_keyword=window.dotcom.config.adCampaign),window.dotcom.config.topics&&window.dotcom.config.topics.length&&(n.leg_n_topic=window.dotcom.config.topics);const o=["av_content_genre","av_brand_id","av_series_id","av_episode_id"];t.pageProps&&(o.forEach((e=>{t.pageProps[e]&&(n[e]=t.pageProps[e].toLowerCase().replace(/ /g,"_"))})),t.pageProps.article_word_count&&(n.art_len=`${t.pageProps.article_word_count}`));const a=window.location.pathname.split("/");a.length>2&&"audio"===a[1]&&"category"===a[2]&&(n.av_category_id=a[3],a[4]&&(n.av_subcategory_id=a[4])),K=!0},H=()=>window.dotcom.data,W={homepage:"TC1C2D428-136E-4D44-A563-A4C4E2B4D0A1",news:"TC1C2D428-136E-4D44-A563-A4C4E2B4D0A1",sport:"T964FE259-B620-478C-AF4C-9B6853A11B9C",reel:"T10DCAF56-10F0-4128-A7F7-B9B1669D3445",worklife:"TA6543824-73CC-4EAF-B320-D24F2A892A7C",travel:"T4E08C579-ED13-4847-B253-DF94DC06DCEC",future:"TAB5482CD-53F5-4AAA-8B9E-BD0581F5A177",culture:"T8CD81B31-A141-461B-A05B-294757BB38A8",weather:"TB4B38A72-A4C9-4644-8F68-BD9A84E4D23A"},Y={homepage:"P219D63F3-9886-4328-BC0E-12169AC85CC0",news:"P2704BFDE-073B-4F0E-9CBF-6E96DC971415",sport:"P73D072A9-789C-4972-88A2-DE6D33083A50",reel:"PC17F1AFA-EB39-4076-9CFF-82B484FF8365",worklife:"PA450AE31-6740-4B1B-A653-D81F88FBC6DB",travel:"T4E08C579-ED13-4847-B253-DF94DC06DCEC",future:"P4D97E2C6-33E7-4E4F-9747-A1E959322287",culture:"PCC3AA1CB-C557-42F7-9278-D94AF13EA546",weather:"PC9B805B7-E9B8-4258-B950-5D2431D1472E"},Z=e=>{if(!e||!e.length)return"";return`${e[0].toUpperCase()}${e.substr(1)}`},ee=()=>{if(void 0!==s("nielsen")?s("nielsen"):2===o()){(e=window)[t="NOLBUNDLE"]=e[t]||{nlsQ:(n,o,a,i,s,r)=>((i=(s=e.document).createElement("script")).async=1,i.src=`${"http:"===e.location.protocol?"http:":"https:"}//cdn-gl.imrworldwide.com/conf/${n}.js#name=${o}&ns=${t}`,(r=s.getElementsByTagName("script")[0]).parentNode.insertBefore(i,r),e[t][o]=e[t][o]||{g:a||{},ggPM(n,a,i,s,r){(e[t][o].q=e[t][o].q||[]).push([n,a,i,s,r])}},e[t][o])};const{channel:n,section:o}=H(),a=(e=>Object.keys(W).find((t=>t===e))||null)(n);if(!a)return;const i=(e=>(v.isTestEnv()?W:Y)[e])(a),s=v.isAdsDebug()?{nol_sdkDebug:"DEBUG"}:{},r=NOLBUNDLE.nlsQ(i,"nSdkInstance",s),d=`BBC ${Z(a)} ${Z(o)}`,c={type:"static",assetid:window.location.pathname,section:d};b((()=>{r.ggPM("staticstart",c)}))}var e,t},te={name:"mmx",url:()=>"https://sb.scorecardresearch.com/internal-cs/default/beacon.js",meetsRequirements:e=>void 0!==e.comscoremmx&&e.comscoremmx},ne={name:"survey",url:()=>"https://gn-web-assets.api.bbc.com/ngas/vendor/edr/edr.min.js",meetsRequirements:e=>V()?void 0!==e.surveyx&&e.surveyx&&!window.EDRSurvey:void 0!==e.survey&&e.survey&&!window.EDRSurvey},oe={name:"gpt",url:()=>"https://securepubads.g.doubleclick.net/tag/js/gpt.js",nonce:"",meetsRequirements:e=>void 0!==e.adverts&&e.adverts&&window.dotcom.config.pageAds},ae="doubleverify",ie={name:ae,url:()=>"https://pub.doubleverify.com/dvtag/29028254/DV1298722/pub.js",onLoad:()=>{window.onDvtagReady=(e,t=750)=>{if(!P(ae))return void(e&&e());window.dvtag=window.dvtag||{},window.dvtag.cmd=window.dvtag.cmd||[];const n={callback:e,timeout:t,timestamp:(new Date).getTime()};window.dvtag.cmd.push((()=>{window.dvtag.queueAdRequest(n)})),setTimeout((()=>{const e=n.callback;n.callback=null,e&&e()}),t)}},meetsRequirements:e=>void 0!==e.doubleverify&&e.doubleverify},se=e=>void 0!==e.ozone&&e.ozone&&!$()&&s("ozone"),re=(e,t,n,o,a)=>{if(!t){t=t||{},window.permutive=t,t.q=[],t.config=a||{},t.config.projectId=n,t.config.apiKey=o,t.config.environment=t.config.environment||"production";for(var i=["addon","identify","track","trigger","query","segment","segments","ready","on","once","user","consent"],s=0;s<i.length;s++){var r=i[s];t[r]=function(e){return function(){var n=Array.prototype.slice.call(arguments,0);t.q.push({functionName:e,arguments:n})}}(r)}}},de="e488cdb0-e7cb-4d91-9648-60d437d8e491",ce="1bb84885-9325-4fef-adda-a208032b2715",pe={name:"permutive",url:()=>`https://cdn.permutive.com/${de}-web.js`,preLoad:()=>{re(document,window.permutive,de,ce,{consentRequired:!0})},meetsRequirements:e=>!($()&&!q())&&(void 0!==e.permutive&&e.permutive)},le="covatic",ue=_("fpd"),we=e=>{const{segments:t}=e,n={jKmNjKmN:t["591ea40d71"].score,ctry:(e=>{switch(parseInt(e,10)){case 2:return"usa";case 3:return"can";case 4:return"aus";default:return"other"}})(t.e2cd0d9d87.score)};return ue(`processed: ${JSON.stringify(n)}`),n},me=_("fpd"),ge=async()=>(me("init"),fetch("https://segmentation.api.bbc.com/segments?segments=591ea40d71,e2cd0d9d87",{headers:{"X-API-Key":"aqhenhsvnimc7","X-Authentication-Provider":"idv5"},credentials:"include"}).then((e=>{if(!e.ok)throw new Error("response was not OK");return e.json()})).then((e=>we(e))).catch((e=>(me(e),!1)))),fe="fpd-declared",ve=()=>"true"===window.localStorage.getItem(fe),he=()=>{ve()&&window.localStorage.removeItem(fe)},ye=()=>{ge().then((e=>{window.permutive.track("DeclaredData",e),window.localStorage.setItem(fe,"true")}))},_e=()=>"reel"===H().channel||X()||M(),be=(e,t)=>new Promise((n=>{_e()?setTimeout((()=>{e(),n()}),t):(e(),n())})),Ee=_("permutive"),ke=()=>{Ee("get cust_params");const e=window.localStorage.getItem("_pdfps");return encodeURIComponent(JSON.parse(e||"[]").slice(0,250).join(","))},Le=()=>{const e=Object.seal({dfp_adUnit1:"",dfp_adUnit2:"",type:"",article:{destinations:[],keyword:"",name:""},channel:"",column:"",section:"",story_id:"",subsection:"",tags:[],topics:[]}),{adUnit:t,topics:n,adCampaign:o,channel:a,section:i,subsection:s,story_id:r,keyValues:d}=H(),c=t.split("/");""===c[0]&&c.shift();const p=n.length?n.map((e=>e.replace(/\s+/g,"-"))):[];let l=[];return d.tags&&(d.tags=decodeURIComponent(d.tags),l=Array.isArray(d.tags)?d.tags:[d.tags]),e.dfp_adUnit1=c[1]??"",e.dfp_adUnit2=c[2]??"",e.type=d.asset_type??"",e.article={destinations:d.destinations_structured??[],keyword:o??d.keyword??"",name:document.title},e.channel=a,e.column=d.column??"",e.section=i,e.story_id=r,e.subsection=s,e.tags=l,e.topics=p,e};const Ae=()=>{const e=window.innerWidth;return e<400?1:e<600?2:e<768?3:e<1008?4:e<1280?5:6},Ie=(!!window.dotcom?.flags&&se(window.dotcom.flags),()=>{const e={prod:"",pillar:"",sect:"",pagetype:"",page_id:"",grp:0,pas_tags:[],top_tags:[],coll:[]};Q();const{pillar:t,sect:n,page_type:o,page_id:a,pas_tags:i,top_tags:s,coll:r}=H().newKeyValues;return e.prod="bbccom",e.pillar=t,e.sect=n,e.pagetype=o,e.page_id=a,e.grp=Ae(),e.pas_tags=i?i.split(","):[],e.top_tags=s?s.split(","):[],e.coll=r?r.split(","):[],e}),Se=()=>{const{xPlatform:e}=window.dotcom.config;return e?Ie():Le()},Ce=_("permutive"),De=()=>{if(!window.permutive)return;Ce("Track page view");const e=Se();window.permutive.addon("web",{page:{classifications_watson:{categories:"$alchemy_taxonomy",concepts:"$alchemy_concepts",emotion:"$alchemy_document_emotion",entities:"$alchemy_entities",keywords:"$alchemy_keywords",sentiment:"$alchemy_document_sentiment",taxonomy_labels:"$alchemy_taxonomy_labels"},...e}})},xe=e=>{if("string"!=typeof e)return null;const t=e.split(":").map((e=>parseInt(e,10)));switch(t.length){case 3:return 60*t[0]*60+60*t[1]+t[2];case 2:return 60*t[0]+t[1];case 1:return t[0]}return null};let Pe=0;const Te=(e,t)=>{const{play_id:n,properties:{ad:o,video:a,xContext:i,enriched_data:s}}=t;return"ad"===e?{play_id:n,ad:o,video:a,...i,enriched_data:s}:{play_id:n,video:a,...i,enriched_data:s}},Ue=(e,t)=>{const{permutive:n}=window;switch(e.type){case"playlistLoaded":{const o=e.playlist?.title,a=e.playlist?.groupId,i=e.playlist?.summary,s=xe(e.playlist?.programmeDuration),{video:r}=t.properties;o&&(r.name=o),a&&(r.video_id=a),i&&(r.description=i),s&&(r.duration=s);const d=Te("video",t);n.track("VideoLoad",d)}break;case"adsPlugin":switch(e.id){case"adRequest":t.adsActive=!0;break;case"adDuration":t.properties.ad.duration=e.duration;break;case"adStarted":{const e=Te("ad",t);n.track("VideoAdPlay",e)}break;case"adProgress":{let o=0;switch(e.progress){case"firstQuartile":o=25;break;case"midpoint":o=50;break;case"thirdQuartile":o=75;break;case"complete":o=100}const a={...Te("ad",t),progress:o};n.track("VideoAdProgress",a)}break;case"adClick":{const e=Te("ad",t);n.track("VideoAdClick",e)}break;case"adData":t.properties.ad.creative_id=parseInt(e.info.creativeId,10),t.properties.ad.lineitem_id=parseInt(e.info.adId,10)}break;case"bbc.smp.plugins.ads.event.AdsPluginExternalEvent.ALL_ADS_COMPLETED":t.adsActive=!1;break;case"playing":if(!t.adsActive){const e=Te("video",t);n.track("VideoPlay",e)}break;case"timeupdate":{const o=(e=>e>=75?.75:e>=50?.5:e>=25?.25:0)(Math.floor(e.currentTime)/Math.floor(e.duration)*100);if(o===Pe)break;if(0===o)break;const a={...Te("video",t),progress:o};n.track("VideoProgress",a),Pe=o}break;case"ended":{const e={...Te("video",t),progress:1};n.track("VideoProgress",e)}break;case"fullscreenEnter":case"fullscreenExit":case"picInPicStarted":case"picInPicStopped":{const o={fullscreenEnter:"Full screen on",fullscreenExit:"Full screen off",picInPicStarted:"Picture in picture on",picInPicStopped:"Picture in picture off"},a=t.adsActive?"VideoAdEvent":"VideoEvent",i=t.adsActive?"ad":"video",s=Te(i,t);n.track(a,{...s,event:o[e.type]})}}};const Re=_("permutive"),Be=["playing","adsPlugin","timeupdate","fullscreenEnter","fullscreenExit","picInPicStarted","picInPicStopped","ended","playlistLoaded","bbc.smp.plugins.ads.event.AdsPluginExternalEvent.ALL_ADS_COMPLETED"],Oe=()=>{if(!window.permutive)return;Re("Track video events");const e=()=>{let e=0;const t=setInterval((()=>{e+=1;const n=window?.embeddedMedia?.api?.players(),o=0===Object.keys(n).length&&n.constructor===Object;return o&&40===e?(Re(".embeddedMedia.api.players() returned no players after 40 attempts"),clearInterval(t),!1):!o&&(Re(`.embeddedMedia.api.players() returned players after ${e} attempts`),(e=>{const t=Le();Object.keys(e).forEach((n=>{const o=e[n],{player:{playlist:a}}=o,i={play_id:"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(e=>{const t=Math.floor(16*Math.random());return("x"===e?t:3&t|8).toString(16)})),adsActive:!1,properties:{ad:{},video:{},enriched_data:t}};if(a){const e=a?.title,t=a?.groupId,n=a?.summary,o=xe(a?.programmeDuration),{video:s}=i.properties;e&&(s.name=e),t&&(s.video_id=t),n&&(s.description=n),o&&(s.duration=o)}Be.forEach((e=>{o.bind(e,(e=>{Ue(e,i)}))}))}))})(n),clearInterval(t),!0)}),100)};(()=>{let t=0;const n=setInterval((()=>(t+=1,window.embeddedMedia||40!==t?!!window.embeddedMedia&&(Re(`.embeddedMedia found after ${t} attempt(s)`),e(),clearInterval(n),!0):(Re(".embeddedMedia not found after 40 attempts"),clearInterval(n),!1))),100)})()};let je=JSON.parse(JSON.stringify([[0,320],[319,400],[399,600],[599,900],[899,1280],[1279,99999]]));je.pop(),je[4][1]=99999;const Fe="fedID.",Ne="permutative",$e=Fe,qe=()=>{const{localStorage:e}=window,t={...e};return Object.keys(t).filter((e=>e.includes($e))).reduce(((e,n)=>{const[,o,a]=n.split(".");return e[o]=o in e?e[o]:{},e[o][a]=t[n],e}),{})},Xe=_("targeting");const Me=_("permutive"),Ve=async()=>{const{flags:{permutive_cohort:e}}=window.dotcom;if(!e)return;const t=(e=>{try{const t={client:{url:document.URL,referrer:document.referrer,type:"web",user_agent:window.navigator.userAgent,domain:window.location.hostname,title:document.title}};return"object"!=typeof e||Array.isArray(e)?t:{...e,...t}}catch(e){return{}}})(Se());try{const e=await fetch(`https://api.permutive.com/ctx/v1/segment?k=${ce}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({pageProperties:t,url:document.URL})}),n=await e.json();window.permutive.addon("contextual",n);const o=n.gam||[];!function(e){window.googletag.cmd.push((()=>{0===window.googletag.pubads().getTargeting("prmtvctx").length&&(Xe("setPermutiveContextualTargetingGPT"),window.googletag.pubads().setTargeting("prmtvctx",e||[]))}))}(o.concat("rts")),Me("Track contextual data")}catch(e){Me(`Error:, ${e}`)}},Ge=()=>{const t=e("ckns_policy");return t&&"1"===t.charAt(1)},ze=_("permutive-identify"),Je=()=>{const{fedid_permutive:e}=window.dotcom.flags,t=[];if(!P("permutive")||!e||!Ge())return;const{permutive:n}=window,o=qe(),a=o?.[Ne]?.id;a&&t.push({id:a,tag:"fed_id",priority:3}),window.dotcom.idcta.signedInFedId.permutative&&t.push({id:window.dotcom.idcta.signedInFedId.permutative.id,tag:"fed_id_v2",priority:2});const i=window.localStorage.getItem("fedID.ed.id");i&&t.push({id:i,tag:"email_sha256",priority:0}),ze("calling permutive.identify() with:"),ze(JSON.stringify(t)),n.identify(t)},Ke={getCustParams:ke,trackPageView:De,addVideoEventListeners:Oe,trackContextualdata:Ve,permutiveIdentifyFedId:Je};let Qe=0;let He;const We=()=>{Ke.permutiveIdentifyFedId(),Ke.trackPageView(),Ke.addVideoEventListeners(),window.googletag.cmd.push((()=>{if(0===window.googletag.pubads().getTargeting(pe.name).length){Xe("setPermutiveTargetingGPT");const e=window.localStorage.getItem("_pdfps");window.googletag.pubads().setTargeting(pe.name,e?JSON.parse(e):[])}}))},Ye=async()=>{await be(Ke.trackContextualdata,10);let t="CMP_NOT_ENABLED";const n=s(pe.name);let o=n||!1;if(void 0!==n&&(t="CMP_ENABLED"),o){const n=e("ckns_id");if(n){const e=decodeURIComponent(n),a=window.atob(e);JSON.parse(a).ep?(t+="_SIGNEDIN_PERSONALISED",ve()||window.dotcom.flags.fpd&&(window.dotcomConfig?.tokenRefreshed?ye():He=setInterval((()=>{window.dotcomConfig?.tokenRefreshed?(ye(),clearInterval(He)):(Qe+=1,4===Qe&&(clearInterval(He),he()))}),300))):(o=!1,t+="_SIGNEDIN_NOT_PERSONALISED")}else t+="_NOT_SIGNED_IN"}o?(window.permutive.consent({opt_in:!0,token:t}),await be(We,10)):(window.gs_channels="DEFAULT",window.permutive.consent({opt_in:!1}),window.googletag.cmd.push((()=>{0!==window.googletag.pubads().getTargeting("permutive").length&&window.googletag.pubads().clearTargeting("permutive")})),he())},Ze=async(e,t,n,o)=>{const s=new Event("ngas:consentReady"),r=window.dotcom.consent.string;if(window.dotcom.userinfo.eea&&"gdpr"===e&&o.applies){window.dotcom.consent.gdprApplies=!0,window.dotcom.consent.string=n;const e=o.consentedToAll?"t":"f";window.googletag.cmd.push((()=>{window.googletag.pubads().setTargeting("c_int","yes"),window.googletag.pubads().setTargeting("rdp","na"),window.googletag.pubads().setTargeting("c_tcf",e)})),window.__tcfapi("addEventListener",2,((e,t)=>{t?(async e=>{window.dotcom.consent.vc=e.vendor.consents,i(te.name,e.vendor.consents[77]),i(pe.name,e.vendor.consents[361]),i("nielsen",e.vendor.consents[373]&&e.vendor.consents[812]),i(le,e.vendor.consents[1104]),i("ozone",e.vendor.consents[524]),e.vendor.consents[77]||e.vendor.consents[361]||e.vendor.consents[373]||e.vendor.consents[812]||e.vendor.consents[1104]||e.vendor.consents[524]?a(2):a(1)})(e):a(1),window.dispatchEvent(s)}),[77,361,373,812,1104,524])}"usnat"===e&&o.applies&&(window.dotcom.consent.gppApplies=!0,window.dotcom.consent.string=n,window.__gpp("ping",((e,t)=>{t?(e=>{window.dotcom.consent.usNatObject=e;const{SaleOptOut:t=1,SharingOptOut:n=1,TargetedAdvertisingOptOut:o=1}=e;1===t&&1===n&&1===o?(i(te.name,!1),i(pe.name,!1),i("nielsen",!1),i(le,!1),i("ozone",!1),a(1)):(i(te.name,!0),i(pe.name,!0),i("nielsen",!0),i(le,!0),i("ozone",!0),a(2))})(Object.values(e.parsedSections)[0]):a(2),window.dispatchEvent(s)}))),window.dotcom.consent.messages.push(e),2!==window.dotcom.consent.messages.length||window.dotcom.consent.gppApplies||window.dotcom.consent.gdprApplies||(a(2),window.dispatchEvent(s),console.warn("NGAS - No sourcepoint messages apply")),r&&!0===window.dotcom.flags.adverts&&!0===window.dotcom.config.allowAdvertising&&await Ye()},et={name:"sourcepoint",url:()=>"https://cdn.privacy-mgmt.com/unified/wrapperMessagingWithoutDetection.js",preLoad:e=>{window.addEventListener("ngas:consentReady",(()=>{window.dotcom.consent.consentReady=!0}));const t=document.createElement("script");t.innerHTML='"use strict";function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}!function(){var t=function(){var t,e,o=[],n=window,r=n;for(;r;){try{if(r.frames.__tcfapiLocator){t=r;break}}catch(t){}if(r===n.top)break;r=r.parent}t||(!function t(){var e=n.document,o=!!n.frames.__tcfapiLocator;if(!o)if(e.body){var r=e.createElement("iframe");r.style.cssText="display:none",r.name="__tcfapiLocator",e.body.appendChild(r)}else setTimeout(t,5);return!o}(),n.__tcfapi=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(!n.length)return o;"setGdprApplies"===n[0]?n.length>3&&2===parseInt(n[1],10)&&"boolean"==typeof n[3]&&(e=n[3],"function"==typeof n[2]&&n[2]("set",!0)):"ping"===n[0]?"function"==typeof n[2]&&n[2]({gdprApplies:e,cmpLoaded:!1,cmpStatus:"stub"}):o.push(n)},n.addEventListener("message",(function(t){var e="string"==typeof t.data,o={};if(e)try{o=JSON.parse(t.data)}catch(t){}else o=t.data;var n="object"===_typeof(o)&&null!==o?o.__tcfapiCall:null;n&&window.__tcfapi(n.command,n.version,(function(o,r){var a={__tcfapiReturn:{returnValue:o,success:r,callId:n.callId}};t&&t.source&&t.source.postMessage&&t.source.postMessage(e?JSON.stringify(a):a,"*")}),n.parameter)}),!1))};"undefined"!=typeof module?module.exports=t:t()}();',e&&t.setAttribute("nonce",e),document.head.appendChild(t),window.__gpp_addFrame=function(e){if(!window.frames[e])if(document.body){var t=document.createElement("iframe");t.style.cssText="display:none",t.name=e,document.body.appendChild(t)}else window.setTimeout(window.__gpp_addFrame,10,e)},window.__gpp_stub=function(){var e=arguments;if(__gpp.queue=__gpp.queue||[],__gpp.events=__gpp.events||[],!e.length||1==e.length&&"queue"==e[0])return __gpp.queue;if(1==e.length&&"events"==e[0])return __gpp.events;var t=e[0],n=e.length>1?e[1]:null,o=e.length>2?e[2]:null;if("ping"===t)n({gppVersion:"1.1",cmpStatus:"stub",cmpDisplayStatus:"hidden",signalStatus:"not ready",supportedAPIs:["2:tcfeuv2","5:tcfcav1","6:uspv1","7:usnat","8:usca","9:usva","10:usco","11:usut","12:usct"],cmpId:0,sectionList:[],applicableSections:[],gppString:"",parsedSections:{}},!0);else if("addEventListener"===t){"lastId"in __gpp||(__gpp.lastId=0),__gpp.lastId++;var a=__gpp.lastId;__gpp.events.push({id:a,callback:n,parameter:o}),n({eventName:"listenerRegistered",listenerId:a,data:!0,pingData:{gppVersion:"1.1",cmpStatus:"stub",cmpDisplayStatus:"hidden",signalStatus:"not ready",supportedAPIs:["2:tcfeuv2","5:tcfcav1","6:uspv1","7:usnat","8:usca","9:usva","10:usco","11:usut","12:usct"],cmpId:0,sectionList:[],applicableSections:[],gppString:"",parsedSections:{}}},!0)}else if("removeEventListener"===t){for(var i=!1,s=0;s<__gpp.events.length;s++)if(__gpp.events[s].id==o){__gpp.events.splice(s,1),i=!0;break}n({eventName:"listenerRemoved",listenerId:o,data:i,pingData:{gppVersion:"1.1",cmpStatus:"stub",cmpDisplayStatus:"hidden",signalStatus:"not ready",supportedAPIs:["2:tcfeuv2","5:tcfcav1","6:uspv1","7:usnat","8:usca","9:usva","10:usco","11:usut","12:usct"],cmpId:0,sectionList:[],applicableSections:[],gppString:"",parsedSections:{}}},!0)}else"hasSection"===t?n(!1,!0):"getSection"===t||"getField"===t?n(null,!0):__gpp.queue.push([].slice.apply(e))},window.__gpp_msghandler=function(e){var t="string"==typeof e.data;try{var n=t?JSON.parse(e.data):e.data}catch(e){n=null}if("object"==typeof n&&null!==n&&"__gppCall"in n){var o=n.__gppCall;window.__gpp(o.command,(function(n,a){var i={__gppReturn:{returnValue:n,success:a,callId:o.callId}};e.source.postMessage(t?JSON.stringify(i):i,"*")}),"parameter"in o?o.parameter:null,"version"in o?o.version:"1.1")}},"__gpp"in window&&"function"==typeof window.__gpp||(window.__gpp=window.__gpp_stub,window.addEventListener("message",window.__gpp_msghandler,!1),window.__gpp_addFrame("__gppLocator")),window._sp_queue=[],window._sp_={config:{accountId:1786,baseEndpoint:"https://cdn.privacy-mgmt.com",gdpr:{},usnat:{},events:{onConsentReady:Ze}}}},meetsRequirements:e=>window.location!==window.parent.location?(window.dispatchEvent(new Event("ngas:consentReady")),!1):void 0!==e.cmp&&e.cmp};_("xpel"),((e=window.location.href)=>{v.isTestEnv(e)||v.isStageEnv(e)})(),new URLSearchParams(window.location.search);const tt={name:"speedcurve",preLoad:()=>{LUX=function(){function e(){return Date.now?Date.now():+new Date}var t,n=e(),o=window.performance||{},a=o.timing||{navigationStart:(null===(t=window.LUX)||void 0===t?void 0:t.ns)||n};function i(){return o.now?(t=o.now(),Math.floor(t)):e()-a.navigationStart;var t}(LUX=window.LUX||{}).ac=[],LUX.addData=function(e,t){return LUX.cmd(["addData",e,t])},LUX.cmd=function(e){return LUX.ac.push(e)},LUX.getDebug=function(){return[[n,0,[]]]},LUX.init=function(){return LUX.cmd(["init"])},LUX.mark=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(o.mark)return o.mark.apply(o,e);var n=e[0],a=e[1]||{};void 0===a.startTime&&(a.startTime=i()),LUX.cmd(["mark",n,a])},LUX.markLoadTime=function(){return LUX.cmd(["markLoadTime",i()])},LUX.measure=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(o.measure)return o.measure.apply(o,e);var n,a=e[0],s=e[1],r=e[2];(n="object"==typeof s?e[1]:{start:s,end:r}).duration||n.end||(n.end=i()),LUX.cmd(["measure",a,n])},LUX.send=function(){return LUX.cmd(["send"])},LUX.ns=n;var s=LUX;if(window.LUX_ae=[],window.addEventListener("error",(function(e){window.LUX_ae.push(e)})),window.LUX_al=[],"function"==typeof PerformanceObserver&&"function"==typeof PerformanceLongTaskTiming){var r=new PerformanceObserver((function(e){for(var t=e.getEntries(),n=0;n<t.length;n++)window.LUX_al.push(t[n])}));try{r.observe({type:"longtask"})}catch(e){}}return s}()},url:()=>"https://cdn.speedcurve.com/js/lux.js?id=4446653400",meetsRequirements:e=>{let t=void 0!==e.speedcurve&&e.speedcurve&&100*Math.random()<2;const n=V()?`dotcom-${window.dotcom.data.asset_type}-${window.dotcom.data.channel}`:G()&&!0===window.dotcom.userinfo.notUkIp?"webcore":"";return!!t&&(window.LUX=window.LUX||{},LUX.label=n,!0)}},nt={name:"theMediaTrust",url:()=>"https://scripts.webcontentassessor.com/scripts/64ca3dfd44dd68a629e2e51a27e7ccd960974b5961e4ca2897139d14bf10be8b",meetsRequirements:e=>void 0!==e.tmt_media_filter&&e.tmt_media_filter},ot=()=>{if($()){const e=(()=>{let e=document.querySelector('script[src="https://gn-web-assets.api.bbc.com/ngas/latest/dotcom-bootstrap.js"]');return e||(e=document.querySelector('script[src="https://gn-web-assets.api.bbc.com/ngas/latest/test/dotcom-bootstrap.js"]')),e})();if(e){const{nonce:t}=e;if(t)return ie.nonce=t,oe.nonce=t,te.nonce=t,et.nonce=t,tt.nonce=t,ne.nonce=t,nt.nonce=t,t}}return""},at=_("analytics"),it=(e="page",t="LIVE")=>{const n=e=>"page"===e?"2":"22",o=e=>{switch(e){default:case"LIVE":return"19293874";case"TEST":return"18897612"}},a=()=>{let e="1";return e=void 0!==s(te.name)?!1===s(te.name)?"0":"1":2===window.dotcom.consent.sp?"1":"0",e};window._comscore=window._comscore||[],window.dotcom.config?.comscorekw?window._comscore.push({c1:n(e),c2:o(t),cs_ucfr:a(),options:{enableFirstPartyCookie:!0},comscorekw:window.dotcom.config.comscorekw}):window._comscore.push({c1:n(e),c2:o(t),cs_ucfr:a()})};window.dotcom.initAnalytics=()=>{ot();const e=[ne];switch(window.dotcom.userinfo.country){case"us":e.push(J);break;case"au":ee();break;case"nz":e.push(z)}$()||(it("page",v.isTestEnv()?"TEST":"LIVE"),e.push(te)),b((()=>{at("loading "),T(e)}))},window.dotcom.initAnalytics()}();