"use strict";function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _classCallCheck(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,o){for(var t=0;t<o.length;t++){var n=o[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,_toPropertyKey(n.key),n)}}function _createClass(e,o,t){return o&&_defineProperties(e.prototype,o),t&&_defineProperties(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function _toPropertyKey(e){e=_toPrimitive(e,"string");return"symbol"===_typeof(e)?e:String(e)}function _toPrimitive(e,o){if("object"!==_typeof(e)||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0===t)return("string"===o?String:Number)(e);t=t.call(e,o||"default");if("object"!==_typeof(t))return t;throw new TypeError("@@toPrimitive must return a primitive value.")}!function(s){var o=function(){function o(){var e=this;_classCallCheck(this,o),this.shyOffset=150,this.shyClass="js-shy",this.lastUp=s(window).scrollTop(),s(window).scroll(function(){return e.scrollListener(s(window).scrollTop())})}return _createClass(o,[{key:"scrollListener",value:function(e){e<this.lastUp?this.showShy(e):e>this.shyOffset+this.lastUp&&this.hideShy(e)}},{key:"hideShy",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:s(window).scrollTop();s("body").addClass(this.shyClass),this.lastUp=e}},{key:"showShy",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:s(window).scrollTop();s("body").removeClass(this.shyClass),this.lastUp=e}}]),o}();Theme.behaviours.headerShy=function(e){s(".header",e).length&&(Theme.headerShyListener=new o)},Theme.behaviours.header=function(e){function o(){s(".menu-container--header > .menu > .menu-item").each(function(e,o){s(o).find(":focus").length?s(o).addClass("js-focus"):s(o).removeClass("js-focus")})}function t(e){e.preventDefault(),e.stopPropagation(),0===(e=s(".donate-popup")).length?alert("ERROR: Popup element not found!"):e.hasClass("donate-popup--hidden")?(e.removeClass("donate-popup--hidden").css("display","flex"),s("body").addClass("js-donate-popup-open").css("overflow","hidden")):alert("Popup already open or not hidden")}function n(){console.log("Closing donate popup"),s(".donate-popup").addClass("donate-popup--hidden").css("display","none"),s("body").removeClass("js-donate-popup-open"),s("body").css("overflow","")}s(".menu-container--header > .menu a",e).focus(function(e){o()}).hover(function(e){o()},function(e){o()}),s(".menu-container--header .menu-children-icon").click(function(e){e.preventDefault();e=s(e.currentTarget);e.toggleClass("js-mobile-open"),e.hasClass("js-mobile-open")?e.parent().next().slideDown(Theme.eta):e.parent().next().slideUp(Theme.eta)}),s(document).on("Theme.breakpoints.resizeMinDesktop",function(){s(".menu-container--header .menu").removeAttr("style")}),s(".header__main .search").click(function(e){e.preventDefault(),Theme.openMenu(),s(".header .search-field").slideDown(Theme.eta,function(){s(this).removeAttr("style").addClass("js-show-mobile")}),s(".header .search-field__field").focus()});s(document).on("click",".js-donate-popup-trigger",t),s(document).on("touchend",".js-donate-popup-trigger",function(e){e.preventDefault(),t(e)}),s(document).on("click",".js-donate-popup-close",function(e){e.preventDefault(),e.stopPropagation(),n()}),s(document).on("click",".donate-popup__overlay",function(e){e.target===this&&(e.preventDefault(),n())}),s(document).on("keydown",function(e){"Escape"!==e.key||s(".donate-popup").hasClass("donate-popup--hidden")||(s(".donate-popup").addClass("donate-popup--hidden").css("display","none"),s("body").removeClass("js-donate-popup-open"),s("body").css("overflow",""))}),setTimeout(function(){s(".header").removeClass("header--loading")},100)},Theme.behaviours.headerBackground=function(e){var t="header",n=s(".slider--display-page-topper",e).length?s(".slider--display-page-topper",e):s(".horizontal-hero--display-page-topper",e);n.length&&((e=function(){var e=s(".".concat(t)).offset().top+s(".".concat(t)).outerHeight(),o=n.offset().top+n.outerHeight();s("body")[o<e?"addClass":"removeClass"]("js-past-page-topper")})(),s(window).scroll(e))}}(jQuery);