<!DOCTYPE html>
<!-- saved from url=(0060)https://hosted.pushplanet.com/CDP/WGBH/subscription/gbhdaily -->
<html xmlns="http://www.w3.org/1999/xhtml"><script async="" src="./fbevents.js"></script><script async="" src="./keen-tracking-1.1.3.min.js"></script><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <title>GBH Inline Form Test</title>
    <meta name="keywords" content="Landing Page">
    <meta name="description" content="PushPlanet is a drag-and-drop landing page builder with beautiful templates, forms, and is integrated with your Email Marketing and CRM software providers.">




        <link rel="shortcut icon" href="https://cdn.pushplanet.com/images/favicon/favicon-96x96.png" type="image/png">
    <!--CSS-->

    <link rel="stylesheet" href="./widget_hosted.css">


    

    



    <!--JS-->
        <link rel="stylesheet" href="./jquery-ui.css">
        <script type="text/javascript" src="./jquery.min.js"></script>
        <script type="text/javascript" src="./jquery-ui.min.js"></script>

    <script type="text/javascript">if (window.jQuery && $.holdReady) $.holdReady(true);</script>

    <script type="text/javascript" src="./webfont.js"></script>

    <script type="text/javascript" src="./lz-string-1.4.4-mod.min.js"></script>
    <script type="text/javascript" src="./device-detection.js"></script>
    <script type="text/javascript">
        var settings = '';
        var PP_MODE = 'hosted';
        var PP_CACHE_VERSION = '5633c01ade1740359b110f0b93bc6e25';
        var PP_STAGE = '';
        var IS_DEV = false;
        var IS_PREVIEW = false;
        var USER_ID = '569';
        var USER_GUID = '8bf3195d06b7409dae56c6a79780f4dc';
        var PAGE_ID = '7370';
        var PAGE_GUID = '6719b5fa85d347deabdcd8103fad2501';
        var PAGE_NAME = 'WGBH - Subscription Form - The Wake Up';
        var PP_KWK = 'enc-BwRgnArAggbAIgFgEIGZgGF0AY4HYFwq5YBioUCEIJMJISUuwwY6DcjCt6M6ATEnRwAosLgQSYBCUpw-uJHDC5hJJGDhxgRJDFzzxucJqR8YWMGQiklIEFERdcYYFCS50uOhHTBaILA8qBBQsdGEkCDAUSjssBDAsEGYVIShhPhQYGHB-JHVgEggqPjhkqAhcc3RwZUjIED4-YDgYIjBUGCQEKCwkYVwsmGECFD5fZSlgEfTKnJI4Uj4ZPs62KBaIZeBpFBBslk8R5Dh0B0xcOCLPBOZdXiQQLMbEGAgEJiKCbDh3QfQINMLMIgA';
        var GEO = {};
        var DEVICE = "";
        var DEVICE_TYPE = "";
        var DEVICE_TYPE_MOBILE_OVERRIDE = '';
        var UserPixelsSettings = '';
        var PixelsSettingsOverride = false;
        // Preview-only: if controller provided a device_type, expose it here
        var PREVIEW_FORCED_DEVICE = '';

        var usePC_Z_Prof = "";
        var btGlobalSubscriptionStatus = "";
        var isValidParse = true;
        var btSubscriberJson = {};
        var itSubscriberJson = {};
        var itMessageTypePolicy = '';
        var itProjectType = '';
        var it_lz = '';
        var bt_lz = '';

        var PP_COUPON_GROUP_POPULATE_OBJ = JSON.parse('{}');

        var PAGE_MODE = 'LP';
        var PC_PARTNER = '';
        var PC_LINK_VERSION = '';
        var PC_LISTS_OBJ = '';
        var PC_PROFILE_OBJ = '';
        var PC_EXTRA_OBJ = '';
        var PC_ALL_OBJ = '';
        var PC_INTEGRATION_ID = '';
        var PC_ERROR_PAGE = '';
        var DATA_STORAGE_TYPE = 'all';

        //parse PixelsJSONConfigs

        try {
            if (UserPixelsSettings != '' && typeof UserPixelsSettings === 'object') {
                let pageMobilePixelThreshold = UserPixelsSettings[PAGE_ID] || UserPixelsSettings["all"] || "";
                let currentWindowWidth = window.innerWidth;
                if (pageMobilePixelThreshold && typeof pageMobilePixelThreshold == 'number' && currentWindowWidth <= pageMobilePixelThreshold) {
                    DEVICE_TYPE = 'mobile';
                    PixelsSettingsOverride = true;
                }
            }
        } catch(err) {
            logger('ERROR: ' + e.message);
        }

        var window_loc_base = window.location.href.toLowerCase();
        if (window_loc_base.indexOf('http://') == 0) {
            window.location.href = "https://" + window.location.href.substring(7);
        }

        var LogIsPrinted = false;
        var LogDeferredArr = [];

        var logger = function(msg) {
            if (LogIsPrinted || localStorage.getItem('pp_show_logs') == '1') {
                console.log(msg);
                LogIsPrinted = true;
            }
            else {
                LogDeferredArr.push(msg);
            }
        };

        var logErrorText = function(function_name, msg) {
            if (function_name && function_name !== "logger") {
                logger('ERROR: ' + function_name + '() - ' + msg);
            }
        };

        var logError = function(e, function_name) {
            if (function_name && function_name !== "logger") {
                logger('ERROR: ' + function_name + '() - ' + e.message);
            }
        };

        var hideAllLogs = function () {
            LogIsPrinted = false;
            localStorage.removeItem("pp_show_logs");
        };

        var printAll = function() {
            if (typeof console !== "undefined") { 
                LogIsPrinted = true;
                for (var i = 0; i < LogDeferredArr.length; i++) {
                    console.log(LogDeferredArr[i]);
                }
                LogDeferredArr = [];
                localStorage.setItem('pp_show_logs', '1');
            }
        };








   

        var customJS = '';
        var customCSS = '';

        var masterCustomJS = {};
        masterCustomJS.CustomJSReady = '';
        masterCustomJS.CustomJSBeforeValidation = '';
        masterCustomJS.CustomJSBeforeSubmit = '';
        masterCustomJS.CustomJSAfterSubmit = '';
        masterCustomJS.CustomJSBeforeRedirect = '';
        masterCustomJS.CustomJSBeforeDownload = '';
        masterCustomJS.CustomJSBeforeChangePages = '';
        masterCustomJS.CustomJSAfterChangePages = '';
        masterCustomJS.CustomJSBeforeExit = '';


        if ('success' !== 'success') {
            logger('Controller Failure Step: ' + 'success');
            logger('HostedPagesName: ' + 'CDP');
        }




        logger('PageMode: ' + PAGE_MODE);
        logger('CacheBreakerSource: Cache_prod');
        logger('UserSource: ');
        logger('PageSource: ');
        logger('LZENC: false');
    </script>

    <!--Widget (deferred until device info is ready) -->
    <script type="text/javascript">
        (function(){
            // Defer deviceDetected event until all widgets finish loading
            window.__deferDeviceEvent = true;
            function loadScript(src) {
                return new Promise(function(resolve, reject){
                    var s = document.createElement('script');
                    s.type = 'text/javascript';
                    s.src = src;
                    // Ensure classic script execution semantics
                    s.async = false;
                    s.onload = function(){ resolve(); };
                    s.onerror = function(){ reject(new Error('Failed to load ' + src)); };
                    document.head.appendChild(s);
                });
            }

            var DEVICE_DETECT_CONFIG = {
                geoDeviceUrl: 'https://gdapi.pushplanet.com/', //'https://lightboxapi.azurewebsites.net/Event/GeoDeviceInternal',
                timeout: 3000
            };

            function detect() {
                return new Promise(function(resolve){
                    try {
                        // In preview, honor the device_type URL param (provided via ViewBag.DeviceType)
                        if (IS_PREVIEW === true || IS_PREVIEW === 'true') {
                            if (typeof PREVIEW_FORCED_DEVICE === 'string' && PREVIEW_FORCED_DEVICE.length > 0) {
                                var forced = PREVIEW_FORCED_DEVICE.toLowerCase() === 'mobile' ? 'mobile' : 'desktop';
                                return resolve({ deviceType: forced, isMobilePhone: forced === 'mobile', isTablet: false, source: 'preview' });
                            }
                        }
                        if (window.DeviceDetection) {
                            var d = new window.DeviceDetection(DEVICE_DETECT_CONFIG);
                            d.getDeviceInfo().then(resolve).catch(function(){ resolve(d.getUserAgentDeviceType()); });
                        } else {
                            resolve({ deviceType: (typeof DEVICE_TYPE === 'string' && DEVICE_TYPE) ? DEVICE_TYPE : 'desktop' });
                        }
                    } catch(e) { resolve({ deviceType: 'desktop' }); }
                });
            }

            function adjustFromDetection(info){
                try { window.DeviceInfo = info; } catch(e) {}
                try { if (window.DeviceDetection && typeof DeviceDetection.prototype.setDeviceInfo === 'function') { (new DeviceDetection(DEVICE_DETECT_CONFIG)).setDeviceInfo(info); } } catch(e) {}
                try { if (info && info.geo) { GEO = info.geo; } } catch(e) {}
                try { if (info && typeof info.device === 'string') { DEVICE = info.device; } } catch(e) {}
                try {
                    // pixel override check moved here from Razor block
                    if (typeof UserPixelsSettings !== 'undefined' && UserPixelsSettings && typeof UserPixelsSettings === 'object') {
                        var pageMobilePixelThreshold = UserPixelsSettings[PAGE_ID] || UserPixelsSettings["all"] || "";
                        var currentWindowWidth = window.innerWidth;
                        if (pageMobilePixelThreshold && typeof pageMobilePixelThreshold == 'number' && currentWindowWidth <= pageMobilePixelThreshold) {
                            DEVICE_TYPE = 'mobile';
                            PixelsSettingsOverride = true;
                        }
                    }
                } catch(e) { logger('pixels override move error: ' + e.message); }
                
                try {
                    var __pageWidth = '443';
                    if (__pageWidth && (info && (info.isMobilePhone === true || info.isTablet === true))) {
                        var __vp = document.querySelector('meta[name="viewport"]');
                        if (!__vp) { __vp = document.createElement('meta'); __vp.setAttribute('name', 'viewport'); document.head.appendChild(__vp); }
                        __vp.setAttribute('content', 'width=' + __pageWidth);
                    }
                } catch(e) { logger('viewport set error: ' + e.message); }
                // Re-apply original device selection logic using client DeviceType
                try {
                    var clientDt = 'desktop';
                    if (info) {
                        if (info.deviceType) clientDt = info.deviceType;
                        else if (info.isMobilePhone === true || info.isTablet === true) clientDt = 'mobile';
                    }

                    if (clientDt === 'desktop' && '1' === '1') {
                        settings = 'N4IgNghgng9grgFxALlAcwE4EsAmB9HDCNNCAIzAFMUBGAGhE1zw0oGcsAvcq2hp.GwAWMAO4oQlAG6UAdkgYQwWNLIlUAZgpCjcCISgAshgMwMhlFUKTIaAVjsMAthAxossvAhgAHFAAYGMggAYwBrTHhZHBRQEJgwGAwJN2CACgAmBzoAAizHPOyc.wBKEH4iHCw5GxAAYg1GpvKQLBc0amQQFtYfSgha2RgAWl7-7R8YDgQsGDUuzQQc7z8GODZKPEwIKpqUDSUNtY28NuJOg7ANgF8g0IiMKPx4BEpk1BB4xPeQVIhMor5XJA4plCo7aryCQNJqNFpnDoSHqUPoDCRDUYo8YtSbTWbzcCULTLXwtdabba7KHIS5HEDk07tC6HSi3EBkJI4N6xHR6Ay2BhfJLQ.yisUtNgIKC8LpDWTUBiVLDrAJsiw7N54axOMASAA8kullAAfAAdWQAOjIiG8shoOWA5pyzpyPh2VVkaFGVgQyByISUITSJjsPgAHjkANTFC0ADgA7HZWE4SjkAIRtSYYBAQeQAbidLo5GC5GFGEPWfrs.nD6czSRz-cLzqFGD9MI0dacWcbCALshdOWC4UicGiw1b7YyJmn067PdzfebrvdHjQfpoJlrJhrEfnDcX.cHVTYPkgUD9HmU8uGFBg4X32cPy9xWBmcz9rEgMxkj97R5dDQ5gQYYOE4Sg.TjRNkz.Z8B0A4DhlESw0GsP141FWCm3g51XjDECECIWQ2CAjAnD9OAfD6DAAw2LClxw.04AwNgkj9SYPFeDB6IA51i1LP1.B45dCNzPEPxyJQwByC0TDYHJ-g2YYPGGF5hMYvCQK5eIiHfWQ.TlSh1Ouc1zStG05hoZAIC0N4HWXeJ5BqCiMDANJrAQHw2GQAB6Hy2BMC0fHWIQz1zSgEAteInB88kWJ82MyA0EwaAATjsHB.AANjIeNDH8VKcAgSg7CykIsogeNUvjWN.A0QwcBCWKzxgHY2B8-McEMEJ.DILKspwPL.G60UyEMVKyEoDINAyeNKHyuwDlSnyyAQWRXEeUQLTYKQ0FTDNuwPbDB1fPS.XIViwEQIyDoXY6XV0HB9A3VLa1uo6GMHCwfQ3Qw3vrJ97udbBUN9PItwjd7Ac-l1ROIt98XOsBpNk-TFMoZTZFUxB1LdHAPS9FZkAycN-xM2QzOtBBbSskQZG4x1GOHB4ngnBI2JyOosvjbnueM0zLSpmnkDpt5rNshnlxBtC8l3fmKdkBpqjAHBNwtDRldVkw8CAkJ1ns2R-LeNnvnbRoQgyGgyHlml731xnnRea8IJyQyAI5MNQKEHYxEE4p.YhznzctsgyYFgABJxKCqCAcjmMAoByNgQlYORJOiHI0hcT3HuenJjFDMNUwdzmhcsvBRCIKi7Id07EZyDWw2j3iSR8P0stjUnl0WKt.AAUhbuGSKScjliIthv0oNJhmrPvclKI9yaVygVZoCuq-og264kxvm5E3w.QyFue7yFvpbB.x-1zoRkFS1KB6dcnyb1fypSoM1ZD1NNhmGHIAFkIqxwAApYCbtJAAwjALkOQf4fwNCnLAPgEAfzTBoMcIQ9JpA0HQMgdBKB0CkHQWQdAEB0DYCUc0wAsAaCwerMgABHEorAEDMVkHmWQABeDQdD6FcPQZgkowBLQBmRgA.QUCAD85phFSTESIHAFoIBUQTmkYhrg0BwCjvIchyBLT0LgJQAxQUQppHUZomo5Drj9moWkVBFodYMJKNwhxvC2GWmCsIDhbiLSJA1DgDhaZL6WnphwOYHCADkGQLT-HCf2PRBiDEcIANoAF08wIA4WQKKrABiUAAKJUC0QgNIlASjpMUWwKAsgQgBMvuaSKbAaIcKkHmNgmSLQdAQAUygRS2AACEoAABViAADkIBRxKSUJJ.g0nmjYEFVwNQRlQMoBaDwGxsx9KJEkKepDLFpF0NEMQdAcB2yKXQcJydsBIPCXQc04SPJeV8j5Ry8oMHq1CJQDkMAwgWnlAgHycg8AAFUADKPkNCTRkNoi0AArNg4SynmkhfQtI4SPBvluTkSJls76pSyiYcaWUaBZTsCYRF.YUVotEuELF4SgHnAAGrVFEBS80L8rmIOQQLPUQxOVILgW0NAORvqgwiTQcJORr7islY0mpDzqZPL8qIFVHyQhfJgD8qKMAYqEQkbgDhGRcV3wJUSklZKABk0gOEMo6MyygogLV8oQUgjhEqfJwJ8s6653KFZfx.jkPJGcxHANASvHIkDoGwJaEBGAXEtQIB1EiNk-gwznheDyAQBAiAkB4J0egjBsD4FYGBPNfBC3MGEGICQ0g9iKGUKodQRJtDXyMKYcwKFrAoDsLGZw6iPBeFJMgQI7J7ijmiDyVs0JYRwnBFSWoHZmgMARJ0boiosRollCMMYaIGDbwJIsVuZITiUkhDYWk-D6QnBXfsFkbJmbjueNdd4cR2Y.EXbOwtEI9hdA.RoeETIkTrtRIMbdG6JhTARnMJtxIVjHopEqH9F7jibBvTSO9QROTcg-K2gUnw30ijFKKCUb9V2GR6BWNgqoO0agwAmpNXR.W.xDTkEBYCI0rJgcMOB.LfWoP4fiLBOC8EEKISQshFDZBUJodwlFTCIqsPYVwnhfDqkCKEVFWREV5FSNkDI0R2moGKOUVAVRdAzG9JKLoi0-jDGrI8UIUxbhzHaJKFY80Ni7EuKcfYlFXj2HGM8d43xXJ.GBICyE.EESokxLiTZhJlBklpIyVklO4x8mFJqJM8pEBKnVNqf2BpTSWltKyZ07pvSBnDLQGMiZpTpmzOIgs1g8hllcjWcRN4CAtmkV2RJ64ByPCnNECcs5NQLm8dufcx53k.KvMoO8g46rvm.P-YCzwYKIVQosXChFSLZBUvRbITFuQcVpRNYS.F5ryX7cOzSsIdLbWUHtay.bHKXW-vZd6rlgqnDCtFdYGVUq-RA7lREmbzyVVbSWxqrV0UfJ6oNUa87-LLvEtJSYK1UgbVMpZU6qYH23XhI9eyr1BOfUf3Zd.X-QacD.0AaxsNEDOPRoYLG-N2pdRdBAGyFENB02IEzUW7NxBSAUHzRUZgJauBlrw1mqt4gui1qhPWlQBJ1VOWSAwXD6UR0A5sDQMUfa3ADrg8Ou4I5HhjhiB8Kdv6Z3.rnWe6dM6APnCA78cD6IwMgZxJBvSMGlhwZQ1sRD1JkNXtQ4B9DVxWQW5ZtbvALxsOvu-C72ELRT0.vqA7t3iJufAexFuzEvu93-.xIHo9Ies.h5ZCHtDF771YZfbyJ6.IC12.qER4jDBDQyhAJdXAFGqgqmHdcXnPgMgC5sOgYXhBRey4LVm6X3BxflvlyIRXkhoXaCUGriQGuuItB19WDtPpaBG5AC4E3ngzcjofVbidtuCP29d077Pf68-ruRL74vO6IPiQHrNpV6R6h7fq16x717R6N7x6PpJ7PqTov455v5frzrp5LqtDR5rqe6.4gAYj.5-6AGV7B6gE17np16gEN4YbsjN48i4Yd5IF1Dd7-AkZGgSCD4xCKiUaqgT4mDT5C7MDz65pr5y7C4r6L6S6CCb41o74tB76NpdCH7cja58goC65n6gwX6ijG7uC35Dr35jqP426p7Civ4Z7v7UjIHmGYHu4F44FF54E-7Yhl5EELDAEkEMhkG3qQGUHQHUEP5PDwFH7P5p5mEYFeFhGfpobYEEF.5e4uFQZAGwakjV5h7kE-EMhUGx5N4lgp6t76Dlqd5MHd6sH94cHD7KhUZj4T6GD8EfBZpCFi4yhL5iHsAy4iEtGVrSFK6yGq4KGfA1DKH5H8jqEgD65aEjrX66GDp-Dm6jqW5PCIGhFWHhFpHoFRFYE.4OH4HxEgD7rEEpGkFrEx50iZF-HZGwFGFBF5FFG54WELp3E2H54xFe5xGl57Hl7QZuHJGrBHHgHpGnHXrnE3CYa5Et70GCiMHMGlGrrlFcEj5VH-Dj696UAwA8gzAID94ADifSAAEjkAAJKyDOw5AABiI8OQgy7A2gYQlAUAognIVR2BXIvGFedhBwUgWAjkyaKGLeGiQ-XQiUyUaUGU2UuU-UhUxUpU5UlU1UtU9UjUPODAnAQ2lAYYeATgHgExypqp6p2cExw0DAmkeA8QY4CAGpEAWpeGZcngpp8gFpVpBaK6JpUQ5pLgVpeuiaYALpZpDp8wI6pETgPp9p7p8wBaGsK8-Adpbplp8wGQRpapCANAPIQE1IoABwmpCcEg4SAAMnACELgLHJAsRAkJQFin.HMKEDALkE4HMFMG6Oqi0EUdCX0eroMVrgPlwKuoYLGC0ByCrCgIRAYsujmMoCEN4acdEG8M7BOZelIKeJ8tRsMd2llIYBoV2rYBkL2iAGGLQP1AwFALQKlGuSAJpBIOAlQLmDkKCpPPCDbqeYmcmQwCeGFIecgEOZeiqVObubYERh3mwEyS0FyFQK8Dbh-WyIGcmR8AKSAJBZnnADBVlMeY1DQFyDPCYOqsMMYKlBjKlIboYMMPGBkP4BACYGQEVGlBkKlHIRLHgGwHAGQJqbUPoLmGEHgLAHAHgG6IiOulUKwBgngMxFzi8XxQtuaVKH0B7txZsL4HIB7lHABbYdgXrJKDqngPCngJNL1ngFIHvkVAHnYSpd4EGRpTZPGrpcoPpWyfSD4PpZQASVxHmqCgxaydBoKOsMZepWwJpdsqwHRQxUxR7kZWpaZbRfRYxW-DybBZrFBaABJauppB7DGiPBIHBc-Y8LZWIJ4GEFIF5CgEkqAGEN7vKC0FIBIKCivGJenHHEghXtcCkoKBYOEElbbk1bSTgBZR7ugm1dHJ1XYZxJQNsHpKcPeUBUSBAHAGALUDAJ-j4KwBoCaYRHgMoJKCNVFXZT4FybSS3lyAcJNbUMlWRJui8e4F8dgZqQSC0PqXYfoD0qug2l2hBcBCmeMlgFmV0HgCaR5WpXgAAD7.W.XhIABK0cOQuJAwlJiZWKbAYkoEbw1CANv1RIWUlsoohgspx5k0EAsYNANAGQOA04GEpFPU3M8YTZSBqQaQRQ1NdgYIIA8hSR2gYEq6JKfZCQNuEeb4e-45Jxl61u05HgzIPh85DZnQSJoJpYdBqhXQT5-GyxlNJK8ZOQituQitdNfesJCQQ-8JlREgLBORpYWoMA9MUtbeEgstneCtKNqt1tytKN6tpG7BWtnBvw3BXQ-tEtmouso-oAuGIAFtFNaAZAaQKtdtStatMJTtllFRo-IAHtNBYJeAbwjw4J0t.t5N8tQdIdttodEdvejtXQcJrtCJetSp8xCeT-JhPwlNIItdDgdNERKxGxSlWxx1Ox7x-x3xQehxnhxxEeZxthMB5dcBosLeltWdddBQ-QDdxxTdjuTx3-hebdThu6HxrhhIPx8GYBaBvNUBg9.hhhgR3tVRVdKQE9gIF9tNmes9n-y6mxS9oGJezha9iRBxvxvd.xs5e9-eQ9ARieydphp9XQNdl9wI9d19n9kR890Rrdj9BBCRBlG93d79J6fdFBA9P91B4xyAPMKhZtxMsY8ZO5KARDb5RDMFEZq8QFWAp454g5GAw5nu-iWArA9DjDu1E1U1UlkA6qIgKs2GIAHF4cap4yZ4qy0ULQtJUAeA60UcNa7puobO2AcgOACcMj4yq6eSCjLQmkiyEAFp6pVAnoBRv52hIAX5XIP5huYoRDIQAFEgeMBMv5pMDciEGZb1F42KINdO4NSwVJ-E0NsNGy1CeYIqnavohgWU.0h00MoT18pjA8ZdNpsVsFz1Hw7j71IAn1wVQZf1ANwNoNvjkNATuQMNxEcN2AGgiNyNqNw0GNhgWNONeNBNJgRNGF2U8YZNkJyxt99NDajNEoXZ5thgbNA575DDl6XNY5X99IU5rkgtMzIti5Y-bOwERtJt6Tr1mT2T31uTiNBTPjEN.jCAgT5TwTVTANNT1j6NVUmN.QTT-NhNJF7TpNGdphc9ch.Tgegz4EwzozYFEzI53NMz.N8zJVu9IASzjZKzqT9px9L1mZb5WTX1qlez-T3jYNRzUNpTQT8NFz.1VzaN9TjTuNjzrTzzJNnTbz76jxDN3zveQzMtIzmGYzH5QL0zELoLM5ELULYtBteREJct7zlNhKuQorOQhKDtbBhdztMdTJO4STze6zAr0tDBmdwd4rmrhgUrZRsrOtsdCr.LdG8LOGqr3TwrWdWrYr2rkdMr0d-r8r8df9ldQr1dlra5ErHrkrEDO9Hzd9LdD93uT9q9ndSDIBH9O9.dQJ-9Fxw9Vxo9SxFrGrXrKbM9kDfrC9HusRjhwbABr9Xd4bqDkDUbUeMbIJcbR9dsJ9rrZ9yb1r1rabvrvTMDgbbxz9obh6HhRbkb6D0bmDsb9BJgWU65NghgRDP5O4J5b5J5MFyT1DtD0AbDl6Z5XQoKBJWJIyOQwKQCchGC1l4VgVvFLDYlXgUAkldhQlHuGs.eOI5wSefQl1qzZEqVI8stClMNzxTZuzXlJpY5RVdhFjapBpZgnw9jXQqZIEGTnjBzmLfj2LScuLlTeYZdxp0ZXgQgP5RDNpwZ4lGH5azpaHqaAQ5gXpOH6HP5AZI8ZHRHeGlDUZrp5H5aqamkKTEHCLHj2ZeZBZRUHGJZVA5ZlZ8QNZdZC5jZ5r76LZfT--ih7ZPz3ZvZLLALjDUzXJILcz3LEevLS5uGpUJ52DeN25Vj-5gjR5J5K7IAF5.QA4N5uSd5EgLH87r5S7Op35Bp.5gFz5lVoFS7KaGHc76TaT6ZWzSLOzqLn1-zGLRTxzpzbAFTCNlzGgKN1zxL9zpLLTbTlLXTNbUDnz0nAxmucnfzinznrQo5qnnL6nCzPLonfLqz9pCbmziLEgoXnleT.1MHUX8HZTsX5z1TiXtTNzd8DTqXzTTzxNHTWXtxKBdLMnBXDLvzTL.zJXKnPN.dlX4LmnNXS5EHOsVb7H2zKLrXEXhTWLJTCHZzeLfXSXRLtzw32NaXY3LzVL4n6x89M3-XR-83LNzLNBrLgLpXwLFXpYGnFBWnMLRsqd-DarSbwYKbDbtrA-erxdutXQhrntdGDXvtZr2Xvw7r9bnrOrmt9ryPBrTrSrJrWPUPL3wDePnr8P-d0riPxPSopPSTh91uibbrdbdPBPPrzuOX.rn7rbOb8DL9iDnbPd3b.PJbjIZbceFbiemPOPIrcPvP9xr3X-WbrxIvuxHb7hkvCGxbvbpb.b5bzr-AFPyvtPWrjb.PGbLb9hy9ubhB-bYbXbhvPbGRfbQt5b9BxFI7baDAE7NAU7JDy695c7z5NDTn4zjD5noKwKfSf8BJgyOQxou7iDQw-ga4yIolAl8VXVrkV7b1i9exd7slj7qTz7dh77Abnw37GlIQf7HugHVjRGIHdjTJEHwwUHfoHXp3JzOLF3SHY1IF0cPnRpGHcF0F95aVjACF95SFDUIQqFGMZKmF2FuF-FhFxFpF5FEAlF1FigYVAVkVXQLFsgbFHFXF7uR7.F5pl7dhrAef4lZ7pf0l97clNf7AH7pfOTP7WlHZDpT0oDBrKX7MLqFXMogDEG4AzyhpUAF-UD2Z.ZSg328pmVNQSAg6r5zDB0cUmBfc.omSSpPsnAHuQgL4GGzZVcqVRAqiAH.aOESqDAMqqu0qoYJqqvgAPPVUaoLYwgLVOID1Q6pKAuq1SfgX1WwIDUhq-INanYQ4b7UJAM1eenNSJCLU6MK1c0jBTLobUtqeRGQVw3ZIjxjqyIU6pXwuryUIAP5bArdTkYLBz8T1NMrBWC7NdDuP1Y7oczg5nduucXfFkjX67JdbuJLUbuS3G6vNqeuPYOjTVyDgNWy9LTsgt39pZQluELFbmp2B5VdNuotJchD1NomNoeXPTIDQF7R5B8hwIfIYTyjra0SeTJOwIq0TpK9BW49YOpbAKGNDihsYUoXa3KEs9Kh1Qw2pbzqGB0GhRQwoU0JKEI8i6nQiQFUKNZJ0MAKdLIe3hCE11BhzQoYW0KZ4dC3aIASYZcUWIhEYek9MBlfXV4C9M2T.bXu3XbafFGahbD3tL2N6y9Te8vc3sqzHr9CAQU9S-rbw.yPEHe2bc4SG0uFv0t6ERGXlkTN7s9ogu3FSpz1rZvCDhBwz4ZYWbb31HecDXXgCILbu9t6twr3ibx96PDwR-AABi8PVawjCg7ww4agTt5Ii6-vwlenm3F768UGNwpDHcNBHy9sGuDZcsgB3AgdMOB5MPq0Fn4xVHOdDWPpelYDMNWGELHQQdT3Q8NKAfDSWl0CEYiNuwVAbVCQIYBSN1GVg6KpGVloaBlG0QNRrI1XSklNYytHRomT0YGNlqcgNANkMvyt8DStjMDmX3xhrhnGYYUJt3175eMTubgwfudx654tQm-uZAJE2iZ3Q-wo.CKOPzFHYDNIGQFMoF3sFNcPqTgtFu10i4D8Yungq7gNxS73cAhGXCbtS0IxEZcu.RJQh2WZokN787NZbmV1W7oN1ueIxgVtxhb0EzG2DU.MQ2JiOATOA4hMvhHKr5l1UAFNMHZ3P4YckxIoxdmKJc6WMDSJ5TvlFTo7JiPg-Az4G1SIFV8SB4HV9kBQyoUC8AOVPKsgBoF0DyMjA8qiwKWBXl2BdVBqjuO4G8DXx4QXqoIIvbCDuBX44SvCCcgSC5gUg5kuNVkFdA3KexeasoOWo0M1Bo1NkJoM.E7VwJug7AoGQMHrojB8lK0udTMEe5LB91GwXVxnxpiOOGY..m10Bo5jAxeY3rgl2u51M.BI3MlqWOCFW8whBQGmnTXe6LBCuMteIcV0SHNjkhAtDbqD07Hi0E6SoyniY3ToLCs6udHOvbVGFI9xh7tboZqFqFp0A6JI5SeHVUkM9dWzPDYWT0Tq9DdJ5YmnsHQMk20MgqwsYWZK0l0YiRcw82tZNCHZ1DJPkxyepOcn3oCR0ImyaSMnoIiHiKBH4WcLpEu8GRm9VIkbxxH3C8RgUhYor2No3FXh-wskeFI16C9S-tI53gg2soS8mRWIlkUlLZGpSK6FvPbrsNyHZTp6fPL4ZFORGFTReeveKX8U96AlcRs5aqXATcn1SYRjUyIZSJanWEopuBP4fSJKmMigRaDSqcCXZHhMUAnI3DFuXHbEchxnTcPqlU1jJio-C7N8myyYYIUpREeGUdw0-SKiBGkjOkjqNXQbiY0Ro1RtI1NESBzRkZPIFaPwg2js4do4xu3idG6kXRgoN0S-XPC6I5glAZDuPiAA';
                        DEVICE_TYPE = 'desktop';
                        DEVICE_TYPE_MOBILE_OVERRIDE = '';
                        customJS = '// jshint maxerr:10000\nvar urlStart = \u0027https://jsapi.lightboxcdn.com\u0027;\nvar userGuid = \u00228bf3195d06b7409dae56c6a79780f4dc\u0022; //the Long Alphanumeric 32 character GUID\nvar integrationIdCdp = \u00222217\u0022; //the Short Integer ID (5 to 6 numbers long) - integration ID for CDP project\nvar integrationIdDefault = \u00222610\u0022; //the Short Integer ID (5 to 6 numbers long) - integration ID for Station project\nvar platform = \u0022p\u0022;\nvar responseFormat = \u0022jsonp\u0022; //(must be either \u0022jsonp\u0022 or \u0022json\u0022)\nvar customSignupSource = window.PAGE_NAME \u0026\u0026 typeof window.PAGE_NAME === \u0027string\u0027 ? \u0027pushplanet_\u0027 \u002B window.PAGE_NAME.trim() : \u0027\u0027; // for user \u0022signup_source\u0022 value (string).\nlet userData = {};\n\n\nvar GetIterableUserById = function(uid, integrationId ,callback) {\n    showLoading();\n    var finalUrl = urlStart \u002B \u0027/it9nrcf8em5qe7t85c9/v1/iterable/GetUserById?user_guid=\u0027 \u002B userGuid \u002B \u0027\u0026integration_id=\u0027 \u002B integrationId \u002B \u0027\u0026platform=\u0027 \u002B platform \u002B \u0027\u0026format=\u0027 \u002B responseFormat \u002B \u0027\u0026userid=\u0027 \u002B uid;\n    $.ajax({\n        dataType: \u0027jsonp\u0027,\n        url: finalUrl,\n        success: function(data) {\n            if (data \u0026\u0026 typeof data === \u0027object\u0027 \u0026\u0026 data !== null \u0026\u0026 data.hasOwnProperty(\u0027success\u0027) \u0026\u0026 data.success) {\n                if (data.hasOwnProperty(\u0027payload\u0027) \u0026\u0026 data.payload.user \u0026\u0026 data.payload.user.hasOwnProperty(\u0027email\u0027)) {\n                    logger(\u0027GetUserByEmail: Found Iterable User ==\u003E\u0027);\n                    logger(data);\n                    logger(data.payload.user);\n                    userData = data.payload.user;\n                    callback(userData, true);\n                    //user the user object to Populate all the user data on the page\n                } else {\n                    //isNewEmail = true;\n                    callback(user=null, false);\n                    logger(\u0027GetUserByEmail: Invalid Iterable User Payload ==\u003E\u0027);\n                    logger(data);\n                }\n            } else {\n                logger(\u0027GetUserByEmail: JSONP ==\u003E failure\u0027);\n                logger(data);\n            }\n        },\n        error: function(htmltext, textStatus, errorThrown) {\n            logger(\u0027GetUserByEmail: JSONP ==\u003E error\u0027);\n            logger(textStatus);\n        }\n    });\n};\n\n// if the email addres field is different, update \u0022field2\u0022 in this block of code and anywhere else it appears\nwindow.updateIterableSubscription = function(){\n    var email = \u0027\u0027;\n    if ($(\u0027#field1\u0027).val() !== \u0022\u0022) {\n        email = $(\u0027#field1\u0027).val();\n    }\n    \n    const affiliation = \u0027WGBH\u0027; // assuming always four characters\n\n    if(!email.includes(affiliation, 0)){\n        $(\u0022#field1\u0022).val(generateUserID(email, affiliation));   \n    }\n    \n    if(!email.includes(affiliation, 0)){\n        $(\u0022#field1\u0022).val(generateUserID(email, affiliation));   \n    }\n    \n    GetIterableUserById($(\u0027#field1\u0027).val(),integrationIdCdp,function(data, status){\n        if(status){\n        let subscribedMessageIDs = data.dataFields.subscribedMessageTypeIds;\n            UpdateUserSubscriptionsCdp(false,subscribedMessageIDs);\n        }  else {\n            newIterableUser(integrationIdCdp);\n        }\n    });\n    \n    \n    GetIterableUserById($(\u0027#field1\u0027).val(),integrationIdDefault,function(data, status){\n        if(status){\n            let subscribedMessageIDs = data.dataFields.subscribedMessageTypeIds;\n            UpdateUserSubscriptionsDefault(false,subscribedMessageIDs);\n        }  else {\n            newIterableUser(integrationIdDefault);\n        }\n    });\n}\n\n\n\nwindow.UpdateUserSubscriptionsCdp = function(isNew,subscribedMessageIDs) {\n    \n    if(isNew){\n        userData.dataFields = {};\n        userData.dataFields.subscribedMessageTypeIds = [];\n        userData.dataFields.unsubscribedMessageTypeIds = [];\n        userData.dataFields.userListIds = [];\n        userData.dataFields.unsubscribedChannelIds = [];\n        userData.dataFields.emailListIds = [];\n\n    }\n    //For checking previously selected message IDs\n    let presubscribedMessageIDs = \u0027\u0027;\n    if(subscribedMessageIDs !== undefined){\n    if(subscribedMessageIDs !== 0){\n    presubscribedMessageIDs = subscribedMessageIDs.toString();\n    }\n    }\n    //For checking previously selected message IDs\n    let payload = null;\n\n    var unsubscribedMessageTypeIds = [];\n    var emailListIds = [];\n    var subscription_json = {};\n\n    if ($(\u0027#field1\u0027).val() !== \u0022\u0022) {\n        subscription_json.userId = $(\u0027#field1\u0027).val();\n    }\n\n    \n    \n  \n    if (userData.dataFields.unsubscribedChannelIds.includes(81862)) {\n        userData.dataFields.unsubscribedChannelIds = userData.dataFields.unsubscribedChannelIds.filter(id =\u003E id !== 81862);\n    }\n\n\n    //Added by Tay for including the message type IDs if user deselect some of the checkboxes\n    var mergedsubscribedMessageTypeIds = [];\n    if (presubscribedMessageIDs !== \u0027\u0027) {\n        mergedsubscribedMessageTypeIds = userData.dataFields.subscribedMessageTypeIds.concat(presubscribedMessageIDs.split(\u0022,\u0022).map(Number));\n    } else {\n        mergedsubscribedMessageTypeIds = userData.dataFields.subscribedMessageTypeIds;\n    }\n    subscription_json.subscribedMessageTypeIds = [...new Set(mergedsubscribedMessageTypeIds.flat())];\n    //Added by Tay for including the message type IDs if user deselect some of the checkboxes\n\n    //subscription_json.subscribedMessageTypeIds = [...new Set(userData.dataFields.subscribedMessageTypeIds)];\n\n    //subscription_json.unsubscribedMessageTypeIds = [...new Set(userData.dataFields.unsubscribedMessageTypeIds)];\n\n    subscription_json.userListIds = [...new Set(userData.dataFields.userListIds)];\n\n    subscription_json.emailListIds = [...new Set(userData.dataFields.userListIds)];\n\n\n    subscription_json.unsubscribedChannelIds = [...new Set(userData.dataFields.unsubscribedChannelIds)];\n    \n    \n\n    var subscription_json_lz_encoded = LZString.compressToBase64(JSON.stringify(subscription_json));\n\n    var finalUrl = urlStart \u002B \u0027/it9nrcf8em5qe7t85c9/v1/iterable/UpdateUserSubscriptions?user_guid=\u0027 \u002B userGuid \u002B \u0027\u0026integration_id=\u0027 \u002B integrationIdCdp \u002B \u0027\u0026platform=\u0027 \u002B platform \u002B \u0027\u0026format=\u0027 \u002B responseFormat \u002B \u0027\u0026subscription_json_lz_encoded=\u0027 \u002B subscription_json_lz_encoded;\n    $.ajax({\n        dataType: \u0027jsonp\u0027,\n        url: finalUrl,\n        success: function(data) {\n            if (data \u0026\u0026 typeof data === \u0027object\u0027 \u0026\u0026 data !== null \u0026\u0026 data.hasOwnProperty(\u0027success\u0027) \u0026\u0026 data.success) {\n                hideLoading();\n                //processSubmit(\u0027\u0027, \u0027form1\u0027);\n            }\n        },\n        error: function(htmltext, textStatus, errorThrown) {}\n    });\n};\n\n\nwindow.UpdateUserSubscriptionsDefault = function(isNew,subscribedMessageIDs) {\n    \n    if(isNew){\n        userData.dataFields = {};\n        userData.dataFields.subscribedMessageTypeIds = [];\n        userData.dataFields.unsubscribedMessageTypeIds = [];\n        userData.dataFields.userListIds = [];\n        userData.dataFields.unsubscribedChannelIds = [];\n    }\n    //For checking previously selected message IDs\n    let presubscribedMessageIDs = \u0027\u0027;\n    if(subscribedMessageIDs !== undefined){\n    if(subscribedMessageIDs !== 0){\n    presubscribedMessageIDs = subscribedMessageIDs.toString();\n    }\n    }\n    //For checking previously selected message IDs\n    let payload = null;\n\n    var unsubscribedMessageTypeIds = [];\n    var emailListIds = [];\n    var subscription_json = {};\n\n    if ($(\u0027#field1\u0027).val() !== \u0022\u0022) {\n        subscription_json.userId = $(\u0027#field1\u0027).val();\n    }\n\nif ($(\u0027#field1\u0027).val() !== \u0022\u0022) {\n        subscription_json.userId = $(\u0027#field1\u0027).val();\n    }\n\n    if ($(\u0027#field2\u0027).is(\u0027:checked\u0027)) {\n        userData.dataFields.subscribedMessageTypeIds.push(117268);\n        if(userData.dataFields.unsubscribedMessageTypeIds.indexOf(117268) \u003E -1) userData.dataFields.unsubscribedMessageTypeIds.splice(userData.dataFields.unsubscribedMessageTypeIds.indexOf(117268), 1);\n    } else {\n        userData.dataFields.unsubscribedMessageTypeIds.push(117268);\n        if(userData.dataFields.subscribedMessageTypeIds.indexOf(117268) \u003E -1) userData.dataFields.subscribedMessageTypeIds.splice(userData.dataFields.subscribedMessageTypeIds.indexOf(117268), 1);    \n    }\n\n    userData.dataFields.userListIds.push(3009709);\n    userData.dataFields.userListIds.push(3081011);\n    \n \n    if(userData.dataFields.unsubscribedChannelIds.includes(88773)) {\n            userData.dataFields.unsubscribedChannelIds = userData.dataFields.unsubscribedChannelIds.filter(id =\u003E id !== 88773);\n        }\n  \n    //Added by Tay for including the message type IDs if user deselect some of the checkboxes\n    var mergedsubscribedMessageTypeIds = [];\n    if(presubscribedMessageIDs !== \u0027\u0027)\n    {\n        mergedsubscribedMessageTypeIds = userData.dataFields.subscribedMessageTypeIds.concat(presubscribedMessageIDs.split(\u0022,\u0022).map(Number));\n    }\n    else\n    {\n        mergedsubscribedMessageTypeIds = userData.dataFields.subscribedMessageTypeIds;\n    }\n    subscription_json.subscribedMessageTypeIds = [...new Set(mergedsubscribedMessageTypeIds.flat())];\n    //Added by Tay for including the message type IDs if user deselect some of the checkboxes\n    \n    //subscription_json.subscribedMessageTypeIds = [...new Set(userData.dataFields.subscribedMessageTypeIds)];\n    \n    //subscription_json.unsubscribedMessageTypeIds = [...new Set(userData.dataFields.unsubscribedMessageTypeIds)];\n    \n    subscription_json.emailListIds = [...new Set(userData.dataFields.userListIds)];\n\n    subscription_json.unsubscribedChannelIds = [...new Set(userData.dataFields.unsubscribedChannelIds)];\n\n\n     \n     \n\n    var subscription_json_lz_encoded = LZString.compressToBase64(JSON.stringify(subscription_json));\n\n    var finalUrl = urlStart \u002B \u0027/it9nrcf8em5qe7t85c9/v1/iterable/UpdateUserSubscriptions?user_guid=\u0027 \u002B userGuid \u002B \u0027\u0026integration_id=\u0027 \u002B integrationIdDefault \u002B \u0027\u0026platform=\u0027 \u002B platform \u002B \u0027\u0026format=\u0027 \u002B responseFormat \u002B \u0027\u0026subscription_json_lz_encoded=\u0027 \u002B subscription_json_lz_encoded;\n    $.ajax({\n        dataType: \u0027jsonp\u0027,\n        url: finalUrl,\n        success: function(data) {\n            if (data \u0026\u0026 typeof data === \u0027object\u0027 \u0026\u0026 data !== null \u0026\u0026 data.hasOwnProperty(\u0027success\u0027) \u0026\u0026 data.success) {\n                hideLoading();\n                //processSubmit(\u0027\u0027, \u0027form1\u0027);\n            }\n        },\n        error: function(htmltext, textStatus, errorThrown) {}\n    });\n};\n\n\n\n\nwindow.newIterableUser = function(integrationId) {\n    let payload = {};\n\n    var newUser = {};\n\n    if ($(\u0027#field1\u0027).val() !== \u0022\u0022) {\n        payload.userId = $(\u0027#field1\u0027).val();\n    }\n    \n    if ($(\u0027#field1\u0027).val() !== \u0022\u0022) {\n        payload.userId = $(\u0027#field1\u0027).val();\n    }\n    \n    \n    if ($(\u0027#field1\u0027).val() !== \u0022\u0022) {\n        if(!payload.dataFields) {\n            payload.dataFields = {};\n        }\n        payload.dataFields.email = $(\u0022#field1\u0022).val().substr(4, $(\u0022#field1\u0022).val().length);\n\n    }\n\n // Populate the custom \u0022signup_source\u0022 field for new users. \n    if (customSignupSource) {\n        payload.dataFields = payload.dataFields || {}; \n        payload.dataFields.signup_source = customSignupSource;\n    }\n    var newUser_json_lz_encoded = LZString.compressToBase64(JSON.stringify(payload));\n\n    var finalUrl = urlStart \u002B \u0027/it9nrcf8em5qe7t85c9/v1/iterable/AddOrUpdateUser?user_guid=\u0027 \u002B userGuid \u002B \u0027\u0026integration_id=\u0027 \u002B integrationId \u002B \u0027\u0026platform=\u0027 \u002B platform \u002B \u0027\u0026format=\u0027 \u002B responseFormat \u002B \u0027\u0026user_json_lz_encoded=\u0027 \u002B newUser_json_lz_encoded;\n    $.ajax({\n        dataType: \u0027jsonp\u0027,\n        url: finalUrl,\n        success: function(data) {\n            if (data \u0026\u0026 typeof data === \u0027object\u0027 \u0026\u0026 data !== null \u0026\u0026 data.hasOwnProperty(\u0027success\u0027) \u0026\u0026 data.success) {\n                if(integrationId === integrationIdCdp)\n                    UpdateUserSubscriptionsCdp(true);\n                else \n                    UpdateUserSubscriptionsDefault(true);   \n            }\n        },\n        error: function(htmltext, textStatus, errorThrown) {}\n    });\n};\n\n\nfunction generateUserID(email, affiliation) {\n  // Convert the affiliation to uppercase\n  affiliation = affiliation.toUpperCase();\n\n  // Convert the email to lowercase\n  const lowercaseEmail = email.toLowerCase();\n  // Combine the uppercase affiliation and lowercase email to form the userID\n  const userID = \u0060${affiliation}${lowercaseEmail}\u0060;\n\n  return userID;\n}\n\n\n\n\n\n\n\n\n\n\nconst observer = new MutationObserver(() =\u003E {\n    const layout = document.getElementById(\u0022layout\u0022);\n    const field1 = document.getElementById(\u0022field1_wrapper\u0022);\n    const button1 = document.getElementById(\u0022button1_wrapper\u0022);\n\n    if (layout \u0026\u0026 field1 \u0026\u0026 button1) {\n        layout.insertBefore(field1, button1);\n        logger(\u0022Moved #field1_wrapper above #button1_wrapper.\u0022);\n\n        // Done observing\n        observer.disconnect();\n    }\n});\n\nobserver.observe(document.body, {\n    childList: true,\n    subtree: true,\n});\n\n';
                        customCSS = '';
                        logger('DesktopSettings_1');
                    }
                    else if (clientDt === 'mobile' && '1' === '1') {
                        settings = 'N4IgNghgng9grgFxALlAcwE4EsAmB9HDCNNCAIzAFMUBGAGhE1zw0oGcsAvcq2hp.GwAWMAO4oQlAG6UAdkgYQwWNLIlUAZgpCjcCISgAshgMwMhlFUKTIaAVjsMAthAxossvAhgAHFAAYGMggAYwBrTHhZHBRQEJgwGAwJN2CACgAmBzoAAizHPOyc.wBKEH4iHCw5GxAAYg1GpvKQLBc0amQQFtYfSgha2RgAWl7-7R8YDgQsGDUuzQQc7z8GODZKPEwIKpqUDSUNtY28NuJOg7ANgF8g0IiMKPx4BEpk1BB4xPeQVIhMor5XJA4plCo7aryCQNJqNFpnDoSHqUPoDCRDUYo8YtSbTWbzcCULTLXwtdabba7KHIS5HEDk07tC6HSi3EBkJI4N6xHR6Ay2BhfJLQ.yisUtNgIKC8LpDWTUBiVLDrAJsiw7N54axOMASAA8kullAAfAAdWQAOjIiG8shoOWA5pyzpyPh2VVkaFGVgQyByISUITSJjsPgAHjkANTFC0ADgA7HZWE4SjkAIRtSYYBAQeQAbidLo5GC5GFGEPWfrs.nD6czSRz-cLzqFGD9MI0dacWcbCALshdOWC4UicGiw1b7YyJmn067PdzfebrvdHjQfpoJlrJhrEfnDcX.cHVTYPkgUD9HmU8uGFBg4X32cPy9xWBmcz9rEgMxkj97R5dDQ5gQYYOE4Sg.TjRNkz.Z8B0A4DhlESw0GsP141FWCm3g51XjDECECIWQ2CAjAnD9OAfD6DAAw2LClxw.04AwNgkj9SYPFeDB6IA51i1LP1.B45dCNzPEPxyJQwByC0TDYHJ-g2YYPGGF5hMYvCQK5eIiHfWQ.TlSh1Ouc1zStG05hoZAIC0N4HWXeJ5BqCiMDANJrAQHw2GQAB6Hy2BMC0fHWIQz1zSgEAteInB88kWJ82MyA0EwaAATjsHB.AANjIeNDH8VKcAgSg7CykIsogeNUvjWN.A0QwcBCWKzxgHY2B8-McEMEJ.DILKspwPL.G60UyEMVKyEoDINAyeNKHyuwDlSnyyAQWRXEeUQLTYKQ0FTDNuwPbDB1fPS.XIViwEQIyDoXY6XV0HB9A3VLa1uo6GMHCwfQ3Qw3vrJ97udbBUN9PItwjd7Ac-l1ROIt98XOsBpNk-TFMoZTZFUxB1LdHAPS9FZkAycN-xM2QzOtBBbSskQZG4x1GOHB4ngnBI2JyOosvjbnueM0zLSpmnkDpt5rNshnlxBtC8l3fmKdkBpqjAHBNwtDRldVkw8CAkJ1ns2R-LeNnvnbRoQgyGgyHlml731xnnRea8IJyQyAI5MNQKEHYxEE4p.YhznzctsgyYFgABJxKCqCAcjmMAoByNgQlYORJOiHI0hcT3HuenJjFDMNUwdzmhcsvBRCIKi7Id07EZyDWw2j3iSR8P0stjUnl0WKt.AAUhbuGSKScjliIthv0oNJhmrPvclKI9yaVygVZoCuq-og264kxvm5E3w.QyFue7yFvpbB.x-1zoRkFS1KB6dcnyb1fypSoM1ZD1NNhmGHIAFkIqxwAApYCbtJAAwjALkOQf4fwNCnLAPgEAfzTBoMcIQ9JpA0HQMgdBKB0CkHQWQdAEB0DYCUc0wAsAaCwerMgABHEorAEDMVkHmWQABeDQdD6FcPQZgkowBLQBmRgA.QUCAD85phFSTESIHAFoIBUQTmkYhrg0BwCjvIchyBLT0LgJQAxQUQppHUZomo5Drj9moWkVBFodYMJKNwhxvC2GWmCsIDhbiLSJA1DgDhaZL6WnphwOYHCADkGQLT-HCf2PRBiDEcIANoAF08wIA4WQKKrABiUAAKJUC0QgNIlASjpMUWwKAsgQgBMvuaSKbAaIcKkHmNgmSLQdAQAUygRS2AACEoAABViAADkIBRxKSUJJ.g0nmjYEFVwNQRlQMoBaDwGxsx9KJEkKepDLFpF0NEMQdAcB2yKXQcJydsBIPCXQc04SPJeV8j5Ry8oMHq1CJQDkMAwgWnlAgHycg8AAFUADKPkNCTRkNoi0AArNg4SynmkhfQtI4SPBvluTkSJls76pSyiYcaWUaBZTsCYRF.YUVotEuELF4SgHnAAGrVFEBS80L8rmIOQQLPUQxOVILgW0NAORvqgwiTQcJORr7islY0mpDzqZPL8qIFVHyQhfJgD8qKMAYqEQkbgDhGRcV3wJUSklZKABk0gOEMo6MyygogLV8oQUgjhEqfJwJ8s6653KFZfx.jkPJGcxHANASvHIkDoGwJaEBGAXEtQIB1EiNk-gwznheDyAQBAiAkB4J0egjBsD4FYGBPNfBC3MGEGICQ0g9iKGUKodQRJtDXyMKYcwKFrAoDsLGZw6iPBeFJMgQI7J7ijmiDyVs0JYRwnBFSWoHZmgMARJ0boiosRollCMMYaIGDbwJIsVuZITiUkhDYWk-D6QnBXfsFkbJmbjueNdd4cR2Y.EXbOwtEI9hdA.RoeETIkTrtRIMbdG6JhTARnMJtxIVjHopEqH9F7jibBvTSO9QROTcg-K2gUnw30ijFKKCUb9V2GR6BWNgqoO0agwAmpNXR.W.xDTkEBYCI0rJgcMOB.LfWoP4fiLBOC8EEKISQshFDZBUJodwlFTCIqsPYVwnhfDqkCKEVFWREV5FSNkDI0R2moGKOUVAVRdAzG9JKLoi0-jDGrI8UIUxbhzHaJKFY80Ni7EuKcfYlFXj2HGM8d43xXJ.GBICyE.EESokxLiTZhJlBklpIyVklO4x8mFJqJM8pEBKnVNqf2BpTSWltKyZ07pvSBnDLQGMiZpTpmzOIgs1g8hllcjWcRN4CAtmkV2RJ64ByPCnNECcs5NQLm8dufcx53k.KvMoO8g46rvm.P-YCzwYKIVQosXChFSLZBUvRbITFuQcVpRNYS.F5ryX7cOzSsIdLbWUHtay.bHKXW-vZd6rlgqnDCtFdYGVUq-RA7lREmbzyVVbSWxqrV0UfJ6oNUa87-LLvEtJSYK1UgbVMpZU6qYH23XhI9eyr1BOfUf3Zd.X-QacD.0AaxsNEDOPRoYLG-N2pdRdBAGyFENB02IEzUW7NxBSAUHzRUZgJauBlrw1mqt4gui1qhPWlQBJ1VOWSAwXD6UR0A5sDQMUfa3ADrg8Ou4I5HhjhiB8Kdv6Z3.rnWe6dM6APnCA78cD6IwMgZxJBvSMGlhwZQ1sRD1JkNXtQ4B9DVxWQW5ZtbvALxsOvu-C72ELRT0.vqA7t3iJufAexFuzEvu93-.xIHo9Ies.h5ZCHtDF771YZfbyJ6.IC12.qER4jDBDQyhAJdXAFGqgqmHdcXnPgMgC5sOgYXhBRey4LVm6X3BxflvlyIRXkhoXaCUGriQGuuItB19WDtPpaBG5AC4E3ngzcjofVbidtuCP29d077Pf68-ruRL74vO6IPiQHrNpV6R6h7fq16x717R6N7x6PpJ7PqTov455v5frzrp5LqtDR5rqe6.4gAYj.5-6AGV7B6gE17np16gEN4YbsjN48i4Yd5IF1Dd7-AkZGgSCD4xCKiUaqgT4mDT5C7MDz65pr5y7C4r6L6S6CCb41o74tB76NpdCH7cja58goC65n6gwX6ijG7uC35Dr35jqP426p7Civ4Z7v7UjIHmGYHu4F44FF54E-7Yhl5EELDAEkEMhkG3qQGUHQHUEP5PDwFH7P5p5mEYFeFhGfpobYEEF.5e4uFQZAGwakjV5h7kE-EMhUGx5N4lgp6t76Dlqd5MHd6sH94cHD7KhUZj4T6GD8EfBZpCFi4yhL5iHsAy4iEtGVrSFK6yGq4KGfA1DKH5H8jqEgD65aEjrX66GDp-Dm6jqW5PCIGhFWHhFpHoFRFYE.4OH4HxEgD7rEEpGkFrEx50iZF-HZGwFGFBF5FFG54WELp3E2H54xFe5xGl57Hl7QZuHJGrBHHgHpGnHXrnE3CYa5Et70GCiMHMGlGrrlFcEj5VH-Dj696UAwA8gzAID94ADifSAAEjkAAJKyDOw5AABiI8OQgy7A2gYQlAUAognIVR2BXIvGFedhBwUgWAjkyaKGLeGiQ-XQiUyUaUGU2UuU-UhUxUpU5UlU1UtU9UjUPODAnAQ2lAYYeATgHgExypqp6p2cExw0DAmkeA8QY4CAGpEAWpeGZcngpp8gFpVpBaK6JpUQ5pLgVpeuiaYALpZpDp8wI6pETgPp9p7p8wBaGsK8-Adpbplp8wGQRpapCANAPIQE1IoABwmpCcEg4SAAMnACELgLHJAsRAkJQFin.HMKEDALkE4HMFMG6Oqi0EUdCX0eroMVrgPlwKuoYLGC0ByCrCgIRAYsujmMoCEN4acdEG8M7BOZelIKeJ8tRsMd2llIYBoV2rYBkL2iAGGLQP1AwFALQKlGuSAJpBIOAlQLmDkKCpPPCDbqeYmcmQwCeGFIecgEOZeiqVObubYERh3mwEyS0FyFQK8Dbh-WyIGcmR8AKSAJBZnnADBVlMeY1DQFyDPCYOqsMMYKlBjKlIboYMMPGBkP4BACYGQEVGlBkKlHIRLHgGwHAGQJqbUPoLmGEHgLAHAHgG6IiOulUKwBgngMxFzi8XxQtuaVKH0B7txZsL4HIB7lHABbYdgXrJKDqngPCngJNL1ngFIHvkVAHnYSpd4EGRpTZPGrpcoPpWyfSD4PpZQASVxHmqCgxaydBoKOsMZepWwJpdsqwHRQxUxR7kZWpaZbRfRYxW-DybBZrFBaABJauppB7DGiPBIHBc-Y8LZWIJ4GEFIF5CgEkqAGEN7vKC0FIBIKCivGJenHHEghXtcCkoKBYOEElbbk1bSTgBZR7ugm1dHJ1XYZxJQNsHpKcPeUBUSBAHAGALUDAJ-j4KwBoCaYRHgMoJKCNVFXZT4FybSS3lyAcJNbUMlWRJui8e4F8dgZqQSC0PqXYfoD0qug2l2hBcBCmeMlgFmV0HgCaR5WpXgAAD7.W.XhIABK0cOQuJAwlJiZWKbAYkoEbw1CANv1RIWUlsoohgspx5k0EAsYNANAGQOA04GEpFPU3M8YTZSBqQaQRQ1NdgYIIA8hSR2gYEq6JKfZCQNuEeb4e-45Jxl61u05HgzIPh85DZnQSJoJpYdBqhXQT5-GyxlNJK8ZOQituQitdNfesJCQQ-8JlREgLBORpYWoMA9MUtbeEgstneCtKNqt1tytKN6tpG7BWtnBvw3BXQ-tEtmouso-oAuGIAFtFNaAZAaQKtdtStatMJTtllFRo-IAHtNBYJeAbwjw4J0t.t5N8tQdIdttodEdvejtXQcJrtCJetSp8xCeT-JhPwlNIItdDgdNERKxGxSlWxx1Ox7x-x3xQehxnhxxEeZxthMB5dcBosLeltWdddBQ-QDdxxTdjuTx3-hebdThu6HxrhhIPx8GYBaBvNUBg9.hhhgR3tVRVdKQE9gIF9tNmes9n-y6mxS9oGJezha9iRBxvxvd.xs5e9-eQ9ARieydphp9XQNdl9wI9d19n9kR890Rrdj9BBCRBlG93d79J6fdFBA9P91B4xyAPMKhZtxMsY8ZO5KARDb5RDMFEZq8QFWAp454g5GAw5nu-iWArA9DjDu1E1U1UlkA6qIgKs2GIAHF4cap4yZ4qy0ULQtJUAeA60UcNa7puobO2AcgOACcMj4yq6eSCjLQmkiyEAFp6pVAnoBRv52hIAX5XIP5huYoRDIQAFEgeMBMv5pMDciEGZb1F42KINdO4NSwVJ-E0NsNGy1CeYIqnavohgWU.0h00MoT18pjA8ZdNpsVsFz1Hw7j71IAn1wVQZf1ANwNoNvjkNATuQMNxEcN2AGgiNyNqNw0GNhgWNONeNBNJgRNGF2U8YZNkJyxt99NDajNEoXZ5thgbNA575DDl6XNY5X99IU5rkgtMzIti5Y-bOwERtJt6Tr1mT2T31uTiNBTPjEN.jCAgT5TwTVTANNT1j6NVUmN.QTT-NhNJF7TpNGdphc9ch.Tgegz4EwzozYFEzI53NMz.N8zJVu9IASzjZKzqT9px9L1mZb5WTX1qlez-T3jYNRzUNpTQT8NFz.1VzaN9TjTuNjzrTzzJNnTbz76jxDN3zveQzMtIzmGYzH5QL0zELoLM5ELULYtBteREJct7zlNhKuQorOQhKDtbBhdztMdTJO4STze6zAr0tDBmdwd4rmrhgUrZRsrOtsdCr.LdG8LOGqr3TwrWdWrYr2rkdMr0d-r8r8df9ldQr1dlra5ErHrkrEDO9Hzd9LdD93uT9q9ndSDIBH9O9.dQJ-9Fxw9Vxo9SxFrGrXrKbM9kDfrC9HusRjhwbABr9Xd4bqDkDUbUeMbIJcbR9dsJ9rrZ9yb1r1rabvrvTMDgbbxz9obh6HhRbkb6D0bmDsb9BJgWU65NghgRDP5O4J5b5J5MFyT1DtD0AbDl6Z5XQoKBJWJIyOQwKQCchGC1l4VgVvFLDYlXgUAkldhQlHuGs.eOI5wSefQl1qzZEqVI8stClMNzxTZuzXlJpY5RVdhFjapBpZgnw9jXQqZIEGTnjBzmLfj2LScuLlTeYZdxp0ZXgQgP5RDNpwZ4lGH5azpaHqaAQ5gXpOH6HP5AZI8ZHRHeGlDUZrp5H5aqamkKTEHCLHj2ZeZBZRUHGJZVA5ZlZ8QNZdZC5jZ5r76LZfT--ih7ZPz3ZvZLLALjDUzXJILcz3LEevLS5uGpUJ52DeN25Vj-5gjR5J5K7IAF5.QA4N5uSd5EgLH87r5S7Op35Bp.5gFz5lVoFS7KaGHc76TaT6ZWzSLOzqLn1-zGLRTxzpzbAFTCNlzGgKN1zxL9zpLLTbTlLXTNbUDnz0nAxmucnfzinznrQo5qnnL6nCzPLonfLqz9pCbmziLEgoXnleT.1MHUX8HZTsX5z1TiXtTNzd8DTqXzTTzxNHTWXtxKBdLMnBXDLvzTL.zJXKnPN.dlX4LmnNXS5EHOsVb7H2zKLrXEXhTWLJTCHZzeLfXSXRLtzw32NaXY3LzVL4n6x89M3-XR-83LNzLNBrLgLpXwLFXpYGnFBWnMLRsqd-DarSbwYKbDbtrA-erxdutXQhrntdGDXvtZr2Xvw7r9bnrOrmt9ryPBrTrSrJrWPUPL3wDePnr8P-d0riPxPSopPSTh91uibbrdbdPBPPrzuOX.rn7rbOb8DL9iDnbPd3b.PJbjIZbceFbiemPOPIrcPvP9xr3X-WbrxIvuxHb7hkvCGxbvbpb.b5bzr-AFPyvtPWrjb.PGbLb9hy9ubhB-bYbXbhvPbGRfbQt5b9BxFI7baDAE7NAU7JDy695c7z5NDTn4zjD5noKwKfSf8BJgyOQxou7iDQw-ga4yIolAl8VXVrkV7b1i9exd7slj7qTz7dh77Abnw37GlIQf7HugHVjRGIHdjTJEHwwUHfoHXp3JzOLF3SHY1IF0cPnRpGHcF0F95aVjACF95SFDUIQqFGMZKmF2FuF-FhFxFpF5FEAlF1FigYVAVkVXQLFsgbFHFXF7uR7.F5pl7dhrAef4lZ7pf0l97clNf7AH7pfOTP7WlHZDpT0oDBrKX7MLqFXMogDEG4AzyhpUAF-UD2Z.ZSg328pmVNQSAg6r5zDB0cUmBfc.omSSpPsnAHuQgL4GGzZVcqVRAqiAH.aOESqDAMqqu0qoYJqqvgAPPVUaoLYwgLVOID1Q6pKAuq1SfgX1WwIDUhq-INanYQ4b7UJAM1eenNSJCLU6MK1c0jBTLobUtqeRGQVw3ZIjxjqyIU6pXwuryUIAP5bArdTkYLBz8T1NMrBWC7NdDuP1Y7oczg5nduucXfFkjX67JdbuJLUbuS3G6vNqeuPYOjTVyDgNWy9LTsgt39pZQluELFbmp2B5VdNuotJchD1NomNoeXPTIDQF7R5B8hwIfIYTyjra0SeTJOwIq0TpK9BW49YOpbAKGNDihsYUoXa3KEs9Kh1Qw2pbzqGB0GhRQwoU0JKEI8i6nQiQFUKNZJ0MAKdLIe3hCE11BhzQoYW0KZ4dC3aIASYZcUWIhEYek9MBlfXV4C9M2T.bXu3XbafFGahbD3tL2N6y9Te8vc3sqzHr9CAQU9S-rbw.yPEHe2bc4SG0uFv0t6ERGXlkTN7s9ogu3FSpz1rZvCDhBwz4ZYWbb31HecDXXgCILbu9t6twr3ibx96PDwR-AABi8PVawjCg7ww4agTt5Ii6-vwlenm3F768UGNwpDHcNBHy9sGuDZcsgB3AgdMOB5MPq0Fn4xVHOdDWPpelYDMNWGELHQQdT3Q8NKAfDSWl0CEYiNuwVAbVCQIYBSN1GVg6KpGVloaBlG0QNRrI1XSklNYytHRomT0YGNlqcgNANkMvyt8DStjMDmX3xhrhnGYYUJt3175eMTubgwfudx654tQm-uZAJE2iZ3Q-wo.CKOPzFHYDNIGQFMoF3sFNcPqTgtFu10i4D8Yungq7gNxS73cAhGXCbtS0IxEZcu.RJQh2WZokN787NZbmV1W7oN1ueIxgVtxhb0EzG2DU.MQ2JiOATOA4hMvhHKr5l1UAFNMHZ3P4YckxIoxdmKJc6WMDSJ5TvlFTo7JiPg-Az4G1SIFV8SB4HV9kBQyoUC8AOVPKsgBoF0DyMjA8qiwKWBXl2BdVBqjuO4G8DXx4QXqoIIvbCDuBX44SvCCcgSC5gUg5kuNVkFdA3KexeasoOWo0M1Bo1NkJoM.E7VwJug7AoGQMHrojB8lK0udTMEe5LB91GwXVxnxpiOOGY..m10Bo5jAxeY3rgl2u51M.BI3MlqWOCFW8whBQGmnTXe6LBCuMteIcV0SHNjkhAtDbqD07Hi0E6SoyniY3ToLCs6udHOvbVGFI9xh7tboZqFqFp0A6JI5SeHVUkM9dWzPDYWT0Tq9DdJ5YmnsHQMk20MgqwsYWZK0l0YiRcw82tZNCHZ1DJPkxyepOcn3oCR0ImyaSMnoIiHiKBH4WcLpEu8GRm9VIkbxxH3C8RgUhYor2No3FXh-wskeFI16C9S-tI53gg2soS8mRWIlkUlLZGpSK6FvPbrsNyHZTp6fPL4ZFORGFTReeveKX8U96AlcRs5aqXATcn1SYRjUyIZSJanWEopuBP4fSJKmMigRaDSqcCXZHhMUAnI3DFuXHbEchxnTcPqlU1jJio-C7N8myyYYIUpREeGUdw0-SKiBGkjOkjqNXQbiY0Ro1RtI1NESBzRkZPIFaPwg2js4do4xu3idG6kXRgoN0S-XPC6I5glAZDuPiAA';
                        DEVICE_TYPE = 'mobile';
                        DEVICE_TYPE_MOBILE_OVERRIDE = '';
                        customJS = '// jshint maxerr:10000\nvar urlStart = \u0027https://jsapi.lightboxcdn.com\u0027;\nvar userGuid = \u00228bf3195d06b7409dae56c6a79780f4dc\u0022; //the Long Alphanumeric 32 character GUID\nvar integrationIdCdp = \u00222217\u0022; //the Short Integer ID (5 to 6 numbers long) - integration ID for CDP project\nvar integrationIdDefault = \u00222610\u0022; //the Short Integer ID (5 to 6 numbers long) - integration ID for Station project\nvar platform = \u0022p\u0022;\nvar responseFormat = \u0022jsonp\u0022; //(must be either \u0022jsonp\u0022 or \u0022json\u0022)\nvar customSignupSource = window.PAGE_NAME \u0026\u0026 typeof window.PAGE_NAME === \u0027string\u0027 ? \u0027pushplanet_\u0027 \u002B window.PAGE_NAME.trim() : \u0027\u0027; // for user \u0022signup_source\u0022 value (string).\nlet userData = {};\n\n\nvar GetIterableUserById = function(uid, integrationId ,callback) {\n    showLoading();\n    var finalUrl = urlStart \u002B \u0027/it9nrcf8em5qe7t85c9/v1/iterable/GetUserById?user_guid=\u0027 \u002B userGuid \u002B \u0027\u0026integration_id=\u0027 \u002B integrationId \u002B \u0027\u0026platform=\u0027 \u002B platform \u002B \u0027\u0026format=\u0027 \u002B responseFormat \u002B \u0027\u0026userid=\u0027 \u002B uid;\n    $.ajax({\n        dataType: \u0027jsonp\u0027,\n        url: finalUrl,\n        success: function(data) {\n            if (data \u0026\u0026 typeof data === \u0027object\u0027 \u0026\u0026 data !== null \u0026\u0026 data.hasOwnProperty(\u0027success\u0027) \u0026\u0026 data.success) {\n                if (data.hasOwnProperty(\u0027payload\u0027) \u0026\u0026 data.payload.user \u0026\u0026 data.payload.user.hasOwnProperty(\u0027email\u0027)) {\n                    logger(\u0027GetUserByEmail: Found Iterable User ==\u003E\u0027);\n                    logger(data);\n                    logger(data.payload.user);\n                    userData = data.payload.user;\n                    callback(userData, true);\n                    //user the user object to Populate all the user data on the page\n                } else {\n                    //isNewEmail = true;\n                    callback(user=null, false);\n                    logger(\u0027GetUserByEmail: Invalid Iterable User Payload ==\u003E\u0027);\n                    logger(data);\n                }\n            } else {\n                logger(\u0027GetUserByEmail: JSONP ==\u003E failure\u0027);\n                logger(data);\n            }\n        },\n        error: function(htmltext, textStatus, errorThrown) {\n            logger(\u0027GetUserByEmail: JSONP ==\u003E error\u0027);\n            logger(textStatus);\n        }\n    });\n};\n\n// if the email addres field is different, update \u0022field2\u0022 in this block of code and anywhere else it appears\nwindow.updateIterableSubscription = function(){\n    var email = \u0027\u0027;\n    if ($(\u0027#field1\u0027).val() !== \u0022\u0022) {\n        email = $(\u0027#field1\u0027).val();\n    }\n    \n    const affiliation = \u0027WGBH\u0027; // assuming always four characters\n\n    if(!email.includes(affiliation, 0)){\n        $(\u0022#field1\u0022).val(generateUserID(email, affiliation));   \n    }\n    \n    if(!email.includes(affiliation, 0)){\n        $(\u0022#field1\u0022).val(generateUserID(email, affiliation));   \n    }\n    \n    GetIterableUserById($(\u0027#field1\u0027).val(),integrationIdCdp,function(data, status){\n        if(status){\n        let subscribedMessageIDs = data.dataFields.subscribedMessageTypeIds;\n            UpdateUserSubscriptionsCdp(false,subscribedMessageIDs);\n        }  else {\n            newIterableUser(integrationIdCdp);\n        }\n    });\n    \n    \n    GetIterableUserById($(\u0027#field1\u0027).val(),integrationIdDefault,function(data, status){\n        if(status){\n            let subscribedMessageIDs = data.dataFields.subscribedMessageTypeIds;\n            UpdateUserSubscriptionsDefault(false,subscribedMessageIDs);\n        }  else {\n            newIterableUser(integrationIdDefault);\n        }\n    });\n}\n\n\n\nwindow.UpdateUserSubscriptionsCdp = function(isNew,subscribedMessageIDs) {\n    \n    if(isNew){\n        userData.dataFields = {};\n        userData.dataFields.subscribedMessageTypeIds = [];\n        userData.dataFields.unsubscribedMessageTypeIds = [];\n        userData.dataFields.userListIds = [];\n        userData.dataFields.unsubscribedChannelIds = [];\n        userData.dataFields.emailListIds = [];\n\n    }\n    //For checking previously selected message IDs\n    let presubscribedMessageIDs = \u0027\u0027;\n    if(subscribedMessageIDs !== undefined){\n    if(subscribedMessageIDs !== 0){\n    presubscribedMessageIDs = subscribedMessageIDs.toString();\n    }\n    }\n    //For checking previously selected message IDs\n    let payload = null;\n\n    var unsubscribedMessageTypeIds = [];\n    var emailListIds = [];\n    var subscription_json = {};\n\n    if ($(\u0027#field1\u0027).val() !== \u0022\u0022) {\n        subscription_json.userId = $(\u0027#field1\u0027).val();\n    }\n\n    \n    \n  \n    if (userData.dataFields.unsubscribedChannelIds.includes(81862)) {\n        userData.dataFields.unsubscribedChannelIds = userData.dataFields.unsubscribedChannelIds.filter(id =\u003E id !== 81862);\n    }\n\n\n    //Added by Tay for including the message type IDs if user deselect some of the checkboxes\n    var mergedsubscribedMessageTypeIds = [];\n    if (presubscribedMessageIDs !== \u0027\u0027) {\n        mergedsubscribedMessageTypeIds = userData.dataFields.subscribedMessageTypeIds.concat(presubscribedMessageIDs.split(\u0022,\u0022).map(Number));\n    } else {\n        mergedsubscribedMessageTypeIds = userData.dataFields.subscribedMessageTypeIds;\n    }\n    subscription_json.subscribedMessageTypeIds = [...new Set(mergedsubscribedMessageTypeIds.flat())];\n    //Added by Tay for including the message type IDs if user deselect some of the checkboxes\n\n    //subscription_json.subscribedMessageTypeIds = [...new Set(userData.dataFields.subscribedMessageTypeIds)];\n\n    //subscription_json.unsubscribedMessageTypeIds = [...new Set(userData.dataFields.unsubscribedMessageTypeIds)];\n\n    subscription_json.userListIds = [...new Set(userData.dataFields.userListIds)];\n\n    subscription_json.emailListIds = [...new Set(userData.dataFields.userListIds)];\n\n\n    subscription_json.unsubscribedChannelIds = [...new Set(userData.dataFields.unsubscribedChannelIds)];\n    \n    \n\n    var subscription_json_lz_encoded = LZString.compressToBase64(JSON.stringify(subscription_json));\n\n    var finalUrl = urlStart \u002B \u0027/it9nrcf8em5qe7t85c9/v1/iterable/UpdateUserSubscriptions?user_guid=\u0027 \u002B userGuid \u002B \u0027\u0026integration_id=\u0027 \u002B integrationIdCdp \u002B \u0027\u0026platform=\u0027 \u002B platform \u002B \u0027\u0026format=\u0027 \u002B responseFormat \u002B \u0027\u0026subscription_json_lz_encoded=\u0027 \u002B subscription_json_lz_encoded;\n    $.ajax({\n        dataType: \u0027jsonp\u0027,\n        url: finalUrl,\n        success: function(data) {\n            if (data \u0026\u0026 typeof data === \u0027object\u0027 \u0026\u0026 data !== null \u0026\u0026 data.hasOwnProperty(\u0027success\u0027) \u0026\u0026 data.success) {\n                hideLoading();\n                //processSubmit(\u0027\u0027, \u0027form1\u0027);\n            }\n        },\n        error: function(htmltext, textStatus, errorThrown) {}\n    });\n};\n\n\nwindow.UpdateUserSubscriptionsDefault = function(isNew,subscribedMessageIDs) {\n    \n    if(isNew){\n        userData.dataFields = {};\n        userData.dataFields.subscribedMessageTypeIds = [];\n        userData.dataFields.unsubscribedMessageTypeIds = [];\n        userData.dataFields.userListIds = [];\n        userData.dataFields.unsubscribedChannelIds = [];\n    }\n    //For checking previously selected message IDs\n    let presubscribedMessageIDs = \u0027\u0027;\n    if(subscribedMessageIDs !== undefined){\n    if(subscribedMessageIDs !== 0){\n    presubscribedMessageIDs = subscribedMessageIDs.toString();\n    }\n    }\n    //For checking previously selected message IDs\n    let payload = null;\n\n    var unsubscribedMessageTypeIds = [];\n    var emailListIds = [];\n    var subscription_json = {};\n\n    if ($(\u0027#field1\u0027).val() !== \u0022\u0022) {\n        subscription_json.userId = $(\u0027#field1\u0027).val();\n    }\n\nif ($(\u0027#field1\u0027).val() !== \u0022\u0022) {\n        subscription_json.userId = $(\u0027#field1\u0027).val();\n    }\n\n    if ($(\u0027#field2\u0027).is(\u0027:checked\u0027)) {\n        userData.dataFields.subscribedMessageTypeIds.push(117268);\n        if(userData.dataFields.unsubscribedMessageTypeIds.indexOf(117268) \u003E -1) userData.dataFields.unsubscribedMessageTypeIds.splice(userData.dataFields.unsubscribedMessageTypeIds.indexOf(117268), 1);\n    } else {\n        userData.dataFields.unsubscribedMessageTypeIds.push(117268);\n        if(userData.dataFields.subscribedMessageTypeIds.indexOf(117268) \u003E -1) userData.dataFields.subscribedMessageTypeIds.splice(userData.dataFields.subscribedMessageTypeIds.indexOf(117268), 1);    \n    }\n\n    userData.dataFields.userListIds.push(3009709);\n    userData.dataFields.userListIds.push(3081011);\n    \n \n    if(userData.dataFields.unsubscribedChannelIds.includes(88773)) {\n            userData.dataFields.unsubscribedChannelIds = userData.dataFields.unsubscribedChannelIds.filter(id =\u003E id !== 88773);\n        }\n  \n    //Added by Tay for including the message type IDs if user deselect some of the checkboxes\n    var mergedsubscribedMessageTypeIds = [];\n    if(presubscribedMessageIDs !== \u0027\u0027)\n    {\n        mergedsubscribedMessageTypeIds = userData.dataFields.subscribedMessageTypeIds.concat(presubscribedMessageIDs.split(\u0022,\u0022).map(Number));\n    }\n    else\n    {\n        mergedsubscribedMessageTypeIds = userData.dataFields.subscribedMessageTypeIds;\n    }\n    subscription_json.subscribedMessageTypeIds = [...new Set(mergedsubscribedMessageTypeIds.flat())];\n    //Added by Tay for including the message type IDs if user deselect some of the checkboxes\n    \n    //subscription_json.subscribedMessageTypeIds = [...new Set(userData.dataFields.subscribedMessageTypeIds)];\n    \n    //subscription_json.unsubscribedMessageTypeIds = [...new Set(userData.dataFields.unsubscribedMessageTypeIds)];\n    \n    subscription_json.emailListIds = [...new Set(userData.dataFields.userListIds)];\n\n    subscription_json.unsubscribedChannelIds = [...new Set(userData.dataFields.unsubscribedChannelIds)];\n\n\n     \n     \n\n    var subscription_json_lz_encoded = LZString.compressToBase64(JSON.stringify(subscription_json));\n\n    var finalUrl = urlStart \u002B \u0027/it9nrcf8em5qe7t85c9/v1/iterable/UpdateUserSubscriptions?user_guid=\u0027 \u002B userGuid \u002B \u0027\u0026integration_id=\u0027 \u002B integrationIdDefault \u002B \u0027\u0026platform=\u0027 \u002B platform \u002B \u0027\u0026format=\u0027 \u002B responseFormat \u002B \u0027\u0026subscription_json_lz_encoded=\u0027 \u002B subscription_json_lz_encoded;\n    $.ajax({\n        dataType: \u0027jsonp\u0027,\n        url: finalUrl,\n        success: function(data) {\n            if (data \u0026\u0026 typeof data === \u0027object\u0027 \u0026\u0026 data !== null \u0026\u0026 data.hasOwnProperty(\u0027success\u0027) \u0026\u0026 data.success) {\n                hideLoading();\n                //processSubmit(\u0027\u0027, \u0027form1\u0027);\n            }\n        },\n        error: function(htmltext, textStatus, errorThrown) {}\n    });\n};\n\n\n\n\nwindow.newIterableUser = function(integrationId) {\n    let payload = {};\n\n    var newUser = {};\n\n    if ($(\u0027#field1\u0027).val() !== \u0022\u0022) {\n        payload.userId = $(\u0027#field1\u0027).val();\n    }\n    \n    if ($(\u0027#field1\u0027).val() !== \u0022\u0022) {\n        payload.userId = $(\u0027#field1\u0027).val();\n    }\n    \n    \n    if ($(\u0027#field1\u0027).val() !== \u0022\u0022) {\n        if(!payload.dataFields) {\n            payload.dataFields = {};\n        }\n        payload.dataFields.email = $(\u0022#field1\u0022).val().substr(4, $(\u0022#field1\u0022).val().length);\n\n    }\n\n // Populate the custom \u0022signup_source\u0022 field for new users. \n    if (customSignupSource) {\n        payload.dataFields = payload.dataFields || {}; \n        payload.dataFields.signup_source = customSignupSource;\n    }\n    var newUser_json_lz_encoded = LZString.compressToBase64(JSON.stringify(payload));\n\n    var finalUrl = urlStart \u002B \u0027/it9nrcf8em5qe7t85c9/v1/iterable/AddOrUpdateUser?user_guid=\u0027 \u002B userGuid \u002B \u0027\u0026integration_id=\u0027 \u002B integrationId \u002B \u0027\u0026platform=\u0027 \u002B platform \u002B \u0027\u0026format=\u0027 \u002B responseFormat \u002B \u0027\u0026user_json_lz_encoded=\u0027 \u002B newUser_json_lz_encoded;\n    $.ajax({\n        dataType: \u0027jsonp\u0027,\n        url: finalUrl,\n        success: function(data) {\n            if (data \u0026\u0026 typeof data === \u0027object\u0027 \u0026\u0026 data !== null \u0026\u0026 data.hasOwnProperty(\u0027success\u0027) \u0026\u0026 data.success) {\n                if(integrationId === integrationIdCdp)\n                    UpdateUserSubscriptionsCdp(true);\n                else \n                    UpdateUserSubscriptionsDefault(true);   \n            }\n        },\n        error: function(htmltext, textStatus, errorThrown) {}\n    });\n};\n\n\nfunction generateUserID(email, affiliation) {\n  // Convert the affiliation to uppercase\n  affiliation = affiliation.toUpperCase();\n\n  // Convert the email to lowercase\n  const lowercaseEmail = email.toLowerCase();\n  // Combine the uppercase affiliation and lowercase email to form the userID\n  const userID = \u0060${affiliation}${lowercaseEmail}\u0060;\n\n  return userID;\n}\n\n\n\n\n\n\n\n\n\n\nconst observer = new MutationObserver(() =\u003E {\n    const layout = document.getElementById(\u0022layout\u0022);\n    const field1 = document.getElementById(\u0022field1_wrapper\u0022);\n    const button1 = document.getElementById(\u0022button1_wrapper\u0022);\n\n    if (layout \u0026\u0026 field1 \u0026\u0026 button1) {\n        layout.insertBefore(field1, button1);\n        logger(\u0022Moved #field1_wrapper above #button1_wrapper.\u0022);\n\n        // Done observing\n        observer.disconnect();\n    }\n});\n\nobserver.observe(document.body, {\n    childList: true,\n    subtree: true,\n});\n\n';
                        customCSS = '';
                        logger('MobileSettings_1');
                    }
                    else if (clientDt === 'mobile' && '1' === '1') {
                        settings = 'N4IgNghgng9grgFxALlAcwE4EsAmB9HDCNNCAIzAFMUBGAGhE1zw0oGcsAvcq2hp.GwAWMAO4oQlAG6UAdkgYQwWNLIlUAZgpCjcCISgAshgMwMhlFUKTIaAVjsMAthAxossvAhgAHFAAYGMggAYwBrTHhZHBRQEJgwGAwJN2CACgAmBzoAAizHPOyc.wBKEH4iHCw5GxAAYg1GpvKQLBc0amQQFtYfSgha2RgAWl7-7R8YDgQsGDUuzQQc7z8GODZKPEwIKpqUDSUNtY28NuJOg7ANgF8g0IiMKPx4BEpk1BB4xPeQVIhMor5XJA4plCo7aryCQNJqNFpnDoSHqUPoDCRDUYo8YtSbTWbzcCULTLXwtdabba7KHIS5HEDk07tC6HSi3EBkJI4N6xHR6Ay2BhfJLQ.yisUtNgIKC8LpDWTUBiVLDrAJsiw7N54axOMASAA8kullAAfAAdWQAOjIiG8shoOWA5pyzpyPh2VVkaFGVgQyByISUITSJjsPgAHjkANTFC0ADgA7HZWE4SjkAIRtSYYBAQeQAbidLo5GC5GFGEPWfrs.nD6czSRz-cLzqFGD9MI0dacWcbCALshdOWC4UicGiw1b7YyJmn067PdzfebrvdHjQfpoJlrJhrEfnDcX.cHVTYPkgUD9HmU8uGFBg4X32cPy9xWBmcz9rEgMxkj97R5dDQ5gQYYOE4Sg.TjRNkz.Z8B0A4DhlESw0GsP141FWCm3g51XjDECECIWQ2CAjAnD9OAfD6DAAw2LClxw.04AwNgkj9SYPFeDB6IA51i1LP1.B45dCNzPEPxyJQwByC0TDYHJ-g2YYPGGF5hMYvCQK5eIiHfWQ.TlSh1Ouc1zStG05hoZAIC0N4HWXeJ5BqCiMDANJrAQHw2GQAB6Hy2BMC0fHWIQz1zSgEAteInB88kWJ82MyA0EwaAATjsHB.AANjIeNDH8VKcAgSg7CykIsogeNUvjWN.A0QwcBCWKzxgHY2B8-McEMEJ.DILKspwPL.G60UyEMVKyEoDINAyeNKHyuwDlSnyyAQWRXEeUQLTYKQ0FTDNuwPbDB1fPS.XIViwEQIyDoXY6XV0HB9A3VLa1uo6GMHCwfQ3Qw3vrJ97udbBUN9PItwjd7Ac-l1ROIt98XOsBpNk-TFMoZTZFUxB1LdHAPS9FZkAycN-xM2QzOtBBbSskQZG4x1GOHB4ngnBI2JyOosvjbnueM0zLSpmnkDpt5rNshnlxBtC8l3fmKdkBpqjAHBNwtDRldVkw8CAkJ1ns2R-LeNnvnbRoQgyGgyHlml731xnnRea8IJyQyAI5MNQKEHYxEE4p.YhznzctsgyYFgABJxKCqCAcjmMAoByNgQlYORJOiHI0hcT3HuenJjFDMNUwdzmhcsvBRCIKi7Id07EZyDWw2j3iSR8P0stjUnl0WKt.AAUhbuGSKScjliIthv0oNJhmrPvclKI9yaVygVZoCuq-og264kxvm5E3w.QyFue7yFvpbB.x-1zoRkFS1KB6dcnyb1fypSoM1ZD1NNhmGHIAFkIqxwAApYCbtJAAwjALkOQf4fwNCnLAPgEAfzTBoMcIQ9JpA0HQMgdBKB0CkHQWQdAEB0DYCUc0wAsAaCwerMgABHEorAEDMVkHmWQABeDQdD6FcPQZgkowBLQBmRgA.QUCAD85phFSTESIHAFoIBUQTmkYhrg0BwCjvIchyBLT0LgJQAxQUQppHUZomo5Drj9moWkVBFodYMJKNwhxvC2GWmCsIDhbiLSJA1DgDhaZL6WnphwOYHCADkGQLT-HCf2PRBiDEcIANoAF08wIA4WQKKrABiUAAKJUC0QgNIlASjpMUWwKAsgQgBMvuaSKbAaIcKkHmNgmSLQdAQAUygRS2AACEoAABViAADkIBRxKSUJJ.g0nmjYEFVwNQRlQMoBaDwGxsx9KJEkKepDLFpF0NEMQdAcB2yKXQcJydsBIPCXQc04SPJeV8j5Ry8oMHq1CJQDkMAwgWnlAgHycg8AAFUADKPkNCTRkNoi0AArNg4SynmkhfQtI4SPBvluTkSJls76pSyiYcaWUaBZTsCYRF.YUVotEuELF4SgHnAAGrVFEBS80L8rmIOQQLPUQxOVILgW0NAORvqgwiTQcJORr7islY0mpDzqZPL8qIFVHyQhfJgD8qKMAYqEQkbgDhGRcV3wJUSklZKABk0gOEMo6MyygogLV8oQUgjhEqfJwJ8s6653KFZfx.jkPJGcxHANASvHIkDoGwJaEBGAXEtQIB1EiNk-gwznheDyAQBAiAkB4J0egjBsD4FYGBPNfBC3MGEGICQ0g9iKGUKodQRJtDXyMKYcwKFrAoDsLGZw6iPBeFJMgQI7J7ijmiDyVs0JYRwnBFSWoHZmgMARJ0boiosRollCMMYaIGDbwJIsVuZITiUkhDYWk-D6QnBXfsFkbJmbjueNdd4cR2Y.EXbOwtEI9hdA.RoeETIkTrtRIMbdG6JhTARnMJtxIVjHopEqH9F7jibBvTSO9QROTcg-K2gUnw30ijFKKCUb9V2GR6BWNgqoO0agwAmpNXR.W.xDTkEBYCI0rJgcMOB.LfWoP4fiLBOC8EEKISQshFDZBUJodwlFTCIqsPYVwnhfDqkCKEVFWREV5FSNkDI0R2moGKOUVAVRdAzG9JKLoi0-jDGrI8UIUxbhzHaJKFY80Ni7EuKcfYlFXj2HGM8d43xXJ.GBICyE.EESokxLiTZhJlBklpIyVklO4x8mFJqJM8pEBKnVNqf2BpTSWltKyZ07pvSBnDLQGMiZpTpmzOIgs1g8hllcjWcRN4CAtmkV2RJ64ByPCnNECcs5NQLm8dufcx53k.KvMoO8g46rvm.P-YCzwYKIVQosXChFSLZBUvRbITFuQcVpRNYS.F5ryX7cOzSsIdLbWUHtay.bHKXW-vZd6rlgqnDCtFdYGVUq-RA7lREmbzyVVbSWxqrV0UfJ6oNUa87-LLvEtJSYK1UgbVMpZU6qYH23XhI9eyr1BOfUf3Zd.X-QacD.0AaxsNEDOPRoYLG-N2pdRdBAGyFENB02IEzUW7NxBSAUHzRUZgJauBlrw1mqt4gui1qhPWlQBJ1VOWSAwXD6UR0A5sDQMUfa3ADrg8Ou4I5HhjhiB8Kdv6Z3.rnWe6dM6APnCA78cD6IwMgZxJBvSMGlhwZQ1sRD1JkNXtQ4B9DVxWQW5ZtbvALxsOvu-C72ELRT0.vqA7t3iJufAexFuzEvu93-.xIHo9Ies.h5ZCHtDF771YZfbyJ6.IC12.qER4jDBDQyhAJdXAFGqgqmHdcXnPgMgC5sOgYXhBRey4LVm6X3BxflvlyIRXkhoXaCUGriQGuuItB19WDtPpaBG5AC4E3ngzcjofVbidtuCP29d077Pf68-ruRL74vO6IPiQHrNpV6R6h7fq16x717R6N7x6PpJ7PqTov455v5frzrp5LqtDR5rqe6.4gAYj.5-6AGV7B6gE17np16gEN4YbsjN48i4Yd5IF1Dd7-AkZGgSCD4xCKiUaqgT4mDT5C7MDz65pr5y7C4r6L6S6CCb41o74tB76NpdCH7cja58goC65n6gwX6ijG7uC35Dr35jqP426p7Civ4Z7v7UjIHmGYHu4F44FF54E-7Yhl5EELDAEkEMhkG3qQGUHQHUEP5PDwFH7P5p5mEYFeFhGfpobYEEF.5e4uFQZAGwakjV5h7kE-EMhUGx5N4lgp6t76Dlqd5MHd6sH94cHD7KhUZj4T6GD8EfBZpCFi4yhL5iHsAy4iEtGVrSFK6yGq4KGfA1DKH5H8jqEgD65aEjrX66GDp-Dm6jqW5PCIGhFWHhFpHoFRFYE.4OH4HxEgD7rEEpGkFrEx50iZF-HZGwFGFBF5FFG54WELp3E2H54xFe5xGl57Hl7QZuHJGrBHHgHpGnHXrnE3CYa5Et70GCiMHMGlGrrlFcEj5VH-Dj696UAwA8gzAID94ADifSAAEjkAAJKyDOw5AABiI8OQgy7A2gYQlAUAognIVR2BXIvGFedhBwUgWAjkyaKGLeGiQ-XQiUyUaUGU2UuU-UhUxUpU5UlU1UtU9UjUPODAnAQ2lAYYeATgHgExypqp6p2cExw0DAmkeA8QY4CAGpEAWpeGZcngpp8gFpVpBaK6JpUQ5pLgVpeuiaYALpZpDp8wI6pETgPp9p7p8wBaGsK8-Adpbplp8wGQRpapCANAPIQE1IoABwmpCcEg4SAAMnACELgLHJAsRAkJQFin.HMKEDALkE4HMFMG6Oqi0EUdCX0eroMVrgPlwKuoYLGC0ByCrCgIRAYsujmMoCEN4acdEG8M7BOZelIKeJ8tRsMd2llIYBoV2rYBkL2iAGGLQP1AwFALQKlGuSAJpBIOAlQLmDkKCpPPCDbqeYmcmQwCeGFIecgEOZeiqVObubYERh3mwEyS0FyFQK8Dbh-WyIGcmR8AKSAJBZnnADBVlMeY1DQFyDPCYOqsMMYKlBjKlIboYMMPGBkP4BACYGQEVGlBkKlHIRLHgGwHAGQJqbUPoLmGEHgLAHAHgG6IiOulUKwBgngMxFzi8XxQtuaVKH0B7txZsL4HIB7lHABbYdgXrJKDqngPCngJNL1ngFIHvkVAHnYSpd4EGRpTZPGrpcoPpWyfSD4PpZQASVxHmqCgxaydBoKOsMZepWwJpdsqwHRQxUxR7kZWpaZbRfRYxW-DybBZrFBaABJauppB7DGiPBIHBc-Y8LZWIJ4GEFIF5CgEkqAGEN7vKC0FIBIKCivGJenHHEghXtcCkoKBYOEElbbk1bSTgBZR7ugm1dHJ1XYZxJQNsHpKcPeUBUSBAHAGALUDAJ-j4KwBoCaYRHgMoJKCNVFXZT4FybSS3lyAcJNbUMlWRJui8e4F8dgZqQSC0PqXYfoD0qug2l2hBcBCmeMlgFmV0HgCaR5WpXgAAD7.W.XhIABK0cOQuJAwlJiZWKbAYkoEbw1CANv1RIWUlsoohgspx5k0EAsYNANAGQOA04GEpFPU3M8YTZSBqQaQRQ1NdgYIIA8hSR2gYEq6JKfZCQNuEeb4e-45Jxl61u05HgzIPh85DZnQSJoJpYdBqhXQT5-GyxlNJK8ZOQituQitdNfesJCQQ-8JlREgLBORpYWoMA9MUtbeEgstneCtKNqt1tytKN6tpG7BWtnBvw3BXQ-tEtmouso-oAuGIAFtFNaAZAaQKtdtStatMJTtllFRo-IAHtNBYJeAbwjw4J0t.t5N8tQdIdttodEdvejtXQcJrtCJetSp8xCeT-JhPwlNIItdDgdNERKxGxSlWxx1Ox7x-x3xQehxnhxxEeZxthMB5dcBosLeltWdddBQ-QDdxxTdjuTx3-hebdThu6HxrhhIPx8GYBaBvNUBg9.hhhgR3tVRVdKQE9gIF9tNmes9n-y6mxS9oGJezha9iRBxvxvd.xs5e9-eQ9ARieydphp9XQNdl9wI9d19n9kR890Rrdj9BBCRBlG93d79J6fdFBA9P91B4xyAPMKhZtxMsY8ZO5KARDb5RDMFEZq8QFWAp454g5GAw5nu-iWArA9DjDu1E1U1UlkA6qIgKs2GIAHF4cap4yZ4qy0ULQtJUAeA60UcNa7puobO2AcgOACcMj4yq6eSCjLQmkiyEAFp6pVAnoBRv52hIAX5XIP5huYoRDIQAFEgeMBMv5pMDciEGZb1F42KINdO4NSwVJ-E0NsNGy1CeYIqnavohgWU.0h00MoT18pjA8ZdNpsVsFz1Hw7j71IAn1wVQZf1ANwNoNvjkNATuQMNxEcN2AGgiNyNqNw0GNhgWNONeNBNJgRNGF2U8YZNkJyxt99NDajNEoXZ5thgbNA575DDl6XNY5X99IU5rkgtMzIti5Y-bOwERtJt6Tr1mT2T31uTiNBTPjEN.jCAgT5TwTVTANNT1j6NVUmN.QTT-NhNJF7TpNGdphc9ch.Tgegz4EwzozYFEzI53NMz.N8zJVu9IASzjZKzqT9px9L1mZb5WTX1qlez-T3jYNRzUNpTQT8NFz.1VzaN9TjTuNjzrTzzJNnTbz76jxDN3zveQzMtIzmGYzH5QL0zELoLM5ELULYtBteREJct7zlNhKuQorOQhKDtbBhdztMdTJO4STze6zAr0tDBmdwd4rmrhgUrZRsrOtsdCr.LdG8LOGqr3TwrWdWrYr2rkdMr0d-r8r8df9ldQr1dlra5ErHrkrEDO9Hzd9LdD93uT9q9ndSDIBH9O9.dQJ-9Fxw9Vxo9SxFrGrXrKbM9kDfrC9HusRjhwbABr9Xd4bqDkDUbUeMbIJcbR9dsJ9rrZ9yb1r1rabvrvTMDgbbxz9obh6HhRbkb6D0bmDsb9BJgWU65NghgRDP5O4J5b5J5MFyT1DtD0AbDl6Z5XQoKBJWJIyOQwKQCchGC1l4VgVvFLDYlXgUAkldhQlHuGs.eOI5wSefQl1qzZEqVI8stClMNzxTZuzXlJpY5RVdhFjapBpZgnw9jXQqZIEGTnjBzmLfj2LScuLlTeYZdxp0ZXgQgP5RDNpwZ4lGH5azpaHqaAQ5gXpOH6HP5AZI8ZHRHeGlDUZrp5H5aqamkKTEHCLHj2ZeZBZRUHGJZVA5ZlZ8QNZdZC5jZ5r76LZfT--ih7ZPz3ZvZLLALjDUzXJILcz3LEevLS5uGpUJ52DeN25Vj-5gjR5J5K7IAF5.QA4N5uSd5EgLH87r5S7Op35Bp.5gFz5lVoFS7KaGHc76TaT6ZWzSLOzqLn1-zGLRTxzpzbAFTCNlzGgKN1zxL9zpLLTbTlLXTNbUDnz0nAxmucnfzinznrQo5qnnL6nCzPLonfLqz9pCbmziLEgoXnleT.1MHUX8HZTsX5z1TiXtTNzd8DTqXzTTzxNHTWXtxKBdLMnBXDLvzTL.zJXKnPN.dlX4LmnNXS5EHOsVb7H2zKLrXEXhTWLJTCHZzeLfXSXRLtzw32NaXY3LzVL4n6x89M3-XR-83LNzLNBrLgLpXwLFXpYGnFBWnMLRsqd-DarSbwYKbDbtrA-erxdutXQhrntdGDXvtZr2Xvw7r9bnrOrmt9ryPBrTrSrJrWPUPL3wDePnr8P-d0riPxPSopPSTh91uibbrdbdPBPPrzuOX.rn7rbOb8DL9iDnbPd3b.PJbjIZbceFbiemPOPIrcPvP9xr3X-WbrxIvuxHb7hkvCGxbvbpb.b5bzr-AFPyvtPWrjb.PGbLb9hy9ubhB-bYbXbhvPbGRfbQt5b9BxFI7baDAE7NAU7JDy695c7z5NDTn4zjD5noKwKfSf8BJgyOQxou7iDQw-ga4yIolAl8VXVrkV7b1i9exd7slj7qTz7dh77Abnw37GlIQf7HugHVjRGIHdjTJEHwwUHfoHXp3JzOLF3SHY1IF0cPnRpGHcF0F95aVjACF95SFDUIQqFGMZKmF2FuF-FhFxFpF5FEAlF1FigYVAVkVXQLFsgbFHFXF7uR7.F5pl7dhrAef4lZ7pf0l97clNf7AH7pfOTP7WlHZDpT0oDBrKX7MLqFXMogDEG4AzyhpUAF-UD2Z.ZSg328pmVNQSAg6r5zDB0cUmBfc.omSSpPsnAHuQgL4GGzZVcqVRAqiAH.aOESqDAMqqu0qoYJqqvgAPPVUaoLYwgLVOID1Q6pKAuq1SfgX1WwIDUhq-INanYQ4b7UJAM1eenNSJCLU6MK1c0jBTLobUtqeRGQVw3ZIjxjqyIU6pXwuryUIAP5bArdTkYLBz8T1NMrBWC7NdDuP1Y7oczg5nduucXfFkjX67JdbuJLUbuS3G6vNqeuPYOjTVyDgNWy9LTsgt39pZQluELFbmp2B5VdNuotJchD1NomNoeXPTIDQF7R5B8hwIfIYTyjra0SeTJOwIq0TpK9BW49YOpbAKGNDihsYUoXa3KEs9Kh1Qw2pbzqGB0GhRQwoU0JKEI8i6nQiQFUKNZJ0MAKdLIe3hCE11BhzQoYW0KZ4dC3aIASYZcUWIhEYek9MBlfXV4C9M2T.bXu3XbafFGahbD3tL2N6y9Te8vc3sqzHr9CAQU9S-rbw.yPEHe2bc4SG0uFv0t6ERGXlkTN7s9ogu3FSpz1rZvCDhBwz4ZYWbb31HecDXXgCILbu9t6twr3ibx96PDwR-AABi8PVawjCg7ww4agTt5Ii6-vwlenm3F768UGNwpDHcNBHy9sGuDZcsgB3AgdMOB5MPq0Fn4xVHOdDWPpelYDMNWGELHQQdT3Q8NKAfDSWl0CEYiNuwVAbVCQIYBSN1GVg6KpGVloaBlG0QNRrI1XSklNYytHRomT0YGNlqcgNANkMvyt8DStjMDmX3xhrhnGYYUJt3175eMTubgwfudx654tQm-uZAJE2iZ3Q-wo.CKOPzFHYDNIGQFMoF3sFNcPqTgtFu10i4D8Yungq7gNxS73cAhGXCbtS0IxEZcu.RJQh2WZokN787NZbmV1W7oN1ueIxgVtxhb0EzG2DU.MQ2JiOATOA4hMvhHKr5l1UAFNMHZ3P4YckxIoxdmKJc6WMDSJ5TvlFTo7JiPg-Az4G1SIFV8SB4HV9kBQyoUC8AOVPKsgBoF0DyMjA8qiwKWBXl2BdVBqjuO4G8DXx4QXqoIIvbCDuBX44SvCCcgSC5gUg5kuNVkFdA3KexeasoOWo0M1Bo1NkJoM.E7VwJug7AoGQMHrojB8lK0udTMEe5LB91GwXVxnxpiOOGY..m10Bo5jAxeY3rgl2u51M.BI3MlqWOCFW8whBQGmnTXe6LBCuMteIcV0SHNjkhAtDbqD07Hi0E6SoyniY3ToLCs6udHOvbVGFI9xh7tboZqFqFp0A6JI5SeHVUkM9dWzPDYWT0Tq9DdJ5YmnsHQMk20MgqwsYWZK0l0YiRcw82tZNCHZ1DJPkxyepOcn3oCR0ImyaSMnoIiHiKBH4WcLpEu8GRm9VIkbxxH3C8RgUhYor2No3FXh-wskeFI16C9S-tI53gg2soS8mRWIlkUlLZGpSK6FvPbrsNyHZTp6fPL4ZFORGFTReeveKX8U96AlcRs5aqXATcn1SYRjUyIZSJanWEopuBP4fSJKmMigRaDSqcCXZHhMUAnI3DFuXHbEchxnTcPqlU1jJio-C7N8myyYYIUpREeGUdw0-SKiBGkjOkjqNXQbiY0Ro1RtI1NESBzRkZPIFaPwg2js4do4xu3idG6kXRgoN0S-XPC6I5glAZDuPiAA';
                        DEVICE_TYPE = 'mobile';
                        DEVICE_TYPE_MOBILE_OVERRIDE = 'desktop';
                        customJS = '// jshint maxerr:10000\nvar urlStart = \u0027https://jsapi.lightboxcdn.com\u0027;\nvar userGuid = \u00228bf3195d06b7409dae56c6a79780f4dc\u0022; //the Long Alphanumeric 32 character GUID\nvar integrationIdCdp = \u00222217\u0022; //the Short Integer ID (5 to 6 numbers long) - integration ID for CDP project\nvar integrationIdDefault = \u00222610\u0022; //the Short Integer ID (5 to 6 numbers long) - integration ID for Station project\nvar platform = \u0022p\u0022;\nvar responseFormat = \u0022jsonp\u0022; //(must be either \u0022jsonp\u0022 or \u0022json\u0022)\nvar customSignupSource = window.PAGE_NAME \u0026\u0026 typeof window.PAGE_NAME === \u0027string\u0027 ? \u0027pushplanet_\u0027 \u002B window.PAGE_NAME.trim() : \u0027\u0027; // for user \u0022signup_source\u0022 value (string).\nlet userData = {};\n\n\nvar GetIterableUserById = function(uid, integrationId ,callback) {\n    showLoading();\n    var finalUrl = urlStart \u002B \u0027/it9nrcf8em5qe7t85c9/v1/iterable/GetUserById?user_guid=\u0027 \u002B userGuid \u002B \u0027\u0026integration_id=\u0027 \u002B integrationId \u002B \u0027\u0026platform=\u0027 \u002B platform \u002B \u0027\u0026format=\u0027 \u002B responseFormat \u002B \u0027\u0026userid=\u0027 \u002B uid;\n    $.ajax({\n        dataType: \u0027jsonp\u0027,\n        url: finalUrl,\n        success: function(data) {\n            if (data \u0026\u0026 typeof data === \u0027object\u0027 \u0026\u0026 data !== null \u0026\u0026 data.hasOwnProperty(\u0027success\u0027) \u0026\u0026 data.success) {\n                if (data.hasOwnProperty(\u0027payload\u0027) \u0026\u0026 data.payload.user \u0026\u0026 data.payload.user.hasOwnProperty(\u0027email\u0027)) {\n                    logger(\u0027GetUserByEmail: Found Iterable User ==\u003E\u0027);\n                    logger(data);\n                    logger(data.payload.user);\n                    userData = data.payload.user;\n                    callback(userData, true);\n                    //user the user object to Populate all the user data on the page\n                } else {\n                    //isNewEmail = true;\n                    callback(user=null, false);\n                    logger(\u0027GetUserByEmail: Invalid Iterable User Payload ==\u003E\u0027);\n                    logger(data);\n                }\n            } else {\n                logger(\u0027GetUserByEmail: JSONP ==\u003E failure\u0027);\n                logger(data);\n            }\n        },\n        error: function(htmltext, textStatus, errorThrown) {\n            logger(\u0027GetUserByEmail: JSONP ==\u003E error\u0027);\n            logger(textStatus);\n        }\n    });\n};\n\n// if the email addres field is different, update \u0022field2\u0022 in this block of code and anywhere else it appears\nwindow.updateIterableSubscription = function(){\n    var email = \u0027\u0027;\n    if ($(\u0027#field1\u0027).val() !== \u0022\u0022) {\n        email = $(\u0027#field1\u0027).val();\n    }\n    \n    const affiliation = \u0027WGBH\u0027; // assuming always four characters\n\n    if(!email.includes(affiliation, 0)){\n        $(\u0022#field1\u0022).val(generateUserID(email, affiliation));   \n    }\n    \n    if(!email.includes(affiliation, 0)){\n        $(\u0022#field1\u0022).val(generateUserID(email, affiliation));   \n    }\n    \n    GetIterableUserById($(\u0027#field1\u0027).val(),integrationIdCdp,function(data, status){\n        if(status){\n        let subscribedMessageIDs = data.dataFields.subscribedMessageTypeIds;\n            UpdateUserSubscriptionsCdp(false,subscribedMessageIDs);\n        }  else {\n            newIterableUser(integrationIdCdp);\n        }\n    });\n    \n    \n    GetIterableUserById($(\u0027#field1\u0027).val(),integrationIdDefault,function(data, status){\n        if(status){\n            let subscribedMessageIDs = data.dataFields.subscribedMessageTypeIds;\n            UpdateUserSubscriptionsDefault(false,subscribedMessageIDs);\n        }  else {\n            newIterableUser(integrationIdDefault);\n        }\n    });\n}\n\n\n\nwindow.UpdateUserSubscriptionsCdp = function(isNew,subscribedMessageIDs) {\n    \n    if(isNew){\n        userData.dataFields = {};\n        userData.dataFields.subscribedMessageTypeIds = [];\n        userData.dataFields.unsubscribedMessageTypeIds = [];\n        userData.dataFields.userListIds = [];\n        userData.dataFields.unsubscribedChannelIds = [];\n        userData.dataFields.emailListIds = [];\n\n    }\n    //For checking previously selected message IDs\n    let presubscribedMessageIDs = \u0027\u0027;\n    if(subscribedMessageIDs !== undefined){\n    if(subscribedMessageIDs !== 0){\n    presubscribedMessageIDs = subscribedMessageIDs.toString();\n    }\n    }\n    //For checking previously selected message IDs\n    let payload = null;\n\n    var unsubscribedMessageTypeIds = [];\n    var emailListIds = [];\n    var subscription_json = {};\n\n    if ($(\u0027#field1\u0027).val() !== \u0022\u0022) {\n        subscription_json.userId = $(\u0027#field1\u0027).val();\n    }\n\n    \n    \n  \n    if (userData.dataFields.unsubscribedChannelIds.includes(81862)) {\n        userData.dataFields.unsubscribedChannelIds = userData.dataFields.unsubscribedChannelIds.filter(id =\u003E id !== 81862);\n    }\n\n\n    //Added by Tay for including the message type IDs if user deselect some of the checkboxes\n    var mergedsubscribedMessageTypeIds = [];\n    if (presubscribedMessageIDs !== \u0027\u0027) {\n        mergedsubscribedMessageTypeIds = userData.dataFields.subscribedMessageTypeIds.concat(presubscribedMessageIDs.split(\u0022,\u0022).map(Number));\n    } else {\n        mergedsubscribedMessageTypeIds = userData.dataFields.subscribedMessageTypeIds;\n    }\n    subscription_json.subscribedMessageTypeIds = [...new Set(mergedsubscribedMessageTypeIds.flat())];\n    //Added by Tay for including the message type IDs if user deselect some of the checkboxes\n\n    //subscription_json.subscribedMessageTypeIds = [...new Set(userData.dataFields.subscribedMessageTypeIds)];\n\n    //subscription_json.unsubscribedMessageTypeIds = [...new Set(userData.dataFields.unsubscribedMessageTypeIds)];\n\n    subscription_json.userListIds = [...new Set(userData.dataFields.userListIds)];\n\n    subscription_json.emailListIds = [...new Set(userData.dataFields.userListIds)];\n\n\n    subscription_json.unsubscribedChannelIds = [...new Set(userData.dataFields.unsubscribedChannelIds)];\n    \n    \n\n    var subscription_json_lz_encoded = LZString.compressToBase64(JSON.stringify(subscription_json));\n\n    var finalUrl = urlStart \u002B \u0027/it9nrcf8em5qe7t85c9/v1/iterable/UpdateUserSubscriptions?user_guid=\u0027 \u002B userGuid \u002B \u0027\u0026integration_id=\u0027 \u002B integrationIdCdp \u002B \u0027\u0026platform=\u0027 \u002B platform \u002B \u0027\u0026format=\u0027 \u002B responseFormat \u002B \u0027\u0026subscription_json_lz_encoded=\u0027 \u002B subscription_json_lz_encoded;\n    $.ajax({\n        dataType: \u0027jsonp\u0027,\n        url: finalUrl,\n        success: function(data) {\n            if (data \u0026\u0026 typeof data === \u0027object\u0027 \u0026\u0026 data !== null \u0026\u0026 data.hasOwnProperty(\u0027success\u0027) \u0026\u0026 data.success) {\n                hideLoading();\n                //processSubmit(\u0027\u0027, \u0027form1\u0027);\n            }\n        },\n        error: function(htmltext, textStatus, errorThrown) {}\n    });\n};\n\n\nwindow.UpdateUserSubscriptionsDefault = function(isNew,subscribedMessageIDs) {\n    \n    if(isNew){\n        userData.dataFields = {};\n        userData.dataFields.subscribedMessageTypeIds = [];\n        userData.dataFields.unsubscribedMessageTypeIds = [];\n        userData.dataFields.userListIds = [];\n        userData.dataFields.unsubscribedChannelIds = [];\n    }\n    //For checking previously selected message IDs\n    let presubscribedMessageIDs = \u0027\u0027;\n    if(subscribedMessageIDs !== undefined){\n    if(subscribedMessageIDs !== 0){\n    presubscribedMessageIDs = subscribedMessageIDs.toString();\n    }\n    }\n    //For checking previously selected message IDs\n    let payload = null;\n\n    var unsubscribedMessageTypeIds = [];\n    var emailListIds = [];\n    var subscription_json = {};\n\n    if ($(\u0027#field1\u0027).val() !== \u0022\u0022) {\n        subscription_json.userId = $(\u0027#field1\u0027).val();\n    }\n\nif ($(\u0027#field1\u0027).val() !== \u0022\u0022) {\n        subscription_json.userId = $(\u0027#field1\u0027).val();\n    }\n\n    if ($(\u0027#field2\u0027).is(\u0027:checked\u0027)) {\n        userData.dataFields.subscribedMessageTypeIds.push(117268);\n        if(userData.dataFields.unsubscribedMessageTypeIds.indexOf(117268) \u003E -1) userData.dataFields.unsubscribedMessageTypeIds.splice(userData.dataFields.unsubscribedMessageTypeIds.indexOf(117268), 1);\n    } else {\n        userData.dataFields.unsubscribedMessageTypeIds.push(117268);\n        if(userData.dataFields.subscribedMessageTypeIds.indexOf(117268) \u003E -1) userData.dataFields.subscribedMessageTypeIds.splice(userData.dataFields.subscribedMessageTypeIds.indexOf(117268), 1);    \n    }\n\n    userData.dataFields.userListIds.push(3009709);\n    userData.dataFields.userListIds.push(3081011);\n    \n \n    if(userData.dataFields.unsubscribedChannelIds.includes(88773)) {\n            userData.dataFields.unsubscribedChannelIds = userData.dataFields.unsubscribedChannelIds.filter(id =\u003E id !== 88773);\n        }\n  \n    //Added by Tay for including the message type IDs if user deselect some of the checkboxes\n    var mergedsubscribedMessageTypeIds = [];\n    if(presubscribedMessageIDs !== \u0027\u0027)\n    {\n        mergedsubscribedMessageTypeIds = userData.dataFields.subscribedMessageTypeIds.concat(presubscribedMessageIDs.split(\u0022,\u0022).map(Number));\n    }\n    else\n    {\n        mergedsubscribedMessageTypeIds = userData.dataFields.subscribedMessageTypeIds;\n    }\n    subscription_json.subscribedMessageTypeIds = [...new Set(mergedsubscribedMessageTypeIds.flat())];\n    //Added by Tay for including the message type IDs if user deselect some of the checkboxes\n    \n    //subscription_json.subscribedMessageTypeIds = [...new Set(userData.dataFields.subscribedMessageTypeIds)];\n    \n    //subscription_json.unsubscribedMessageTypeIds = [...new Set(userData.dataFields.unsubscribedMessageTypeIds)];\n    \n    subscription_json.emailListIds = [...new Set(userData.dataFields.userListIds)];\n\n    subscription_json.unsubscribedChannelIds = [...new Set(userData.dataFields.unsubscribedChannelIds)];\n\n\n     \n     \n\n    var subscription_json_lz_encoded = LZString.compressToBase64(JSON.stringify(subscription_json));\n\n    var finalUrl = urlStart \u002B \u0027/it9nrcf8em5qe7t85c9/v1/iterable/UpdateUserSubscriptions?user_guid=\u0027 \u002B userGuid \u002B \u0027\u0026integration_id=\u0027 \u002B integrationIdDefault \u002B \u0027\u0026platform=\u0027 \u002B platform \u002B \u0027\u0026format=\u0027 \u002B responseFormat \u002B \u0027\u0026subscription_json_lz_encoded=\u0027 \u002B subscription_json_lz_encoded;\n    $.ajax({\n        dataType: \u0027jsonp\u0027,\n        url: finalUrl,\n        success: function(data) {\n            if (data \u0026\u0026 typeof data === \u0027object\u0027 \u0026\u0026 data !== null \u0026\u0026 data.hasOwnProperty(\u0027success\u0027) \u0026\u0026 data.success) {\n                hideLoading();\n                //processSubmit(\u0027\u0027, \u0027form1\u0027);\n            }\n        },\n        error: function(htmltext, textStatus, errorThrown) {}\n    });\n};\n\n\n\n\nwindow.newIterableUser = function(integrationId) {\n    let payload = {};\n\n    var newUser = {};\n\n    if ($(\u0027#field1\u0027).val() !== \u0022\u0022) {\n        payload.userId = $(\u0027#field1\u0027).val();\n    }\n    \n    if ($(\u0027#field1\u0027).val() !== \u0022\u0022) {\n        payload.userId = $(\u0027#field1\u0027).val();\n    }\n    \n    \n    if ($(\u0027#field1\u0027).val() !== \u0022\u0022) {\n        if(!payload.dataFields) {\n            payload.dataFields = {};\n        }\n        payload.dataFields.email = $(\u0022#field1\u0022).val().substr(4, $(\u0022#field1\u0022).val().length);\n\n    }\n\n // Populate the custom \u0022signup_source\u0022 field for new users. \n    if (customSignupSource) {\n        payload.dataFields = payload.dataFields || {}; \n        payload.dataFields.signup_source = customSignupSource;\n    }\n    var newUser_json_lz_encoded = LZString.compressToBase64(JSON.stringify(payload));\n\n    var finalUrl = urlStart \u002B \u0027/it9nrcf8em5qe7t85c9/v1/iterable/AddOrUpdateUser?user_guid=\u0027 \u002B userGuid \u002B \u0027\u0026integration_id=\u0027 \u002B integrationId \u002B \u0027\u0026platform=\u0027 \u002B platform \u002B \u0027\u0026format=\u0027 \u002B responseFormat \u002B \u0027\u0026user_json_lz_encoded=\u0027 \u002B newUser_json_lz_encoded;\n    $.ajax({\n        dataType: \u0027jsonp\u0027,\n        url: finalUrl,\n        success: function(data) {\n            if (data \u0026\u0026 typeof data === \u0027object\u0027 \u0026\u0026 data !== null \u0026\u0026 data.hasOwnProperty(\u0027success\u0027) \u0026\u0026 data.success) {\n                if(integrationId === integrationIdCdp)\n                    UpdateUserSubscriptionsCdp(true);\n                else \n                    UpdateUserSubscriptionsDefault(true);   \n            }\n        },\n        error: function(htmltext, textStatus, errorThrown) {}\n    });\n};\n\n\nfunction generateUserID(email, affiliation) {\n  // Convert the affiliation to uppercase\n  affiliation = affiliation.toUpperCase();\n\n  // Convert the email to lowercase\n  const lowercaseEmail = email.toLowerCase();\n  // Combine the uppercase affiliation and lowercase email to form the userID\n  const userID = \u0060${affiliation}${lowercaseEmail}\u0060;\n\n  return userID;\n}\n\n\n\n\n\n\n\n\n\n\nconst observer = new MutationObserver(() =\u003E {\n    const layout = document.getElementById(\u0022layout\u0022);\n    const field1 = document.getElementById(\u0022field1_wrapper\u0022);\n    const button1 = document.getElementById(\u0022button1_wrapper\u0022);\n\n    if (layout \u0026\u0026 field1 \u0026\u0026 button1) {\n        layout.insertBefore(field1, button1);\n        logger(\u0022Moved #field1_wrapper above #button1_wrapper.\u0022);\n\n        // Done observing\n        observer.disconnect();\n    }\n});\n\nobserver.observe(document.body, {\n    childList: true,\n    subtree: true,\n});\n\n';
                        customCSS = '';
                        logger('DesktopSettings_2');
                    }
                } catch(e) { logger('adjustFromDetection selection error: ' + e.message); }
            }

            async function loadWidgets() {
                // common first
                await loadScript('//cdn.pushplanet.com/editor/widget_common.js?cb=5633c01ade1740359b110f0b93bc6e25');
                logger('loaded widget_common');




                // hosted last
                await loadScript('//cdn.pushplanet.com/editor/widget_hosted.js?cb=5633c01ade1740359b110f0b93bc6e25');
                logger('loaded widget_hosted');
            }

            function start() {
                detect().then(function(info){
                    adjustFromDetection(info);
                    return loadWidgets();
                }).then(function(){
                    try {
                        window.dispatchEvent(new CustomEvent('deviceDetected', { detail: window.DeviceInfo }));
                    } catch(e) {}

                    // Release jQuery ready queue now that widgets are loaded
                    if (window.jQuery && $.holdReady) { $.holdReady(false); }
                }).catch(function(){
                    try {
                        window.dispatchEvent(new CustomEvent('deviceDetected', { detail: window.DeviceInfo }));
                    } catch(e) {}

                    // Even if detection/load fails, attempt to dispatch
                    if (window.jQuery && $.holdReady) { $.holdReady(false); }
                });
            }

            if (document.readyState === 'loading') {
                document.addEventListener('DOMContentLoaded', start);
            } else {
                start();
            }
        })();
    </script>
<script type="text/javascript" src="./widget_common.js"></script><script type="text/javascript" src="./widget_hosted.js"></script><link type="text/css" rel="stylesheet" href="./ef621004a7994bea8112d2370a3c0677.css"><style id="element_styles" type="text/css">.float_left {float: left;} .float_right {float: right;} body {background: rgba(255, 255, 255, 0);} .layout {position: relative;border-style: none;border-width: 0px;background: rgba(255, 255, 255, 0);width: 443px;height: 155px;overflow: hidden;padding: 0;margin-left: 0;margin-top: 0;} .button1_wrapper {display: block;position: absolute;left: 304px;top: 4px;width: 136px;height: 42px;z-index: 100003;} .button1 {font-family: 'Red Hat Text', sans-serif;font-weight: bold;font-style:  normal;text-decoration: none;text-align: left;font-size: 14px;color: #ffffff;border-color: rgb(34, 34, 34);border-style: solid;border-width: 1px;border-radius: 30px;background: rgb(34, 34, 34);width: 100%;height: 100%;cursor: pointer;font-family: 'Red Hat Text', sans-serif;} #button1.button1_hover {font-family: 'Red Hat Text', sans-serif;font-weight: bold;font-style:  normal;text-decoration: none;text-align: left;font-size: 14px;color: #ffffff;border-color: rgb(34, 34, 34);border-style: solid;border-width: 1px;border-radius: 30px;background: rgb(34, 34, 34);} #button1.button1_focus {font-family: 'Red Hat Text', sans-serif;font-weight: bold;font-style:  normal;text-decoration: none;text-align: left;font-size: 14px;color: #ffffff;border-color: rgb(34, 34, 34);border-style: solid;border-width: 1px;border-radius: 30px;background: rgb(34, 34, 34);} .field1_wrapper {display: block;position: absolute;padding: 0;overflow: visible;z-index: 10000;left: 2px;top: 2px;width: 282px;height: 76px;z-index: 100002;} .field1 {font-family: 'Red Hat Text', sans-serif;font-weight: normal;font-style:  normal;text-decoration: none;text-align: left;font-size: 16px;color: rgb(55, 55, 55);border-color: rgb(162, 162, 162);border-style: solid;border-width: 1px;border-radius: 0px;background: rgb(255, 255, 255);height: 46px;-webkit-box-sizing: border-box;-moz-box-sizing: border-box;box-sizing: border-box;width: 100%;overflow: hidden;padding-left: 5px;padding-right: 5px;margin: 0px;padding:10px; font-family: 'Red Hat Text', sans-serif; height:46px !important; width:100%;} #field1.field1_hover {border-color: rgb(162, 162, 162);border-style: solid;border-width: 1px;border-radius: 0px;background: rgb(255, 255, 255);} #field1.field1_focus {border-color: rgb(162, 162, 162);border-style: solid;border-width: 1px;border-radius: 0px;background: rgb(255, 255, 255);} #field1.field1_error {border-color: rgb(162, 162, 162);border-style: solid;border-width: 1px;border-radius: 0px;background: rgb(255, 255, 255);} .field2_wrapper {display: block;position: absolute;padding: 0;overflow: visible;z-index: 10000;left: 0px;top: 77px;width: 282px;height: 76px;z-index: 100002;} .field2 {font-family: 'Red Hat Text', sans-serif;font-weight: normal;font-style:  normal;text-decoration: none;text-align: left;font-size: 16px;color: rgb(55, 55, 55);border-color: rgb(162, 162, 162);border-style: solid;border-width: 1px;border-radius: 0px;background: rgb(255, 255, 255);height: 46px;-webkit-box-sizing: border-box;-moz-box-sizing: border-box;box-sizing: border-box;padding: 0px;width: 46px;margin: 0px;display:none;} #field2.field2_hover {border-color: rgb(162, 162, 162);border-style: solid;border-width: 1px;border-radius: 0px;background: rgb(255, 255, 255);} #field2.field2_focus {border-color: rgb(162, 162, 162);border-style: solid;border-width: 1px;border-radius: 0px;background: rgb(255, 255, 255);} #field2.field2_error {border-color: rgb(162, 162, 162);border-style: solid;border-width: 1px;border-radius: 0px;background: rgb(255, 255, 255);} </style></head>
<body style="margin: 0px; padding: 0px;" class="device-desktop" data-device-type="desktop" data-is-mobile-phone="false" data-is-tablet="false" data-device-source="geoapi">
    <div id="layout_header"><style>
.button1 {
    padding-right: calc(35px + 0.875rem) !important;
    border-radius: 50px !important;
    color: #fff !important;
    background-color: #232323 !important;
    padding: 13px 30px  !important;
    display: inline-block !important;
    position: relative !important;
    font-size: .875rem !important;
    font-weight: 700 !important;
    text-transform: uppercase !important;
    cursor: pointer !important;
    border: 0 !important;
    transition: all .3s ease-in-out !important;
    text-decoration: none !important;
}

.button1:after {
    content: url(https://s3.pushplanet.com/users/8bf3195d06b7409dae56c6a79780f4dc/uploads/7d4c0b66d7404c00b49be2f27e405fa9/btnarrow.svg) !important;
    position: absolute !important;
    width: 19px !important;
    height: 14px !important;
    right: 23px !important;
    transition: all .3s ease-in-out !important;
padding-top:2px;
}

.button1:hover {
    background-color: #676767 !important;
}

.button1:hover:after {
    right: 20px !important;
}

#field13.field13_focus {
border-color: #ffc21b !important;
}
:focus {
  outline: none;
  box-shadow: 0 0 0 3px #ffc21b;
}

@media only screen and (max-width: 445px) {
  #button1_wrapper {
 position: fixed;
    top: 68px;
    left: 50%;
    transform: translate(-50%, 0);
 }
#field1_wrapper {
position: fixed;
    top: 2;
    left: 2;
    right: 0;
width:99%;
 }
}
</style>
<!-- Meta Pixel Code -->
<script>
!function(f,b,e,v,n,t,s)
{if(f.fbq)return;n=f.fbq=function(){n.callMethod?
n.callMethod.apply(n,arguments):n.queue.push(arguments)};
if(!f._fbq)f._fbq=n;n.push=n;n.loaded=!0;n.version='2.0';
n.queue=[];t=b.createElement(e);t.async=!0;
t.src=v;s=b.getElementsByTagName(e)[0];
s.parentNode.insertBefore(t,s)}(window,document,'script',
'https://connect.facebook.net/en_US/fbevents.js');
fbq('init', '221999634961653');
fbq('track', 'PageView');
</script>

<noscript>
<img height='1' width='1' src='https://www.facebook.com/tr?id=221999634961653&ev=PageView&noscript=1'/>
</noscript>

<!-- End Meta Pixel Code --></div><div id="layout" class="layout"><div id="field1_wrapper" class="field1_wrapper"><input type="text" id="field1" class="field1 textbox_field" placeholder="you@example.com"></div><div id="button1_wrapper" class="button1_wrapper transparent-border"><button id="button1" class="button1">SIGN UP</button></div><div id="field2_wrapper" class="field2_wrapper"><input type="checkbox" id="field2" class="field2 checkbox_field"></div></div>
    <div id="thxlayout" class="thxlayout" style="display: none;"></div>
    <div id="ep1layout" class="ep1layout" style="display: none;"></div>
    <div id="ep2layout" class="ep2layout" style="display: none;"></div>
    <div id="ep3layout" class="ep3layout" style="display: none;"></div>
    <div id="ep4layout" class="ep4layout" style="display: none;"></div>
    <div id="layout_footer"></div><div id="modal_loading"><div id="modal_loading_spinner"></div></div>

    <noscript>
        <div style="color: red; font-weight: bold; background: #ffecec; padding: 10px; text-align: center;">
            JavaScript is required to use this website. Please enable JavaScript in your browser settings and refresh the page.
        </div>
    </noscript>

    <span style="display: none;" class="error-bubble" id="error_bubble">
        <span class="error-message" id="error_message"></span>
        <span id="error_close">x</span>
    </span>
    <span style="display: none;" class="success-bubble" id="success_bubble">
        <span class="success-message" id="success_message"></span>
        <span id="success_close">x</span>
    </span>

</body></html>